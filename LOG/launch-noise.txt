... logging to /home/linux/.ros/log/7b5d59ee-7886-11ed-8bb0-000c292a07b4/roslaunch-ubuntu-20319.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.
]2;/home/linux/MSF_developed/src/MSF_developed/launch/KITTI_start.launch
[1mstarted roslaunch server http://ubuntu:35553/[0m

SUMMARY
========

CLEAR PARAMETERS
 * /vision_sensor/

PARAMETERS
 * /core/data_playback: False
 * /core/fixed_bias: False
 * /rosdistro: kinetic
 * /rosversion: 1.12.17
 * /vision_sensor/core/core_noise_acc: 0.5
 * /vision_sensor/core/core_noise_accbias: 0.05
 * /vision_sensor/core/core_noise_gyr: 0.05
 * /vision_sensor/core/core_noise_gyrbias: 0.005
 * /vision_sensor/pose_sensor/init/p_ic/x: 0
 * /vision_sensor/pose_sensor/init/p_ic/y: 0
 * /vision_sensor/pose_sensor/init/p_ic/z: 0
 * /vision_sensor/pose_sensor/init/p_wv/x: 18.52
 * /vision_sensor/pose_sensor/init/p_wv/y: -15.22
 * /vision_sensor/pose_sensor/init/p_wv/z: 31
 * /vision_sensor/pose_sensor/init/q/w: 0.7071
 * /vision_sensor/pose_sensor/init/q/x: 0
 * /vision_sensor/pose_sensor/init/q/y: 0
 * /vision_sensor/pose_sensor/init/q/z: -0.7071
 * /vision_sensor/pose_sensor/init/q_ic/w: 0.7071
 * /vision_sensor/pose_sensor/init/q_ic/x: -0.7071
 * /vision_sensor/pose_sensor/init/q_ic/y: 0
 * /vision_sensor/pose_sensor/init/q_ic/z: 0
 * /vision_sensor/pose_sensor/init/q_wv/w: 1
 * /vision_sensor/pose_sensor/init/q_wv/x: 0
 * /vision_sensor/pose_sensor/init/q_wv/y: 0
 * /vision_sensor/pose_sensor/init/q_wv/z: 0
 * /vision_sensor/pose_sensor/pose_absolute_measurements: True
 * /vision_sensor/pose_sensor/pose_delay: 0
 * /vision_sensor/pose_sensor/pose_fixed_p_ic: True
 * /vision_sensor/pose_sensor/pose_fixed_p_wv: True
 * /vision_sensor/pose_sensor/pose_fixed_q_ic: True
 * /vision_sensor/pose_sensor/pose_fixed_q_wv: True
 * /vision_sensor/pose_sensor/pose_fixed_scale: False
 * /vision_sensor/pose_sensor/pose_initial_scale: 0.5
 * /vision_sensor/pose_sensor/pose_measurement_minimum_dt: 0.4
 * /vision_sensor/pose_sensor/pose_measurement_world_sensor: False
 * /vision_sensor/pose_sensor/pose_noise_meas_p: 0.005
 * /vision_sensor/pose_sensor/pose_noise_meas_q: 0.005
 * /vision_sensor/pose_sensor/pose_noise_p_ic: 0
 * /vision_sensor/pose_sensor/pose_noise_p_wv: 0
 * /vision_sensor/pose_sensor/pose_noise_q_ic: 0
 * /vision_sensor/pose_sensor/pose_noise_q_wv: 0
 * /vision_sensor/pose_sensor/pose_noise_scale: 0
 * /vision_sensor/pose_sensor/pose_use_fixed_covariance: True
 * /vision_sensor/position_pose_sensor/core_height: 1
 * /vision_sensor/position_pose_sensor/pose_fixed_p_ic: True
 * /vision_sensor/position_pose_sensor/pose_fixed_p_wv: True
 * /vision_sensor/position_pose_sensor/pose_fixed_q_ic: True
 * /vision_sensor/position_pose_sensor/pose_fixed_q_wv: True
 * /vision_sensor/position_pose_sensor/pose_fixed_scale: False
 * /vision_sensor/position_pose_sensor/position_delay: 0
 * /vision_sensor/position_pose_sensor/position_fixed_p_ip: True
 * /vision_sensor/position_pose_sensor/position_noise_meas: 0
 * /vision_sensor/position_pose_sensor/position_yaw_init: -90
 * /vision_sensor/position_sensor/init/p_ip/x: 0
 * /vision_sensor/position_sensor/init/p_ip/y: 0
 * /vision_sensor/position_sensor/init/p_ip/z: 0
 * /vision_sensor/position_sensor/position_absolute_measurements: True
 * /vision_sensor/position_sensor/position_use_fixed_covariance: True

NODES
  /
    initialize_fusion (rosservice/rosservice)
    initialize_gps (rosservice/rosservice)
    initialize_slam (rosservice/rosservice)
    runslam (ORB_SLAM2/Mono)
    vision_sensor (ai_robot_lcsfl/lcsfl_node)

auto-starting new master
[1mprocess[master]: started with pid [20329][0m
[1mROS_MASTER_URI=http://localhost:11311[0m
]2;/home/linux/MSF_developed/src/MSF_developed/launch/KITTI_start.launch http://localhost:11311
[1msetting /run_id to 7b5d59ee-7886-11ed-8bb0-000c292a07b4[0m
[1mprocess[rosout-1]: started with pid [20343][0m
started core service [/rosout]
[1mprocess[vision_sensor-2]: started with pid [20361][0m
[1mprocess[initialize_gps-3]: sta
ORB-SLAM2 Copyright (C) 2014-2016 Raul Mur-Artal, University of Zaragoza.
This program comes with ABSOLUTELY NO WARRANTY;
This is free software, and you are welcome to redistribute it
under certain conditions. See LICENSE.txt.

Input sensor was set to: Monocular

Loading ORB Vocabulary. This could take a while...
Vocabulary loaded!


Camera Parameters: 
- fx: 329
- fy: 329
- cx: 320
- cy: 180
- k1: 0
- k2: 0
- p1: 0
- p2: 0
- fps: 24
- color order: RGB (ignored if grayscale)

ORB Extractor Parameters: 
- Number of Features: 1000
- Scale Levels: 8
- Scale Factor: 1.2
- Initial Fast Threshold: 20
- Minimum Fast Threshold: 7
[0m[ INFO] [1670675451.712527746]: /vision_sensor:
	subscribed to topics:
	advertised topics:
		/rosout
		/tf
		/vision_sensor/core/parameter_descriptions
		/vision_sensor/core/parameter_updates
		/msf_core/state_out
		/fcu/ekf_state_in
		/msf_core/pose
		/msf_core/odometry
		/msf_core/pose_after_update
		/msf_core/ext_state
		/msf_core/cov_core
		/msf_core/cov_aux
		/msf_core/cov_core_aux
		/msf_core/p
[0m
1.1 imu_handler_ starts to init...
1.2 imu_handler_ initializes succussfully!
2.1 pose_handler_ start to init...
[0m[ INFO] [1670675451.722266751]: Loading parameters for pose sensor from namespace: /vision_sensor/pose_sensor[0m
[0m[ INFO] [1670675451.736470435]: Pose sensor is interpreting measurement as world w.r.t. sensor (e.g. ethzasl_ptam)[0m
[0m[ INFO] [1670675451.736529450]: Pose sensor is using fixed covariance[0m
[0m[ INFO] [1670675451.736556194]: Pose sensor is handling measurements as absolute values[0m
2.2 pose_handler_ inits succussfully!
[0m[ INFO] [1670675452.009173161]: Initialize filter with scale 0.500000[0m
[33m[ WARN] [1670675452.009225136]: Config Init in 2[0m
[0m[ INFO] [1670675452.009289616]: initial measurement pos:[0 0 0] orientation: [1, 0, 0, 0][0m
[33m[ WARN] [1670675452.009321142]: No measurements received yet to initialize position - using [0 0 0][0m
[33m[ WARN] [1670675452.009338408]: No measurements received yet to initialize attitude - using [1 0 0 0][0m
[33m[ WARN] [1670675452.035127537]: q_wi_initial [0.707, 0, 0, -0.707][0m
[33m[ WARN] [1670675452.035189767]: q_wv_initial [1, 0, 0, 0][0m
----------------------------------
[0m[ INFO] [1670675452.035289196]: p:  18.52 -15.22     31[0m
[0m[ INFO] [1670675452.035305021]: v: 3 0 0[0m
[0m[ INFO] [1670675452.035314932]: q: [0.707, 0, 0, -0.707][0m
[0m[ INFO] [1670675452.035325094]: b_w: 0 0 0[0m
[0m[ INFO] [1670675452.035334809]: b_a: 0 0 0[0m
[0m[ INFO] [1670675452.035342200]: scale: 0.5[0m
[0m[ INFO] [1670675452.035348652]: q_wv: [1, 0, 0, 0][0m
[0m[ INFO] [1670675452.035360030]: p_wv:  18.52 -15.22     31[0m
[0m[ INFO] [1670675452.035369074]: q_ic: [0.707, -0.707, 0, 0][0m
[0m[ INFO] [1670675452.035378832]: p_ic: 0 0 0[0m
----------------------------------
[33m[ WARN] [1670675452.035386219]: Initialized success[0m
apply measurement in msf_measurement_inl.h's Apply()
[33m[ WARN] [1670675452.136027504]: Using simulated core plus fixed diag initial error state covariance.[0m
Publish initial state
[0m[ INFO] [1670675452.146810379]: Initializing msf_core (built: Dec 10 2022)[0m
[0m[ INFO] [1670675452.146890478]: Core parameters: 
	fixed_bias:	0
	fuzzythres:	0.1
	noise_acc:	0.5
	noise_accbias:	0.05
	noise_gyr:	0.05
	noise_gyrbias:	0.005
[0m
[0m[ INFO] [1670675452.146968729]: Initialized Success and Core init with state: 
--------- State at time 5452.04s: ---------
0 : [0-2]	 : Matrix<3, 1>         : [ 18.52 -15.22     31]
1 : [3-5]	 : Matrix<3, 1>         : [3 0 0]
2 : [6-9]	 : Quaternion (w,x,y,z) : [0.707, 0, 0, -0.707]
3 : [10-12]	 : Matrix<3, 1>         : [0 0 0]
4 : [13-15]	 : Matrix<3, 1>         : [0 0 0]
5 : [16-16]	 : Matrix<1, 1>         : [0.5]
6 : [17-20]	 : Quaternion (w,x,y,z) : [1, 0, 0, 0]
7 : [21-23]	 : Matrix<3, 1>         : [ 18.52 -15.22     31]
8 : [24-27]	 : Quaternion (w,x,y,z) : [0.707, -0.707, 0, 0]
9 : [28-30]	 : Matrix<3, 1>         : [0 0 0]
-------------------------------------------------------[0m
1-1 IMUCallback(): 1664877136.698204041 -0.042657 0.011756 9.8 0 0 0.255847
1-2 processing imu...
it_last_IMU.time: 1670675452.035273
lastState: 1670675452.035273
currentState: 1664877136.698204
[33m[ WARN] [1670675475.028804822]: large time-gap re-initializing to last state
[0m
1-1 IMUCallback(): 1664877136.708204031 -0.049428 0.013253 9.8 0 0 0.255913
1-2 processing imu...
it_last_IMU.time: 1664877136.698204
lastState: 1664877136.698204
currentState: 1664877136.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.718204021 -0.056192 0.014785 9.8 0 0 0.255984
1-2 processing imu...
it_last_IMU.time: 1664877136.708204
lastState: 1664877136.708204
currentState: 1664877136.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.728204012 -0.062948 0.016352 9.8 0 0 0.25606
1-2 processing imu...
it_last_IMU.time: 1664877136.718204
lastState: 1664877136.718204
currentState: 1664877136.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.738204002 -0.075751 0.013161 9.8 0 0 0.256141
1-2 processing imu...
it_last_IMU.time: 1664877136.728204
lastState: 1664877136.728204
currentState: 1664877136.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.748203993 -0.088625 0.009993 9.8 0 0 0.256224
1-2 processing imu...
it_last_IMU.time: 1664877136.738204
lastState: 1664877136.738204
currentState: 1664877136.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.758203983 -0.101516 0.006892 9.8 0 0 0.25631
1-2 processing imu...
it_last_IMU.time: 1664877136.748204
lastState: 1664877136.748204
currentState: 1664877136.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.768203974 -0.114423 0.003856 9.8 0 0 0.2564
1-2 processing imu...
it_last_IMU.time: 1664877136.758204
lastState: 1664877136.758204
currentState: 1664877136.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.778203964 -0.127346 0.000887 9.8 0 0 0.256492
1-2 processing imu...
it_last_IMU.time: 1664877136.768204
lastState: 1664877136.768204
currentState: 1664877136.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.788203955 -0.140285 -0.002015 9.8 0 0 0.256587
1-2 processing imu...
it_last_IMU.time: 1664877136.778204
lastState: 1664877136.778204
currentState: 1664877136.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.798203945 -0.153239 -0.004851 9.8 0 0 0.256686
1-2 processing imu...
it_last_IMU.time: 1664877136.788204
lastState: 1664877136.788204
currentState: 1664877136.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.808203936 -0.16621 -0.00762 9.8 0 0 0.256787
1-2 processing imu...
it_last_IMU.time: 1664877136.798204
lastState: 1664877136.798204
currentState: 1664877136.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.818203926 -0.179195 -0.010323 9.8 0 0 0.256891
1-2 processing imu...
it_last_IMU.time: 1664877136.808204
lastState: 1664877136.808204
currentState: 1664877136.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.828203917 -0.192195 -0.012958 9.8 0 0 0.256999
1-2 processing imu...
it_last_IMU.time: 1664877136.818204
lastState: 1664877136.818204
currentState: 1664877136.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.838203907 -0.206282 -0.015752 9.8 0 0 0.257106
1-2 processing imu...
it_last_IMU.time: 1664877136.828204
lastState: 1664877136.828204
currentState: 1664877136.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.848203897 -0.220405 -0.018478 9.8 0 0 0.257212
1-2 processing imu...
it_last_IMU.time: 1664877136.838204
lastState: 1664877136.838204
currentState: 1664877136.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.858203888 -0.234542 -0.021131 9.8 0 0 0.257316
1-2 processing imu...
it_last_IMU.time: 1664877136.848204
lastState: 1664877136.848204
currentState: 1664877136.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.868204117 -0.248695 -0.023711 9.8 0 0 0.257417
1-2 processing imu...
it_last_IMU.time: 1664877136.858204
lastState: 1664877136.858204
currentState: 1664877136.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.878204107 -0.262862 -0.026218 9.8 0 0 0.257517
1-2 processing imu...
it_last_IMU.time: 1664877136.868204
lastState: 1664877136.868204
currentState: 1664877136.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.888204098 -0.277044 -0.028652 9.8 0 0 0.257614
1-2 processing imu...
it_last_IMU.time: 1664877136.878204
lastState: 1664877136.878204
currentState: 1664877136.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.898204088 -0.29124 -0.031012 9.8 0 0 0.257709
1-2 processing imu...
it_last_IMU.time: 1664877136.888204
lastState: 1664877136.888204
currentState: 1664877136.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.908204079 -0.30545 -0.0333 9.8 0 0 0.257802
1-2 processing imu...
it_last_IMU.time: 1664877136.898204
lastState: 1664877136.898204
currentState: 1664877136.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.918204069 -0.319674 -0.035514 9.8 0 0 0.257893
1-2 processing imu...
it_last_IMU.time: 1664877136.908204
lastState: 1664877136.908204
currentState: 1664877136.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.928204060 -0.333911 -0.037654 9.8 0 0 0.257982
1-2 processing imu...
it_last_IMU.time: 1664877136.918204
lastState: 1664877136.918204
currentState: 1664877136.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.938204050 -0.347807 -0.04007 9.8 0 0 0.258068
1-2 processing imu...
it_last_IMU.time: 1664877136.928204
lastState: 1664877136.928204
currentState: 1664877136.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.948204041 -0.361708 -0.042423 9.8 0 0 0.25815
1-2 processing imu...
it_last_IMU.time: 1664877136.938204
lastState: 1664877136.938204
currentState: 1664877136.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.958204031 -0.375624 -0.044705 9.8 0 0 0.258227
1-2 processing imu...
it_last_IMU.time: 1664877136.948204
lastState: 1664877136.948204
currentState: 1664877136.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.968204021 -0.389554 -0.046915 9.8 0 0 0.258301
1-2 processing imu...
it_last_IMU.time: 1664877136.958204
lastState: 1664877136.958204
currentState: 1664877136.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.978204012 -0.403498 -0.049053 9.8 0 0 0.25837
1-2 processing imu...
it_last_IMU.time: 1664877136.968204
lastState: 1664877136.968204
currentState: 1664877136.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.988204002 -0.417455 -0.051118 9.8 0 0 0.258435
1-2 processing imu...
it_last_IMU.time: 1664877136.978204
lastState: 1664877136.978204
currentState: 1664877136.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877136.998203993 -0.431426 -0.053112 9.8 0 0 0.258497
1-2 processing imu...
it_last_IMU.time: 1664877136.988204
lastState: 1664877136.988204
currentState: 1664877136.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.008203983 -0.445409 -0.055033 9.8 0 0 0.258554
1-2 processing imu...
it_last_IMU.time: 1664877136.998204
lastState: 1664877136.998204
currentState: 1664877137.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.018203974 -0.459406 -0.056883 9.8 0 0 0.258607
1-2 processing imu...
it_last_IMU.time: 1664877137.008204
lastState: 1664877137.008204
currentState: 1664877137.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.028203964 -0.473415 -0.05866 9.8 0 0 0.258656
1-2 processing imu...
it_last_IMU.time: 1664877137.018204
lastState: 1664877137.018204
currentState: 1664877137.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.038203955 -0.485389 -0.06 9.8 0 0 0.258701
1-2 processing imu...
it_last_IMU.time: 1664877137.028204
lastState: 1664877137.028204
currentState: 1664877137.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.048203945 -0.497297 -0.061266 9.8 0 0 0.258746
1-2 processing imu...
it_last_IMU.time: 1664877137.038204
lastState: 1664877137.038204
currentState: 1664877137.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.058203936 -0.509215 -0.06247 9.8 0 0 0.258788
1-2 processing imu...
it_last_IMU.time: 1664877137.048204
lastState: 1664877137.048204
currentState: 1664877137.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.068203926 -0.521143 -0.063612 9.8 0 0 0.258829
1-2 processing imu...
it_last_IMU.time: 1664877137.058204
lastState: 1664877137.058204
currentState: 1664877137.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.078203917 -0.53308 -0.064694 9.8 0 0 0.258868
1-2 processing imu...
it_last_IMU.time: 1664877137.068204
lastState: 1664877137.068204
currentState: 1664877137.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.088203907 -0.545025 -0.065713 9.8 0 0 0.258906
1-2 processing imu...
it_last_IMU.time: 1664877137.078204
lastState: 1664877137.078204
currentState: 1664877137.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.098203897 -0.55698 -0.066671 9.8 0 0 0.258942
1-2 processing imu...
it_last_IMU.time: 1664877137.088204
lastState: 1664877137.088204
currentState: 1664877137.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.108203888 -0.568943 -0.067567 9.8 0 0 0.258976
1-2 processing imu...
it_last_IMU.time: 1664877137.098204
lastState: 1664877137.098204
currentState: 1664877137.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.118204117 -0.580915 -0.068401 9.8 0 0 0.259008
1-2 processing imu...
it_last_IMU.time: 1664877137.108204
lastState: 1664877137.108204
currentState: 1664877137.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.128204107 -0.592895 -0.069174 9.8 0 0 0.259039
1-2 processing imu...
it_last_IMU.time: 1664877137.118204
lastState: 1664877137.118204
currentState: 1664877137.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.138204098 -0.601976 -0.066185 9.8 0 0 0.259071
1-2 processing imu...
it_last_IMU.time: 1664877137.128204
lastState: 1664877137.128204
currentState: 1664877137.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.148204088 -0.610909 -0.062977 9.8 0 0 0.25911
1-2 processing imu...
it_last_IMU.time: 1664877137.138204
lastState: 1664877137.138204
currentState: 1664877137.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.158204079 -0.61983 -0.059723 9.8 0 0 0.259154
1-2 processing imu...
it_last_IMU.time: 1664877137.148204
lastState: 1664877137.148204
currentState: 1664877137.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.168204069 -0.628738 -0.056423 9.8 0 0 0.259205
1-2 processing imu...
it_last_IMU.time: 1664877137.158204
lastState: 1664877137.158204
currentState: 1664877137.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.178204060 -0.637634 -0.053077 9.8 0 0 0.259262
1-2 processing imu...
it_last_IMU.time: 1664877137.168204
lastState: 1664877137.168204
currentState: 1664877137.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.188204050 -0.646516 -0.049685 9.8 0 0 0.259325
1-2 processing imu...
it_last_IMU.time: 1664877137.178204
lastState: 1664877137.178204
currentState: 1664877137.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.198204041 -0.655384 -0.046246 9.8 0 0 0.259394
1-2 processing imu...
it_last_IMU.time: 1664877137.188204
lastState: 1664877137.188204
currentState: 1664877137.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.208204031 -0.66424 -0.042762 9.8 0 0 0.259468
1-2 processing imu...
it_last_IMU.time: 1664877137.198204
lastState: 1664877137.198204
currentState: 1664877137.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.218204021 -0.673081 -0.039231 9.8 0 0 0.259549
1-2 processing imu...
it_last_IMU.time: 1664877137.208204
lastState: 1664877137.208204
currentState: 1664877137.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.228204012 -0.681909 -0.035654 9.8 0 0 0.259636
1-2 processing imu...
it_last_IMU.time: 1664877137.218204
lastState: 1664877137.218204
currentState: 1664877137.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.238204002 -0.689368 -0.03234 9.8 0 0 0.259731
1-2 processing imu...
it_last_IMU.time: 1664877137.228204
lastState: 1664877137.228204
currentState: 1664877137.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.248203993 -0.696738 -0.029004 9.8 0 0 0.259837
1-2 processing imu...
it_last_IMU.time: 1664877137.238204
lastState: 1664877137.238204
currentState: 1664877137.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.258203983 -0.704095 -0.02563 9.8 0 0 0.259953
1-2 processing imu...
it_last_IMU.time: 1664877137.248204
lastState: 1664877137.248204
currentState: 1664877137.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.268203974 -0.711439 -0.022216 9.8 0 0 0.260079
1-2 processing imu...
it_last_IMU.time: 1664877137.258204
lastState: 1664877137.258204
currentState: 1664877137.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.278203964 -0.718771 -0.018764 9.8 0 0 0.260215
1-2 processing imu...
it_last_IMU.time: 1664877137.268204
lastState: 1664877137.268204
currentState: 1664877137.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.288203955 -0.726089 -0.015272 9.8 0 0 0.260362
1-2 processing imu...
it_last_IMU.time: 1664877137.278204
lastState: 1664877137.278204
currentState: 1664877137.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.298203945 -0.733394 -0.011741 9.8 0 0 0.26052
1-2 processing imu...
it_last_IMU.time: 1664877137.288204
lastState: 1664877137.288204
currentState: 1664877137.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.308203936 -0.740685 -0.008172 9.8 0 0 0.260688
1-2 processing imu...
it_last_IMU.time: 1664877137.298204
lastState: 1664877137.298204
currentState: 1664877137.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.318203926 -0.747963 -0.004563 9.8 0 0 0.260866
1-2 processing imu...
it_last_IMU.time: 1664877137.308204
lastState: 1664877137.308204
currentState: 1664877137.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.328203917 -0.755226 -0.000915 9.8 0 0 0.261054
1-2 processing imu...
it_last_IMU.time: 1664877137.318204
lastState: 1664877137.318204
currentState: 1664877137.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.338203907 -0.76062 0.002728 9.8 0 0 0.261255
1-2 processing imu...
it_last_IMU.time: 1664877137.328204
lastState: 1664877137.328204
currentState: 1664877137.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.348203897 -0.765876 0.006396 9.8 0 0 0.261471
1-2 processing imu...
it_last_IMU.time: 1664877137.338204
lastState: 1664877137.338204
currentState: 1664877137.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.358203888 -0.771118 0.010094 9.8 0 0 0.261702
1-2 processing imu...
it_last_IMU.time: 1664877137.348204
lastState: 1664877137.348204
currentState: 1664877137.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.368204117 -0.776346 0.013821 9.8 0 0 0.261948
1-2 processing imu...
it_last_IMU.time: 1664877137.358204
lastState: 1664877137.358204
currentState: 1664877137.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.378204107 -0.78156 0.017578 9.8 0 0 0.262209
1-2 processing imu...
it_last_IMU.time: 1664877137.368204
lastState: 1664877137.368204
currentState: 1664877137.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.388204098 -0.786759 0.021364 9.8 0 0 0.262484
1-2 processing imu...
it_last_IMU.time: 1664877137.378204
lastState: 1664877137.378204
currentState: 1664877137.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.398204088 -0.791944 0.02518 9.8 0 0 0.262775
1-2 processing imu...
it_last_IMU.time: 1664877137.388204
lastState: 1664877137.388204
currentState: 1664877137.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.408204079 -0.797114 0.029025 9.8 0 0 0.263081
1-2 processing imu...
it_last_IMU.time: 1664877137.398204
lastState: 1664877137.398204
currentState: 1664877137.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.418204069 -0.802269 0.032901 9.8 0 0 0.263401
1-2 processing imu...
it_last_IMU.time: 1664877137.408204
lastState: 1664877137.408204
currentState: 1664877137.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.428204060 -0.807409 0.036806 9.8 0 0 0.263737
1-2 processing imu...
it_last_IMU.time: 1664877137.418204
lastState: 1664877137.418204
currentState: 1664877137.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.438204050 -0.810915 0.038866 9.8 0 0 0.264088
1-2 processing imu...
it_last_IMU.time: 1664877137.428204
lastState: 1664877137.428204
currentState: 1664877137.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.448204041 -0.814291 0.040802 9.8 0 0 0.264458
1-2 processing imu...
it_last_IMU.time: 1664877137.438204
lastState: 1664877137.438204
currentState: 1664877137.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.458204031 -0.817663 0.04276 9.8 0 0 0.264845
1-2 processing imu...
it_last_IMU.time: 1664877137.448204
lastState: 1664877137.448204
currentState: 1664877137.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.468204021 -0.82103 0.04474 9.8 0 0 0.265249
1-2 processing imu...
it_last_IMU.time: 1664877137.458204
lastState: 1664877137.458204
currentState: 1664877137.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.478204012 -0.824392 0.046741 9.8 0 0 0.265672
1-2 processing imu...
it_last_IMU.time: 1664877137.468204
lastState: 1664877137.468204
currentState: 1664877137.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.488204002 -0.827749 0.048763 9.8 0 0 0.266112
1-2 processing imu...
it_last_IMU.time: 1664877137.478204
lastState: 1664877137.478204
currentState: 1664877137.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.498203993 -0.831101 0.050808 9.8 0 0 0.26657
1-2 processing imu...
it_last_IMU.time: 1664877137.488204
lastState: 1664877137.488204
currentState: 1664877137.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.508203983 -0.834447 0.052875 9.8 0 0 0.267045
1-2 processing imu...
it_last_IMU.time: 1664877137.498204
lastState: 1664877137.498204
currentState: 1664877137.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.518203974 -0.837788 0.054964 9.8 0 0 0.267539
1-2 processing imu...
it_last_IMU.time: 1664877137.508204
lastState: 1664877137.508204
currentState: 1664877137.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.528203964 -0.841124 0.057075 9.8 0 0 0.26805
1-2 processing imu...
it_last_IMU.time: 1664877137.518204
lastState: 1664877137.518204
currentState: 1664877137.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.538203955 -0.844522 0.057554 9.8 0 0 0.26858
1-2 processing imu...
it_last_IMU.time: 1664877137.528204
lastState: 1664877137.528204
currentState: 1664877137.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.548203945 -0.847929 0.057913 9.8 0 0 0.269132
1-2 processing imu...
it_last_IMU.time: 1664877137.538204
lastState: 1664877137.538204
currentState: 1664877137.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.558203936 -0.85134 0.058295 9.8 0 0 0.269705
1-2 processing imu...
it_last_IMU.time: 1664877137.548204
lastState: 1664877137.548204
currentState: 1664877137.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.568203926 -0.854754 0.058701 9.8 0 0 0.2703
1-2 processing imu...
it_last_IMU.time: 1664877137.558204
lastState: 1664877137.558204
currentState: 1664877137.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.578203917 -0.858173 0.059131 9.8 0 0 0.270916
1-2 processing imu...
it_last_IMU.time: 1664877137.568204
lastState: 1664877137.568204
currentState: 1664877137.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.588203907 -0.861594 0.059585 9.8 0 0 0.271554
1-2 processing imu...
it_last_IMU.time: 1664877137.578204
lastState: 1664877137.578204
currentState: 1664877137.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.598203897 -0.86502 0.060064 9.8 0 0 0.272213
1-2 processing imu...
it_last_IMU.time: 1664877137.588204
lastState: 1664877137.588204
currentState: 1664877137.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.608203888 -0.868448 0.060567 9.8 0 0 0.272894
1-2 processing imu...
it_last_IMU.time: 1664877137.598204
lastState: 1664877137.598204
currentState: 1664877137.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.618204117 -0.87188 0.061096 9.8 0 0 0.273597
1-2 processing imu...
it_last_IMU.time: 1664877137.608204
lastState: 1664877137.608204
currentState: 1664877137.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.628204107 -0.875315 0.06165 9.8 0 0 0.274321
1-2 processing imu...
it_last_IMU.time: 1664877137.618204
lastState: 1664877137.618204
currentState: 1664877137.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.638204098 -0.878336 0.062193 9.8 0 0 0.275068
1-2 processing imu...
it_last_IMU.time: 1664877137.628204
lastState: 1664877137.628204
currentState: 1664877137.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.648204088 -0.881318 0.062756 9.8 0 0 0.275841
1-2 processing imu...
it_last_IMU.time: 1664877137.638204
lastState: 1664877137.638204
currentState: 1664877137.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.658204079 -0.884304 0.063342 9.8 0 0 0.276639
1-2 processing imu...
it_last_IMU.time: 1664877137.648204
lastState: 1664877137.648204
currentState: 1664877137.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.668204069 -0.887293 0.063953 9.8 0 0 0.277463
1-2 processing imu...
it_last_IMU.time: 1664877137.658204
lastState: 1664877137.658204
currentState: 1664877137.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.678204060 -0.890285 0.064588 9.8 0 0 0.278312
1-2 processing imu...
it_last_IMU.time: 1664877137.668204
lastState: 1664877137.668204
currentState: 1664877137.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.688204050 -0.89328 0.065248 9.8 0 0 0.279187
1-2 processing imu...
it_last_IMU.time: 1664877137.678204
lastState: 1664877137.678204
currentState: 1664877137.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.698204041 -0.896277 0.065933 9.8 0 0 0.280087
1-2 processing imu...
it_last_IMU.time: 1664877137.688204
lastState: 1664877137.688204
currentState: 1664877137.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.708204031 -0.899276 0.066643 9.8 0 0 0.281013
1-2 processing imu...
it_last_IMU.time: 1664877137.698204
lastState: 1664877137.698204
currentState: 1664877137.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.718204021 -0.902279 0.06738 9.8 0 0 0.281964
1-2 processing imu...
it_last_IMU.time: 1664877137.708204
lastState: 1664877137.708204
currentState: 1664877137.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.728204012 -0.905283 0.068142 9.8 0 0 0.282941
1-2 processing imu...
it_last_IMU.time: 1664877137.718204
lastState: 1664877137.718204
currentState: 1664877137.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.738204002 -0.90804 0.067858 9.8 0 0 0.283945
1-2 processing imu...
it_last_IMU.time: 1664877137.728204
lastState: 1664877137.728204
currentState: 1664877137.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.748203993 -0.910778 0.067483 9.8 0 0 0.284977
1-2 processing imu...
it_last_IMU.time: 1664877137.738204
lastState: 1664877137.738204
currentState: 1664877137.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.758203983 -0.913524 0.067133 9.8 0 0 0.286038
1-2 processing imu...
it_last_IMU.time: 1664877137.748204
lastState: 1664877137.748204
currentState: 1664877137.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.768203974 -0.91628 0.06681 9.8 0 0 0.287128
1-2 processing imu...
it_last_IMU.time: 1664877137.758204
lastState: 1664877137.758204
currentState: 1664877137.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.778203964 -0.919044 0.066513 9.8 0 0 0.288246
1-2 processing imu...
it_last_IMU.time: 1664877137.768204
lastState: 1664877137.768204
currentState: 1664877137.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.788203955 -0.921816 0.066243 9.8 0 0 0.289394
1-2 processing imu...
it_last_IMU.time: 1664877137.778204
lastState: 1664877137.778204
currentState: 1664877137.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.798203945 -0.924597 0.066 9.8 0 0 0.29057
1-2 processing imu...
it_last_IMU.time: 1664877137.788204
lastState: 1664877137.788204
currentState: 1664877137.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.808203936 -0.927387 0.065785 9.8 0 0 0.291775
1-2 processing imu...
it_last_IMU.time: 1664877137.798204
lastState: 1664877137.798204
currentState: 1664877137.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.818203926 -0.930184 0.065598 9.8 0 0 0.293008
1-2 processing imu...
it_last_IMU.time: 1664877137.808204
lastState: 1664877137.808204
currentState: 1664877137.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.828203917 -0.93299 0.06544 9.8 0 0 0.294271
1-2 processing imu...
it_last_IMU.time: 1664877137.818204
lastState: 1664877137.818204
currentState: 1664877137.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.838203907 -0.93704 0.06298 9.8 0 0 0.295563
1-2 processing imu...
it_last_IMU.time: 1664877137.828204
lastState: 1664877137.828204
currentState: 1664877137.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.848203897 -0.941261 0.060278 9.8 0 0 0.296888
1-2 processing imu...
it_last_IMU.time: 1664877137.838204
lastState: 1664877137.838204
currentState: 1664877137.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.858203888 -0.945504 0.057614 9.8 0 0 0.298246
1-2 processing imu...
it_last_IMU.time: 1664877137.848204
lastState: 1664877137.848204
currentState: 1664877137.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.868204117 -0.949772 0.05499 9.8 0 0 0.299635
1-2 processing imu...
it_last_IMU.time: 1664877137.858204
lastState: 1664877137.858204
currentState: 1664877137.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.878204107 -0.954062 0.052405 9.8 0 0 0.301057
1-2 processing imu...
it_last_IMU.time: 1664877137.868204
lastState: 1664877137.868204
currentState: 1664877137.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.888204098 -0.958376 0.04986 9.8 0 0 0.302512
1-2 processing imu...
it_last_IMU.time: 1664877137.878204
lastState: 1664877137.878204
currentState: 1664877137.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.898204088 -0.962714 0.047356 9.8 0 0 0.303999
1-2 processing imu...
it_last_IMU.time: 1664877137.888204
lastState: 1664877137.888204
currentState: 1664877137.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.908204079 -0.967074 0.044893 9.8 0 0 0.305518
1-2 processing imu...
it_last_IMU.time: 1664877137.898204
lastState: 1664877137.898204
currentState: 1664877137.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.918204069 -0.971458 0.042472 9.8 0 0 0.30707
1-2 processing imu...
it_last_IMU.time: 1664877137.908204
lastState: 1664877137.908204
currentState: 1664877137.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.928204060 -0.975865 0.040093 9.8 0 0 0.308654
1-2 processing imu...
it_last_IMU.time: 1664877137.918204
lastState: 1664877137.918204
currentState: 1664877137.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.938204050 -0.980682 0.037186 9.8 0 0 0.310272
1-2 processing imu...
it_last_IMU.time: 1664877137.928204
lastState: 1664877137.928204
currentState: 1664877137.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.948204041 -0.985577 0.034249 9.8 0 0 0.311926
1-2 processing imu...
it_last_IMU.time: 1664877137.938204
lastState: 1664877137.938204
currentState: 1664877137.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.958204031 -0.990498 0.031361 9.8 0 0 0.313617
1-2 processing imu...
it_last_IMU.time: 1664877137.948204
lastState: 1664877137.948204
currentState: 1664877137.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.968204021 -0.995447 0.02852 9.8 0 0 0.315344
1-2 processing imu...
it_last_IMU.time: 1664877137.958204
lastState: 1664877137.958204
currentState: 1664877137.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.978204012 -1.00042 0.025728 9.8 0 0 0.317108
1-2 processing imu...
it_last_IMU.time: 1664877137.968204
lastState: 1664877137.968204
currentState: 1664877137.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.988204002 -1.00543 0.022987 9.8 0 0 0.318908
1-2 processing imu...
it_last_IMU.time: 1664877137.978204
lastState: 1664877137.978204
currentState: 1664877137.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877137.998203993 -1.01046 0.020295 9.8 0 0 0.320745
1-2 processing imu...
it_last_IMU.time: 1664877137.988204
lastState: 1664877137.988204
currentState: 1664877137.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.008203983 -1.01551 0.017655 9.8 0 0 0.322618
1-2 processing imu...
it_last_IMU.time: 1664877137.998204
lastState: 1664877137.998204
currentState: 1664877138.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.018203974 -1.0206 0.015067 9.8 0 0 0.324527
1-2 processing imu...
it_last_IMU.time: 1664877138.008204
lastState: 1664877138.008204
currentState: 1664877138.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.028203964 -1.02571 0.012532 9.8 0 0 0.326473
1-2 processing imu...
it_last_IMU.time: 1664877138.018204
lastState: 1664877138.018204
currentState: 1664877138.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.038203955 -1.03144 0.009241 9.8 0 0 0.328457
1-2 processing imu...
it_last_IMU.time: 1664877138.028204
lastState: 1664877138.028204
currentState: 1664877138.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.048203945 -1.03727 0.005894 9.8 0 0 0.330482
1-2 processing imu...
it_last_IMU.time: 1664877138.038204
lastState: 1664877138.038204
currentState: 1664877138.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.058203936 -1.04315 0.002606 9.8 0 0 0.332547
1-2 processing imu...
it_last_IMU.time: 1664877138.048204
lastState: 1664877138.048204
currentState: 1664877138.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.068203926 -1.04906 -0.00062 9.8 0 0 0.334653
1-2 processing imu...
it_last_IMU.time: 1664877138.058204
lastState: 1664877138.058204
currentState: 1664877138.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.078203917 -1.05499 -0.003785 9.8 0 0 0.336799
1-2 processing imu...
it_last_IMU.time: 1664877138.068204
lastState: 1664877138.068204
currentState: 1664877138.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.088203907 -1.06097 -0.006886 9.8 0 0 0.338986
1-2 processing imu...
it_last_IMU.time: 1664877138.078204
lastState: 1664877138.078204
currentState: 1664877138.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.098203897 -1.06697 -0.009924 9.8 0 0 0.341214
1-2 processing imu...
it_last_IMU.time: 1664877138.088204
lastState: 1664877138.088204
currentState: 1664877138.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.108203888 -1.07301 -0.012896 9.8 0 0 0.343483
1-2 processing imu...
it_last_IMU.time: 1664877138.098204
lastState: 1664877138.098204
currentState: 1664877138.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.118204117 -1.07909 -0.015803 9.8 0 0 0.345792
1-2 processing imu...
it_last_IMU.time: 1664877138.108204
lastState: 1664877138.108204
currentState: 1664877138.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.128204107 -1.08519 -0.018643 9.8 0 0 0.348141
1-2 processing imu...
it_last_IMU.time: 1664877138.118204
lastState: 1664877138.118204
currentState: 1664877138.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.138204098 -1.09326 -0.019059 9.8 0 0 0.350536
1-2 processing imu...
it_last_IMU.time: 1664877138.128204
lastState: 1664877138.128204
currentState: 1664877138.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.148204088 -1.10165 -0.019028 9.8 0 0 0.352981
1-2 processing imu...
it_last_IMU.time: 1664877138.138204
lastState: 1664877138.138204
currentState: 1664877138.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.158204079 -1.11004 -0.018911 9.8 0 0 0.355478
1-2 processing imu...
it_last_IMU.time: 1664877138.148204
lastState: 1664877138.148204
currentState: 1664877138.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.168204069 -1.11846 -0.018707 9.8 0 0 0.358027
1-2 processing imu...
it_last_IMU.time: 1664877138.158204
lastState: 1664877138.158204
currentState: 1664877138.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.178204060 -1.12688 -0.018413 9.8 0 0 0.360627
1-2 processing imu...
it_last_IMU.time: 1664877138.168204
lastState: 1664877138.168204
currentState: 1664877138.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.188204050 -1.13532 -0.01803 9.8 0 0 0.363278
1-2 processing imu...
it_last_IMU.time: 1664877138.178204
lastState: 1664877138.178204
currentState: 1664877138.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.198204041 -1.14377 -0.017555 9.8 0 0 0.365981
1-2 processing imu...
it_last_IMU.time: 1664877138.188204
lastState: 1664877138.188204
currentState: 1664877138.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.208204031 -1.15223 -0.016987 9.8 0 0 0.368735
1-2 processing imu...
it_last_IMU.time: 1664877138.198204
lastState: 1664877138.198204
currentState: 1664877138.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.218204021 -1.1607 -0.016325 9.8 0 0 0.37154
1-2 processing imu...
it_last_IMU.time: 1664877138.208204
lastState: 1664877138.208204
currentState: 1664877138.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.228204012 -1.16919 -0.015567 9.8 0 0 0.374397
1-2 processing imu...
it_last_IMU.time: 1664877138.218204
lastState: 1664877138.218204
currentState: 1664877138.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.238204002 -1.17798 -0.014748 9.8 0 0 0.377306
1-2 processing imu...
it_last_IMU.time: 1664877138.228204
lastState: 1664877138.228204
currentState: 1664877138.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.248203993 -1.18684 -0.013834 9.8 0 0 0.380269
1-2 processing imu...
it_last_IMU.time: 1664877138.238204
lastState: 1664877138.238204
currentState: 1664877138.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.258203983 -1.19571 -0.012817 9.8 0 0 0.383286
1-2 processing imu...
it_last_IMU.time: 1664877138.248204
lastState: 1664877138.248204
currentState: 1664877138.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.268203974 -1.20459 -0.011696 9.8 0 0 0.386357
1-2 processing imu...
it_last_IMU.time: 1664877138.258204
lastState: 1664877138.258204
currentState: 1664877138.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.278203964 -1.21347 -0.010469 9.8 0 0 0.389481
1-2 processing imu...
it_last_IMU.time: 1664877138.268204
lastState: 1664877138.268204
currentState: 1664877138.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.288203955 -1.22237 -0.009134 9.8 0 0 0.392659
1-2 processing imu...
it_last_IMU.time: 1664877138.278204
lastState: 1664877138.278204
currentState: 1664877138.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.298203945 -1.23127 -0.007691 9.8 0 0 0.395891
1-2 processing imu...
it_last_IMU.time: 1664877138.288204
lastState: 1664877138.288204
currentState: 1664877138.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.308203936 -1.24018 -0.006138 9.8 0 0 0.399177
1-2 processing imu...
it_last_IMU.time: 1664877138.298204
lastState: 1664877138.298204
currentState: 1664877138.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.318203926 -1.2491 -0.004472 9.8 0 0 0.402517
1-2 processing imu...
it_last_IMU.time: 1664877138.308204
lastState: 1664877138.308204
currentState: 1664877138.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.328203917 -1.25802 -0.002692 9.8 0 0 0.40591
1-2 processing imu...
it_last_IMU.time: 1664877138.318204
lastState: 1664877138.318204
currentState: 1664877138.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.338203907 -1.26794 -0.003962 9.8 0 0 0.409357
1-2 processing imu...
it_last_IMU.time: 1664877138.328204
lastState: 1664877138.328204
currentState: 1664877138.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.348203897 -1.27806 -0.005671 9.8 0 0 0.412856
1-2 processing imu...
it_last_IMU.time: 1664877138.338204
lastState: 1664877138.338204
currentState: 1664877138.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.358203888 -1.28822 -0.007252 9.8 0 0 0.416407
1-2 processing imu...
it_last_IMU.time: 1664877138.348204
lastState: 1664877138.348204
currentState: 1664877138.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.368204117 -1.29841 -0.008701 9.8 0 0 0.42001
1-2 processing imu...
it_last_IMU.time: 1664877138.358204
lastState: 1664877138.358204
currentState: 1664877138.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.378204107 -1.30864 -0.010018 9.8 0 0 0.423665
1-2 processing imu...
it_last_IMU.time: 1664877138.368204
lastState: 1664877138.368204
currentState: 1664877138.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.388204098 -1.3189 -0.0112 9.8 0 0 0.427372
1-2 processing imu...
it_last_IMU.time: 1664877138.378204
lastState: 1664877138.378204
currentState: 1664877138.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.398204088 -1.32919 -0.012245 9.8 0 0 0.431131
1-2 processing imu...
it_last_IMU.time: 1664877138.388204
lastState: 1664877138.388204
currentState: 1664877138.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.408204079 -1.33952 -0.013151 9.8 0 0 0.434943
1-2 processing imu...
it_last_IMU.time: 1664877138.398204
lastState: 1664877138.398204
currentState: 1664877138.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.418204069 -1.34989 -0.013916 9.8 0 0 0.438807
1-2 processing imu...
it_last_IMU.time: 1664877138.408204
lastState: 1664877138.408204
currentState: 1664877138.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.428204060 -1.36028 -0.014538 9.8 0 0 0.442722
1-2 processing imu...
it_last_IMU.time: 1664877138.418204
lastState: 1664877138.418204
currentState: 1664877138.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.438204050 -1.37254 -0.017556 9.8 0 0 0.446689
1-2 processing imu...
it_last_IMU.time: 1664877138.428204
lastState: 1664877138.428204
currentState: 1664877138.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.448204041 -1.38519 -0.020894 9.8 0 0 0.450706
1-2 processing imu...
it_last_IMU.time: 1664877138.438204
lastState: 1664877138.438204
currentState: 1664877138.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.458204031 -1.39791 -0.024062 9.8 0 0 0.454774
1-2 processing imu...
it_last_IMU.time: 1664877138.448204
lastState: 1664877138.448204
currentState: 1664877138.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.468204021 -1.41069 -0.027057 9.8 0 0 0.458891
1-2 processing imu...
it_last_IMU.time: 1664877138.458204
lastState: 1664877138.458204
currentState: 1664877138.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.478204012 -1.42352 -0.029877 9.8 0 0 0.463058
1-2 processing imu...
it_last_IMU.time: 1664877138.468204
lastState: 1664877138.468204
currentState: 1664877138.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.488204002 -1.43641 -0.032519 9.8 0 0 0.467275
1-2 processing imu...
it_last_IMU.time: 1664877138.478204
lastState: 1664877138.478204
currentState: 1664877138.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.498203993 -1.44936 -0.03498 9.8 0 0 0.471542
1-2 processing imu...
it_last_IMU.time: 1664877138.488204
lastState: 1664877138.488204
currentState: 1664877138.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.508203983 -1.46236 -0.037257 9.8 0 0 0.47586
1-2 processing imu...
it_last_IMU.time: 1664877138.498204
lastState: 1664877138.498204
currentState: 1664877138.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.518203974 -1.47542 -0.039347 9.8 0 0 0.480227
1-2 processing imu...
it_last_IMU.time: 1664877138.508204
lastState: 1664877138.508204
currentState: 1664877138.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.528203964 -1.48853 -0.041248 9.8 0 0 0.484644
1-2 processing imu...
it_last_IMU.time: 1664877138.518204
lastState: 1664877138.518204
currentState: 1664877138.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.538203955 -1.5016 -0.045159 9.8 0 0 0.489107
1-2 processing imu...
it_last_IMU.time: 1664877138.528204
lastState: 1664877138.528204
currentState: 1664877138.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.548203945 -1.51473 -0.049323 9.8 0 0 0.493609
1-2 processing imu...
it_last_IMU.time: 1664877138.538204
lastState: 1664877138.538204
currentState: 1664877138.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.558203936 -1.52795 -0.053291 9.8 0 0 0.49815
1-2 processing imu...
it_last_IMU.time: 1664877138.548204
lastState: 1664877138.548204
currentState: 1664877138.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.568203926 -1.54123 -0.057058 9.8 0 0 0.502729
1-2 processing imu...
it_last_IMU.time: 1664877138.558204
lastState: 1664877138.558204
currentState: 1664877138.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.578203917 -1.5546 -0.060622 9.8 0 0 0.507347
1-2 processing imu...
it_last_IMU.time: 1664877138.568204
lastState: 1664877138.568204
currentState: 1664877138.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.588203907 -1.56805 -0.063979 9.8 0 0 0.512003
1-2 processing imu...
it_last_IMU.time: 1664877138.578204
lastState: 1664877138.578204
currentState: 1664877138.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.598203897 -1.58157 -0.067126 9.8 0 0 0.516698
1-2 processing imu...
it_last_IMU.time: 1664877138.588204
lastState: 1664877138.588204
currentState: 1664877138.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.608203888 -1.59517 -0.070061 9.8 0 0 0.521431
1-2 processing imu...
it_last_IMU.time: 1664877138.598204
lastState: 1664877138.598204
currentState: 1664877138.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.618204117 -1.60885 -0.072779 9.8 0 0 0.526203
1-2 processing imu...
it_last_IMU.time: 1664877138.608204
lastState: 1664877138.608204
currentState: 1664877138.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.628204107 -1.6226 -0.075278 9.8 0 0 0.531014
1-2 processing imu...
it_last_IMU.time: 1664877138.618204
lastState: 1664877138.618204
currentState: 1664877138.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.638204098 -1.63734 -0.078749 9.8 0 0 0.535859
1-2 processing imu...
it_last_IMU.time: 1664877138.628204
lastState: 1664877138.628204
currentState: 1664877138.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.648204088 -1.65236 -0.082242 9.8 0 0 0.54073
1-2 processing imu...
it_last_IMU.time: 1664877138.638204
lastState: 1664877138.638204
currentState: 1664877138.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.658204079 -1.66748 -0.085494 9.8 0 0 0.545627
1-2 processing imu...
it_last_IMU.time: 1664877138.648204
lastState: 1664877138.648204
currentState: 1664877138.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.668204069 -1.68268 -0.088501 9.8 0 0 0.55055
1-2 processing imu...
it_last_IMU.time: 1664877138.658204
lastState: 1664877138.658204
currentState: 1664877138.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.678204060 -1.69797 -0.09126 9.8 0 0 0.555499
1-2 processing imu...
it_last_IMU.time: 1664877138.668204
lastState: 1664877138.668204
currentState: 1664877138.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.688204050 -1.71334 -0.093767 9.8 0 0 0.560474
1-2 processing imu...
it_last_IMU.time: 1664877138.678204
lastState: 1664877138.678204
currentState: 1664877138.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.698204041 -1.7288 -0.096018 9.8 0 0 0.565475
1-2 processing imu...
it_last_IMU.time: 1664877138.688204
lastState: 1664877138.688204
currentState: 1664877138.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.708204031 -1.74435 -0.098011 9.8 0 0 0.570502
1-2 processing imu...
it_last_IMU.time: 1664877138.698204
lastState: 1664877138.698204
currentState: 1664877138.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.718204021 -1.75998 -0.099741 9.8 0 0 0.575555
1-2 processing imu...
it_last_IMU.time: 1664877138.708204
lastState: 1664877138.708204
currentState: 1664877138.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.728204012 -1.77569 -0.101205 9.8 0 0 0.580634
1-2 processing imu...
it_last_IMU.time: 1664877138.718204
lastState: 1664877138.718204
currentState: 1664877138.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.738204002 -1.79158 -0.101678 9.8 0 0 0.585733
1-2 processing imu...
it_last_IMU.time: 1664877138.728204
lastState: 1664877138.728204
currentState: 1664877138.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.748203993 -1.80756 -0.101711 9.8 0 0 0.590842
1-2 processing imu...
it_last_IMU.time: 1664877138.738204
lastState: 1664877138.738204
currentState: 1664877138.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.758203983 -1.82361 -0.101466 9.8 0 0 0.595959
1-2 processing imu...
it_last_IMU.time: 1664877138.748204
lastState: 1664877138.748204
currentState: 1664877138.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.768203974 -1.83972 -0.100939 9.8 0 0 0.601085
1-2 processing imu...
it_last_IMU.time: 1664877138.758204
lastState: 1664877138.758204
currentState: 1664877138.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.778203964 -1.8559 -0.100128 9.8 0 0 0.60622
1-2 processing imu...
it_last_IMU.time: 1664877138.768204
lastState: 1664877138.768204
currentState: 1664877138.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.788203955 -1.87214 -0.099028 9.8 0 0 0.611364
1-2 processing imu...
it_last_IMU.time: 1664877138.778204
lastState: 1664877138.778204
currentState: 1664877138.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.798203945 -1.88844 -0.097637 9.8 0 0 0.616517
1-2 processing imu...
it_last_IMU.time: 1664877138.788204
lastState: 1664877138.788204
currentState: 1664877138.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.808203936 -1.9048 -0.09595 9.8 0 0 0.621679
1-2 processing imu...
it_last_IMU.time: 1664877138.798204
lastState: 1664877138.798204
currentState: 1664877138.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.818203926 -1.92121 -0.093965 9.8 0 0 0.626849
1-2 processing imu...
it_last_IMU.time: 1664877138.808204
lastState: 1664877138.808204
currentState: 1664877138.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.828203917 -1.93768 -0.091679 9.8 0 0 0.632029
1-2 processing imu...
it_last_IMU.time: 1664877138.818204
lastState: 1664877138.818204
currentState: 1664877138.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.838203907 -1.95259 -0.091915 9.8 0 0 0.637205
1-2 processing imu...
it_last_IMU.time: 1664877138.828204
lastState: 1664877138.828204
currentState: 1664877138.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.848203897 -1.96719 -0.092555 9.8 0 0 0.642353
1-2 processing imu...
it_last_IMU.time: 1664877138.838204
lastState: 1664877138.838204
currentState: 1664877138.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.858203888 -1.98188 -0.09291 9.8 0 0 0.647473
1-2 processing imu...
it_last_IMU.time: 1664877138.848204
lastState: 1664877138.848204
currentState: 1664877138.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.868204117 -1.99666 -0.092977 9.8 0 0 0.652564
1-2 processing imu...
it_last_IMU.time: 1664877138.858204
lastState: 1664877138.858204
currentState: 1664877138.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.878204107 -2.01154 -0.092753 9.8 0 0 0.657626
1-2 processing imu...
it_last_IMU.time: 1664877138.868204
lastState: 1664877138.868204
currentState: 1664877138.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.888204098 -2.0265 -0.092235 9.8 0 0 0.66266
1-2 processing imu...
it_last_IMU.time: 1664877138.878204
lastState: 1664877138.878204
currentState: 1664877138.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.898204088 -2.04154 -0.091421 9.8 0 0 0.667665
1-2 processing imu...
it_last_IMU.time: 1664877138.888204
lastState: 1664877138.888204
currentState: 1664877138.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.908204079 -2.05667 -0.090307 9.8 0 0 0.672642
1-2 processing imu...
it_last_IMU.time: 1664877138.898204
lastState: 1664877138.898204
currentState: 1664877138.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.918204069 -2.07187 -0.088892 9.8 0 0 0.67759
1-2 processing imu...
it_last_IMU.time: 1664877138.908204
lastState: 1664877138.908204
currentState: 1664877138.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.928204060 -2.08716 -0.087172 9.8 0 0 0.682509
1-2 processing imu...
it_last_IMU.time: 1664877138.918204
lastState: 1664877138.918204
currentState: 1664877138.928204
New Map created with 200 points
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
[0m[ INFO] [1670675479.919813947]: *** pose sensor got first measurement from topic //slam/tf ***[0m
2. PoseMeasurementCallback() TransformStamped: 1664877138.890640020 0.00328673 0.014271 -0.0130302 0.000301621 -0.00641522 0.00858252 0.999943
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877138.890640
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877138.890640
state->time: 1664877138.890640
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675479.920900311]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675479.920930287]: the fixed q :[0.92, 0, 0, -0.392][0m
[0m[ INFO] [1670675479.920943570]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675479.920960819]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.00328673 0.014271 -0.0130302
p_wv: 18.52 -15.22 31
p: 24.637 -13.6015 31
q: [0.92, 0, 0, -0.392]
l: 0.5
residual in position: -3.055 -0.795 -0.01303
q_err :[0.646, 0.65, -0.287, 0.279]
residual in q: 2.012 -0.8884 0.8631
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877138.890640 it_next->second->time: 1664877138.898204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877138.898204 it_next->second->time: 1664877138.908204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877138.908204 it_next->second->time: 1664877138.918204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877138.918204 it_next->second->time: 1664877138.928204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.64 -15.35 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877138.938204050 -2.102 -0.08878 9.8 0 0 0.6874
1-2 processing imu...
it_last_IMU.time: 1664877138.928204
lastState: 1664877138.928204
currentState: 1664877138.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.948204041 -2.117 -0.09103 9.8 0 0 0.6922
1-2 processing imu...
it_last_IMU.time: 1664877138.938204
lastState: 1664877138.938204
currentState: 1664877138.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.958204031 -2.131 -0.09298 9.8 0 0 0.6969
1-2 processing imu...
it_last_IMU.time: 1664877138.948204
lastState: 1664877138.948204
currentState: 1664877138.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
[33m[ WARN] [1670675479.974579369]: Pose measurement throttling is on, dropping messagesto be below 2.500000 Hz[0m
1-1 IMUCallback(): 1664877138.968204021 -2.146 -0.09462 9.8 0 0 0.7016
1-2 processing imu...
it_last_IMU.time: 1664877138.958204
lastState: 1664877138.958204
currentState: 1664877138.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.978204012 -2.162 -0.09596 9.8 0 0 0.7061
1-2 processing imu...
it_last_IMU.time: 1664877138.968204
lastState: 1664877138.968204
currentState: 1664877138.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877138.988204002 -2.177 -0.09699 9.8 0 0 0.7106
1-2 processing imu...
it_last_IMU.time: 1664877138.978204
lastState: 1664877138.978204
currentState: 1664877138.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877138.998203993 -2.192 -0.09771 9.8 0 0 0.7151
1-2 processing imu...
it_last_IMU.time: 1664877138.988204
lastState: 1664877138.988204
currentState: 1664877138.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.008203983 -2.208 -0.09812 9.8 0 0 0.7194
1-2 processing imu...
it_last_IMU.time: 1664877138.998204
lastState: 1664877138.998204
currentState: 1664877139.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.018203974 -2.223 -0.09822 9.8 0 0 0.7237
1-2 processing imu...
it_last_IMU.time: 1664877139.008204
lastState: 1664877139.008204
currentState: 1664877139.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.028203964 -2.239 -0.09799 9.8 0 0 0.7279
1-2 processing imu...
it_last_IMU.time: 1664877139.018204
lastState: 1664877139.018204
currentState: 1664877139.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.038203955 -2.251 -0.09862 9.8 0 0 0.732
1-2 processing imu...
it_last_IMU.time: 1664877139.028204
lastState: 1664877139.028204
currentState: 1664877139.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.048203945 -2.263 -0.0993 9.8 0 0 0.736
1-2 processing imu...
it_last_IMU.time: 1664877139.038204
lastState: 1664877139.038204
currentState: 1664877139.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.058203936 -2.274 -0.09972 9.8 0 0 0.7398
1-2 processing imu...
it_last_IMU.time: 1664877139.048204
lastState: 1664877139.048204
currentState: 1664877139.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.068203926 -2.286 -0.0999 9.8 0 0 0.7435
1-2 processing imu...
it_last_IMU.time: 1664877139.058204
lastState: 1664877139.058204
currentState: 1664877139.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.078203917 -2.297 -0.09983 9.8 0 0 0.7471
1-2 processing imu...
it_last_IMU.time: 1664877139.068204
lastState: 1664877139.068204
currentState: 1664877139.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.088203907 -2.309 -0.0995 9.8 0 0 0.7505
1-2 processing imu...
it_last_IMU.time: 1664877139.078204
lastState: 1664877139.078204
currentState: 1664877139.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.098203897 -2.321 -0.09893 9.8 0 0 0.7539
1-2 processing imu...
it_last_IMU.time: 1664877139.088204
lastState: 1664877139.088204
currentState: 1664877139.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.108203888 -2.333 -0.0981 9.8 0 0 0.7571
1-2 processing imu...
it_last_IMU.time: 1664877139.098204
lastState: 1664877139.098204
currentState: 1664877139.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.118204117 -2.346 -0.09702 9.8 0 0 0.7601
1-2 processing imu...
it_last_IMU.time: 1664877139.108204
lastState: 1664877139.108204
currentState: 1664877139.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.128204107 -2.358 -0.09569 9.8 0 0 0.763
1-2 processing imu...
it_last_IMU.time: 1664877139.118204
lastState: 1664877139.118204
currentState: 1664877139.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.138204098 -2.367 -0.09368 9.8 0 0 0.7658
1-2 processing imu...
it_last_IMU.time: 1664877139.128204
lastState: 1664877139.128204
currentState: 1664877139.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.148204088 -2.374 -0.09138 9.8 0 0 0.7684
1-2 processing imu...
it_last_IMU.time: 1664877139.138204
lastState: 1664877139.138204
currentState: 1664877139.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.158204079 -2.382 -0.0889 9.8 0 0 0.7708
1-2 processing imu...
it_last_IMU.time: 1664877139.148204
lastState: 1664877139.148204
currentState: 1664877139.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.168204069 -2.39 -0.08626 9.8 0 0 0.7731
1-2 processing imu...
it_last_IMU.time: 1664877139.158204
lastState: 1664877139.158204
currentState: 1664877139.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.178204060 -2.398 -0.08345 9.8 0 0 0.7751
1-2 processing imu...
it_last_IMU.time: 1664877139.168204
lastState: 1664877139.168204
currentState: 1664877139.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.188204050 -2.406 -0.08047 9.8 0 0 0.777
1-2 processing imu...
it_last_IMU.time: 1664877139.178204
lastState: 1664877139.178204
currentState: 1664877139.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.198204041 -2.414 -0.07733 9.8 0 0 0.7786
1-2 processing imu...
it_last_IMU.time: 1664877139.188204
lastState: 1664877139.188204
currentState: 1664877139.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.208204031 -2.422 -0.07403 9.8 0 0 0.7801
1-2 processing imu...
it_last_IMU.time: 1664877139.198204
lastState: 1664877139.198204
currentState: 1664877139.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.218204021 -2.43 -0.07057 9.8 0 0 0.7815
1-2 processing imu...
it_last_IMU.time: 1664877139.208204
lastState: 1664877139.208204
currentState: 1664877139.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.228204012 -2.439 -0.06696 9.8 0 0 0.7826
1-2 processing imu...
it_last_IMU.time: 1664877139.218204
lastState: 1664877139.218204
currentState: 1664877139.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.238204002 -2.442 -0.06273 9.8 0 0 0.7835
1-2 processing imu...
it_last_IMU.time: 1664877139.228204
lastState: 1664877139.228204
currentState: 1664877139.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.248203993 -2.445 -0.05829 9.8 0 0 0.7843
1-2 processing imu...
it_last_IMU.time: 1664877139.238204
lastState: 1664877139.238204
currentState: 1664877139.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.258203983 -2.447 -0.0538 9.8 0 0 0.7847
1-2 processing imu...
it_last_IMU.time: 1664877139.248204
lastState: 1664877139.248204
currentState: 1664877139.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.268203974 -2.449 -0.04927 9.8 0 0 0.785
1-2 processing imu...
it_last_IMU.time: 1664877139.258204
lastState: 1664877139.258204
currentState: 1664877139.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.278203964 -2.452 -0.0447 9.8 0 0 0.785
1-2 processing imu...
it_last_IMU.time: 1664877139.268204
lastState: 1664877139.268204
currentState: 1664877139.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.288203955 -2.455 -0.0401 9.8 0 0 0.7848
1-2 processing imu...
it_last_IMU.time: 1664877139.278204
lastState: 1664877139.278204
currentState: 1664877139.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.298203945 -2.457 -0.03546 9.8 0 0 0.7844
1-2 processing imu...
it_last_IMU.time: 1664877139.288204
lastState: 1664877139.288204
currentState: 1664877139.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.308203936 -2.46 -0.03079 9.8 0 0 0.7838
1-2 processing imu...
it_last_IMU.time: 1664877139.298204
lastState: 1664877139.298204
currentState: 1664877139.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.318203926 -2.463 -0.0261 9.8 0 0 0.7829
1-2 processing imu...
it_last_IMU.time: 1664877139.308204
lastState: 1664877139.308204
currentState: 1664877139.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877139.304022074 0.04315 0.05239 -0.004918 -0.004128 -0.008524 0.1431 0.9897
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877139.304022
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877139.304022
state->time: 1664877139.304022
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675480.709622513]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675480.709677552]: the fixed q :[0.695, 0.7, -0.106, 0.122][0m
[0m[ INFO] [1670675480.709700316]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675480.709726690]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.04315 0.05239 -0.004918
p_wv: 18.52 -15.22 31
p: 18.58 -18.01 30.1
q: [0.695, 0.7, -0.106, 0.122]
l: 0.4915
residual in position: 0.01398 1.424 0.4387
q_err :[0.98, 0.0156, 0.151, 0.131]
residual in q: 0.03181 0.3093 0.2668
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877139.304022 it_next->second->time: 1664877139.308204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877139.308204 it_next->second->time: 1664877139.318204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.6 -15.31 30.9
hc: publish state after update
1-1 IMUCallback(): 1664877139.328203917 -2.466 -0.02139 9.8 0 0 0.7818
1-2 processing imu...
it_last_IMU.time: 1664877139.318204
lastState: 1664877139.318204
currentState: 1664877139.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.338203907 -2.462 -0.01558 9.8 0 0 0.7804
1-2 processing imu...
it_last_IMU.time: 1664877139.328204
lastState: 1664877139.328204
currentState: 1664877139.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.348203897 -2.455 -0.009558 9.8 0 0 0.7788
1-2 processing imu...
it_last_IMU.time: 1664877139.338204
lastState: 1664877139.338204
currentState: 1664877139.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.358203888 -2.448 -0.003681 9.8 0 0 0.777
1-2 processing imu...
it_last_IMU.time: 1664877139.348204
lastState: 1664877139.348204
currentState: 1664877139.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.368204117 -2.442 0.002044 9.8 0 0 0.7749
1-2 processing imu...
it_last_IMU.time: 1664877139.358204
lastState: 1664877139.358204
currentState: 1664877139.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.378204107 -2.435 0.007613 9.8 0 0 0.7725
1-2 processing imu...
it_last_IMU.time: 1664877139.368204
lastState: 1664877139.368204
currentState: 1664877139.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.388204098 -2.429 0.01302 9.8 0 0 0.7698
1-2 processing imu...
it_last_IMU.time: 1664877139.378204
lastState: 1664877139.378204
currentState: 1664877139.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.398204088 -2.422 0.01826 9.8 0 0 0.7669
1-2 processing imu...
it_last_IMU.time: 1664877139.388204
lastState: 1664877139.388204
currentState: 1664877139.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.408204079 -2.416 0.02333 9.8 0 0 0.7638
1-2 processing imu...
it_last_IMU.time: 1664877139.398204
lastState: 1664877139.398204
currentState: 1664877139.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.418204069 -2.409 0.02823 9.8 0 0 0.7604
1-2 processing imu...
it_last_IMU.time: 1664877139.408204
lastState: 1664877139.408204
currentState: 1664877139.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.428204060 -2.403 0.03295 9.8 0 0 0.7567
1-2 processing imu...
it_last_IMU.time: 1664877139.418204
lastState: 1664877139.418204
currentState: 1664877139.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.438204050 -2.391 0.03784 9.8 0 0 0.7527
1-2 processing imu...
it_last_IMU.time: 1664877139.428204
lastState: 1664877139.428204
currentState: 1664877139.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.448204041 -2.377 0.04257 9.8 0 0 0.7485
1-2 processing imu...
it_last_IMU.time: 1664877139.438204
lastState: 1664877139.438204
currentState: 1664877139.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.458204031 -2.363 0.04699 9.8 0 0 0.7441
1-2 processing imu...
it_last_IMU.time: 1664877139.448204
lastState: 1664877139.448204
currentState: 1664877139.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.468204021 -2.35 0.0511 9.8 0 0 0.7394
1-2 processing imu...
it_last_IMU.time: 1664877139.458204
lastState: 1664877139.458204
currentState: 1664877139.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.478204012 -2.336 0.05489 9.8 0 0 0.7344
1-2 processing imu...
it_last_IMU.time: 1664877139.468204
lastState: 1664877139.468204
currentState: 1664877139.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.488204002 -2.322 0.05837 9.8 0 0 0.7291
1-2 processing imu...
it_last_IMU.time: 1664877139.478204
lastState: 1664877139.478204
currentState: 1664877139.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.498203993 -2.309 0.06153 9.8 0 0 0.7236
1-2 processing imu...
it_last_IMU.time: 1664877139.488204
lastState: 1664877139.488204
currentState: 1664877139.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.508203983 -2.295 0.06436 9.8 0 0 0.7179
1-2 processing imu...
it_last_IMU.time: 1664877139.498204
lastState: 1664877139.498204
currentState: 1664877139.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.518203974 -2.282 0.06687 9.8 0 0 0.7119
1-2 processing imu...
it_last_IMU.time: 1664877139.508204
lastState: 1664877139.508204
currentState: 1664877139.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.528203964 -2.269 0.06906 9.8 0 0 0.7056
1-2 processing imu...
it_last_IMU.time: 1664877139.518204
lastState: 1664877139.518204
currentState: 1664877139.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.538203955 -2.247 0.07373 9.8 0 0 0.6991
1-2 processing imu...
it_last_IMU.time: 1664877139.528204
lastState: 1664877139.528204
currentState: 1664877139.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.548203945 -2.223 0.07892 9.8 0 0 0.6923
1-2 processing imu...
it_last_IMU.time: 1664877139.538204
lastState: 1664877139.538204
currentState: 1664877139.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.558203936 -2.198 0.08362 9.8 0 0 0.6854
1-2 processing imu...
it_last_IMU.time: 1664877139.548204
lastState: 1664877139.548204
currentState: 1664877139.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.568203926 -2.174 0.08784 9.8 0 0 0.6782
1-2 processing imu...
it_last_IMU.time: 1664877139.558204
lastState: 1664877139.558204
currentState: 1664877139.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.578203917 -2.15 0.09157 9.8 0 0 0.6709
1-2 processing imu...
it_last_IMU.time: 1664877139.568204
lastState: 1664877139.568204
currentState: 1664877139.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.588203907 -2.126 0.09483 9.8 0 0 0.6633
1-2 processing imu...
it_last_IMU.time: 1664877139.578204
lastState: 1664877139.578204
currentState: 1664877139.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.598203897 -2.101 0.0976 9.8 0 0 0.6555
1-2 processing imu...
it_last_IMU.time: 1664877139.588204
lastState: 1664877139.588204
currentState: 1664877139.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.608203888 -2.077 0.09989 9.8 0 0 0.6476
1-2 processing imu...
it_last_IMU.time: 1664877139.598204
lastState: 1664877139.598204
currentState: 1664877139.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.618204117 -2.053 0.1017 9.8 0 0 0.6394
1-2 processing imu...
it_last_IMU.time: 1664877139.608204
lastState: 1664877139.608204
currentState: 1664877139.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.628204107 -2.029 0.1031 9.8 0 0 0.631
1-2 processing imu...
it_last_IMU.time: 1664877139.618204
lastState: 1664877139.618204
currentState: 1664877139.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.638204098 -2 0.1067 9.8 0 0 0.6224
1-2 processing imu...
it_last_IMU.time: 1664877139.628204
lastState: 1664877139.628204
currentState: 1664877139.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.648204088 -1.969 0.1109 9.8 0 0 0.6137
1-2 processing imu...
it_last_IMU.time: 1664877139.638204
lastState: 1664877139.638204
currentState: 1664877139.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.658204079 -1.938 0.1145 9.8 0 0 0.6048
1-2 processing imu...
it_last_IMU.time: 1664877139.648204
lastState: 1664877139.648204
currentState: 1664877139.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.668204069 -1.907 0.1175 9.8 0 0 0.5958
1-2 processing imu...
it_last_IMU.time: 1664877139.658204
lastState: 1664877139.658204
currentState: 1664877139.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.678204060 -1.876 0.12 9.8 0 0 0.5866
1-2 processing imu...
it_last_IMU.time: 1664877139.668204
lastState: 1664877139.668204
currentState: 1664877139.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.688204050 -1.845 0.122 9.8 0 0 0.5774
1-2 processing imu...
it_last_IMU.time: 1664877139.678204
lastState: 1664877139.678204
currentState: 1664877139.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.698204041 -1.814 0.1235 9.8 0 0 0.5679
1-2 processing imu...
it_last_IMU.time: 1664877139.688204
lastState: 1664877139.688204
currentState: 1664877139.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.708204031 -1.783 0.1244 9.8 0 0 0.5584
1-2 processing imu...
it_last_IMU.time: 1664877139.698204
lastState: 1664877139.698204
currentState: 1664877139.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.718204021 -1.752 0.1248 9.8 0 0 0.5487
1-2 processing imu...
it_last_IMU.time: 1664877139.708204
lastState: 1664877139.708204
currentState: 1664877139.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.728204012 -1.721 0.1247 9.8 0 0 0.5388
1-2 processing imu...
it_last_IMU.time: 1664877139.718204
lastState: 1664877139.718204
currentState: 1664877139.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877139.721494913 0.08197 0.09848 -0.006486 -0.01682 -0.01067 0.3 0.9537
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877139.721495
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877139.721495
state->time: 1664877139.721495
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675481.600116314]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675481.600173808]: the fixed q :[0.676, 0.706, -0.00458, 0.212][0m
[0m[ INFO] [1670675481.600197444]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675481.600225517]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.08197 0.09848 -0.006486
p_wv: 18.52 -15.22 31
p: 18.35 -17.02 29
q: [0.676, 0.706, -0.00458, 0.212]
l: 0.4635
residual in position: 0.1623 0.9309 0.9187
q_err :[0.977, 0.00789, 0.144, 0.156]
residual in q: 0.01616 0.2955 0.3194
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877139.721495 it_next->second->time: 1664877139.728204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.73 -14.81 31.2
hc: publish state after update
1-1 IMUCallback(): 1664877139.738204002 -1.688 0.1271 9.8 0 0 0.5289
1-2 processing imu...
it_last_IMU.time: 1664877139.728204
lastState: 1664877139.728204
currentState: 1664877139.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.748203993 -1.654 0.13 9.8 0 0 0.5189
1-2 processing imu...
it_last_IMU.time: 1664877139.738204
lastState: 1664877139.738204
currentState: 1664877139.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.758203983 -1.62 0.1324 9.8 0 0 0.5089
1-2 processing imu...
it_last_IMU.time: 1664877139.748204
lastState: 1664877139.748204
currentState: 1664877139.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.768203974 -1.586 0.1344 9.8 0 0 0.4988
1-2 processing imu...
it_last_IMU.time: 1664877139.758204
lastState: 1664877139.758204
currentState: 1664877139.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.778203964 -1.552 0.1358 9.8 0 0 0.4887
1-2 processing imu...
it_last_IMU.time: 1664877139.768204
lastState: 1664877139.768204
currentState: 1664877139.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.788203955 -1.518 0.1367 9.8 0 0 0.4786
1-2 processing imu...
it_last_IMU.time: 1664877139.778204
lastState: 1664877139.778204
currentState: 1664877139.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.798203945 -1.484 0.1372 9.8 0 0 0.4684
1-2 processing imu...
it_last_IMU.time: 1664877139.788204
lastState: 1664877139.788204
currentState: 1664877139.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.808203936 -1.45 0.1372 9.8 0 0 0.4582
1-2 processing imu...
it_last_IMU.time: 1664877139.798204
lastState: 1664877139.798204
currentState: 1664877139.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.818203926 -1.416 0.1367 9.8 0 0 0.4479
1-2 processing imu...
it_last_IMU.time: 1664877139.808204
lastState: 1664877139.808204
currentState: 1664877139.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.828203917 -1.382 0.1358 9.8 0 0 0.4376
1-2 processing imu...
it_last_IMU.time: 1664877139.818204
lastState: 1664877139.818204
currentState: 1664877139.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.838203907 -1.347 0.1359 9.8 0 0 0.4273
1-2 processing imu...
it_last_IMU.time: 1664877139.828204
lastState: 1664877139.828204
currentState: 1664877139.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.848203897 -1.312 0.1362 9.8 0 0 0.4171
1-2 processing imu...
it_last_IMU.time: 1664877139.838204
lastState: 1664877139.838204
currentState: 1664877139.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.858203888 -1.276 0.1361 9.8 0 0 0.4069
1-2 processing imu...
it_last_IMU.time: 1664877139.848204
lastState: 1664877139.848204
currentState: 1664877139.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.868204117 -1.241 0.1355 9.8 0 0 0.3968
1-2 processing imu...
it_last_IMU.time: 1664877139.858204
lastState: 1664877139.858204
currentState: 1664877139.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.878204107 -1.205 0.1346 9.8 0 0 0.3867
1-2 processing imu...
it_last_IMU.time: 1664877139.868204
lastState: 1664877139.868204
currentState: 1664877139.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.888204098 -1.17 0.1333 9.8 0 0 0.3767
1-2 processing imu...
it_last_IMU.time: 1664877139.878204
lastState: 1664877139.878204
currentState: 1664877139.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.898204088 -1.134 0.1315 9.8 0 0 0.3668
1-2 processing imu...
it_last_IMU.time: 1664877139.888204
lastState: 1664877139.888204
currentState: 1664877139.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.908204079 -1.099 0.1295 9.8 0 0 0.3569
1-2 processing imu...
it_last_IMU.time: 1664877139.898204
lastState: 1664877139.898204
currentState: 1664877139.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.918204069 -1.064 0.127 9.8 0 0 0.3471
1-2 processing imu...
it_last_IMU.time: 1664877139.908204
lastState: 1664877139.908204
currentState: 1664877139.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.928204060 -1.029 0.1242 9.8 0 0 0.3374
1-2 processing imu...
it_last_IMU.time: 1664877139.918204
lastState: 1664877139.918204
currentState: 1664877139.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.938204050 -0.9953 0.1215 9.8 0 0 0.3277
1-2 processing imu...
it_last_IMU.time: 1664877139.928204
lastState: 1664877139.928204
currentState: 1664877139.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.948204041 -0.9629 0.1187 9.8 0 0 0.3181
1-2 processing imu...
it_last_IMU.time: 1664877139.938204
lastState: 1664877139.938204
currentState: 1664877139.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.958204031 -0.9304 0.1155 9.8 0 0 0.3087
1-2 processing imu...
it_last_IMU.time: 1664877139.948204
lastState: 1664877139.948204
currentState: 1664877139.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.968204021 -0.8981 0.1121 9.8 0 0 0.2994
1-2 processing imu...
it_last_IMU.time: 1664877139.958204
lastState: 1664877139.958204
currentState: 1664877139.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877139.978204012 -0.8657 0.1084 9.8 0 0 0.2902
1-2 processing imu...
it_last_IMU.time: 1664877139.968204
lastState: 1664877139.968204
currentState: 1664877139.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.988204002 -0.8334 0.1045 9.8 0 0 0.2811
1-2 processing imu...
it_last_IMU.time: 1664877139.978204
lastState: 1664877139.978204
currentState: 1664877139.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877139.998203993 -0.8011 0.1002 9.8 0 0 0.2722
1-2 processing imu...
it_last_IMU.time: 1664877139.988204
lastState: 1664877139.988204
currentState: 1664877139.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.008203983 -0.7689 0.09578 9.8 0 0 0.2633
1-2 processing imu...
it_last_IMU.time: 1664877139.998204
lastState: 1664877139.998204
currentState: 1664877140.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.018203974 -0.7367 0.09108 9.8 0 0 0.2546
1-2 processing imu...
it_last_IMU.time: 1664877140.008204
lastState: 1664877140.008204
currentState: 1664877140.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.028203964 -0.7046 0.08615 9.8 0 0 0.246
1-2 processing imu...
it_last_IMU.time: 1664877140.018204
lastState: 1664877140.018204
currentState: 1664877140.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.038203955 -0.6763 0.08162 9.8 0 0 0.2375
1-2 processing imu...
it_last_IMU.time: 1664877140.028204
lastState: 1664877140.028204
currentState: 1664877140.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.048203945 -0.6498 0.07715 9.8 0 0 0.2292
1-2 processing imu...
it_last_IMU.time: 1664877140.038204
lastState: 1664877140.038204
currentState: 1664877140.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.058203936 -0.6233 0.07251 9.8 0 0 0.221
1-2 processing imu...
it_last_IMU.time: 1664877140.048204
lastState: 1664877140.048204
currentState: 1664877140.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.068203926 -0.5968 0.06771 9.8 0 0 0.2129
1-2 processing imu...
it_last_IMU.time: 1664877140.058204
lastState: 1664877140.058204
currentState: 1664877140.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.078203917 -0.5704 0.06274 9.8 0 0 0.205
1-2 processing imu...
it_last_IMU.time: 1664877140.068204
lastState: 1664877140.068204
currentState: 1664877140.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.088203907 -0.544 0.05762 9.8 0 0 0.1972
1-2 processing imu...
it_last_IMU.time: 1664877140.078204
lastState: 1664877140.078204
currentState: 1664877140.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.098203897 -0.5176 0.05236 9.8 0 0 0.1896
1-2 processing imu...
it_last_IMU.time: 1664877140.088204
lastState: 1664877140.088204
currentState: 1664877140.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.108203888 -0.4912 0.04695 9.8 0 0 0.1821
1-2 processing imu...
it_last_IMU.time: 1664877140.098204
lastState: 1664877140.098204
currentState: 1664877140.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.118204117 -0.4649 0.04142 9.8 0 0 0.1747
1-2 processing imu...
it_last_IMU.time: 1664877140.108204
lastState: 1664877140.108204
currentState: 1664877140.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.128204107 -0.4386 0.03575 9.8 0 0 0.1675
1-2 processing imu...
it_last_IMU.time: 1664877140.118204
lastState: 1664877140.118204
currentState: 1664877140.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.138204098 -0.4166 0.03332 9.8 0 0 0.1604
1-2 processing imu...
it_last_IMU.time: 1664877140.128204
lastState: 1664877140.128204
currentState: 1664877140.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.148204088 -0.3965 0.0323 9.8 0 0 0.1534
1-2 processing imu...
it_last_IMU.time: 1664877140.138204
lastState: 1664877140.138204
currentState: 1664877140.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877140.133563995 0.09518 0.1205 -0.002576 -0.01649 -0.006815 0.3481 0.9373
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877140.133564
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877140.133564
state->time: 1664877140.133564
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675482.469922512]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675482.470114784]: the fixed q :[0.666, 0.676, 0.162, 0.271][0m
[0m[ INFO] [1670675482.470208903]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675482.470280135]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.09518 0.1205 -0.002576
p_wv: 18.52 -15.22 31
p: 19.54 -15.95 29.74
q: [0.666, 0.676, 0.162, 0.271]
l: 0.52
residual in position: -0.4375 0.5019 0.6527
q_err :[0.996, 0.00237, 0.0731, 0.0447]
residual in q: 0.004767 0.1467 0.08978
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877140.133564 it_next->second->time: 1664877140.138204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877140.138204 it_next->second->time: 1664877140.148204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.71 -15.02 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877140.158204079 -0.3765 0.03119 9.8 0 0 0.1466
1-2 processing imu...
it_last_IMU.time: 1664877140.148204
lastState: 1664877140.148204
currentState: 1664877140.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.168204069 -0.3565 0.03 9.8 0 0 0.14
1-2 processing imu...
it_last_IMU.time: 1664877140.158204
lastState: 1664877140.158204
currentState: 1664877140.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.178204060 -0.3364 0.02873 9.8 0 0 0.1335
1-2 processing imu...
it_last_IMU.time: 1664877140.168204
lastState: 1664877140.168204
currentState: 1664877140.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.188204050 -0.3164 0.02738 9.8 0 0 0.1272
1-2 processing imu...
it_last_IMU.time: 1664877140.178204
lastState: 1664877140.178204
currentState: 1664877140.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.198204041 -0.2964 0.02596 9.8 0 0 0.121
1-2 processing imu...
it_last_IMU.time: 1664877140.188204
lastState: 1664877140.188204
currentState: 1664877140.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.208204031 -0.2764 0.02448 9.8 0 0 0.115
1-2 processing imu...
it_last_IMU.time: 1664877140.198204
lastState: 1664877140.198204
currentState: 1664877140.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.218204021 -0.2564 0.02293 9.8 0 0 0.1091
1-2 processing imu...
it_last_IMU.time: 1664877140.208204
lastState: 1664877140.208204
currentState: 1664877140.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.228204012 -0.2364 0.02133 9.8 0 0 0.1033
1-2 processing imu...
it_last_IMU.time: 1664877140.218204
lastState: 1664877140.218204
currentState: 1664877140.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.238204002 -0.2201 0.01995 9.8 0 0 0.09776
1-2 processing imu...
it_last_IMU.time: 1664877140.228204
lastState: 1664877140.228204
currentState: 1664877140.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.248203993 -0.2056 0.01865 9.8 0 0 0.09233
1-2 processing imu...
it_last_IMU.time: 1664877140.238204
lastState: 1664877140.238204
currentState: 1664877140.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.258203983 -0.1911 0.01732 9.8 0 0 0.08705
1-2 processing imu...
it_last_IMU.time: 1664877140.248204
lastState: 1664877140.248204
currentState: 1664877140.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.268203974 -0.1767 0.01595 9.8 0 0 0.08193
1-2 processing imu...
it_last_IMU.time: 1664877140.258204
lastState: 1664877140.258204
currentState: 1664877140.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.278203964 -0.1622 0.01455 9.8 0 0 0.07695
1-2 processing imu...
it_last_IMU.time: 1664877140.268204
lastState: 1664877140.268204
currentState: 1664877140.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.288203955 -0.1477 0.01312 9.8 0 0 0.07213
1-2 processing imu...
it_last_IMU.time: 1664877140.278204
lastState: 1664877140.278204
currentState: 1664877140.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.298203945 -0.1332 0.01166 9.8 0 0 0.06746
1-2 processing imu...
it_last_IMU.time: 1664877140.288204
lastState: 1664877140.288204
currentState: 1664877140.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.308203936 -0.1187 0.01017 9.8 0 0 0.06294
1-2 processing imu...
it_last_IMU.time: 1664877140.298204
lastState: 1664877140.298204
currentState: 1664877140.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.318203926 -0.1042 0.008666 9.8 0 0 0.05858
1-2 processing imu...
it_last_IMU.time: 1664877140.308204
lastState: 1664877140.308204
currentState: 1664877140.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.328203917 -0.08977 0.007137 9.8 0 0 0.05436
1-2 processing imu...
it_last_IMU.time: 1664877140.318204
lastState: 1664877140.318204
currentState: 1664877140.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.338203907 -0.07874 0.004533 9.8 0 0 0.0503
1-2 processing imu...
it_last_IMU.time: 1664877140.328204
lastState: 1664877140.328204
currentState: 1664877140.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.348203897 -0.06939 0.001399 9.8 0 0 0.04637
1-2 processing imu...
it_last_IMU.time: 1664877140.338204
lastState: 1664877140.338204
currentState: 1664877140.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.358203888 -0.06005 -0.001748 9.8 0 0 0.04257
1-2 processing imu...
it_last_IMU.time: 1664877140.348204
lastState: 1664877140.348204
currentState: 1664877140.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.368204117 -0.05071 -0.004904 9.8 0 0 0.03891
1-2 processing imu...
it_last_IMU.time: 1664877140.358204
lastState: 1664877140.358204
currentState: 1664877140.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.378204107 -0.04137 -0.008069 9.8 0 0 0.03539
1-2 processing imu...
it_last_IMU.time: 1664877140.368204
lastState: 1664877140.368204
currentState: 1664877140.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.388204098 -0.03204 -0.01124 9.8 0 0 0.032
1-2 processing imu...
it_last_IMU.time: 1664877140.378204
lastState: 1664877140.378204
currentState: 1664877140.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.398204088 -0.0227 -0.01442 9.8 0 0 0.02875
1-2 processing imu...
it_last_IMU.time: 1664877140.388204
lastState: 1664877140.388204
currentState: 1664877140.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.408204079 -0.01337 -0.01761 9.8 0 0 0.02563
1-2 processing imu...
it_last_IMU.time: 1664877140.398204
lastState: 1664877140.398204
currentState: 1664877140.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.418204069 -0.004039 -0.0208 9.8 0 0 0.02265
1-2 processing imu...
it_last_IMU.time: 1664877140.408204
lastState: 1664877140.408204
currentState: 1664877140.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.428204060 0.005292 -0.024 9.8 0 0 0.0198
1-2 processing imu...
it_last_IMU.time: 1664877140.418204
lastState: 1664877140.418204
currentState: 1664877140.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.438204050 0.01188 -0.02711 9.8 0 0 0.01709
1-2 processing imu...
it_last_IMU.time: 1664877140.428204
lastState: 1664877140.428204
currentState: 1664877140.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.448204041 0.01706 -0.03018 9.8 0 0 0.01448
1-2 processing imu...
it_last_IMU.time: 1664877140.438204
lastState: 1664877140.438204
currentState: 1664877140.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.458204031 0.02224 -0.03325 9.8 0 0 0.01199
1-2 processing imu...
it_last_IMU.time: 1664877140.448204
lastState: 1664877140.448204
currentState: 1664877140.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.468204021 0.02742 -0.03632 9.8 0 0 0.009599
1-2 processing imu...
it_last_IMU.time: 1664877140.458204
lastState: 1664877140.458204
currentState: 1664877140.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.478204012 0.0326 -0.03939 9.8 0 0 0.007321
1-2 processing imu...
it_last_IMU.time: 1664877140.468204
lastState: 1664877140.468204
currentState: 1664877140.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.488204002 0.03778 -0.04246 9.8 0 0 0.005152
1-2 processing imu...
it_last_IMU.time: 1664877140.478204
lastState: 1664877140.478204
currentState: 1664877140.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.498203993 0.04296 -0.04553 9.8 0 0 0.003092
1-2 processing imu...
it_last_IMU.time: 1664877140.488204
lastState: 1664877140.488204
currentState: 1664877140.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.508203983 0.04814 -0.0486 9.8 0 0 0.001142
1-2 processing imu...
it_last_IMU.time: 1664877140.498204
lastState: 1664877140.498204
currentState: 1664877140.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.518203974 0.05332 -0.05167 9.8 0 0 -0.000699
1-2 processing imu...
it_last_IMU.time: 1664877140.508204
lastState: 1664877140.508204
currentState: 1664877140.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.528203964 0.05851 -0.05474 9.8 0 0 -0.002431
1-2 processing imu...
it_last_IMU.time: 1664877140.518204
lastState: 1664877140.518204
currentState: 1664877140.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.538203955 0.06181 -0.05691 9.8 0 0 -0.004059
1-2 processing imu...
it_last_IMU.time: 1664877140.528204
lastState: 1664877140.528204
currentState: 1664877140.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.548203945 0.06412 -0.05861 9.8 0 0 -0.005604
1-2 processing imu...
it_last_IMU.time: 1664877140.538204
lastState: 1664877140.538204
currentState: 1664877140.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.558203936 0.06643 -0.06031 9.8 0 0 -0.007067
1-2 processing imu...
it_last_IMU.time: 1664877140.548204
lastState: 1664877140.548204
currentState: 1664877140.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.568203926 0.06875 -0.06201 9.8 0 0 -0.008448
1-2 processing imu...
it_last_IMU.time: 1664877140.558204
lastState: 1664877140.558204
currentState: 1664877140.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877140.556875944 0.1309 0.1412 -0.005409 -0.01572 -0.008249 0.3576 0.9337
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877140.556876
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877140.556876
state->time: 1664877140.556876
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675483.411761908]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675483.411794365]: the fixed q :[0.67, 0.652, 0.238, 0.263][0m
[0m[ INFO] [1670675483.411804813]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675483.411821792]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1309 0.1412 -0.005409
p_wv: 18.52 -15.22 31
p: 19.54 -16.46 29.23
q: [0.67, 0.652, 0.238, 0.263]
l: 0.525
residual in position: -0.4046 0.794 0.9243
q_err :[1, 0.00046, 0.00929, 0.00381]
residual in q: 0.0009198 0.01858 0.00763
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877140.556876 it_next->second->time: 1664877140.558204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877140.558204 it_next->second->time: 1664877140.568204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.82 -15.01 30.91
hc: publish state after update
1-1 IMUCallback(): 1664877140.578203917 0.07106 -0.0637 9.8 0 0 -0.009747
1-2 processing imu...
it_last_IMU.time: 1664877140.568204
lastState: 1664877140.568204
currentState: 1664877140.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.588203907 0.07338 -0.06539 9.8 0 0 -0.01097
1-2 processing imu...
it_last_IMU.time: 1664877140.578204
lastState: 1664877140.578204
currentState: 1664877140.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.598203897 0.07569 -0.06709 9.8 0 0 -0.0121
1-2 processing imu...
it_last_IMU.time: 1664877140.588204
lastState: 1664877140.588204
currentState: 1664877140.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.608203888 0.07801 -0.06878 9.8 0 0 -0.01315
1-2 processing imu...
it_last_IMU.time: 1664877140.598204
lastState: 1664877140.598204
currentState: 1664877140.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.618204117 0.08033 -0.07047 9.8 0 0 -0.01413
1-2 processing imu...
it_last_IMU.time: 1664877140.608204
lastState: 1664877140.608204
currentState: 1664877140.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.628204107 0.08265 -0.07215 9.8 0 0 -0.01501
1-2 processing imu...
it_last_IMU.time: 1664877140.618204
lastState: 1664877140.618204
currentState: 1664877140.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.638204098 0.0837 -0.07193 9.8 0 0 -0.01583
1-2 processing imu...
it_last_IMU.time: 1664877140.628204
lastState: 1664877140.628204
currentState: 1664877140.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.648204088 0.08404 -0.07066 9.8 0 0 -0.01658
1-2 processing imu...
it_last_IMU.time: 1664877140.638204
lastState: 1664877140.638204
currentState: 1664877140.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.658204079 0.08439 -0.06938 9.8 0 0 -0.01728
1-2 processing imu...
it_last_IMU.time: 1664877140.648204
lastState: 1664877140.648204
currentState: 1664877140.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.668204069 0.08473 -0.06811 9.8 0 0 -0.01792
1-2 processing imu...
it_last_IMU.time: 1664877140.658204
lastState: 1664877140.658204
currentState: 1664877140.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.678204060 0.08508 -0.06683 9.8 0 0 -0.01851
1-2 processing imu...
it_last_IMU.time: 1664877140.668204
lastState: 1664877140.668204
currentState: 1664877140.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.688204050 0.08542 -0.06555 9.8 0 0 -0.01904
1-2 processing imu...
it_last_IMU.time: 1664877140.678204
lastState: 1664877140.678204
currentState: 1664877140.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.698204041 0.08577 -0.06427 9.8 0 0 -0.01952
1-2 processing imu...
it_last_IMU.time: 1664877140.688204
lastState: 1664877140.688204
currentState: 1664877140.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.708204031 0.08611 -0.06299 9.8 0 0 -0.01993
1-2 processing imu...
it_last_IMU.time: 1664877140.698204
lastState: 1664877140.698204
currentState: 1664877140.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.718204021 0.08646 -0.06172 9.8 0 0 -0.0203
1-2 processing imu...
it_last_IMU.time: 1664877140.708204
lastState: 1664877140.708204
currentState: 1664877140.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.728204012 0.0868 -0.06044 9.8 0 0 -0.0206
1-2 processing imu...
it_last_IMU.time: 1664877140.718204
lastState: 1664877140.718204
currentState: 1664877140.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.738204002 0.08644 -0.05834 9.8 0 0 -0.02085
1-2 processing imu...
it_last_IMU.time: 1664877140.728204
lastState: 1664877140.728204
currentState: 1664877140.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.748203993 0.08568 -0.05578 9.8 0 0 -0.02107
1-2 processing imu...
it_last_IMU.time: 1664877140.738204
lastState: 1664877140.738204
currentState: 1664877140.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.758203983 0.08491 -0.05322 9.8 0 0 -0.02125
1-2 processing imu...
it_last_IMU.time: 1664877140.748204
lastState: 1664877140.748204
currentState: 1664877140.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.768203974 0.08414 -0.05065 9.8 0 0 -0.0214
1-2 processing imu...
it_last_IMU.time: 1664877140.758204
lastState: 1664877140.758204
currentState: 1664877140.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.778203964 0.08338 -0.04809 9.8 0 0 -0.02151
1-2 processing imu...
it_last_IMU.time: 1664877140.768204
lastState: 1664877140.768204
currentState: 1664877140.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.788203955 0.08261 -0.04553 9.8 0 0 -0.02159
1-2 processing imu...
it_last_IMU.time: 1664877140.778204
lastState: 1664877140.778204
currentState: 1664877140.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.798203945 0.08184 -0.04297 9.8 0 0 -0.02163
1-2 processing imu...
it_last_IMU.time: 1664877140.788204
lastState: 1664877140.788204
currentState: 1664877140.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.808203936 0.08106 -0.04041 9.8 0 0 -0.02163
1-2 processing imu...
it_last_IMU.time: 1664877140.798204
lastState: 1664877140.798204
currentState: 1664877140.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.818203926 0.08029 -0.03785 9.8 0 0 -0.0216
1-2 processing imu...
it_last_IMU.time: 1664877140.808204
lastState: 1664877140.808204
currentState: 1664877140.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.828203917 0.07952 -0.03529 9.8 0 0 -0.02154
1-2 processing imu...
it_last_IMU.time: 1664877140.818204
lastState: 1664877140.818204
currentState: 1664877140.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.838203907 0.0784 -0.03142 9.8 0 0 -0.02144
1-2 processing imu...
it_last_IMU.time: 1664877140.828204
lastState: 1664877140.828204
currentState: 1664877140.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.848203897 0.07706 -0.02678 9.8 0 0 -0.02133
1-2 processing imu...
it_last_IMU.time: 1664877140.838204
lastState: 1664877140.838204
currentState: 1664877140.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.858203888 0.07573 -0.02215 9.8 0 0 -0.02119
1-2 processing imu...
it_last_IMU.time: 1664877140.848204
lastState: 1664877140.848204
currentState: 1664877140.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.868204117 0.07439 -0.01751 9.8 0 0 -0.02103
1-2 processing imu...
it_last_IMU.time: 1664877140.858204
lastState: 1664877140.858204
currentState: 1664877140.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.878204107 0.07305 -0.01287 9.8 0 0 -0.02086
1-2 processing imu...
it_last_IMU.time: 1664877140.868204
lastState: 1664877140.868204
currentState: 1664877140.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.888204098 0.07171 -0.008232 9.8 0 0 -0.02066
1-2 processing imu...
it_last_IMU.time: 1664877140.878204
lastState: 1664877140.878204
currentState: 1664877140.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.898204088 0.07037 -0.003596 9.8 0 0 -0.02045
1-2 processing imu...
it_last_IMU.time: 1664877140.888204
lastState: 1664877140.888204
currentState: 1664877140.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.908204079 0.06902 0.001039 9.8 0 0 -0.02021
1-2 processing imu...
it_last_IMU.time: 1664877140.898204
lastState: 1664877140.898204
currentState: 1664877140.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.918204069 0.06767 0.005674 9.8 0 0 -0.01996
1-2 processing imu...
it_last_IMU.time: 1664877140.908204
lastState: 1664877140.908204
currentState: 1664877140.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.928204060 0.06633 0.01031 9.8 0 0 -0.01968
1-2 processing imu...
it_last_IMU.time: 1664877140.918204
lastState: 1664877140.918204
currentState: 1664877140.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.938204050 0.06488 0.01117 9.8 0 0 -0.01939
1-2 processing imu...
it_last_IMU.time: 1664877140.928204
lastState: 1664877140.928204
currentState: 1664877140.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.948204041 0.06337 0.009705 9.8 0 0 -0.01909
1-2 processing imu...
it_last_IMU.time: 1664877140.938204
lastState: 1664877140.938204
currentState: 1664877140.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.958204031 0.06186 0.008234 9.8 0 0 -0.01878
1-2 processing imu...
it_last_IMU.time: 1664877140.948204
lastState: 1664877140.948204
currentState: 1664877140.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877140.968204021 0.06035 0.006763 9.8 0 0 -0.01846
1-2 processing imu...
it_last_IMU.time: 1664877140.958204
lastState: 1664877140.958204
currentState: 1664877140.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.978204012 0.05884 0.00529 9.8 0 0 -0.01813
1-2 processing imu...
it_last_IMU.time: 1664877140.968204
lastState: 1664877140.968204
currentState: 1664877140.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877140.988204002 0.05733 0.003817 9.8 0 0 -0.0178
1-2 processing imu...
it_last_IMU.time: 1664877140.978204
lastState: 1664877140.978204
currentState: 1664877140.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877140.970887899 0.1648 0.1657 -0.00733 -0.0142 -0.009495 0.3598 0.9329
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877140.970888
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877140.970888
state->time: 1664877140.970888
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675484.293074700]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675484.293119374]: the fixed q :[0.673, 0.644, 0.256, 0.26][0m
[0m[ INFO] [1670675484.293132944]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675484.293150082]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1648 0.1657 -0.00733
p_wv: 18.52 -15.22 31
p: 19.78 -15.97 29.52
q: [0.673, 0.644, 0.256, 0.26]
l: 0.5104
residual in position: -0.4797 0.5465 0.7473
q_err :[1, 0.00325, -0.00854, -0.00576]
residual in q: 0.006497 -0.01709 -0.01151
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877140.970888 it_next->second->time: 1664877140.978204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877140.978204 it_next->second->time: 1664877140.988204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.85 -14.91 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877140.998203993 0.05582 0.002343 9.8 0 0 -0.01746
1-2 processing imu...
it_last_IMU.time: 1664877140.988204
lastState: 1664877140.988204
currentState: 1664877140.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.008203983 0.05432 0.000868 9.8 0 0 -0.0171
1-2 processing imu...
it_last_IMU.time: 1664877140.998204
lastState: 1664877140.998204
currentState: 1664877141.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.018203974 0.05281 -0.000607 9.8 0 0 -0.01674
1-2 processing imu...
it_last_IMU.time: 1664877141.008204
lastState: 1664877141.008204
currentState: 1664877141.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.028203964 0.05131 -0.002083 9.8 0 0 -0.01637
1-2 processing imu...
it_last_IMU.time: 1664877141.018204
lastState: 1664877141.018204
currentState: 1664877141.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.038203955 0.04985 -0.002833 9.8 0 0 -0.016
1-2 processing imu...
it_last_IMU.time: 1664877141.028204
lastState: 1664877141.028204
currentState: 1664877141.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.048203945 0.04842 -0.003116 9.8 0 0 -0.01562
1-2 processing imu...
it_last_IMU.time: 1664877141.038204
lastState: 1664877141.038204
currentState: 1664877141.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.058203936 0.04699 -0.003399 9.8 0 0 -0.01524
1-2 processing imu...
it_last_IMU.time: 1664877141.048204
lastState: 1664877141.048204
currentState: 1664877141.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.068203926 0.04557 -0.003683 9.8 0 0 -0.01487
1-2 processing imu...
it_last_IMU.time: 1664877141.058204
lastState: 1664877141.058204
currentState: 1664877141.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.078203917 0.04414 -0.003967 9.8 0 0 -0.01449
1-2 processing imu...
it_last_IMU.time: 1664877141.068204
lastState: 1664877141.068204
currentState: 1664877141.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.088203907 0.04271 -0.004252 9.8 0 0 -0.01412
1-2 processing imu...
it_last_IMU.time: 1664877141.078204
lastState: 1664877141.078204
currentState: 1664877141.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.098203897 0.04128 -0.004537 9.8 0 0 -0.01374
1-2 processing imu...
it_last_IMU.time: 1664877141.088204
lastState: 1664877141.088204
currentState: 1664877141.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.108203888 0.03986 -0.004823 9.8 0 0 -0.01336
1-2 processing imu...
it_last_IMU.time: 1664877141.098204
lastState: 1664877141.098204
currentState: 1664877141.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.118204117 0.03843 -0.00511 9.8 0 0 -0.01299
1-2 processing imu...
it_last_IMU.time: 1664877141.108204
lastState: 1664877141.108204
currentState: 1664877141.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.128204107 0.037 -0.005397 9.8 0 0 -0.01261
1-2 processing imu...
it_last_IMU.time: 1664877141.118204
lastState: 1664877141.118204
currentState: 1664877141.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.138204098 0.0357 -0.004351 9.8 0 0 -0.01224
1-2 processing imu...
it_last_IMU.time: 1664877141.128204
lastState: 1664877141.128204
currentState: 1664877141.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.148204088 0.03447 -0.002413 9.8 0 0 -0.01187
1-2 processing imu...
it_last_IMU.time: 1664877141.138204
lastState: 1664877141.138204
currentState: 1664877141.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.158204079 0.03324 -0.000476 9.8 0 0 -0.0115
1-2 processing imu...
it_last_IMU.time: 1664877141.148204
lastState: 1664877141.148204
currentState: 1664877141.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.168204069 0.03202 0.001461 9.8 0 0 -0.01114
1-2 processing imu...
it_last_IMU.time: 1664877141.158204
lastState: 1664877141.158204
currentState: 1664877141.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.178204060 0.03079 0.003398 9.8 0 0 -0.01078
1-2 processing imu...
it_last_IMU.time: 1664877141.168204
lastState: 1664877141.168204
currentState: 1664877141.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.188204050 0.02956 0.005334 9.8 0 0 -0.01043
1-2 processing imu...
it_last_IMU.time: 1664877141.178204
lastState: 1664877141.178204
currentState: 1664877141.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.198204041 0.02833 0.00727 9.8 0 0 -0.01008
1-2 processing imu...
it_last_IMU.time: 1664877141.188204
lastState: 1664877141.188204
currentState: 1664877141.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.208204031 0.0271 0.009206 9.8 0 0 -0.009732
1-2 processing imu...
it_last_IMU.time: 1664877141.198204
lastState: 1664877141.198204
currentState: 1664877141.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.218204021 0.02587 0.01114 9.8 0 0 -0.009391
1-2 processing imu...
it_last_IMU.time: 1664877141.208204
lastState: 1664877141.208204
currentState: 1664877141.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.228204012 0.02464 0.01308 9.8 0 0 -0.009055
1-2 processing imu...
it_last_IMU.time: 1664877141.218204
lastState: 1664877141.218204
currentState: 1664877141.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.238204002 0.02356 0.01456 9.8 0 0 -0.008723
1-2 processing imu...
it_last_IMU.time: 1664877141.228204
lastState: 1664877141.228204
currentState: 1664877141.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.248203993 0.02258 0.01572 9.8 0 0 -0.008397
1-2 processing imu...
it_last_IMU.time: 1664877141.238204
lastState: 1664877141.238204
currentState: 1664877141.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.258203983 0.0216 0.01689 9.8 0 0 -0.008077
1-2 processing imu...
it_last_IMU.time: 1664877141.248204
lastState: 1664877141.248204
currentState: 1664877141.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.268203974 0.02062 0.01805 9.8 0 0 -0.007764
1-2 processing imu...
it_last_IMU.time: 1664877141.258204
lastState: 1664877141.258204
currentState: 1664877141.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.278203964 0.01964 0.01922 9.8 0 0 -0.007457
1-2 processing imu...
it_last_IMU.time: 1664877141.268204
lastState: 1664877141.268204
currentState: 1664877141.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.288203955 0.01867 0.02039 9.8 0 0 -0.007156
1-2 processing imu...
it_last_IMU.time: 1664877141.278204
lastState: 1664877141.278204
currentState: 1664877141.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.298203945 0.01769 0.02155 9.8 0 0 -0.006862
1-2 processing imu...
it_last_IMU.time: 1664877141.288204
lastState: 1664877141.288204
currentState: 1664877141.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.308203936 0.01671 0.02271 9.8 0 0 -0.006574
1-2 processing imu...
it_last_IMU.time: 1664877141.298204
lastState: 1664877141.298204
currentState: 1664877141.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.318203926 0.01573 0.02388 9.8 0 0 -0.006292
1-2 processing imu...
it_last_IMU.time: 1664877141.308204
lastState: 1664877141.308204
currentState: 1664877141.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.328203917 0.01475 0.02504 9.8 0 0 -0.006017
1-2 processing imu...
it_last_IMU.time: 1664877141.318204
lastState: 1664877141.318204
currentState: 1664877141.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.338203907 0.01392 0.02563 9.8 0 0 -0.005748
1-2 processing imu...
it_last_IMU.time: 1664877141.328204
lastState: 1664877141.328204
currentState: 1664877141.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.348203897 0.0132 0.02579 9.8 0 0 -0.005485
1-2 processing imu...
it_last_IMU.time: 1664877141.338204
lastState: 1664877141.338204
currentState: 1664877141.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.358203888 0.01248 0.02595 9.8 0 0 -0.00523
1-2 processing imu...
it_last_IMU.time: 1664877141.348204
lastState: 1664877141.348204
currentState: 1664877141.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.368204117 0.01177 0.02611 9.8 0 0 -0.004981
1-2 processing imu...
it_last_IMU.time: 1664877141.358204
lastState: 1664877141.358204
currentState: 1664877141.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.378204107 0.01105 0.02628 9.8 0 0 -0.004739
1-2 processing imu...
it_last_IMU.time: 1664877141.368204
lastState: 1664877141.368204
currentState: 1664877141.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.388204098 0.01033 0.02644 9.8 0 0 -0.004503
1-2 processing imu...
it_last_IMU.time: 1664877141.378204
lastState: 1664877141.378204
currentState: 1664877141.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.398204088 0.009616 0.0266 9.8 0 0 -0.004275
1-2 processing imu...
it_last_IMU.time: 1664877141.388204
lastState: 1664877141.388204
currentState: 1664877141.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877141.386034966 0.1767 0.1733 -0.01024 -0.009461 -0.01164 0.3615 0.9323
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877141.386035
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877141.386035
state->time: 1664877141.386035
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675485.139597706]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675485.139644852]: the fixed q :[0.672, 0.642, 0.257, 0.265][0m
[0m[ INFO] [1670675485.139653783]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675485.139673796]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1767 0.1733 -0.01024
p_wv: 18.52 -15.22 31
p: 19.73 -15.81 29.69
q: [0.672, 0.642, 0.257, 0.265]
l: 0.5169
residual in position: -0.451 0.4786 0.6674
q_err :[1, 0.0087, -0.00953, -0.00811]
residual in q: 0.0174 -0.01907 -0.01623
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877141.386035 it_next->second->time: 1664877141.388204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877141.388204 it_next->second->time: 1664877141.398204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.88 -14.9 30.95
hc: publish state after update
1-1 IMUCallback(): 1664877141.408204079 0.008899 0.02676 9.8 0 0 -0.004053
1-2 processing imu...
it_last_IMU.time: 1664877141.398204
lastState: 1664877141.398204
currentState: 1664877141.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.418204069 0.008182 0.02692 9.8 0 0 -0.003837
1-2 processing imu...
it_last_IMU.time: 1664877141.408204
lastState: 1664877141.408204
currentState: 1664877141.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.428204060 0.007465 0.02709 9.8 0 0 -0.003629
1-2 processing imu...
it_last_IMU.time: 1664877141.418204
lastState: 1664877141.418204
currentState: 1664877141.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.438204050 0.006883 0.02604 9.8 0 0 -0.003427
1-2 processing imu...
it_last_IMU.time: 1664877141.428204
lastState: 1664877141.428204
currentState: 1664877141.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.448204041 0.006401 0.0241 9.8 0 0 -0.003231
1-2 processing imu...
it_last_IMU.time: 1664877141.438204
lastState: 1664877141.438204
currentState: 1664877141.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.458204031 0.00592 0.02215 9.8 0 0 -0.003042
1-2 processing imu...
it_last_IMU.time: 1664877141.448204
lastState: 1664877141.448204
currentState: 1664877141.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.468204021 0.005438 0.02021 9.8 0 0 -0.002859
1-2 processing imu...
it_last_IMU.time: 1664877141.458204
lastState: 1664877141.458204
currentState: 1664877141.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.478204012 0.004957 0.01826 9.8 0 0 -0.002681
1-2 processing imu...
it_last_IMU.time: 1664877141.468204
lastState: 1664877141.468204
currentState: 1664877141.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.488204002 0.004476 0.01632 9.8 0 0 -0.002511
1-2 processing imu...
it_last_IMU.time: 1664877141.478204
lastState: 1664877141.478204
currentState: 1664877141.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.498203993 0.003995 0.01437 9.8 0 0 -0.002346
1-2 processing imu...
it_last_IMU.time: 1664877141.488204
lastState: 1664877141.488204
currentState: 1664877141.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.508203983 0.003514 0.01243 9.8 0 0 -0.002187
1-2 processing imu...
it_last_IMU.time: 1664877141.498204
lastState: 1664877141.498204
currentState: 1664877141.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.518203974 0.003033 0.01048 9.8 0 0 -0.002035
1-2 processing imu...
it_last_IMU.time: 1664877141.508204
lastState: 1664877141.508204
currentState: 1664877141.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.528203964 0.002552 0.008539 9.8 0 0 -0.001889
1-2 processing imu...
it_last_IMU.time: 1664877141.518204
lastState: 1664877141.518204
currentState: 1664877141.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.538203955 0.002183 0.005506 9.8 0 0 -0.001748
1-2 processing imu...
it_last_IMU.time: 1664877141.528204
lastState: 1664877141.528204
currentState: 1664877141.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.548203945 0.001901 0.00163 9.8 0 0 -0.001614
1-2 processing imu...
it_last_IMU.time: 1664877141.538204
lastState: 1664877141.538204
currentState: 1664877141.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.558203936 0.001619 -0.002245 9.8 0 0 -0.001484
1-2 processing imu...
it_last_IMU.time: 1664877141.548204
lastState: 1664877141.548204
currentState: 1664877141.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.568203926 0.001336 -0.006121 9.8 0 0 -0.001359
1-2 processing imu...
it_last_IMU.time: 1664877141.558204
lastState: 1664877141.558204
currentState: 1664877141.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.578203917 0.001054 -0.009996 9.8 0 0 -0.001239
1-2 processing imu...
it_last_IMU.time: 1664877141.568204
lastState: 1664877141.568204
currentState: 1664877141.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.588203907 0.000772 -0.01387 9.8 0 0 -0.001125
1-2 processing imu...
it_last_IMU.time: 1664877141.578204
lastState: 1664877141.578204
currentState: 1664877141.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.598203897 0.00049 -0.01775 9.8 0 0 -0.001015
1-2 processing imu...
it_last_IMU.time: 1664877141.588204
lastState: 1664877141.588204
currentState: 1664877141.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.608203888 0.000208 -0.02162 9.8 0 0 -0.000911
1-2 processing imu...
it_last_IMU.time: 1664877141.598204
lastState: 1664877141.598204
currentState: 1664877141.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.618204117 -7.3e-05 -0.0255 9.8 0 0 -0.000811
1-2 processing imu...
it_last_IMU.time: 1664877141.608204
lastState: 1664877141.608204
currentState: 1664877141.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.628204107 -0.000355 -0.02937 9.8 0 0 -0.000717
1-2 processing imu...
it_last_IMU.time: 1664877141.618204
lastState: 1664877141.618204
currentState: 1664877141.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.638204098 -0.000556 -0.03161 9.8 0 0 -0.000628
1-2 processing imu...
it_last_IMU.time: 1664877141.628204
lastState: 1664877141.628204
currentState: 1664877141.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.648204088 -0.000692 -0.03254 9.8 0 0 -0.000543
1-2 processing imu...
it_last_IMU.time: 1664877141.638204
lastState: 1664877141.638204
currentState: 1664877141.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.658204079 -0.000828 -0.03346 9.8 0 0 -0.000461
1-2 processing imu...
it_last_IMU.time: 1664877141.648204
lastState: 1664877141.648204
currentState: 1664877141.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.668204069 -0.000963 -0.03439 9.8 0 0 -0.000383
1-2 processing imu...
it_last_IMU.time: 1664877141.658204
lastState: 1664877141.658204
currentState: 1664877141.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.678204060 -0.001099 -0.03531 9.8 0 0 -0.00031
1-2 processing imu...
it_last_IMU.time: 1664877141.668204
lastState: 1664877141.668204
currentState: 1664877141.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.688204050 -0.001235 -0.03624 9.8 0 0 -0.00024
1-2 processing imu...
it_last_IMU.time: 1664877141.678204
lastState: 1664877141.678204
currentState: 1664877141.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.698204041 -0.001371 -0.03716 9.8 0 0 -0.000174
1-2 processing imu...
it_last_IMU.time: 1664877141.688204
lastState: 1664877141.688204
currentState: 1664877141.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.708204031 -0.001507 -0.03809 9.8 0 0 -0.000112
1-2 processing imu...
it_last_IMU.time: 1664877141.698204
lastState: 1664877141.698204
currentState: 1664877141.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.718204021 -0.001643 -0.03901 9.8 0 0 -5.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877141.708204
lastState: 1664877141.708204
currentState: 1664877141.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.728204012 -0.001778 -0.03993 9.8 0 0 1e-06
1-2 processing imu...
it_last_IMU.time: 1664877141.718204
lastState: 1664877141.718204
currentState: 1664877141.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.738204002 -0.001868 -0.03887 9.8 0 0 5.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877141.728204
lastState: 1664877141.728204
currentState: 1664877141.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.748203993 -0.00192 -0.03615 9.8 0 0 0.0001
1-2 processing imu...
it_last_IMU.time: 1664877141.738204
lastState: 1664877141.738204
currentState: 1664877141.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.758203983 -0.001972 -0.03344 9.8 0 0 0.000145
1-2 processing imu...
it_last_IMU.time: 1664877141.748204
lastState: 1664877141.748204
currentState: 1664877141.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.768203974 -0.002024 -0.03072 9.8 0 0 0.000187
1-2 processing imu...
it_last_IMU.time: 1664877141.758204
lastState: 1664877141.758204
currentState: 1664877141.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.778203964 -0.002075 -0.028 9.8 0 0 0.000227
1-2 processing imu...
it_last_IMU.time: 1664877141.768204
lastState: 1664877141.768204
currentState: 1664877141.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.788203955 -0.002127 -0.02528 9.8 0 0 0.000264
1-2 processing imu...
it_last_IMU.time: 1664877141.778204
lastState: 1664877141.778204
currentState: 1664877141.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.798203945 -0.002179 -0.02257 9.8 0 0 0.000298
1-2 processing imu...
it_last_IMU.time: 1664877141.788204
lastState: 1664877141.788204
currentState: 1664877141.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.808203936 -0.00223 -0.01985 9.8 0 0 0.000329
1-2 processing imu...
it_last_IMU.time: 1664877141.798204
lastState: 1664877141.798204
currentState: 1664877141.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877141.795458078 0.1685 0.1571 -0.003493 -0.002426 -0.004393 0.3695 0.9292
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877141.795458
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877141.795458
state->time: 1664877141.795458
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675486.022846944]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675486.022941339]: the fixed q :[0.669, 0.644, 0.255, 0.27][0m
[0m[ INFO] [1670675486.022989922]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675486.023039537]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1685 0.1571 -0.003493
p_wv: 18.52 -15.22 31
p: 19.74 -15.87 29.65
q: [0.669, 0.644, 0.255, 0.27]
l: 0.5161
residual in position: -0.4619 0.4937 0.6944
q_err :[1, 0.0167, 0.000248, -0.00226]
residual in q: 0.03345 0.0004964 -0.004524
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877141.795458 it_next->second->time: 1664877141.798204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877141.798204 it_next->second->time: 1664877141.808204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.87 -14.94 30.96
hc: publish state after update
1-1 IMUCallback(): 1664877141.818203926 -0.002282 -0.01713 9.8 0 0 0.000357
1-2 processing imu...
it_last_IMU.time: 1664877141.808204
lastState: 1664877141.808204
currentState: 1664877141.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.828203917 -0.002334 -0.01442 9.8 0 0 0.000383
1-2 processing imu...
it_last_IMU.time: 1664877141.818204
lastState: 1664877141.818204
currentState: 1664877141.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.838203907 -0.002357 -0.01125 9.8 0 0 0.000406
1-2 processing imu...
it_last_IMU.time: 1664877141.828204
lastState: 1664877141.828204
currentState: 1664877141.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.848203897 -0.002355 -0.007688 9.8 0 0 0.000427
1-2 processing imu...
it_last_IMU.time: 1664877141.838204
lastState: 1664877141.838204
currentState: 1664877141.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.858203888 -0.002353 -0.004129 9.8 0 0 0.000447
1-2 processing imu...
it_last_IMU.time: 1664877141.848204
lastState: 1664877141.848204
currentState: 1664877141.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.868204117 -0.002351 -0.000571 9.8 0 0 0.000464
1-2 processing imu...
it_last_IMU.time: 1664877141.858204
lastState: 1664877141.858204
currentState: 1664877141.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.878204107 -0.00235 0.002988 9.8 0 0 0.00048
1-2 processing imu...
it_last_IMU.time: 1664877141.868204
lastState: 1664877141.868204
currentState: 1664877141.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.888204098 -0.002348 0.006547 9.8 0 0 0.000493
1-2 processing imu...
it_last_IMU.time: 1664877141.878204
lastState: 1664877141.878204
currentState: 1664877141.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.898204088 -0.002346 0.01011 9.8 0 0 0.000505
1-2 processing imu...
it_last_IMU.time: 1664877141.888204
lastState: 1664877141.888204
currentState: 1664877141.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.908204079 -0.002344 0.01366 9.8 0 0 0.000515
1-2 processing imu...
it_last_IMU.time: 1664877141.898204
lastState: 1664877141.898204
currentState: 1664877141.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.918204069 -0.002342 0.01722 9.8 0 0 0.000523
1-2 processing imu...
it_last_IMU.time: 1664877141.908204
lastState: 1664877141.908204
currentState: 1664877141.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.928204060 -0.00234 0.02078 9.8 0 0 0.000529
1-2 processing imu...
it_last_IMU.time: 1664877141.918204
lastState: 1664877141.918204
currentState: 1664877141.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.938204050 -0.00232 0.02242 9.8 0 0 0.000534
1-2 processing imu...
it_last_IMU.time: 1664877141.928204
lastState: 1664877141.928204
currentState: 1664877141.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877141.948204041 -0.002284 0.02235 9.8 0 0 0.000537
1-2 processing imu...
it_last_IMU.time: 1664877141.938204
lastState: 1664877141.938204
currentState: 1664877141.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.958204031 -0.002249 0.02227 9.8 0 0 0.000539
1-2 processing imu...
it_last_IMU.time: 1664877141.948204
lastState: 1664877141.948204
currentState: 1664877141.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.968204021 -0.002213 0.02219 9.8 0 0 0.00054
1-2 processing imu...
it_last_IMU.time: 1664877141.958204
lastState: 1664877141.958204
currentState: 1664877141.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.978204012 -0.002177 0.02212 9.8 0 0 0.00054
1-2 processing imu...
it_last_IMU.time: 1664877141.968204
lastState: 1664877141.968204
currentState: 1664877141.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.988204002 -0.002142 0.02204 9.8 0 0 0.000539
1-2 processing imu...
it_last_IMU.time: 1664877141.978204
lastState: 1664877141.978204
currentState: 1664877141.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877141.998203993 -0.002106 0.02197 9.8 0 0 0.000537
1-2 processing imu...
it_last_IMU.time: 1664877141.988204
lastState: 1664877141.988204
currentState: 1664877141.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.008203983 -0.00207 0.02189 9.8 0 0 0.000533
1-2 processing imu...
it_last_IMU.time: 1664877141.998204
lastState: 1664877141.998204
currentState: 1664877142.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.018203974 -0.002034 0.02181 9.8 0 0 0.000529
1-2 processing imu...
it_last_IMU.time: 1664877142.008204
lastState: 1664877142.008204
currentState: 1664877142.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.028203964 -0.001999 0.02174 9.8 0 0 0.000524
1-2 processing imu...
it_last_IMU.time: 1664877142.018204
lastState: 1664877142.018204
currentState: 1664877142.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.038203955 -0.001954 0.02111 9.8 0 0 0.000517
1-2 processing imu...
it_last_IMU.time: 1664877142.028204
lastState: 1664877142.028204
currentState: 1664877142.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.048203945 -0.001901 0.01998 9.8 0 0 0.00051
1-2 processing imu...
it_last_IMU.time: 1664877142.038204
lastState: 1664877142.038204
currentState: 1664877142.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.058203936 -0.001849 0.01884 9.8 0 0 0.000502
1-2 processing imu...
it_last_IMU.time: 1664877142.048204
lastState: 1664877142.048204
currentState: 1664877142.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.068203926 -0.001796 0.0177 9.8 0 0 0.000494
1-2 processing imu...
it_last_IMU.time: 1664877142.058204
lastState: 1664877142.058204
currentState: 1664877142.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.078203917 -0.001743 0.01657 9.8 0 0 0.000486
1-2 processing imu...
it_last_IMU.time: 1664877142.068204
lastState: 1664877142.068204
currentState: 1664877142.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.088203907 -0.001691 0.01543 9.8 0 0 0.000477
1-2 processing imu...
it_last_IMU.time: 1664877142.078204
lastState: 1664877142.078204
currentState: 1664877142.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.098203897 -0.001638 0.0143 9.8 0 0 0.000467
1-2 processing imu...
it_last_IMU.time: 1664877142.088204
lastState: 1664877142.088204
currentState: 1664877142.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.108203888 -0.001585 0.01316 9.8 0 0 0.000457
1-2 processing imu...
it_last_IMU.time: 1664877142.098204
lastState: 1664877142.098204
currentState: 1664877142.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.118204117 -0.001533 0.01203 9.8 0 0 0.000447
1-2 processing imu...
it_last_IMU.time: 1664877142.108204
lastState: 1664877142.108204
currentState: 1664877142.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.128204107 -0.00148 0.01089 9.8 0 0 0.000436
1-2 processing imu...
it_last_IMU.time: 1664877142.118204
lastState: 1664877142.118204
currentState: 1664877142.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.138204098 -0.001426 0.00827 9.8 0 0 0.000424
1-2 processing imu...
it_last_IMU.time: 1664877142.128204
lastState: 1664877142.128204
currentState: 1664877142.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.148204088 -0.001371 0.004226 9.8 0 0 0.000413
1-2 processing imu...
it_last_IMU.time: 1664877142.138204
lastState: 1664877142.138204
currentState: 1664877142.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.158204079 -0.001316 0.000182 9.8 0 0 0.000401
1-2 processing imu...
it_last_IMU.time: 1664877142.148204
lastState: 1664877142.148204
currentState: 1664877142.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.168204069 -0.001261 -0.003863 9.8 0 0 0.000389
1-2 processing imu...
it_last_IMU.time: 1664877142.158204
lastState: 1664877142.158204
currentState: 1664877142.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.178204060 -0.001206 -0.007907 9.8 0 0 0.000377
1-2 processing imu...
it_last_IMU.time: 1664877142.168204
lastState: 1664877142.168204
currentState: 1664877142.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.188204050 -0.001152 -0.01195 9.8 0 0 0.000365
1-2 processing imu...
it_last_IMU.time: 1664877142.178204
lastState: 1664877142.178204
currentState: 1664877142.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.198204041 -0.001097 -0.01599 9.8 0 0 0.000353
1-2 processing imu...
it_last_IMU.time: 1664877142.188204
lastState: 1664877142.188204
currentState: 1664877142.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.208204031 -0.001042 -0.02004 9.8 0 0 0.000341
1-2 processing imu...
it_last_IMU.time: 1664877142.198204
lastState: 1664877142.198204
currentState: 1664877142.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.218204021 -0.000987 -0.02408 9.8 0 0 0.000329
1-2 processing imu...
it_last_IMU.time: 1664877142.208204
lastState: 1664877142.208204
currentState: 1664877142.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.228204012 -0.000933 -0.02813 9.8 0 0 0.000316
1-2 processing imu...
it_last_IMU.time: 1664877142.218204
lastState: 1664877142.218204
currentState: 1664877142.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877142.212330103 0.18 0.1596 0.001794 0.003341 0.002467 0.3784 0.9256
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877142.212330
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877142.212330
state->time: 1664877142.212330
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675486.909798243]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675486.909873139]: the fixed q :[0.663, 0.645, 0.266, 0.273][0m
[0m[ INFO] [1670675486.909888471]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675486.909904280]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.18 0.1596 0.001794
p_wv: 18.52 -15.22 31
p: 19.69 -15.93 29.7
q: [0.663, 0.645, 0.266, 0.273]
l: 0.514
residual in position: -0.4221 0.526 0.6703
q_err :[1, 0.0179, 0.000677, -0.00237]
residual in q: 0.03588 0.001354 -0.004749
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877142.212330 it_next->second->time: 1664877142.218204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877142.218204 it_next->second->time: 1664877142.228204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.89 -14.93 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877142.238204002 -0.000882 -0.03067 9.8 0 0 0.000304
1-2 processing imu...
it_last_IMU.time: 1664877142.228204
lastState: 1664877142.228204
currentState: 1664877142.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.248203993 -0.000835 -0.0317 9.8 0 0 0.000291
1-2 processing imu...
it_last_IMU.time: 1664877142.238204
lastState: 1664877142.238204
currentState: 1664877142.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.258203983 -0.000789 -0.03274 9.8 0 0 0.000279
1-2 processing imu...
it_last_IMU.time: 1664877142.248204
lastState: 1664877142.248204
currentState: 1664877142.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.268203974 -0.000742 -0.03378 9.8 0 0 0.000267
1-2 processing imu...
it_last_IMU.time: 1664877142.258204
lastState: 1664877142.258204
currentState: 1664877142.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.278203964 -0.000696 -0.03482 9.8 0 0 0.000255
1-2 processing imu...
it_last_IMU.time: 1664877142.268204
lastState: 1664877142.268204
currentState: 1664877142.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.288203955 -0.000649 -0.03586 9.8 0 0 0.000243
1-2 processing imu...
it_last_IMU.time: 1664877142.278204
lastState: 1664877142.278204
currentState: 1664877142.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.298203945 -0.000603 -0.0369 9.8 0 0 0.000231
1-2 processing imu...
it_last_IMU.time: 1664877142.288204
lastState: 1664877142.288204
currentState: 1664877142.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.308203936 -0.000556 -0.03794 9.8 0 0 0.00022
1-2 processing imu...
it_last_IMU.time: 1664877142.298204
lastState: 1664877142.298204
currentState: 1664877142.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.318203926 -0.000509 -0.03898 9.8 0 0 0.000208
1-2 processing imu...
it_last_IMU.time: 1664877142.308204
lastState: 1664877142.308204
currentState: 1664877142.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.328203917 -0.000463 -0.04002 9.8 0 0 0.000197
1-2 processing imu...
it_last_IMU.time: 1664877142.318204
lastState: 1664877142.318204
currentState: 1664877142.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.338203907 -0.000423 -0.03981 9.8 0 0 0.000186
1-2 processing imu...
it_last_IMU.time: 1664877142.328204
lastState: 1664877142.328204
currentState: 1664877142.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.348203897 -0.000389 -0.0383 9.8 0 0 0.000175
1-2 processing imu...
it_last_IMU.time: 1664877142.338204
lastState: 1664877142.338204
currentState: 1664877142.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.358203888 -0.000356 -0.0368 9.8 0 0 0.000164
1-2 processing imu...
it_last_IMU.time: 1664877142.348204
lastState: 1664877142.348204
currentState: 1664877142.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.368204117 -0.000322 -0.03529 9.8 0 0 0.000153
1-2 processing imu...
it_last_IMU.time: 1664877142.358204
lastState: 1664877142.358204
currentState: 1664877142.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.378204107 -0.000289 -0.03379 9.8 0 0 0.000143
1-2 processing imu...
it_last_IMU.time: 1664877142.368204
lastState: 1664877142.368204
currentState: 1664877142.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.388204098 -0.000255 -0.03229 9.8 0 0 0.000133
1-2 processing imu...
it_last_IMU.time: 1664877142.378204
lastState: 1664877142.378204
currentState: 1664877142.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.398204088 -0.000222 -0.03078 9.8 0 0 0.000123
1-2 processing imu...
it_last_IMU.time: 1664877142.388204
lastState: 1664877142.388204
currentState: 1664877142.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.408204079 -0.000188 -0.02928 9.8 0 0 0.000114
1-2 processing imu...
it_last_IMU.time: 1664877142.398204
lastState: 1664877142.398204
currentState: 1664877142.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.418204069 -0.000155 -0.02777 9.8 0 0 0.000104
1-2 processing imu...
it_last_IMU.time: 1664877142.408204
lastState: 1664877142.408204
currentState: 1664877142.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.428204060 -0.000121 -0.02627 9.8 0 0 9.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.418204
lastState: 1664877142.418204
currentState: 1664877142.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.438204050 -9.3e-05 -0.02456 9.8 0 0 8.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.428204
lastState: 1664877142.428204
currentState: 1664877142.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.448204041 -7.2e-05 -0.02262 9.8 0 0 7.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.438204
lastState: 1664877142.438204
currentState: 1664877142.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.458204031 -5e-05 -0.02069 9.8 0 0 6.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.448204
lastState: 1664877142.448204
currentState: 1664877142.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.468204021 -2.9e-05 -0.01876 9.8 0 0 6.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.458204
lastState: 1664877142.458204
currentState: 1664877142.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.478204012 -7e-06 -0.01683 9.8 0 0 5.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.468204
lastState: 1664877142.468204
currentState: 1664877142.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.488204002 1.4e-05 -0.0149 9.8 0 0 4.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.478204
lastState: 1664877142.478204
currentState: 1664877142.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.498203993 3.6e-05 -0.01296 9.8 0 0 3.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.488204
lastState: 1664877142.488204
currentState: 1664877142.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.508203983 5.7e-05 -0.01103 9.8 0 0 3.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.498204
lastState: 1664877142.498204
currentState: 1664877142.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.518203974 7.9e-05 -0.009101 9.8 0 0 2.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.508204
lastState: 1664877142.508204
currentState: 1664877142.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.528203964 0.000101 -0.007169 9.8 0 0 1.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.518204
lastState: 1664877142.518204
currentState: 1664877142.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.538203955 0.000118 -0.006432 9.8 0 0 1.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.528204
lastState: 1664877142.528204
currentState: 1664877142.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.548203945 0.000131 -0.007017 9.8 0 0 5e-06
1-2 processing imu...
it_last_IMU.time: 1664877142.538204
lastState: 1664877142.538204
currentState: 1664877142.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.558203936 0.000143 -0.007602 9.8 0 0 -1e-06
1-2 processing imu...
it_last_IMU.time: 1664877142.548204
lastState: 1664877142.548204
currentState: 1664877142.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.568203926 0.000156 -0.008187 9.8 0 0 -7e-06
1-2 processing imu...
it_last_IMU.time: 1664877142.558204
lastState: 1664877142.558204
currentState: 1664877142.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.578203917 0.000169 -0.008772 9.8 0 0 -1.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.568204
lastState: 1664877142.568204
currentState: 1664877142.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.588203907 0.000181 -0.009357 9.8 0 0 -1.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.578204
lastState: 1664877142.578204
currentState: 1664877142.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.598203897 0.000194 -0.009942 9.8 0 0 -2.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.588204
lastState: 1664877142.588204
currentState: 1664877142.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.608203888 0.000207 -0.01053 9.8 0 0 -2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.598204
lastState: 1664877142.598204
currentState: 1664877142.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.618204117 0.00022 -0.01111 9.8 0 0 -3.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.608204
lastState: 1664877142.608204
currentState: 1664877142.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.628204107 0.000232 -0.0117 9.8 0 0 -3.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.618204
lastState: 1664877142.618204
currentState: 1664877142.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.638204098 0.000241 -0.01236 9.8 0 0 -3.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.628204
lastState: 1664877142.628204
currentState: 1664877142.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.648204088 0.000246 -0.01313 9.8 0 0 -4.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.638204
lastState: 1664877142.638204
currentState: 1664877142.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877142.633655071 0.188 0.1612 0.0009025 0.002211 0.001585 0.3846 0.9231
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877142.633655
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877142.633655
state->time: 1664877142.633655
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675487.849053823]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675487.849118155]: the fixed q :[0.658, 0.644, 0.277, 0.276][0m
[0m[ INFO] [1670675487.849131138]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675487.849163162]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.188 0.1612 0.0009025
p_wv: 18.52 -15.22 31
p: 19.79 -15.86 29.69
q: [0.658, 0.644, 0.277, 0.276]
l: 0.5147
residual in position: -0.4653 0.4881 0.6745
q_err :[1, 0.011, -0.0042, -0.00677]
residual in q: 0.02206 -0.008399 -0.01354
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877142.633655 it_next->second->time: 1664877142.638204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877142.638204 it_next->second->time: 1664877142.648204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.91 -14.93 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877142.658204079 0.000251 -0.01389 9.8 0 0 -4.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.648204
lastState: 1664877142.648204
currentState: 1664877142.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.668204069 0.000255 -0.01465 9.8 0 0 -4.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.658204
lastState: 1664877142.658204
currentState: 1664877142.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.678204060 0.00026 -0.01541 9.8 0 0 -5.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.668204
lastState: 1664877142.668204
currentState: 1664877142.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.688204050 0.000265 -0.01618 9.8 0 0 -5.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.678204
lastState: 1664877142.678204
currentState: 1664877142.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.698204041 0.000269 -0.01694 9.8 0 0 -5.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.688204
lastState: 1664877142.688204
currentState: 1664877142.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.708204031 0.000274 -0.0177 9.8 0 0 -5.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.698204
lastState: 1664877142.698204
currentState: 1664877142.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.718204021 0.000279 -0.01847 9.8 0 0 -6e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.708204
lastState: 1664877142.708204
currentState: 1664877142.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.728204012 0.000283 -0.01923 9.8 0 0 -6.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.718204
lastState: 1664877142.718204
currentState: 1664877142.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.738204002 0.000286 -0.01874 9.8 0 0 -6.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.728204
lastState: 1664877142.728204
currentState: 1664877142.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.748203993 0.000285 -0.01675 9.8 0 0 -6.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.738204
lastState: 1664877142.738204
currentState: 1664877142.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.758203983 0.000284 -0.01477 9.8 0 0 -6.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.748204
lastState: 1664877142.748204
currentState: 1664877142.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.768203974 0.000283 -0.01278 9.8 0 0 -6.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.758204
lastState: 1664877142.758204
currentState: 1664877142.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.778203964 0.000283 -0.0108 9.8 0 0 -6.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.768204
lastState: 1664877142.768204
currentState: 1664877142.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.788203955 0.000282 -0.008809 9.8 0 0 -6.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.778204
lastState: 1664877142.778204
currentState: 1664877142.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.798203945 0.000281 -0.006824 9.8 0 0 -6.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.788204
lastState: 1664877142.788204
currentState: 1664877142.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.808203936 0.00028 -0.004839 9.8 0 0 -6.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.798204
lastState: 1664877142.798204
currentState: 1664877142.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.818203926 0.00028 -0.002853 9.8 0 0 -6.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.808204
lastState: 1664877142.808204
currentState: 1664877142.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.828203917 0.000279 -0.000868 9.8 0 0 -6.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.818204
lastState: 1664877142.818204
currentState: 1664877142.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.838203907 0.000276 0.001924 9.8 0 0 -6.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.828204
lastState: 1664877142.828204
currentState: 1664877142.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.848203897 0.000271 0.005711 9.8 0 0 -6.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.838204
lastState: 1664877142.838204
currentState: 1664877142.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.858203888 0.000267 0.009497 9.8 0 0 -6.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.848204
lastState: 1664877142.848204
currentState: 1664877142.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.868204117 0.000262 0.01328 9.8 0 0 -6e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.858204
lastState: 1664877142.858204
currentState: 1664877142.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.878204107 0.000257 0.01707 9.8 0 0 -5.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.868204
lastState: 1664877142.868204
currentState: 1664877142.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.888204098 0.000252 0.02086 9.8 0 0 -5.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.878204
lastState: 1664877142.878204
currentState: 1664877142.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.898204088 0.000247 0.02464 9.8 0 0 -5.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.888204
lastState: 1664877142.888204
currentState: 1664877142.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.908204079 0.000242 0.02843 9.8 0 0 -5.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.898204
lastState: 1664877142.898204
currentState: 1664877142.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.918204069 0.000237 0.03222 9.8 0 0 -5.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.908204
lastState: 1664877142.908204
currentState: 1664877142.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.928204060 0.000232 0.036 9.8 0 0 -4.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.918204
lastState: 1664877142.918204
currentState: 1664877142.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.938204050 0.000225 0.03809 9.8 0 0 -4.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.928204
lastState: 1664877142.928204
currentState: 1664877142.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.948204041 0.000216 0.03799 9.8 0 0 -4.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.938204
lastState: 1664877142.938204
currentState: 1664877142.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.958204031 0.000207 0.0379 9.8 0 0 -4.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.948204
lastState: 1664877142.948204
currentState: 1664877142.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.968204021 0.000199 0.03781 9.8 0 0 -3.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.958204
lastState: 1664877142.958204
currentState: 1664877142.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.978204012 0.00019 0.03771 9.8 0 0 -3.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.968204
lastState: 1664877142.968204
currentState: 1664877142.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877142.988204002 0.000181 0.03762 9.8 0 0 -3.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.978204
lastState: 1664877142.978204
currentState: 1664877142.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877142.998203993 0.000172 0.03753 9.8 0 0 -2.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.988204
lastState: 1664877142.988204
currentState: 1664877142.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.008203983 0.000163 0.03743 9.8 0 0 -2.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877142.998204
lastState: 1664877142.998204
currentState: 1664877143.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.018203974 0.000154 0.03734 9.8 0 0 -2e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.008204
lastState: 1664877143.008204
currentState: 1664877143.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.028203964 0.000145 0.03725 9.8 0 0 -1.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.018204
lastState: 1664877143.018204
currentState: 1664877143.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.038203955 0.000134 0.03648 9.8 0 0 -1.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.028204
lastState: 1664877143.028204
currentState: 1664877143.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.048203945 0.00012 0.03481 9.8 0 0 -9e-06
1-2 processing imu...
it_last_IMU.time: 1664877143.038204
lastState: 1664877143.038204
currentState: 1664877143.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.058203936 0.000106 0.03313 9.8 0 0 -4e-06
1-2 processing imu...
it_last_IMU.time: 1664877143.048204
lastState: 1664877143.048204
currentState: 1664877143.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.068203926 9.3e-05 0.03146 9.8 0 0 -0
1-2 processing imu...
it_last_IMU.time: 1664877143.058204
lastState: 1664877143.058204
currentState: 1664877143.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877143.051711082 0.1919 0.1656 0.001871 0.001905 0.00309 0.3863 0.9224
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877143.051711
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877143.051711
state->time: 1664877143.051711
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675488.734447422]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675488.734480947]: the fixed q :[0.658, 0.64, 0.281, 0.282][0m
[0m[ INFO] [1670675488.734490480]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675488.734505716]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1919 0.1656 0.001871
p_wv: 18.52 -15.22 31
p: 19.78 -15.82 29.68
q: [0.658, 0.64, 0.281, 0.282]
l: 0.5142
residual in position: -0.4559 0.4755 0.6791
q_err :[1, 0.0149, -0.00266, -0.0127]
residual in q: 0.02985 -0.005322 -0.02548
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877143.051711 it_next->second->time: 1664877143.058204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877143.058204 it_next->second->time: 1664877143.068204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.91 -14.92 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877143.078203917 7.9e-05 0.02979 9.8 0 0 4e-06
1-2 processing imu...
it_last_IMU.time: 1664877143.068204
lastState: 1664877143.068204
currentState: 1664877143.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.088203907 6.5e-05 0.02812 9.8 0 0 9e-06
1-2 processing imu...
it_last_IMU.time: 1664877143.078204
lastState: 1664877143.078204
currentState: 1664877143.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.098203897 5.2e-05 0.02645 9.8 0 0 1.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.088204
lastState: 1664877143.088204
currentState: 1664877143.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.108203888 3.8e-05 0.02478 9.8 0 0 1.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.098204
lastState: 1664877143.098204
currentState: 1664877143.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.118204117 2.5e-05 0.02311 9.8 0 0 2.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.108204
lastState: 1664877143.108204
currentState: 1664877143.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.128204107 1.1e-05 0.02144 9.8 0 0 2.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.118204
lastState: 1664877143.118204
currentState: 1664877143.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.138204098 -4e-06 0.02065 9.8 0 0 3.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.128204
lastState: 1664877143.128204
currentState: 1664877143.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.148204088 -2.2e-05 0.02106 9.8 0 0 3.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.138204
lastState: 1664877143.138204
currentState: 1664877143.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.158204079 -4e-05 0.02147 9.8 0 0 4.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.148204
lastState: 1664877143.148204
currentState: 1664877143.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.168204069 -5.8e-05 0.02188 9.8 0 0 5e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.158204
lastState: 1664877143.158204
currentState: 1664877143.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.178204060 -7.6e-05 0.0223 9.8 0 0 5.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.168204
lastState: 1664877143.168204
currentState: 1664877143.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.188204050 -9.3e-05 0.02271 9.8 0 0 6.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.178204
lastState: 1664877143.178204
currentState: 1664877143.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.198204041 -0.000111 0.02312 9.8 0 0 6.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.188204
lastState: 1664877143.188204
currentState: 1664877143.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.208204031 -0.000129 0.02353 9.8 0 0 7.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.198204
lastState: 1664877143.198204
currentState: 1664877143.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.218204021 -0.000147 0.02395 9.8 0 0 7.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.208204
lastState: 1664877143.208204
currentState: 1664877143.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.228204012 -0.000165 0.02436 9.8 0 0 8.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.218204
lastState: 1664877143.218204
currentState: 1664877143.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.238204002 -0.000184 0.02427 9.8 0 0 9.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.228204
lastState: 1664877143.228204
currentState: 1664877143.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.248203993 -0.000207 0.02346 9.8 0 0 9.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877143.238204
lastState: 1664877143.238204
currentState: 1664877143.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.258203983 -0.000229 0.02265 9.8 0 0 0.000105
1-2 processing imu...
it_last_IMU.time: 1664877143.248204
lastState: 1664877143.248204
currentState: 1664877143.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.268203974 -0.000252 0.02184 9.8 0 0 0.000112
1-2 processing imu...
it_last_IMU.time: 1664877143.258204
lastState: 1664877143.258204
currentState: 1664877143.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.278203964 -0.000274 0.02103 9.8 0 0 0.000119
1-2 processing imu...
it_last_IMU.time: 1664877143.268204
lastState: 1664877143.268204
currentState: 1664877143.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.288203955 -0.000297 0.02022 9.8 0 0 0.000126
1-2 processing imu...
it_last_IMU.time: 1664877143.278204
lastState: 1664877143.278204
currentState: 1664877143.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.298203945 -0.000319 0.01941 9.8 0 0 0.000133
1-2 processing imu...
it_last_IMU.time: 1664877143.288204
lastState: 1664877143.288204
currentState: 1664877143.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.308203936 -0.000342 0.0186 9.8 0 0 0.00014
1-2 processing imu...
it_last_IMU.time: 1664877143.298204
lastState: 1664877143.298204
currentState: 1664877143.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.318203926 -0.000364 0.01779 9.8 0 0 0.000148
1-2 processing imu...
it_last_IMU.time: 1664877143.308204
lastState: 1664877143.308204
currentState: 1664877143.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.328203917 -0.000387 0.01698 9.8 0 0 0.000155
1-2 processing imu...
it_last_IMU.time: 1664877143.318204
lastState: 1664877143.318204
currentState: 1664877143.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.338203907 -0.000411 0.01642 9.8 0 0 0.000163
1-2 processing imu...
it_last_IMU.time: 1664877143.328204
lastState: 1664877143.328204
currentState: 1664877143.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.348203897 -0.000439 0.01625 9.8 0 0 0.000171
1-2 processing imu...
it_last_IMU.time: 1664877143.338204
lastState: 1664877143.338204
currentState: 1664877143.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.358203888 -0.000467 0.01607 9.8 0 0 0.000179
1-2 processing imu...
it_last_IMU.time: 1664877143.348204
lastState: 1664877143.348204
currentState: 1664877143.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.368204117 -0.000494 0.01589 9.8 0 0 0.000187
1-2 processing imu...
it_last_IMU.time: 1664877143.358204
lastState: 1664877143.358204
currentState: 1664877143.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.378204107 -0.000522 0.01571 9.8 0 0 0.000196
1-2 processing imu...
it_last_IMU.time: 1664877143.368204
lastState: 1664877143.368204
currentState: 1664877143.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.388204098 -0.00055 0.01553 9.8 0 0 0.000204
1-2 processing imu...
it_last_IMU.time: 1664877143.378204
lastState: 1664877143.378204
currentState: 1664877143.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.398204088 -0.000577 0.01536 9.8 0 0 0.000213
1-2 processing imu...
it_last_IMU.time: 1664877143.388204
lastState: 1664877143.388204
currentState: 1664877143.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.408204079 -0.000605 0.01518 9.8 0 0 0.000222
1-2 processing imu...
it_last_IMU.time: 1664877143.398204
lastState: 1664877143.398204
currentState: 1664877143.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.418204069 -0.000632 0.015 9.8 0 0 0.00023
1-2 processing imu...
it_last_IMU.time: 1664877143.408204
lastState: 1664877143.408204
currentState: 1664877143.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.428204060 -0.00066 0.01482 9.8 0 0 0.00024
1-2 processing imu...
it_last_IMU.time: 1664877143.418204
lastState: 1664877143.418204
currentState: 1664877143.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.438204050 -0.000689 0.01397 9.8 0 0 0.000249
1-2 processing imu...
it_last_IMU.time: 1664877143.428204
lastState: 1664877143.428204
currentState: 1664877143.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.448204041 -0.00072 0.0121 9.8 0 0 0.000258
1-2 processing imu...
it_last_IMU.time: 1664877143.438204
lastState: 1664877143.438204
currentState: 1664877143.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.458204031 -0.000751 0.01023 9.8 0 0 0.000268
1-2 processing imu...
it_last_IMU.time: 1664877143.448204
lastState: 1664877143.448204
currentState: 1664877143.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.468204021 -0.000782 0.008358 9.8 0 0 0.000277
1-2 processing imu...
it_last_IMU.time: 1664877143.458204
lastState: 1664877143.458204
currentState: 1664877143.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.478204012 -0.000813 0.006487 9.8 0 0 0.000287
1-2 processing imu...
it_last_IMU.time: 1664877143.468204
lastState: 1664877143.468204
currentState: 1664877143.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877143.464843988 0.2071 0.1803 0.001803 0.001248 0.003099 0.3873 0.922
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877143.464844
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877143.464844
state->time: 1664877143.464844
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675489.618913036]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675489.618943483]: the fixed q :[0.659, 0.637, 0.284, 0.283][0m
[0m[ INFO] [1670675489.618955395]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675489.618971038]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2071 0.1803 0.001803
p_wv: 18.52 -15.22 31
p: 19.74 -15.75 29.77
q: [0.659, 0.637, 0.284, 0.283]
l: 0.5144
residual in position: -0.423 0.4517 0.6321
q_err :[1, 0.0163, -0.00407, -0.0145]
residual in q: 0.03257 -0.008132 -0.02909
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877143.464844 it_next->second->time: 1664877143.468204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877143.468204 it_next->second->time: 1664877143.478204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.94 -14.88 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877143.488204002 -0.000844 0.004615 9.8 0 0 0.000297
1-2 processing imu...
it_last_IMU.time: 1664877143.478204
lastState: 1664877143.478204
currentState: 1664877143.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.498203993 -0.000875 0.002743 9.8 0 0 0.000307
1-2 processing imu...
it_last_IMU.time: 1664877143.488204
lastState: 1664877143.488204
currentState: 1664877143.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.508203983 -0.000906 0.000871 9.8 0 0 0.000317
1-2 processing imu...
it_last_IMU.time: 1664877143.498204
lastState: 1664877143.498204
currentState: 1664877143.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.518203974 -0.000937 -0.001 9.8 0 0 0.000327
1-2 processing imu...
it_last_IMU.time: 1664877143.508204
lastState: 1664877143.508204
currentState: 1664877143.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.528203964 -0.000968 -0.002872 9.8 0 0 0.000337
1-2 processing imu...
it_last_IMU.time: 1664877143.518204
lastState: 1664877143.518204
currentState: 1664877143.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.538203955 -0.001 -0.004915 9.8 0 0 0.000348
1-2 processing imu...
it_last_IMU.time: 1664877143.528204
lastState: 1664877143.528204
currentState: 1664877143.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.548203945 -0.001034 -0.007232 9.8 0 0 0.000358
1-2 processing imu...
it_last_IMU.time: 1664877143.538204
lastState: 1664877143.538204
currentState: 1664877143.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.558203936 -0.001067 -0.009548 9.8 0 0 0.000369
1-2 processing imu...
it_last_IMU.time: 1664877143.548204
lastState: 1664877143.548204
currentState: 1664877143.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.568203926 -0.0011 -0.01187 9.8 0 0 0.00038
1-2 processing imu...
it_last_IMU.time: 1664877143.558204
lastState: 1664877143.558204
currentState: 1664877143.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.578203917 -0.001134 -0.01418 9.8 0 0 0.00039
1-2 processing imu...
it_last_IMU.time: 1664877143.568204
lastState: 1664877143.568204
currentState: 1664877143.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.588203907 -0.001167 -0.0165 9.8 0 0 0.000401
1-2 processing imu...
it_last_IMU.time: 1664877143.578204
lastState: 1664877143.578204
currentState: 1664877143.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.598203897 -0.001201 -0.01881 9.8 0 0 0.000412
1-2 processing imu...
it_last_IMU.time: 1664877143.588204
lastState: 1664877143.588204
currentState: 1664877143.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.608203888 -0.001234 -0.02113 9.8 0 0 0.000423
1-2 processing imu...
it_last_IMU.time: 1664877143.598204
lastState: 1664877143.598204
currentState: 1664877143.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.618204117 -0.001267 -0.02345 9.8 0 0 0.000434
1-2 processing imu...
it_last_IMU.time: 1664877143.608204
lastState: 1664877143.608204
currentState: 1664877143.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.628204107 -0.001301 -0.02576 9.8 0 0 0.000445
1-2 processing imu...
it_last_IMU.time: 1664877143.618204
lastState: 1664877143.618204
currentState: 1664877143.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.638204098 -0.001336 -0.0275 9.8 0 0 0.000456
1-2 processing imu...
it_last_IMU.time: 1664877143.628204
lastState: 1664877143.628204
currentState: 1664877143.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.648204088 -0.001374 -0.02826 9.8 0 0 0.000467
1-2 processing imu...
it_last_IMU.time: 1664877143.638204
lastState: 1664877143.638204
currentState: 1664877143.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.658204079 -0.001413 -0.02903 9.8 0 0 0.000478
1-2 processing imu...
it_last_IMU.time: 1664877143.648204
lastState: 1664877143.648204
currentState: 1664877143.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.668204069 -0.001451 -0.02979 9.8 0 0 0.00049
1-2 processing imu...
it_last_IMU.time: 1664877143.658204
lastState: 1664877143.658204
currentState: 1664877143.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.678204060 -0.001489 -0.03056 9.8 0 0 0.000501
1-2 processing imu...
it_last_IMU.time: 1664877143.668204
lastState: 1664877143.668204
currentState: 1664877143.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.688204050 -0.001528 -0.03133 9.8 0 0 0.000512
1-2 processing imu...
it_last_IMU.time: 1664877143.678204
lastState: 1664877143.678204
currentState: 1664877143.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.698204041 -0.001566 -0.03209 9.8 0 0 0.000523
1-2 processing imu...
it_last_IMU.time: 1664877143.688204
lastState: 1664877143.688204
currentState: 1664877143.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.708204031 -0.001604 -0.03286 9.8 0 0 0.000534
1-2 processing imu...
it_last_IMU.time: 1664877143.698204
lastState: 1664877143.698204
currentState: 1664877143.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.718204021 -0.001643 -0.03363 9.8 0 0 0.000545
1-2 processing imu...
it_last_IMU.time: 1664877143.708204
lastState: 1664877143.708204
currentState: 1664877143.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.728204012 -0.001681 -0.03439 9.8 0 0 0.000556
1-2 processing imu...
it_last_IMU.time: 1664877143.718204
lastState: 1664877143.718204
currentState: 1664877143.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.738204002 -0.001721 -0.0347 9.8 0 0 0.000567
1-2 processing imu...
it_last_IMU.time: 1664877143.728204
lastState: 1664877143.728204
currentState: 1664877143.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.748203993 -0.001764 -0.03421 9.8 0 0 0.000577
1-2 processing imu...
it_last_IMU.time: 1664877143.738204
lastState: 1664877143.738204
currentState: 1664877143.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.758203983 -0.001808 -0.03372 9.8 0 0 0.000588
1-2 processing imu...
it_last_IMU.time: 1664877143.748204
lastState: 1664877143.748204
currentState: 1664877143.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.768203974 -0.001851 -0.03323 9.8 0 0 0.000599
1-2 processing imu...
it_last_IMU.time: 1664877143.758204
lastState: 1664877143.758204
currentState: 1664877143.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.778203964 -0.001894 -0.03274 9.8 0 0 0.000609
1-2 processing imu...
it_last_IMU.time: 1664877143.768204
lastState: 1664877143.768204
currentState: 1664877143.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.788203955 -0.001938 -0.03225 9.8 0 0 0.000619
1-2 processing imu...
it_last_IMU.time: 1664877143.778204
lastState: 1664877143.778204
currentState: 1664877143.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.798203945 -0.001981 -0.03177 9.8 0 0 0.000629
1-2 processing imu...
it_last_IMU.time: 1664877143.788204
lastState: 1664877143.788204
currentState: 1664877143.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.808203936 -0.002024 -0.03128 9.8 0 0 0.000639
1-2 processing imu...
it_last_IMU.time: 1664877143.798204
lastState: 1664877143.798204
currentState: 1664877143.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.818203926 -0.002067 -0.03079 9.8 0 0 0.000649
1-2 processing imu...
it_last_IMU.time: 1664877143.808204
lastState: 1664877143.808204
currentState: 1664877143.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.828203917 -0.002111 -0.0303 9.8 0 0 0.000659
1-2 processing imu...
it_last_IMU.time: 1664877143.818204
lastState: 1664877143.818204
currentState: 1664877143.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.838203907 -0.002155 -0.02961 9.8 0 0 0.000668
1-2 processing imu...
it_last_IMU.time: 1664877143.828204
lastState: 1664877143.828204
currentState: 1664877143.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.848203897 -0.0022 -0.02855 9.8 0 0 0.000677
1-2 processing imu...
it_last_IMU.time: 1664877143.838204
lastState: 1664877143.838204
currentState: 1664877143.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.858203888 -0.002245 -0.02749 9.8 0 0 0.000686
1-2 processing imu...
it_last_IMU.time: 1664877143.848204
lastState: 1664877143.848204
currentState: 1664877143.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.868204117 -0.00229 -0.02643 9.8 0 0 0.000695
1-2 processing imu...
it_last_IMU.time: 1664877143.858204
lastState: 1664877143.858204
currentState: 1664877143.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.878204107 -0.002335 -0.02538 9.8 0 0 0.000703
1-2 processing imu...
it_last_IMU.time: 1664877143.868204
lastState: 1664877143.868204
currentState: 1664877143.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.888204098 -0.002381 -0.02432 9.8 0 0 0.000711
1-2 processing imu...
it_last_IMU.time: 1664877143.878204
lastState: 1664877143.878204
currentState: 1664877143.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.898204088 -0.002426 -0.02326 9.8 0 0 0.000718
1-2 processing imu...
it_last_IMU.time: 1664877143.888204
lastState: 1664877143.888204
currentState: 1664877143.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877143.882931948 0.2208 0.1962 0.00169 0.0007256 0.002935 0.3858 0.9226
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877143.882932
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877143.882932
state->time: 1664877143.882932
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675490.508489202]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675490.508651705]: the fixed q :[0.66, 0.634, 0.285, 0.285][0m
[0m[ INFO] [1670675490.508703669]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675490.508755767]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2208 0.1962 0.00169
p_wv: 18.52 -15.22 31
p: 19.8 -15.68 29.78
q: [0.66, 0.634, 0.285, 0.285]
l: 0.5148
residual in position: -0.4389 0.4354 0.6289
q_err :[1, 0.019, -0.0046, -0.0182]
residual in q: 0.03791 -0.009209 -0.03644
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877143.882932 it_next->second->time: 1664877143.888204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877143.888204 it_next->second->time: 1664877143.898204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.97 -14.86 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877143.908204079 -0.002471 -0.0222 9.8 0 0 0.000725
1-2 processing imu...
it_last_IMU.time: 1664877143.898204
lastState: 1664877143.898204
currentState: 1664877143.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.918204069 -0.002516 -0.02114 9.8 0 0 0.000732
1-2 processing imu...
it_last_IMU.time: 1664877143.908204
lastState: 1664877143.908204
currentState: 1664877143.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.928204060 -0.002561 -0.02008 9.8 0 0 0.000739
1-2 processing imu...
it_last_IMU.time: 1664877143.918204
lastState: 1664877143.918204
currentState: 1664877143.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.938204050 -0.002603 -0.0193 9.8 0 0 0.000745
1-2 processing imu...
it_last_IMU.time: 1664877143.928204
lastState: 1664877143.928204
currentState: 1664877143.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.948204041 -0.00264 -0.01904 9.8 0 0 0.00075
1-2 processing imu...
it_last_IMU.time: 1664877143.938204
lastState: 1664877143.938204
currentState: 1664877143.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.958204031 -0.002677 -0.01878 9.8 0 0 0.000755
1-2 processing imu...
it_last_IMU.time: 1664877143.948204
lastState: 1664877143.948204
currentState: 1664877143.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.968204021 -0.002713 -0.01851 9.8 0 0 0.000759
1-2 processing imu...
it_last_IMU.time: 1664877143.958204
lastState: 1664877143.958204
currentState: 1664877143.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877143.978204012 -0.00275 -0.01825 9.8 0 0 0.000763
1-2 processing imu...
it_last_IMU.time: 1664877143.968204
lastState: 1664877143.968204
currentState: 1664877143.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.988204002 -0.002787 -0.01798 9.8 0 0 0.000766
1-2 processing imu...
it_last_IMU.time: 1664877143.978204
lastState: 1664877143.978204
currentState: 1664877143.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877143.998203993 -0.002824 -0.01772 9.8 0 0 0.000768
1-2 processing imu...
it_last_IMU.time: 1664877143.988204
lastState: 1664877143.988204
currentState: 1664877143.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.008203983 -0.00286 -0.01745 9.8 0 0 0.000769
1-2 processing imu...
it_last_IMU.time: 1664877143.998204
lastState: 1664877143.998204
currentState: 1664877144.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.018203974 -0.002897 -0.01719 9.8 0 0 0.00077
1-2 processing imu...
it_last_IMU.time: 1664877144.008204
lastState: 1664877144.008204
currentState: 1664877144.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.028203964 -0.002934 -0.01692 9.8 0 0 0.00077
1-2 processing imu...
it_last_IMU.time: 1664877144.018204
lastState: 1664877144.018204
currentState: 1664877144.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.038203955 -0.002963 -0.0154 9.8 0 0 0.00077
1-2 processing imu...
it_last_IMU.time: 1664877144.028204
lastState: 1664877144.028204
currentState: 1664877144.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.048203945 -0.002979 -0.01144 9.8 0 0 0.000769
1-2 processing imu...
it_last_IMU.time: 1664877144.038204
lastState: 1664877144.038204
currentState: 1664877144.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.058203936 -0.002994 -0.007479 9.8 0 0 0.000766
1-2 processing imu...
it_last_IMU.time: 1664877144.048204
lastState: 1664877144.048204
currentState: 1664877144.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.068203926 -0.00301 -0.00352 9.8 0 0 0.000763
1-2 processing imu...
it_last_IMU.time: 1664877144.058204
lastState: 1664877144.058204
currentState: 1664877144.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.078203917 -0.003025 0.000439 9.8 0 0 0.000758
1-2 processing imu...
it_last_IMU.time: 1664877144.068204
lastState: 1664877144.068204
currentState: 1664877144.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.088203907 -0.00304 0.004398 9.8 0 0 0.000753
1-2 processing imu...
it_last_IMU.time: 1664877144.078204
lastState: 1664877144.078204
currentState: 1664877144.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.098203897 -0.003056 0.008357 9.8 0 0 0.000746
1-2 processing imu...
it_last_IMU.time: 1664877144.088204
lastState: 1664877144.088204
currentState: 1664877144.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.108203888 -0.003071 0.01232 9.8 0 0 0.000738
1-2 processing imu...
it_last_IMU.time: 1664877144.098204
lastState: 1664877144.098204
currentState: 1664877144.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.118204117 -0.003086 0.01628 9.8 0 0 0.000729
1-2 processing imu...
it_last_IMU.time: 1664877144.108204
lastState: 1664877144.108204
currentState: 1664877144.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.128204107 -0.003101 0.02023 9.8 0 0 0.00072
1-2 processing imu...
it_last_IMU.time: 1664877144.118204
lastState: 1664877144.118204
currentState: 1664877144.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.138204098 -0.003102 0.02335 9.8 0 0 0.000709
1-2 processing imu...
it_last_IMU.time: 1664877144.128204
lastState: 1664877144.128204
currentState: 1664877144.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.148204088 -0.003075 0.02476 9.8 0 0 0.000697
1-2 processing imu...
it_last_IMU.time: 1664877144.138204
lastState: 1664877144.138204
currentState: 1664877144.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.158204079 -0.003048 0.02617 9.8 0 0 0.000683
1-2 processing imu...
it_last_IMU.time: 1664877144.148204
lastState: 1664877144.148204
currentState: 1664877144.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.168204069 -0.003021 0.02759 9.8 0 0 0.000667
1-2 processing imu...
it_last_IMU.time: 1664877144.158204
lastState: 1664877144.158204
currentState: 1664877144.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.178204060 -0.002995 0.029 9.8 0 0 0.00065
1-2 processing imu...
it_last_IMU.time: 1664877144.168204
lastState: 1664877144.168204
currentState: 1664877144.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.188204050 -0.002968 0.03041 9.8 0 0 0.000632
1-2 processing imu...
it_last_IMU.time: 1664877144.178204
lastState: 1664877144.178204
currentState: 1664877144.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.198204041 -0.002941 0.03183 9.8 0 0 0.000612
1-2 processing imu...
it_last_IMU.time: 1664877144.188204
lastState: 1664877144.188204
currentState: 1664877144.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.208204031 -0.002914 0.03324 9.8 0 0 0.00059
1-2 processing imu...
it_last_IMU.time: 1664877144.198204
lastState: 1664877144.198204
currentState: 1664877144.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.218204021 -0.002887 0.03465 9.8 0 0 0.000567
1-2 processing imu...
it_last_IMU.time: 1664877144.208204
lastState: 1664877144.208204
currentState: 1664877144.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.228204012 -0.00286 0.03606 9.8 0 0 0.000543
1-2 processing imu...
it_last_IMU.time: 1664877144.218204
lastState: 1664877144.218204
currentState: 1664877144.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.238204002 -0.002817 0.03795 9.8 0 0 0.000516
1-2 processing imu...
it_last_IMU.time: 1664877144.228204
lastState: 1664877144.228204
currentState: 1664877144.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.248203993 -0.002739 0.04083 9.8 0 0 0.000488
1-2 processing imu...
it_last_IMU.time: 1664877144.238204
lastState: 1664877144.238204
currentState: 1664877144.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.258203983 -0.00266 0.0437 9.8 0 0 0.000458
1-2 processing imu...
it_last_IMU.time: 1664877144.248204
lastState: 1664877144.248204
currentState: 1664877144.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.268203974 -0.002582 0.04658 9.8 0 0 0.000426
1-2 processing imu...
it_last_IMU.time: 1664877144.258204
lastState: 1664877144.258204
currentState: 1664877144.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.278203964 -0.002504 0.04945 9.8 0 0 0.000391
1-2 processing imu...
it_last_IMU.time: 1664877144.268204
lastState: 1664877144.268204
currentState: 1664877144.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.288203955 -0.002426 0.05233 9.8 0 0 0.000355
1-2 processing imu...
it_last_IMU.time: 1664877144.278204
lastState: 1664877144.278204
currentState: 1664877144.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.298203945 -0.002348 0.0552 9.8 0 0 0.000317
1-2 processing imu...
it_last_IMU.time: 1664877144.288204
lastState: 1664877144.288204
currentState: 1664877144.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.308203936 -0.00227 0.05808 9.8 0 0 0.000276
1-2 processing imu...
it_last_IMU.time: 1664877144.298204
lastState: 1664877144.298204
currentState: 1664877144.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.318203926 -0.002192 0.06095 9.8 0 0 0.000234
1-2 processing imu...
it_last_IMU.time: 1664877144.308204
lastState: 1664877144.308204
currentState: 1664877144.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.328203917 -0.002114 0.06383 9.8 0 0 0.000189
1-2 processing imu...
it_last_IMU.time: 1664877144.318204
lastState: 1664877144.318204
currentState: 1664877144.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877144.312836885 0.2352 0.2117 0.001851 0.0005291 0.003171 0.3855 0.9227
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877144.312837
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877144.312837
state->time: 1664877144.312837
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675491.392169571]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675491.392271227]: the fixed q :[0.663, 0.632, 0.284, 0.285][0m
[0m[ INFO] [1670675491.392284733]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675491.392314414]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2352 0.2117 0.001851
p_wv: 18.52 -15.22 31
p: 19.84 -15.67 29.75
q: [0.663, 0.632, 0.284, 0.285]
l: 0.514
residual in position: -0.4437 0.4437 0.6422
q_err :[1, 0.0223, -0.00491, -0.0182]
residual in q: 0.04465 -0.009821 -0.03642
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877144.312837 it_next->second->time: 1664877144.318204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877144.318204 it_next->second->time: 1664877144.328204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19 -14.82 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877144.338203907 -0.002015 0.06495 9.8 0 0 0.000142
1-2 processing imu...
it_last_IMU.time: 1664877144.328204
lastState: 1664877144.328204
currentState: 1664877144.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.348203897 -0.001869 0.06223 9.8 0 0 9.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877144.338204
lastState: 1664877144.338204
currentState: 1664877144.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.358203888 -0.001723 0.05952 9.8 0 0 4.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877144.348204
lastState: 1664877144.348204
currentState: 1664877144.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.368204117 -0.001576 0.05681 9.8 0 0 -1.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877144.358204
lastState: 1664877144.358204
currentState: 1664877144.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.378204107 -0.00143 0.05409 9.8 0 0 -6.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877144.368204
lastState: 1664877144.368204
currentState: 1664877144.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.388204098 -0.001284 0.05138 9.8 0 0 -0.000128
1-2 processing imu...
it_last_IMU.time: 1664877144.378204
lastState: 1664877144.378204
currentState: 1664877144.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.398204088 -0.001139 0.04867 9.8 0 0 -0.000189
1-2 processing imu...
it_last_IMU.time: 1664877144.388204
lastState: 1664877144.388204
currentState: 1664877144.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.408204079 -0.000993 0.04595 9.8 0 0 -0.000253
1-2 processing imu...
it_last_IMU.time: 1664877144.398204
lastState: 1664877144.398204
currentState: 1664877144.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.418204069 -0.000847 0.04324 9.8 0 0 -0.00032
1-2 processing imu...
it_last_IMU.time: 1664877144.408204
lastState: 1664877144.408204
currentState: 1664877144.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.428204060 -0.000701 0.04053 9.8 0 0 -0.000389
1-2 processing imu...
it_last_IMU.time: 1664877144.418204
lastState: 1664877144.418204
currentState: 1664877144.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.438204050 -0.000524 0.03746 9.8 0 0 -0.00046
1-2 processing imu...
it_last_IMU.time: 1664877144.428204
lastState: 1664877144.428204
currentState: 1664877144.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.448204041 -0.000279 0.03358 9.8 0 0 -0.000534
1-2 processing imu...
it_last_IMU.time: 1664877144.438204
lastState: 1664877144.438204
currentState: 1664877144.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.458204031 -3.4e-05 0.0297 9.8 0 0 -0.000611
1-2 processing imu...
it_last_IMU.time: 1664877144.448204
lastState: 1664877144.448204
currentState: 1664877144.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.468204021 0.000211 0.02583 9.8 0 0 -0.000691
1-2 processing imu...
it_last_IMU.time: 1664877144.458204
lastState: 1664877144.458204
currentState: 1664877144.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.478204012 0.000456 0.02195 9.8 0 0 -0.000774
1-2 processing imu...
it_last_IMU.time: 1664877144.468204
lastState: 1664877144.468204
currentState: 1664877144.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.488204002 0.000702 0.01807 9.8 0 0 -0.000859
1-2 processing imu...
it_last_IMU.time: 1664877144.478204
lastState: 1664877144.478204
currentState: 1664877144.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.498203993 0.000947 0.01419 9.8 0 0 -0.000947
1-2 processing imu...
it_last_IMU.time: 1664877144.488204
lastState: 1664877144.488204
currentState: 1664877144.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.508203983 0.001192 0.01031 9.8 0 0 -0.001038
1-2 processing imu...
it_last_IMU.time: 1664877144.498204
lastState: 1664877144.498204
currentState: 1664877144.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.518203974 0.001438 0.006438 9.8 0 0 -0.001132
1-2 processing imu...
it_last_IMU.time: 1664877144.508204
lastState: 1664877144.508204
currentState: 1664877144.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.528203964 0.001683 0.00256 9.8 0 0 -0.001229
1-2 processing imu...
it_last_IMU.time: 1664877144.518204
lastState: 1664877144.518204
currentState: 1664877144.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.538203955 0.001964 -0.00058 9.8 0 0 -0.001328
1-2 processing imu...
it_last_IMU.time: 1664877144.528204
lastState: 1664877144.528204
currentState: 1664877144.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.548203945 0.002327 -0.001972 9.8 0 0 -0.00143
1-2 processing imu...
it_last_IMU.time: 1664877144.538204
lastState: 1664877144.538204
currentState: 1664877144.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.558203936 0.00269 -0.003364 9.8 0 0 -0.001535
1-2 processing imu...
it_last_IMU.time: 1664877144.548204
lastState: 1664877144.548204
currentState: 1664877144.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.568203926 0.003054 -0.004756 9.8 0 0 -0.001643
1-2 processing imu...
it_last_IMU.time: 1664877144.558204
lastState: 1664877144.558204
currentState: 1664877144.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.578203917 0.003417 -0.006148 9.8 0 0 -0.001753
1-2 processing imu...
it_last_IMU.time: 1664877144.568204
lastState: 1664877144.568204
currentState: 1664877144.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.588203907 0.00378 -0.007541 9.8 0 0 -0.001866
1-2 processing imu...
it_last_IMU.time: 1664877144.578204
lastState: 1664877144.578204
currentState: 1664877144.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.598203897 0.004144 -0.008933 9.8 0 0 -0.001982
1-2 processing imu...
it_last_IMU.time: 1664877144.588204
lastState: 1664877144.588204
currentState: 1664877144.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.608203888 0.004507 -0.01033 9.8 0 0 -0.0021
1-2 processing imu...
it_last_IMU.time: 1664877144.598204
lastState: 1664877144.598204
currentState: 1664877144.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.618204117 0.004871 -0.01172 9.8 0 0 -0.002221
1-2 processing imu...
it_last_IMU.time: 1664877144.608204
lastState: 1664877144.608204
currentState: 1664877144.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.628204107 0.005234 -0.01311 9.8 0 0 -0.002345
1-2 processing imu...
it_last_IMU.time: 1664877144.618204
lastState: 1664877144.618204
currentState: 1664877144.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.638204098 0.005634 -0.0144 9.8 0 0 -0.002472
1-2 processing imu...
it_last_IMU.time: 1664877144.628204
lastState: 1664877144.628204
currentState: 1664877144.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.648204088 0.006123 -0.01542 9.8 0 0 -0.0026
1-2 processing imu...
it_last_IMU.time: 1664877144.638204
lastState: 1664877144.638204
currentState: 1664877144.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.658204079 0.006612 -0.01645 9.8 0 0 -0.002731
1-2 processing imu...
it_last_IMU.time: 1664877144.648204
lastState: 1664877144.648204
currentState: 1664877144.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.668204069 0.007101 -0.01748 9.8 0 0 -0.002864
1-2 processing imu...
it_last_IMU.time: 1664877144.658204
lastState: 1664877144.658204
currentState: 1664877144.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.678204060 0.00759 -0.01851 9.8 0 0 -0.003
1-2 processing imu...
it_last_IMU.time: 1664877144.668204
lastState: 1664877144.668204
currentState: 1664877144.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.688204050 0.00808 -0.01954 9.8 0 0 -0.003137
1-2 processing imu...
it_last_IMU.time: 1664877144.678204
lastState: 1664877144.678204
currentState: 1664877144.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.698204041 0.008569 -0.02057 9.8 0 0 -0.003276
1-2 processing imu...
it_last_IMU.time: 1664877144.688204
lastState: 1664877144.688204
currentState: 1664877144.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.708204031 0.009059 -0.0216 9.8 0 0 -0.003417
1-2 processing imu...
it_last_IMU.time: 1664877144.698204
lastState: 1664877144.698204
currentState: 1664877144.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.718204021 0.009548 -0.02263 9.8 0 0 -0.003561
1-2 processing imu...
it_last_IMU.time: 1664877144.708204
lastState: 1664877144.708204
currentState: 1664877144.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.728204012 0.01004 -0.02366 9.8 0 0 -0.003706
1-2 processing imu...
it_last_IMU.time: 1664877144.718204
lastState: 1664877144.718204
currentState: 1664877144.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.738204002 0.01056 -0.02499 9.8 0 0 -0.003854
1-2 processing imu...
it_last_IMU.time: 1664877144.728204
lastState: 1664877144.728204
currentState: 1664877144.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.748203993 0.01119 -0.02713 9.8 0 0 -0.004002
1-2 processing imu...
it_last_IMU.time: 1664877144.738204
lastState: 1664877144.738204
currentState: 1664877144.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.758203983 0.01181 -0.02927 9.8 0 0 -0.004151
1-2 processing imu...
it_last_IMU.time: 1664877144.748204
lastState: 1664877144.748204
currentState: 1664877144.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.768203974 0.01243 -0.03141 9.8 0 0 -0.004301
1-2 processing imu...
it_last_IMU.time: 1664877144.758204
lastState: 1664877144.758204
currentState: 1664877144.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877144.757550001 0.2512 0.2299 0.001858 0.0001927 0.003091 0.3837 0.9234
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877144.757550
time: 1664877144.757550
state->time: 1664877144.758204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675492.320915312]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675492.320962098]: the fixed q :[0.665, 0.629, 0.284, 0.286][0m
[0m[ INFO] [1670675492.320972954]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675492.320990488]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2512 0.2299 0.001858
p_wv: 18.52 -15.22 31
p: 19.9 -15.68 29.73
q: [0.665, 0.629, 0.284, 0.286]
l: 0.5138
residual in position: -0.46 0.464 0.6556
q_err :[0.999, 0.0253, -0.00627, -0.021]
residual in q: 0.05055 -0.01255 -0.04204
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877144.758204 it_next->second->time: 1664877144.768204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.02 -14.78 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877144.778203964 0.01305 -0.03355 9.8 0 0 -0.00445
1-2 processing imu...
it_last_IMU.time: 1664877144.768204
lastState: 1664877144.768204
currentState: 1664877144.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.788203955 0.01367 -0.03569 9.8 0 0 -0.0046
1-2 processing imu...
it_last_IMU.time: 1664877144.778204
lastState: 1664877144.778204
currentState: 1664877144.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.798203945 0.01429 -0.03783 9.8 0 0 -0.004751
1-2 processing imu...
it_last_IMU.time: 1664877144.788204
lastState: 1664877144.788204
currentState: 1664877144.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.808203936 0.01491 -0.03997 9.8 0 0 -0.004902
1-2 processing imu...
it_last_IMU.time: 1664877144.798204
lastState: 1664877144.798204
currentState: 1664877144.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.818203926 0.01554 -0.04211 9.8 0 0 -0.005053
1-2 processing imu...
it_last_IMU.time: 1664877144.808204
lastState: 1664877144.808204
currentState: 1664877144.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.828203917 0.01616 -0.04425 9.8 0 0 -0.005205
1-2 processing imu...
it_last_IMU.time: 1664877144.818204
lastState: 1664877144.818204
currentState: 1664877144.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.838203907 0.0168 -0.04581 9.8 0 0 -0.005358
1-2 processing imu...
it_last_IMU.time: 1664877144.828204
lastState: 1664877144.828204
currentState: 1664877144.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.848203897 0.01749 -0.04583 9.8 0 0 -0.005508
1-2 processing imu...
it_last_IMU.time: 1664877144.838204
lastState: 1664877144.838204
currentState: 1664877144.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.858203888 0.01818 -0.04584 9.8 0 0 -0.005656
1-2 processing imu...
it_last_IMU.time: 1664877144.848204
lastState: 1664877144.848204
currentState: 1664877144.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.868204117 0.01887 -0.04586 9.8 0 0 -0.005801
1-2 processing imu...
it_last_IMU.time: 1664877144.858204
lastState: 1664877144.858204
currentState: 1664877144.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.878204107 0.01956 -0.04588 9.8 0 0 -0.005943
1-2 processing imu...
it_last_IMU.time: 1664877144.868204
lastState: 1664877144.868204
currentState: 1664877144.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.888204098 0.02025 -0.04589 9.8 0 0 -0.006083
1-2 processing imu...
it_last_IMU.time: 1664877144.878204
lastState: 1664877144.878204
currentState: 1664877144.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.898204088 0.02094 -0.04591 9.8 0 0 -0.00622
1-2 processing imu...
it_last_IMU.time: 1664877144.888204
lastState: 1664877144.888204
currentState: 1664877144.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.908204079 0.02163 -0.04592 9.8 0 0 -0.006354
1-2 processing imu...
it_last_IMU.time: 1664877144.898204
lastState: 1664877144.898204
currentState: 1664877144.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.918204069 0.02232 -0.04594 9.8 0 0 -0.006486
1-2 processing imu...
it_last_IMU.time: 1664877144.908204
lastState: 1664877144.908204
currentState: 1664877144.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.928204060 0.02301 -0.04595 9.8 0 0 -0.006615
1-2 processing imu...
it_last_IMU.time: 1664877144.918204
lastState: 1664877144.918204
currentState: 1664877144.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.938204050 0.02369 -0.04538 9.8 0 0 -0.006742
1-2 processing imu...
it_last_IMU.time: 1664877144.928204
lastState: 1664877144.928204
currentState: 1664877144.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.948204041 0.02435 -0.04314 9.8 0 0 -0.006862
1-2 processing imu...
it_last_IMU.time: 1664877144.938204
lastState: 1664877144.938204
currentState: 1664877144.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.958204031 0.02501 -0.04091 9.8 0 0 -0.006975
1-2 processing imu...
it_last_IMU.time: 1664877144.948204
lastState: 1664877144.948204
currentState: 1664877144.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.968204021 0.02567 -0.03867 9.8 0 0 -0.007081
1-2 processing imu...
it_last_IMU.time: 1664877144.958204
lastState: 1664877144.958204
currentState: 1664877144.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.978204012 0.02634 -0.03643 9.8 0 0 -0.00718
1-2 processing imu...
it_last_IMU.time: 1664877144.968204
lastState: 1664877144.968204
currentState: 1664877144.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877144.988204002 0.027 -0.0342 9.8 0 0 -0.007271
1-2 processing imu...
it_last_IMU.time: 1664877144.978204
lastState: 1664877144.978204
currentState: 1664877144.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877144.998203993 0.02766 -0.03196 9.8 0 0 -0.007355
1-2 processing imu...
it_last_IMU.time: 1664877144.988204
lastState: 1664877144.988204
currentState: 1664877144.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.008203983 0.02831 -0.02972 9.8 0 0 -0.007432
1-2 processing imu...
it_last_IMU.time: 1664877144.998204
lastState: 1664877144.998204
currentState: 1664877145.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.018203974 0.02898 -0.02749 9.8 0 0 -0.007502
1-2 processing imu...
it_last_IMU.time: 1664877145.008204
lastState: 1664877145.008204
currentState: 1664877145.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.028203964 0.02963 -0.02525 9.8 0 0 -0.007564
1-2 processing imu...
it_last_IMU.time: 1664877145.018204
lastState: 1664877145.018204
currentState: 1664877145.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.038203955 0.03025 -0.02293 9.8 0 0 -0.007619
1-2 processing imu...
it_last_IMU.time: 1664877145.028204
lastState: 1664877145.028204
currentState: 1664877145.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.048203945 0.03075 -0.02036 9.8 0 0 -0.007663
1-2 processing imu...
it_last_IMU.time: 1664877145.038204
lastState: 1664877145.038204
currentState: 1664877145.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.058203936 0.03124 -0.01779 9.8 0 0 -0.007692
1-2 processing imu...
it_last_IMU.time: 1664877145.048204
lastState: 1664877145.048204
currentState: 1664877145.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.068203926 0.03173 -0.01522 9.8 0 0 -0.007708
1-2 processing imu...
it_last_IMU.time: 1664877145.058204
lastState: 1664877145.058204
currentState: 1664877145.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.078203917 0.03222 -0.01265 9.8 0 0 -0.00771
1-2 processing imu...
it_last_IMU.time: 1664877145.068204
lastState: 1664877145.068204
currentState: 1664877145.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.088203907 0.03272 -0.01008 9.8 0 0 -0.007699
1-2 processing imu...
it_last_IMU.time: 1664877145.078204
lastState: 1664877145.078204
currentState: 1664877145.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.098203897 0.03321 -0.007515 9.8 0 0 -0.007673
1-2 processing imu...
it_last_IMU.time: 1664877145.088204
lastState: 1664877145.088204
currentState: 1664877145.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.108203888 0.0337 -0.004946 9.8 0 0 -0.007635
1-2 processing imu...
it_last_IMU.time: 1664877145.098204
lastState: 1664877145.098204
currentState: 1664877145.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.118204117 0.03419 -0.002377 9.8 0 0 -0.007582
1-2 processing imu...
it_last_IMU.time: 1664877145.108204
lastState: 1664877145.108204
currentState: 1664877145.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.128204107 0.03468 0.000192 9.8 0 0 -0.007516
1-2 processing imu...
it_last_IMU.time: 1664877145.118204
lastState: 1664877145.118204
currentState: 1664877145.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.138204098 0.03508 0.002286 9.8 0 0 -0.007436
1-2 processing imu...
it_last_IMU.time: 1664877145.128204
lastState: 1664877145.128204
currentState: 1664877145.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.148204088 0.03517 0.002901 9.8 0 0 -0.007336
1-2 processing imu...
it_last_IMU.time: 1664877145.138204
lastState: 1664877145.138204
currentState: 1664877145.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.158204079 0.03527 0.003516 9.8 0 0 -0.007213
1-2 processing imu...
it_last_IMU.time: 1664877145.148204
lastState: 1664877145.148204
currentState: 1664877145.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.168204069 0.03537 0.004131 9.8 0 0 -0.007068
1-2 processing imu...
it_last_IMU.time: 1664877145.158204
lastState: 1664877145.158204
currentState: 1664877145.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.178204060 0.03547 0.004746 9.8 0 0 -0.006901
1-2 processing imu...
it_last_IMU.time: 1664877145.168204
lastState: 1664877145.168204
currentState: 1664877145.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.188204050 0.03556 0.00536 9.8 0 0 -0.006711
1-2 processing imu...
it_last_IMU.time: 1664877145.178204
lastState: 1664877145.178204
currentState: 1664877145.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877145.176913977 0.2675 0.2458 0.001048 -7.047e-05 0.00103 0.384 0.9233
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877145.176914
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877145.176914
state->time: 1664877145.176914
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675493.197940701]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675493.197986385]: the fixed q :[0.667, 0.629, 0.283, 0.283][0m
[0m[ INFO] [1670675493.197996678]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675493.198041102]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2675 0.2458 0.001048
p_wv: 18.52 -15.22 31
p: 19.84 -15.54 29.86
q: [0.667, 0.629, 0.283, 0.283]
l: 0.5137
residual in position: -0.4101 0.4087 0.5891
q_err :[0.999, 0.0251, -0.00937, -0.0181]
residual in q: 0.05014 -0.01876 -0.03626
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877145.176914 it_next->second->time: 1664877145.178204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877145.178204 it_next->second->time: 1664877145.188204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.05 -14.75 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877145.198204041 0.03566 0.005975 9.8 0 0 -0.006499
1-2 processing imu...
it_last_IMU.time: 1664877145.188204
lastState: 1664877145.188204
currentState: 1664877145.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.208204031 0.03576 0.00659 9.8 0 0 -0.006264
1-2 processing imu...
it_last_IMU.time: 1664877145.198204
lastState: 1664877145.198204
currentState: 1664877145.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.218204021 0.03585 0.007204 9.8 0 0 -0.006007
1-2 processing imu...
it_last_IMU.time: 1664877145.208204
lastState: 1664877145.208204
currentState: 1664877145.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.228204012 0.03595 0.007819 9.8 0 0 -0.005727
1-2 processing imu...
it_last_IMU.time: 1664877145.218204
lastState: 1664877145.218204
currentState: 1664877145.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.238204002 0.03587 0.008351 9.8 0 0 -0.005424
1-2 processing imu...
it_last_IMU.time: 1664877145.228204
lastState: 1664877145.228204
currentState: 1664877145.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.248203993 0.03524 0.008617 9.8 0 0 -0.005092
1-2 processing imu...
it_last_IMU.time: 1664877145.238204
lastState: 1664877145.238204
currentState: 1664877145.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.258203983 0.03461 0.008883 9.8 0 0 -0.004726
1-2 processing imu...
it_last_IMU.time: 1664877145.248204
lastState: 1664877145.248204
currentState: 1664877145.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.268203974 0.03398 0.009149 9.8 0 0 -0.004326
1-2 processing imu...
it_last_IMU.time: 1664877145.258204
lastState: 1664877145.258204
currentState: 1664877145.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.278203964 0.03335 0.009414 9.8 0 0 -0.003894
1-2 processing imu...
it_last_IMU.time: 1664877145.268204
lastState: 1664877145.268204
currentState: 1664877145.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.288203955 0.03272 0.009679 9.8 0 0 -0.003427
1-2 processing imu...
it_last_IMU.time: 1664877145.278204
lastState: 1664877145.278204
currentState: 1664877145.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.298203945 0.03209 0.009944 9.8 0 0 -0.002928
1-2 processing imu...
it_last_IMU.time: 1664877145.288204
lastState: 1664877145.288204
currentState: 1664877145.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.308203936 0.03146 0.01021 9.8 0 0 -0.002395
1-2 processing imu...
it_last_IMU.time: 1664877145.298204
lastState: 1664877145.298204
currentState: 1664877145.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.318203926 0.03083 0.01047 9.8 0 0 -0.001828
1-2 processing imu...
it_last_IMU.time: 1664877145.308204
lastState: 1664877145.308204
currentState: 1664877145.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.328203917 0.0302 0.01074 9.8 0 0 -0.001228
1-2 processing imu...
it_last_IMU.time: 1664877145.318204
lastState: 1664877145.318204
currentState: 1664877145.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.338203907 0.0293 0.01149 9.8 0 0 -0.000595
1-2 processing imu...
it_last_IMU.time: 1664877145.328204
lastState: 1664877145.328204
currentState: 1664877145.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.348203897 0.02747 0.01394 9.8 0 0 8.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877145.338204
lastState: 1664877145.338204
currentState: 1664877145.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.358203888 0.02565 0.01638 9.8 0 0 0.000802
1-2 processing imu...
it_last_IMU.time: 1664877145.348204
lastState: 1664877145.348204
currentState: 1664877145.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.368204117 0.02382 0.01882 9.8 0 0 0.001569
1-2 processing imu...
it_last_IMU.time: 1664877145.358204
lastState: 1664877145.358204
currentState: 1664877145.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.378204107 0.02199 0.02127 9.8 0 0 0.002381
1-2 processing imu...
it_last_IMU.time: 1664877145.368204
lastState: 1664877145.368204
currentState: 1664877145.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.388204098 0.02016 0.02371 9.8 0 0 0.00324
1-2 processing imu...
it_last_IMU.time: 1664877145.378204
lastState: 1664877145.378204
currentState: 1664877145.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.398204088 0.01834 0.02615 9.8 0 0 0.004144
1-2 processing imu...
it_last_IMU.time: 1664877145.388204
lastState: 1664877145.388204
currentState: 1664877145.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.408204079 0.01651 0.0286 9.8 0 0 0.005093
1-2 processing imu...
it_last_IMU.time: 1664877145.398204
lastState: 1664877145.398204
currentState: 1664877145.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.418204069 0.01468 0.03104 9.8 0 0 0.006089
1-2 processing imu...
it_last_IMU.time: 1664877145.408204
lastState: 1664877145.408204
currentState: 1664877145.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.428204060 0.01286 0.03348 9.8 0 0 0.00713
1-2 processing imu...
it_last_IMU.time: 1664877145.418204
lastState: 1664877145.418204
currentState: 1664877145.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.438204050 0.01073 0.03547 9.8 0 0 0.008217
1-2 processing imu...
it_last_IMU.time: 1664877145.428204
lastState: 1664877145.428204
currentState: 1664877145.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.448204041 0.007476 0.03579 9.8 0 0 0.009357
1-2 processing imu...
it_last_IMU.time: 1664877145.438204
lastState: 1664877145.438204
currentState: 1664877145.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.458204031 0.004227 0.03611 9.8 0 0 0.01055
1-2 processing imu...
it_last_IMU.time: 1664877145.448204
lastState: 1664877145.448204
currentState: 1664877145.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.468204021 0.000979 0.03643 9.8 0 0 0.0118
1-2 processing imu...
it_last_IMU.time: 1664877145.458204
lastState: 1664877145.458204
currentState: 1664877145.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.478204012 -0.002268 0.03675 9.8 0 0 0.01311
1-2 processing imu...
it_last_IMU.time: 1664877145.468204
lastState: 1664877145.468204
currentState: 1664877145.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.488204002 -0.005515 0.03707 9.8 0 0 0.01448
1-2 processing imu...
it_last_IMU.time: 1664877145.478204
lastState: 1664877145.478204
currentState: 1664877145.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.498203993 -0.008761 0.0374 9.8 0 0 0.01589
1-2 processing imu...
it_last_IMU.time: 1664877145.488204
lastState: 1664877145.488204
currentState: 1664877145.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.508203983 -0.01201 0.03772 9.8 0 0 0.01737
1-2 processing imu...
it_last_IMU.time: 1664877145.498204
lastState: 1664877145.498204
currentState: 1664877145.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.518203974 -0.01525 0.03805 9.8 0 0 0.0189
1-2 processing imu...
it_last_IMU.time: 1664877145.508204
lastState: 1664877145.508204
currentState: 1664877145.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.528203964 -0.0185 0.03837 9.8 0 0 0.02049
1-2 processing imu...
it_last_IMU.time: 1664877145.518204
lastState: 1664877145.518204
currentState: 1664877145.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.538203955 -0.02225 0.03787 9.8 0 0 0.02213
1-2 processing imu...
it_last_IMU.time: 1664877145.528204
lastState: 1664877145.528204
currentState: 1664877145.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.548203945 -0.02795 0.0342 9.8 0 0 0.02384
1-2 processing imu...
it_last_IMU.time: 1664877145.538204
lastState: 1664877145.538204
currentState: 1664877145.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.558203936 -0.03366 0.03053 9.8 0 0 0.02561
1-2 processing imu...
it_last_IMU.time: 1664877145.548204
lastState: 1664877145.548204
currentState: 1664877145.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.568203926 -0.03936 0.02686 9.8 0 0 0.02745
1-2 processing imu...
it_last_IMU.time: 1664877145.558204
lastState: 1664877145.558204
currentState: 1664877145.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.578203917 -0.04507 0.0232 9.8 0 0 0.02935
1-2 processing imu...
it_last_IMU.time: 1664877145.568204
lastState: 1664877145.568204
currentState: 1664877145.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.588203907 -0.05078 0.01954 9.8 0 0 0.03132
1-2 processing imu...
it_last_IMU.time: 1664877145.578204
lastState: 1664877145.578204
currentState: 1664877145.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.598203897 -0.05649 0.01588 9.8 0 0 0.03335
1-2 processing imu...
it_last_IMU.time: 1664877145.588204
lastState: 1664877145.588204
currentState: 1664877145.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.608203888 -0.06221 0.01223 9.8 0 0 0.03545
1-2 processing imu...
it_last_IMU.time: 1664877145.598204
lastState: 1664877145.598204
currentState: 1664877145.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877145.589607000 0.2822 0.2598 0.001218 -4.479e-06 0.001834 0.3854 0.9227
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877145.589607
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877145.589607
state->time: 1664877145.589607
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675494.093981500]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675494.094107291]: the fixed q :[0.667, 0.628, 0.28, 0.287][0m
[0m[ INFO] [1670675494.094164145]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675494.094217154]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2822 0.2598 0.001218
p_wv: 18.52 -15.22 31
p: 19.82 -15.46 29.94
q: [0.667, 0.628, 0.28, 0.287]
l: 0.5148
residual in position: -0.3848 0.3816 0.5458
q_err :[0.999, 0.028, -0.00473, -0.017]
residual in q: 0.05599 -0.009473 -0.03394
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877145.589607 it_next->second->time: 1664877145.598204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877145.598204 it_next->second->time: 1664877145.608204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.09 -14.73 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877145.618204117 -0.06792 0.008589 9.8 0 0 0.03762
1-2 processing imu...
it_last_IMU.time: 1664877145.608204
lastState: 1664877145.608204
currentState: 1664877145.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.628204107 -0.07364 0.004951 9.8 0 0 0.03985
1-2 processing imu...
it_last_IMU.time: 1664877145.618204
lastState: 1664877145.618204
currentState: 1664877145.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.638204098 -0.07988 0.001731 9.8 0 0 0.04214
1-2 processing imu...
it_last_IMU.time: 1664877145.628204
lastState: 1664877145.628204
currentState: 1664877145.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.648204088 -0.0882 0.000184 9.8 0 0 0.04451
1-2 processing imu...
it_last_IMU.time: 1664877145.638204
lastState: 1664877145.638204
currentState: 1664877145.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.658204079 -0.09652 -0.001353 9.8 0 0 0.04693
1-2 processing imu...
it_last_IMU.time: 1664877145.648204
lastState: 1664877145.648204
currentState: 1664877145.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.668204069 -0.1048 -0.002879 9.8 0 0 0.04943
1-2 processing imu...
it_last_IMU.time: 1664877145.658204
lastState: 1664877145.658204
currentState: 1664877145.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.678204060 -0.1132 -0.004396 9.8 0 0 0.052
1-2 processing imu...
it_last_IMU.time: 1664877145.668204
lastState: 1664877145.668204
currentState: 1664877145.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.688204050 -0.1215 -0.0059 9.8 0 0 0.05463
1-2 processing imu...
it_last_IMU.time: 1664877145.678204
lastState: 1664877145.678204
currentState: 1664877145.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.698204041 -0.1298 -0.007392 9.8 0 0 0.05733
1-2 processing imu...
it_last_IMU.time: 1664877145.688204
lastState: 1664877145.688204
currentState: 1664877145.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.708204031 -0.1382 -0.008871 9.8 0 0 0.0601
1-2 processing imu...
it_last_IMU.time: 1664877145.698204
lastState: 1664877145.698204
currentState: 1664877145.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.718204021 -0.1465 -0.01034 9.8 0 0 0.06294
1-2 processing imu...
it_last_IMU.time: 1664877145.708204
lastState: 1664877145.708204
currentState: 1664877145.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.728204012 -0.1548 -0.01179 9.8 0 0 0.06584
1-2 processing imu...
it_last_IMU.time: 1664877145.718204
lastState: 1664877145.718204
currentState: 1664877145.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.738204002 -0.1637 -0.01301 9.8 0 0 0.06881
1-2 processing imu...
it_last_IMU.time: 1664877145.728204
lastState: 1664877145.728204
currentState: 1664877145.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.748203993 -0.1752 -0.01329 9.8 0 0 0.07185
1-2 processing imu...
it_last_IMU.time: 1664877145.738204
lastState: 1664877145.738204
currentState: 1664877145.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.758203983 -0.1866 -0.01355 9.8 0 0 0.07496
1-2 processing imu...
it_last_IMU.time: 1664877145.748204
lastState: 1664877145.748204
currentState: 1664877145.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.768203974 -0.198 -0.01378 9.8 0 0 0.07814
1-2 processing imu...
it_last_IMU.time: 1664877145.758204
lastState: 1664877145.758204
currentState: 1664877145.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.778203964 -0.2095 -0.01399 9.8 0 0 0.08139
1-2 processing imu...
it_last_IMU.time: 1664877145.768204
lastState: 1664877145.768204
currentState: 1664877145.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.788203955 -0.2209 -0.01418 9.8 0 0 0.0847
1-2 processing imu...
it_last_IMU.time: 1664877145.778204
lastState: 1664877145.778204
currentState: 1664877145.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.798203945 -0.2324 -0.01434 9.8 0 0 0.08809
1-2 processing imu...
it_last_IMU.time: 1664877145.788204
lastState: 1664877145.788204
currentState: 1664877145.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.808203936 -0.2438 -0.01447 9.8 0 0 0.09155
1-2 processing imu...
it_last_IMU.time: 1664877145.798204
lastState: 1664877145.798204
currentState: 1664877145.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.818203926 -0.2552 -0.01457 9.8 0 0 0.09508
1-2 processing imu...
it_last_IMU.time: 1664877145.808204
lastState: 1664877145.808204
currentState: 1664877145.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.828203917 -0.2667 -0.01465 9.8 0 0 0.09867
1-2 processing imu...
it_last_IMU.time: 1664877145.818204
lastState: 1664877145.818204
currentState: 1664877145.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.838203907 -0.2786 -0.01434 9.8 0 0 0.1023
1-2 processing imu...
it_last_IMU.time: 1664877145.828204
lastState: 1664877145.828204
currentState: 1664877145.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.848203897 -0.2929 -0.01244 9.8 0 0 0.1061
1-2 processing imu...
it_last_IMU.time: 1664877145.838204
lastState: 1664877145.838204
currentState: 1664877145.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.858203888 -0.3071 -0.01051 9.8 0 0 0.1099
1-2 processing imu...
it_last_IMU.time: 1664877145.848204
lastState: 1664877145.848204
currentState: 1664877145.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.868204117 -0.3214 -0.008528 9.8 0 0 0.1138
1-2 processing imu...
it_last_IMU.time: 1664877145.858204
lastState: 1664877145.858204
currentState: 1664877145.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.878204107 -0.3356 -0.006502 9.8 0 0 0.1177
1-2 processing imu...
it_last_IMU.time: 1664877145.868204
lastState: 1664877145.868204
currentState: 1664877145.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.888204098 -0.3499 -0.00443 9.8 0 0 0.1217
1-2 processing imu...
it_last_IMU.time: 1664877145.878204
lastState: 1664877145.878204
currentState: 1664877145.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.898204088 -0.3641 -0.002309 9.8 0 0 0.1258
1-2 processing imu...
it_last_IMU.time: 1664877145.888204
lastState: 1664877145.888204
currentState: 1664877145.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.908204079 -0.3783 -0.000137 9.8 0 0 0.13
1-2 processing imu...
it_last_IMU.time: 1664877145.898204
lastState: 1664877145.898204
currentState: 1664877145.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.918204069 -0.3925 0.002088 9.8 0 0 0.1342
1-2 processing imu...
it_last_IMU.time: 1664877145.908204
lastState: 1664877145.908204
currentState: 1664877145.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.928204060 -0.4068 0.004368 9.8 0 0 0.1385
1-2 processing imu...
it_last_IMU.time: 1664877145.918204
lastState: 1664877145.918204
currentState: 1664877145.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.938204050 -0.4214 0.006422 9.8 0 0 0.1429
1-2 processing imu...
it_last_IMU.time: 1664877145.928204
lastState: 1664877145.928204
currentState: 1664877145.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.948204041 -0.4377 0.007176 9.8 0 0 0.1474
1-2 processing imu...
it_last_IMU.time: 1664877145.938204
lastState: 1664877145.938204
currentState: 1664877145.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.958204031 -0.4541 0.007998 9.8 0 0 0.1519
1-2 processing imu...
it_last_IMU.time: 1664877145.948204
lastState: 1664877145.948204
currentState: 1664877145.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.968204021 -0.4705 0.00889 9.8 0 0 0.1565
1-2 processing imu...
it_last_IMU.time: 1664877145.958204
lastState: 1664877145.958204
currentState: 1664877145.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.978204012 -0.4868 0.009855 9.8 0 0 0.1611
1-2 processing imu...
it_last_IMU.time: 1664877145.968204
lastState: 1664877145.968204
currentState: 1664877145.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877145.988204002 -0.5032 0.0109 9.8 0 0 0.1658
1-2 processing imu...
it_last_IMU.time: 1664877145.978204
lastState: 1664877145.978204
currentState: 1664877145.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877145.998203993 -0.5196 0.01201 9.8 0 0 0.1705
1-2 processing imu...
it_last_IMU.time: 1664877145.988204
lastState: 1664877145.988204
currentState: 1664877145.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.008203983 -0.5359 0.01321 9.8 0 0 0.1754
1-2 processing imu...
it_last_IMU.time: 1664877145.998204
lastState: 1664877145.998204
currentState: 1664877146.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.018203974 -0.5523 0.0145 9.8 0 0 0.1803
1-2 processing imu...
it_last_IMU.time: 1664877146.008204
lastState: 1664877146.008204
currentState: 1664877146.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.028203964 -0.5686 0.01587 9.8 0 0 0.1852
1-2 processing imu...
it_last_IMU.time: 1664877146.018204
lastState: 1664877146.018204
currentState: 1664877146.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877146.024182081 0.2962 0.2744 0.00143 -0.0003871 0.002331 0.3983 0.9172
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877146.024182
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877146.024182
state->time: 1664877146.024182
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675495.028429972]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675495.028535878]: the fixed q :[0.663, 0.63, 0.269, 0.301][0m
[0m[ INFO] [1670675495.028609818]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675495.028685141]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2962 0.2744 0.00143
p_wv: 18.52 -15.22 31
p: 19.88 -15.49 29.89
q: [0.663, 0.63, 0.269, 0.301]
l: 0.5142
residual in position: -0.4008 0.4134 0.5706
q_err :[0.999, 0.0308, 0.0137, -0.00585]
residual in q: 0.06167 0.02732 -0.01172
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877146.024182 it_next->second->time: 1664877146.028204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.11 -14.69 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877146.038203955 -0.5851 0.01673 9.8 0 0 0.1902
1-2 processing imu...
it_last_IMU.time: 1664877146.028204
lastState: 1664877146.028204
currentState: 1664877146.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.048203945 -0.6022 0.01466 9.8 0 0 0.1953
1-2 processing imu...
it_last_IMU.time: 1664877146.038204
lastState: 1664877146.038204
currentState: 1664877146.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.058203936 -0.6193 0.01268 9.8 0 0 0.2004
1-2 processing imu...
it_last_IMU.time: 1664877146.048204
lastState: 1664877146.048204
currentState: 1664877146.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.068203926 -0.6363 0.01081 9.8 0 0 0.2055
1-2 processing imu...
it_last_IMU.time: 1664877146.058204
lastState: 1664877146.058204
currentState: 1664877146.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.078203917 -0.6534 0.009033 9.8 0 0 0.2106
1-2 processing imu...
it_last_IMU.time: 1664877146.068204
lastState: 1664877146.068204
currentState: 1664877146.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.088203907 -0.6706 0.007366 9.8 0 0 0.2158
1-2 processing imu...
it_last_IMU.time: 1664877146.078204
lastState: 1664877146.078204
currentState: 1664877146.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.098203897 -0.6877 0.005807 9.8 0 0 0.221
1-2 processing imu...
it_last_IMU.time: 1664877146.088204
lastState: 1664877146.088204
currentState: 1664877146.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.108203888 -0.7048 0.004361 9.8 0 0 0.2263
1-2 processing imu...
it_last_IMU.time: 1664877146.098204
lastState: 1664877146.098204
currentState: 1664877146.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.118204117 -0.722 0.003029 9.8 0 0 0.2316
1-2 processing imu...
it_last_IMU.time: 1664877146.108204
lastState: 1664877146.108204
currentState: 1664877146.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.128204107 -0.7391 0.001814 9.8 0 0 0.2369
1-2 processing imu...
it_last_IMU.time: 1664877146.118204
lastState: 1664877146.118204
currentState: 1664877146.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.138204098 -0.7564 0.000582 9.8 0 0 0.2422
1-2 processing imu...
it_last_IMU.time: 1664877146.128204
lastState: 1664877146.128204
currentState: 1664877146.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.148204088 -0.7746 -0.001287 9.8 0 0 0.2476
1-2 processing imu...
it_last_IMU.time: 1664877146.138204
lastState: 1664877146.138204
currentState: 1664877146.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.158204079 -0.7928 -0.003024 9.8 0 0 0.253
1-2 processing imu...
it_last_IMU.time: 1664877146.148204
lastState: 1664877146.148204
currentState: 1664877146.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.168204069 -0.811 -0.004626 9.8 0 0 0.2584
1-2 processing imu...
it_last_IMU.time: 1664877146.158204
lastState: 1664877146.158204
currentState: 1664877146.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.178204060 -0.8293 -0.00609 9.8 0 0 0.2638
1-2 processing imu...
it_last_IMU.time: 1664877146.168204
lastState: 1664877146.168204
currentState: 1664877146.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.188204050 -0.8475 -0.007413 9.8 0 0 0.2692
1-2 processing imu...
it_last_IMU.time: 1664877146.178204
lastState: 1664877146.178204
currentState: 1664877146.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.198204041 -0.8658 -0.008592 9.8 0 0 0.2746
1-2 processing imu...
it_last_IMU.time: 1664877146.188204
lastState: 1664877146.188204
currentState: 1664877146.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.208204031 -0.884 -0.009624 9.8 0 0 0.2801
1-2 processing imu...
it_last_IMU.time: 1664877146.198204
lastState: 1664877146.198204
currentState: 1664877146.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.218204021 -0.9023 -0.01051 9.8 0 0 0.2855
1-2 processing imu...
it_last_IMU.time: 1664877146.208204
lastState: 1664877146.208204
currentState: 1664877146.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.228204012 -0.9206 -0.01123 9.8 0 0 0.291
1-2 processing imu...
it_last_IMU.time: 1664877146.218204
lastState: 1664877146.218204
currentState: 1664877146.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.238204002 -0.939 -0.01188 9.8 0 0 0.2965
1-2 processing imu...
it_last_IMU.time: 1664877146.228204
lastState: 1664877146.228204
currentState: 1664877146.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.248203993 -0.9581 -0.01285 9.8 0 0 0.3019
1-2 processing imu...
it_last_IMU.time: 1664877146.238204
lastState: 1664877146.238204
currentState: 1664877146.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.258203983 -0.9772 -0.01364 9.8 0 0 0.3074
1-2 processing imu...
it_last_IMU.time: 1664877146.248204
lastState: 1664877146.248204
currentState: 1664877146.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.268203974 -0.9963 -0.01427 9.8 0 0 0.3129
1-2 processing imu...
it_last_IMU.time: 1664877146.258204
lastState: 1664877146.258204
currentState: 1664877146.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.278203964 -1.015 -0.01472 9.8 0 0 0.3184
1-2 processing imu...
it_last_IMU.time: 1664877146.268204
lastState: 1664877146.268204
currentState: 1664877146.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.288203955 -1.035 -0.01499 9.8 0 0 0.3239
1-2 processing imu...
it_last_IMU.time: 1664877146.278204
lastState: 1664877146.278204
currentState: 1664877146.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.298203945 -1.054 -0.01509 9.8 0 0 0.3293
1-2 processing imu...
it_last_IMU.time: 1664877146.288204
lastState: 1664877146.288204
currentState: 1664877146.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.308203936 -1.073 -0.015 9.8 0 0 0.3348
1-2 processing imu...
it_last_IMU.time: 1664877146.298204
lastState: 1664877146.298204
currentState: 1664877146.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.318203926 -1.092 -0.01472 9.8 0 0 0.3403
1-2 processing imu...
it_last_IMU.time: 1664877146.308204
lastState: 1664877146.308204
currentState: 1664877146.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.328203917 -1.111 -0.01425 9.8 0 0 0.3458
1-2 processing imu...
it_last_IMU.time: 1664877146.318204
lastState: 1664877146.318204
currentState: 1664877146.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.338203907 -1.13 -0.01375 9.8 0 0 0.3513
1-2 processing imu...
it_last_IMU.time: 1664877146.328204
lastState: 1664877146.328204
currentState: 1664877146.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.348203897 -1.147 -0.01407 9.8 0 0 0.3567
1-2 processing imu...
it_last_IMU.time: 1664877146.338204
lastState: 1664877146.338204
currentState: 1664877146.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.358203888 -1.164 -0.0142 9.8 0 0 0.3622
1-2 processing imu...
it_last_IMU.time: 1664877146.348204
lastState: 1664877146.348204
currentState: 1664877146.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.368204117 -1.181 -0.01414 9.8 0 0 0.3676
1-2 processing imu...
it_last_IMU.time: 1664877146.358204
lastState: 1664877146.358204
currentState: 1664877146.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.378204107 -1.197 -0.0139 9.8 0 0 0.373
1-2 processing imu...
it_last_IMU.time: 1664877146.368204
lastState: 1664877146.368204
currentState: 1664877146.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.388204098 -1.214 -0.01347 9.8 0 0 0.3784
1-2 processing imu...
it_last_IMU.time: 1664877146.378204
lastState: 1664877146.378204
currentState: 1664877146.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.398204088 -1.231 -0.01284 9.8 0 0 0.3838
1-2 processing imu...
it_last_IMU.time: 1664877146.388204
lastState: 1664877146.388204
currentState: 1664877146.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.408204079 -1.248 -0.01202 9.8 0 0 0.3891
1-2 processing imu...
it_last_IMU.time: 1664877146.398204
lastState: 1664877146.398204
currentState: 1664877146.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.418204069 -1.265 -0.011 9.8 0 0 0.3944
1-2 processing imu...
it_last_IMU.time: 1664877146.408204
lastState: 1664877146.408204
currentState: 1664877146.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.428204060 -1.282 -0.009784 9.8 0 0 0.3997
1-2 processing imu...
it_last_IMU.time: 1664877146.418204
lastState: 1664877146.418204
currentState: 1664877146.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.438204050 -1.299 -0.008573 9.8 0 0 0.405
1-2 processing imu...
it_last_IMU.time: 1664877146.428204
lastState: 1664877146.428204
currentState: 1664877146.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.448204041 -1.313 -0.008621 9.8 0 0 0.4103
1-2 processing imu...
it_last_IMU.time: 1664877146.438204
lastState: 1664877146.438204
currentState: 1664877146.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877146.437436104 0.3037 0.285 -0.0002422 0.0004318 -0.001445 0.4531 0.8915
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877146.437436
time: 1664877146.437436
state->time: 1664877146.438204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675495.916531503]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675495.916581405]: the fixed q :[0.647, 0.636, 0.252, 0.335][0m
[0m[ INFO] [1670675495.916591953]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675495.916619514]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.3037 0.285 -0.0002422
p_wv: 18.52 -15.22 31
p: 19.8 -15.47 29.98
q: [0.647, 0.636, 0.252, 0.335]
l: 0.5133
residual in position: -0.3549 0.4117 0.5215
q_err :[0.998, 0.0331, 0.0469, 0.0411]
residual in q: 0.06627 0.09408 0.08236
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877146.438204 it_next->second->time: 1664877146.448204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.12 -14.68 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877146.458204031 -1.328 -0.008479 9.8 0 0 0.4155
1-2 processing imu...
it_last_IMU.time: 1664877146.448204
lastState: 1664877146.448204
currentState: 1664877146.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.468204021 -1.343 -0.008146 9.8 0 0 0.4207
1-2 processing imu...
it_last_IMU.time: 1664877146.458204
lastState: 1664877146.458204
currentState: 1664877146.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.478204012 -1.358 -0.00762 9.8 0 0 0.4258
1-2 processing imu...
it_last_IMU.time: 1664877146.468204
lastState: 1664877146.468204
currentState: 1664877146.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.488204002 -1.372 -0.0069 9.8 0 0 0.4309
1-2 processing imu...
it_last_IMU.time: 1664877146.478204
lastState: 1664877146.478204
currentState: 1664877146.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.498203993 -1.387 -0.005982 9.8 0 0 0.4359
1-2 processing imu...
it_last_IMU.time: 1664877146.488204
lastState: 1664877146.488204
currentState: 1664877146.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.508203983 -1.402 -0.004865 9.8 0 0 0.441
1-2 processing imu...
it_last_IMU.time: 1664877146.498204
lastState: 1664877146.498204
currentState: 1664877146.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.518203974 -1.417 -0.003548 9.8 0 0 0.4459
1-2 processing imu...
it_last_IMU.time: 1664877146.508204
lastState: 1664877146.508204
currentState: 1664877146.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.528203964 -1.432 -0.002028 9.8 0 0 0.4509
1-2 processing imu...
it_last_IMU.time: 1664877146.518204
lastState: 1664877146.518204
currentState: 1664877146.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.538203955 -1.446 -0.000747 9.8 0 0 0.4558
1-2 processing imu...
it_last_IMU.time: 1664877146.528204
lastState: 1664877146.528204
currentState: 1664877146.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.548203945 -1.461 -0.002566 9.8 0 0 0.4607
1-2 processing imu...
it_last_IMU.time: 1664877146.538204
lastState: 1664877146.538204
currentState: 1664877146.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.558203936 -1.475 -0.004183 9.8 0 0 0.4655
1-2 processing imu...
it_last_IMU.time: 1664877146.548204
lastState: 1664877146.548204
currentState: 1664877146.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.568203926 -1.49 -0.005594 9.8 0 0 0.4702
1-2 processing imu...
it_last_IMU.time: 1664877146.558204
lastState: 1664877146.558204
currentState: 1664877146.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.578203917 -1.504 -0.006799 9.8 0 0 0.475
1-2 processing imu...
it_last_IMU.time: 1664877146.568204
lastState: 1664877146.568204
currentState: 1664877146.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.588203907 -1.519 -0.007796 9.8 0 0 0.4796
1-2 processing imu...
it_last_IMU.time: 1664877146.578204
lastState: 1664877146.578204
currentState: 1664877146.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.598203897 -1.533 -0.008583 9.8 0 0 0.4843
1-2 processing imu...
it_last_IMU.time: 1664877146.588204
lastState: 1664877146.588204
currentState: 1664877146.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.608203888 -1.548 -0.009158 9.8 0 0 0.4889
1-2 processing imu...
it_last_IMU.time: 1664877146.598204
lastState: 1664877146.598204
currentState: 1664877146.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.618204117 -1.562 -0.009519 9.8 0 0 0.4934
1-2 processing imu...
it_last_IMU.time: 1664877146.608204
lastState: 1664877146.608204
currentState: 1664877146.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.628204107 -1.577 -0.009666 9.8 0 0 0.4979
1-2 processing imu...
it_last_IMU.time: 1664877146.618204
lastState: 1664877146.618204
currentState: 1664877146.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.638204098 -1.591 -0.009664 9.8 0 0 0.5023
1-2 processing imu...
it_last_IMU.time: 1664877146.628204
lastState: 1664877146.628204
currentState: 1664877146.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.648204088 -1.603 -0.01001 9.8 0 0 0.5067
1-2 processing imu...
it_last_IMU.time: 1664877146.638204
lastState: 1664877146.638204
currentState: 1664877146.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.658204079 -1.615 -0.01017 9.8 0 0 0.5111
1-2 processing imu...
it_last_IMU.time: 1664877146.648204
lastState: 1664877146.648204
currentState: 1664877146.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.668204069 -1.627 -0.01014 9.8 0 0 0.5153
1-2 processing imu...
it_last_IMU.time: 1664877146.658204
lastState: 1664877146.658204
currentState: 1664877146.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.678204060 -1.639 -0.009919 9.8 0 0 0.5196
1-2 processing imu...
it_last_IMU.time: 1664877146.668204
lastState: 1664877146.668204
currentState: 1664877146.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.688204050 -1.65 -0.009506 9.8 0 0 0.5238
1-2 processing imu...
it_last_IMU.time: 1664877146.678204
lastState: 1664877146.678204
currentState: 1664877146.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.698204041 -1.662 -0.0089 9.8 0 0 0.5279
1-2 processing imu...
it_last_IMU.time: 1664877146.688204
lastState: 1664877146.688204
currentState: 1664877146.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.708204031 -1.674 -0.0081 9.8 0 0 0.532
1-2 processing imu...
it_last_IMU.time: 1664877146.698204
lastState: 1664877146.698204
currentState: 1664877146.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.718204021 -1.686 -0.007104 9.8 0 0 0.536
1-2 processing imu...
it_last_IMU.time: 1664877146.708204
lastState: 1664877146.708204
currentState: 1664877146.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.728204012 -1.698 -0.005913 9.8 0 0 0.54
1-2 processing imu...
it_last_IMU.time: 1664877146.718204
lastState: 1664877146.718204
currentState: 1664877146.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.738204002 -1.71 -0.004533 9.8 0 0 0.5439
1-2 processing imu...
it_last_IMU.time: 1664877146.728204
lastState: 1664877146.728204
currentState: 1664877146.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.748203993 -1.72 -0.003039 9.8 0 0 0.5478
1-2 processing imu...
it_last_IMU.time: 1664877146.738204
lastState: 1664877146.738204
currentState: 1664877146.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.758203983 -1.729 -0.001375 9.8 0 0 0.5516
1-2 processing imu...
it_last_IMU.time: 1664877146.748204
lastState: 1664877146.748204
currentState: 1664877146.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.768203974 -1.738 0.000459 9.8 0 0 0.5554
1-2 processing imu...
it_last_IMU.time: 1664877146.758204
lastState: 1664877146.758204
currentState: 1664877146.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.778203964 -1.748 0.002463 9.8 0 0 0.5591
1-2 processing imu...
it_last_IMU.time: 1664877146.768204
lastState: 1664877146.768204
currentState: 1664877146.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.788203955 -1.758 0.004639 9.8 0 0 0.5627
1-2 processing imu...
it_last_IMU.time: 1664877146.778204
lastState: 1664877146.778204
currentState: 1664877146.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.798203945 -1.767 0.006987 9.8 0 0 0.5663
1-2 processing imu...
it_last_IMU.time: 1664877146.788204
lastState: 1664877146.788204
currentState: 1664877146.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.808203936 -1.777 0.009507 9.8 0 0 0.5699
1-2 processing imu...
it_last_IMU.time: 1664877146.798204
lastState: 1664877146.798204
currentState: 1664877146.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.818203926 -1.786 0.0122 9.8 0 0 0.5734
1-2 processing imu...
it_last_IMU.time: 1664877146.808204
lastState: 1664877146.808204
currentState: 1664877146.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.828203917 -1.796 0.01507 9.8 0 0 0.5768
1-2 processing imu...
it_last_IMU.time: 1664877146.818204
lastState: 1664877146.818204
currentState: 1664877146.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.838203907 -1.806 0.01768 9.8 0 0 0.5802
1-2 processing imu...
it_last_IMU.time: 1664877146.828204
lastState: 1664877146.828204
currentState: 1664877146.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.848203897 -1.815 0.01625 9.8 0 0 0.5836
1-2 processing imu...
it_last_IMU.time: 1664877146.838204
lastState: 1664877146.838204
currentState: 1664877146.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.858203888 -1.824 0.01498 9.8 0 0 0.5868
1-2 processing imu...
it_last_IMU.time: 1664877146.848204
lastState: 1664877146.848204
currentState: 1664877146.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877146.838238001 0.3148 0.3029 -0.0007632 0.000829 -0.002499 0.5481 0.8364
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877146.838238
time: 1664877146.838238
state->time: 1664877146.838204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675496.803492481]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675496.803524224]: the fixed q :[0.612, 0.63, 0.263, 0.399][0m
[0m[ INFO] [1670675496.803533659]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675496.803554350]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.3148 0.3029 -0.0007632
p_wv: 18.52 -15.22 31
p: 19.78 -15.47 30.04
q: [0.612, 0.63, 0.263, 0.399]
l: 0.5142
residual in position: -0.3325 0.4319 0.491
q_err :[0.991, 0.0412, 0.085, 0.0899]
residual in q: 0.08305 0.1714 0.1813
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877146.838204 it_next->second->time: 1664877146.848204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877146.848204 it_next->second->time: 1664877146.858204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.16 -14.66 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877146.868204117 -1.833 0.01389 9.8 0 0 0.59
1-2 processing imu...
it_last_IMU.time: 1664877146.858204
lastState: 1664877146.858204
currentState: 1664877146.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.878204107 -1.842 0.01295 9.8 0 0 0.5932
1-2 processing imu...
it_last_IMU.time: 1664877146.868204
lastState: 1664877146.868204
currentState: 1664877146.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.888204098 -1.852 0.01219 9.8 0 0 0.5963
1-2 processing imu...
it_last_IMU.time: 1664877146.878204
lastState: 1664877146.878204
currentState: 1664877146.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.898204088 -1.861 0.0116 9.8 0 0 0.5993
1-2 processing imu...
it_last_IMU.time: 1664877146.888204
lastState: 1664877146.888204
currentState: 1664877146.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.908204079 -1.87 0.01117 9.8 0 0 0.6023
1-2 processing imu...
it_last_IMU.time: 1664877146.898204
lastState: 1664877146.898204
currentState: 1664877146.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.918204069 -1.88 0.01092 9.8 0 0 0.6052
1-2 processing imu...
it_last_IMU.time: 1664877146.908204
lastState: 1664877146.908204
currentState: 1664877146.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.928204060 -1.89 0.01083 9.8 0 0 0.608
1-2 processing imu...
it_last_IMU.time: 1664877146.918204
lastState: 1664877146.918204
currentState: 1664877146.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.938204050 -1.899 0.01049 9.8 0 0 0.6108
1-2 processing imu...
it_last_IMU.time: 1664877146.928204
lastState: 1664877146.928204
currentState: 1664877146.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.948204041 -1.904 0.005526 9.8 0 0 0.6135
1-2 processing imu...
it_last_IMU.time: 1664877146.938204
lastState: 1664877146.938204
currentState: 1664877146.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.958204031 -1.91 0.000687 9.8 0 0 0.6161
1-2 processing imu...
it_last_IMU.time: 1664877146.948204
lastState: 1664877146.948204
currentState: 1664877146.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.968204021 -1.916 -0.00403 9.8 0 0 0.6187
1-2 processing imu...
it_last_IMU.time: 1664877146.958204
lastState: 1664877146.958204
currentState: 1664877146.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.978204012 -1.922 -0.008626 9.8 0 0 0.6212
1-2 processing imu...
it_last_IMU.time: 1664877146.968204
lastState: 1664877146.968204
currentState: 1664877146.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877146.988204002 -1.928 -0.0131 9.8 0 0 0.6236
1-2 processing imu...
it_last_IMU.time: 1664877146.978204
lastState: 1664877146.978204
currentState: 1664877146.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877146.998203993 -1.935 -0.01745 9.8 0 0 0.626
1-2 processing imu...
it_last_IMU.time: 1664877146.988204
lastState: 1664877146.988204
currentState: 1664877146.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.008203983 -1.941 -0.02167 9.8 0 0 0.6282
1-2 processing imu...
it_last_IMU.time: 1664877146.998204
lastState: 1664877146.998204
currentState: 1664877147.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.018203974 -1.948 -0.02578 9.8 0 0 0.6304
1-2 processing imu...
it_last_IMU.time: 1664877147.008204
lastState: 1664877147.008204
currentState: 1664877147.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.028203964 -1.954 -0.02976 9.8 0 0 0.6325
1-2 processing imu...
it_last_IMU.time: 1664877147.018204
lastState: 1664877147.018204
currentState: 1664877147.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.038203955 -1.961 -0.0335 9.8 0 0 0.6346
1-2 processing imu...
it_last_IMU.time: 1664877147.028204
lastState: 1664877147.028204
currentState: 1664877147.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.048203945 -1.966 -0.03573 9.8 0 0 0.6365
1-2 processing imu...
it_last_IMU.time: 1664877147.038204
lastState: 1664877147.038204
currentState: 1664877147.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.058203936 -1.97 -0.03786 9.8 0 0 0.6384
1-2 processing imu...
it_last_IMU.time: 1664877147.048204
lastState: 1664877147.048204
currentState: 1664877147.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.068203926 -1.975 -0.0399 9.8 0 0 0.6403
1-2 processing imu...
it_last_IMU.time: 1664877147.058204
lastState: 1664877147.058204
currentState: 1664877147.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.078203917 -1.98 -0.04184 9.8 0 0 0.642
1-2 processing imu...
it_last_IMU.time: 1664877147.068204
lastState: 1664877147.068204
currentState: 1664877147.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.088203907 -1.985 -0.04369 9.8 0 0 0.6437
1-2 processing imu...
it_last_IMU.time: 1664877147.078204
lastState: 1664877147.078204
currentState: 1664877147.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.098203897 -1.99 -0.04543 9.8 0 0 0.6453
1-2 processing imu...
it_last_IMU.time: 1664877147.088204
lastState: 1664877147.088204
currentState: 1664877147.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.108203888 -1.996 -0.04709 9.8 0 0 0.6468
1-2 processing imu...
it_last_IMU.time: 1664877147.098204
lastState: 1664877147.098204
currentState: 1664877147.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.118204117 -2.001 -0.04864 9.8 0 0 0.6483
1-2 processing imu...
it_last_IMU.time: 1664877147.108204
lastState: 1664877147.108204
currentState: 1664877147.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.128204107 -2.007 -0.0501 9.8 0 0 0.6497
1-2 processing imu...
it_last_IMU.time: 1664877147.118204
lastState: 1664877147.118204
currentState: 1664877147.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.138204098 -2.012 -0.05136 9.8 0 0 0.651
1-2 processing imu...
it_last_IMU.time: 1664877147.128204
lastState: 1664877147.128204
currentState: 1664877147.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.148204088 -2.015 -0.05124 9.8 0 0 0.6522
1-2 processing imu...
it_last_IMU.time: 1664877147.138204
lastState: 1664877147.138204
currentState: 1664877147.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.158204079 -2.019 -0.05105 9.8 0 0 0.6534
1-2 processing imu...
it_last_IMU.time: 1664877147.148204
lastState: 1664877147.148204
currentState: 1664877147.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.168204069 -2.022 -0.05079 9.8 0 0 0.6545
1-2 processing imu...
it_last_IMU.time: 1664877147.158204
lastState: 1664877147.158204
currentState: 1664877147.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.178204060 -2.026 -0.05047 9.8 0 0 0.6555
1-2 processing imu...
it_last_IMU.time: 1664877147.168204
lastState: 1664877147.168204
currentState: 1664877147.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.188204050 -2.029 -0.05008 9.8 0 0 0.6565
1-2 processing imu...
it_last_IMU.time: 1664877147.178204
lastState: 1664877147.178204
currentState: 1664877147.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.198204041 -2.033 -0.04962 9.8 0 0 0.6574
1-2 processing imu...
it_last_IMU.time: 1664877147.188204
lastState: 1664877147.188204
currentState: 1664877147.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.208204031 -2.037 -0.04911 9.8 0 0 0.6582
1-2 processing imu...
it_last_IMU.time: 1664877147.198204
lastState: 1664877147.198204
currentState: 1664877147.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.218204021 -2.041 -0.04852 9.8 0 0 0.659
1-2 processing imu...
it_last_IMU.time: 1664877147.208204
lastState: 1664877147.208204
currentState: 1664877147.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.228204012 -2.045 -0.04788 9.8 0 0 0.6597
1-2 processing imu...
it_last_IMU.time: 1664877147.218204
lastState: 1664877147.218204
currentState: 1664877147.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.238204002 -2.049 -0.04711 9.8 0 0 0.6603
1-2 processing imu...
it_last_IMU.time: 1664877147.228204
lastState: 1664877147.228204
currentState: 1664877147.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.248203993 -2.049 -0.04544 9.8 0 0 0.6608
1-2 processing imu...
it_last_IMU.time: 1664877147.238204
lastState: 1664877147.238204
currentState: 1664877147.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.258203983 -2.048 -0.04377 9.8 0 0 0.6613
1-2 processing imu...
it_last_IMU.time: 1664877147.248204
lastState: 1664877147.248204
currentState: 1664877147.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.268203974 -2.048 -0.04208 9.8 0 0 0.6617
1-2 processing imu...
it_last_IMU.time: 1664877147.258204
lastState: 1664877147.258204
currentState: 1664877147.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877147.254610062 0.3161 0.3216 -0.0003185 0.0002942 -0.002115 0.6494 0.7605
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877147.254610
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877147.254610
state->time: 1664877147.254610
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675497.674450121]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675497.674520498]: the fixed q :[0.552, 0.603, 0.314, 0.482][0m
[0m[ INFO] [1670675497.674567196]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675497.674619719]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.3161 0.3216 -0.0003185
p_wv: 18.52 -15.22 31
p: 19.99 -15.45 29.95
q: [0.552, 0.603, 0.314, 0.482]
l: 0.5137
residual in position: -0.4411 0.4415 0.5378
q_err :[0.987, 0.049, 0.112, 0.103]
residual in q: 0.09933 0.2274 0.2079
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877147.254610 it_next->second->time: 1664877147.258204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877147.258204 it_next->second->time: 1664877147.268204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.16 -14.62 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877147.278203964 -2.049 -0.0404 9.8 0 0 0.662
1-2 processing imu...
it_last_IMU.time: 1664877147.268204
lastState: 1664877147.268204
currentState: 1664877147.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.288203955 -2.049 -0.0387 9.8 0 0 0.6623
1-2 processing imu...
it_last_IMU.time: 1664877147.278204
lastState: 1664877147.278204
currentState: 1664877147.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.298203945 -2.049 -0.037 9.8 0 0 0.6625
1-2 processing imu...
it_last_IMU.time: 1664877147.288204
lastState: 1664877147.288204
currentState: 1664877147.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.308203936 -2.049 -0.03529 9.8 0 0 0.6626
1-2 processing imu...
it_last_IMU.time: 1664877147.298204
lastState: 1664877147.298204
currentState: 1664877147.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.318203926 -2.05 -0.03358 9.8 0 0 0.6627
1-2 processing imu...
it_last_IMU.time: 1664877147.308204
lastState: 1664877147.308204
currentState: 1664877147.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.328203917 -2.05 -0.03186 9.8 0 0 0.6627
1-2 processing imu...
it_last_IMU.time: 1664877147.318204
lastState: 1664877147.318204
currentState: 1664877147.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.338203907 -2.05 -0.03017 9.8 0 0 0.6626
1-2 processing imu...
it_last_IMU.time: 1664877147.328204
lastState: 1664877147.328204
currentState: 1664877147.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.348203897 -2.05 -0.02908 9.8 0 0 0.6625
1-2 processing imu...
it_last_IMU.time: 1664877147.338204
lastState: 1664877147.338204
currentState: 1664877147.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.358203888 -2.049 -0.028 9.8 0 0 0.6623
1-2 processing imu...
it_last_IMU.time: 1664877147.348204
lastState: 1664877147.348204
currentState: 1664877147.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.368204117 -2.048 -0.02694 9.8 0 0 0.662
1-2 processing imu...
it_last_IMU.time: 1664877147.358204
lastState: 1664877147.358204
currentState: 1664877147.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.378204107 -2.047 -0.02589 9.8 0 0 0.6616
1-2 processing imu...
it_last_IMU.time: 1664877147.368204
lastState: 1664877147.368204
currentState: 1664877147.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.388204098 -2.047 -0.02487 9.8 0 0 0.6612
1-2 processing imu...
it_last_IMU.time: 1664877147.378204
lastState: 1664877147.378204
currentState: 1664877147.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.398204088 -2.046 -0.02386 9.8 0 0 0.6607
1-2 processing imu...
it_last_IMU.time: 1664877147.388204
lastState: 1664877147.388204
currentState: 1664877147.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.408204079 -2.046 -0.02287 9.8 0 0 0.6602
1-2 processing imu...
it_last_IMU.time: 1664877147.398204
lastState: 1664877147.398204
currentState: 1664877147.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.418204069 -2.045 -0.0219 9.8 0 0 0.6596
1-2 processing imu...
it_last_IMU.time: 1664877147.408204
lastState: 1664877147.408204
currentState: 1664877147.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.428204060 -2.045 -0.02095 9.8 0 0 0.6589
1-2 processing imu...
it_last_IMU.time: 1664877147.418204
lastState: 1664877147.418204
currentState: 1664877147.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.438204050 -2.044 -0.01988 9.8 0 0 0.6581
1-2 processing imu...
it_last_IMU.time: 1664877147.428204
lastState: 1664877147.428204
currentState: 1664877147.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.448204041 -2.04 -0.01549 9.8 0 0 0.6573
1-2 processing imu...
it_last_IMU.time: 1664877147.438204
lastState: 1664877147.438204
currentState: 1664877147.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.458204031 -2.036 -0.01117 9.8 0 0 0.6564
1-2 processing imu...
it_last_IMU.time: 1664877147.448204
lastState: 1664877147.448204
currentState: 1664877147.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.468204021 -2.033 -0.006918 9.8 0 0 0.6555
1-2 processing imu...
it_last_IMU.time: 1664877147.458204
lastState: 1664877147.458204
currentState: 1664877147.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.478204012 -2.029 -0.002738 9.8 0 0 0.6545
1-2 processing imu...
it_last_IMU.time: 1664877147.468204
lastState: 1664877147.468204
currentState: 1664877147.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.488204002 -2.025 0.00137 9.8 0 0 0.6535
1-2 processing imu...
it_last_IMU.time: 1664877147.478204
lastState: 1664877147.478204
currentState: 1664877147.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.498203993 -2.021 0.005407 9.8 0 0 0.6524
1-2 processing imu...
it_last_IMU.time: 1664877147.488204
lastState: 1664877147.488204
currentState: 1664877147.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.508203983 -2.017 0.009372 9.8 0 0 0.6512
1-2 processing imu...
it_last_IMU.time: 1664877147.498204
lastState: 1664877147.498204
currentState: 1664877147.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.518203974 -2.013 0.01326 9.8 0 0 0.65
1-2 processing imu...
it_last_IMU.time: 1664877147.508204
lastState: 1664877147.508204
currentState: 1664877147.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.528203964 -2.01 0.01708 9.8 0 0 0.6488
1-2 processing imu...
it_last_IMU.time: 1664877147.518204
lastState: 1664877147.518204
currentState: 1664877147.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.538203955 -2.006 0.02081 9.8 0 0 0.6475
1-2 processing imu...
it_last_IMU.time: 1664877147.528204
lastState: 1664877147.528204
currentState: 1664877147.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.548203945 -2 0.02393 9.8 0 0 0.6461
1-2 processing imu...
it_last_IMU.time: 1664877147.538204
lastState: 1664877147.538204
currentState: 1664877147.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.558203936 -1.994 0.02695 9.8 0 0 0.6447
1-2 processing imu...
it_last_IMU.time: 1664877147.548204
lastState: 1664877147.548204
currentState: 1664877147.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.568203926 -1.989 0.02987 9.8 0 0 0.6432
1-2 processing imu...
it_last_IMU.time: 1664877147.558204
lastState: 1664877147.558204
currentState: 1664877147.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.578203917 -1.983 0.03268 9.8 0 0 0.6417
1-2 processing imu...
it_last_IMU.time: 1664877147.568204
lastState: 1664877147.568204
currentState: 1664877147.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.588203907 -1.977 0.03539 9.8 0 0 0.6401
1-2 processing imu...
it_last_IMU.time: 1664877147.578204
lastState: 1664877147.578204
currentState: 1664877147.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.598203897 -1.972 0.038 9.8 0 0 0.6384
1-2 processing imu...
it_last_IMU.time: 1664877147.588204
lastState: 1664877147.588204
currentState: 1664877147.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.608203888 -1.966 0.04051 9.8 0 0 0.6368
1-2 processing imu...
it_last_IMU.time: 1664877147.598204
lastState: 1664877147.598204
currentState: 1664877147.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.618204117 -1.96 0.04291 9.8 0 0 0.635
1-2 processing imu...
it_last_IMU.time: 1664877147.608204
lastState: 1664877147.608204
currentState: 1664877147.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.628204107 -1.955 0.04521 9.8 0 0 0.6332
1-2 processing imu...
it_last_IMU.time: 1664877147.618204
lastState: 1664877147.618204
currentState: 1664877147.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.638204098 -1.949 0.04734 9.8 0 0 0.6314
1-2 processing imu...
it_last_IMU.time: 1664877147.628204
lastState: 1664877147.628204
currentState: 1664877147.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.648204088 -1.943 0.04627 9.8 0 0 0.6295
1-2 processing imu...
it_last_IMU.time: 1664877147.638204
lastState: 1664877147.638204
currentState: 1664877147.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.658204079 -1.936 0.04506 9.8 0 0 0.6276
1-2 processing imu...
it_last_IMU.time: 1664877147.648204
lastState: 1664877147.648204
currentState: 1664877147.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.668204069 -1.929 0.04374 9.8 0 0 0.6256
1-2 processing imu...
it_last_IMU.time: 1664877147.658204
lastState: 1664877147.658204
currentState: 1664877147.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.678204060 -1.922 0.0423 9.8 0 0 0.6235
1-2 processing imu...
it_last_IMU.time: 1664877147.668204
lastState: 1664877147.668204
currentState: 1664877147.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.688204050 -1.916 0.04073 9.8 0 0 0.6215
1-2 processing imu...
it_last_IMU.time: 1664877147.678204
lastState: 1664877147.678204
currentState: 1664877147.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.698204041 -1.909 0.03905 9.8 0 0 0.6193
1-2 processing imu...
it_last_IMU.time: 1664877147.688204
lastState: 1664877147.688204
currentState: 1664877147.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877147.686953068 0.3138 0.3425 -0.0009739 0.001256 -0.003134 0.7464 0.6655
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877147.686953
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877147.686953
state->time: 1664877147.686953
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675498.574363032]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675498.574450694]: the fixed q :[0.486, 0.555, 0.388, 0.553][0m
[0m[ INFO] [1670675498.574460373]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675498.574481726]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.3138 0.3425 -0.0009739
p_wv: 18.52 -15.22 31
p: 20.18 -15.32 29.85
q: [0.486, 0.555, 0.388, 0.553]
l: 0.5123
residual in position: -0.539 0.3943 0.5858
q_err :[0.987, 0.0536, 0.111, 0.106]
residual in q: 0.1087 0.2257 0.2157
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877147.686953 it_next->second->time: 1664877147.688204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877147.688204 it_next->second->time: 1664877147.698204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.15 -14.57 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877147.708204031 -1.903 0.03725 9.8 0 0 0.6171
1-2 processing imu...
it_last_IMU.time: 1664877147.698204
lastState: 1664877147.698204
currentState: 1664877147.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.718204021 -1.897 0.03532 9.8 0 0 0.6149
1-2 processing imu...
it_last_IMU.time: 1664877147.708204
lastState: 1664877147.708204
currentState: 1664877147.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.728204012 -1.891 0.03328 9.8 0 0 0.6126
1-2 processing imu...
it_last_IMU.time: 1664877147.718204
lastState: 1664877147.718204
currentState: 1664877147.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.738204002 -1.885 0.03113 9.8 0 0 0.6102
1-2 processing imu...
it_last_IMU.time: 1664877147.728204
lastState: 1664877147.728204
currentState: 1664877147.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.748203993 -1.875 0.02928 9.8 0 0 0.6078
1-2 processing imu...
it_last_IMU.time: 1664877147.738204
lastState: 1664877147.738204
currentState: 1664877147.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.758203983 -1.866 0.02728 9.8 0 0 0.6054
1-2 processing imu...
it_last_IMU.time: 1664877147.748204
lastState: 1664877147.748204
currentState: 1664877147.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.768203974 -1.857 0.02513 9.8 0 0 0.6029
1-2 processing imu...
it_last_IMU.time: 1664877147.758204
lastState: 1664877147.758204
currentState: 1664877147.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.778203964 -1.848 0.02281 9.8 0 0 0.6004
1-2 processing imu...
it_last_IMU.time: 1664877147.768204
lastState: 1664877147.768204
currentState: 1664877147.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.788203955 -1.839 0.02035 9.8 0 0 0.5978
1-2 processing imu...
it_last_IMU.time: 1664877147.778204
lastState: 1664877147.778204
currentState: 1664877147.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.798203945 -1.831 0.01774 9.8 0 0 0.5952
1-2 processing imu...
it_last_IMU.time: 1664877147.788204
lastState: 1664877147.788204
currentState: 1664877147.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.808203936 -1.822 0.01497 9.8 0 0 0.5926
1-2 processing imu...
it_last_IMU.time: 1664877147.798204
lastState: 1664877147.798204
currentState: 1664877147.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.818203926 -1.814 0.01206 9.8 0 0 0.5899
1-2 processing imu...
it_last_IMU.time: 1664877147.808204
lastState: 1664877147.808204
currentState: 1664877147.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.828203917 -1.805 0.008995 9.8 0 0 0.5872
1-2 processing imu...
it_last_IMU.time: 1664877147.818204
lastState: 1664877147.818204
currentState: 1664877147.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.838203907 -1.797 0.005793 9.8 0 0 0.5845
1-2 processing imu...
it_last_IMU.time: 1664877147.828204
lastState: 1664877147.828204
currentState: 1664877147.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.848203897 -1.788 0.005425 9.8 0 0 0.5817
1-2 processing imu...
it_last_IMU.time: 1664877147.838204
lastState: 1664877147.838204
currentState: 1664877147.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.858203888 -1.78 0.004908 9.8 0 0 0.5789
1-2 processing imu...
it_last_IMU.time: 1664877147.848204
lastState: 1664877147.848204
currentState: 1664877147.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.868204117 -1.771 0.004244 9.8 0 0 0.576
1-2 processing imu...
it_last_IMU.time: 1664877147.858204
lastState: 1664877147.858204
currentState: 1664877147.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.878204107 -1.763 0.003432 9.8 0 0 0.5732
1-2 processing imu...
it_last_IMU.time: 1664877147.868204
lastState: 1664877147.868204
currentState: 1664877147.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.888204098 -1.755 0.002474 9.8 0 0 0.5703
1-2 processing imu...
it_last_IMU.time: 1664877147.878204
lastState: 1664877147.878204
currentState: 1664877147.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.898204088 -1.747 0.001372 9.8 0 0 0.5674
1-2 processing imu...
it_last_IMU.time: 1664877147.888204
lastState: 1664877147.888204
currentState: 1664877147.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.908204079 -1.738 0.000125 9.8 0 0 0.5644
1-2 processing imu...
it_last_IMU.time: 1664877147.898204
lastState: 1664877147.898204
currentState: 1664877147.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.918204069 -1.73 -0.001264 9.8 0 0 0.5615
1-2 processing imu...
it_last_IMU.time: 1664877147.908204
lastState: 1664877147.908204
currentState: 1664877147.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.928204060 -1.722 -0.002796 9.8 0 0 0.5585
1-2 processing imu...
it_last_IMU.time: 1664877147.918204
lastState: 1664877147.918204
currentState: 1664877147.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.938204050 -1.714 -0.004468 9.8 0 0 0.5554
1-2 processing imu...
it_last_IMU.time: 1664877147.928204
lastState: 1664877147.928204
currentState: 1664877147.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.948204041 -1.705 -0.003491 9.8 0 0 0.5524
1-2 processing imu...
it_last_IMU.time: 1664877147.938204
lastState: 1664877147.938204
currentState: 1664877147.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.958204031 -1.695 -0.002653 9.8 0 0 0.5493
1-2 processing imu...
it_last_IMU.time: 1664877147.948204
lastState: 1664877147.948204
currentState: 1664877147.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.968204021 -1.686 -0.00197 9.8 0 0 0.5462
1-2 processing imu...
it_last_IMU.time: 1664877147.958204
lastState: 1664877147.958204
currentState: 1664877147.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.978204012 -1.677 -0.001442 9.8 0 0 0.5432
1-2 processing imu...
it_last_IMU.time: 1664877147.968204
lastState: 1664877147.968204
currentState: 1664877147.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877147.988204002 -1.667 -0.001068 9.8 0 0 0.5401
1-2 processing imu...
it_last_IMU.time: 1664877147.978204
lastState: 1664877147.978204
currentState: 1664877147.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877147.998203993 -1.658 -0.000846 9.8 0 0 0.5369
1-2 processing imu...
it_last_IMU.time: 1664877147.988204
lastState: 1664877147.988204
currentState: 1664877147.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.008203983 -1.649 -0.000775 9.8 0 0 0.5338
1-2 processing imu...
it_last_IMU.time: 1664877147.998204
lastState: 1664877147.998204
currentState: 1664877148.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.018203974 -1.64 -0.000853 9.8 0 0 0.5307
1-2 processing imu...
it_last_IMU.time: 1664877148.008204
lastState: 1664877148.008204
currentState: 1664877148.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.028203964 -1.631 -0.001081 9.8 0 0 0.5275
1-2 processing imu...
it_last_IMU.time: 1664877148.018204
lastState: 1664877148.018204
currentState: 1664877148.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.038203955 -1.621 -0.001457 9.8 0 0 0.5244
1-2 processing imu...
it_last_IMU.time: 1664877148.028204
lastState: 1664877148.028204
currentState: 1664877148.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.048203945 -1.611 0.000516 9.8 0 0 0.5212
1-2 processing imu...
it_last_IMU.time: 1664877148.038204
lastState: 1664877148.038204
currentState: 1664877148.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.058203936 -1.602 0.002373 9.8 0 0 0.518
1-2 processing imu...
it_last_IMU.time: 1664877148.048204
lastState: 1664877148.048204
currentState: 1664877148.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.068203926 -1.592 0.004075 9.8 0 0 0.5148
1-2 processing imu...
it_last_IMU.time: 1664877148.058204
lastState: 1664877148.058204
currentState: 1664877148.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.078203917 -1.582 0.005625 9.8 0 0 0.5117
1-2 processing imu...
it_last_IMU.time: 1664877148.068204
lastState: 1664877148.068204
currentState: 1664877148.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.088203907 -1.572 0.007024 9.8 0 0 0.5085
1-2 processing imu...
it_last_IMU.time: 1664877148.078204
lastState: 1664877148.078204
currentState: 1664877148.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.098203897 -1.562 0.008273 9.8 0 0 0.5053
1-2 processing imu...
it_last_IMU.time: 1664877148.088204
lastState: 1664877148.088204
currentState: 1664877148.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.108203888 -1.552 0.009373 9.8 0 0 0.5021
1-2 processing imu...
it_last_IMU.time: 1664877148.098204
lastState: 1664877148.098204
currentState: 1664877148.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877148.088109970 0.3084 0.364 -0.0005477 0.000996 -0.00289 0.8196 0.5729
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877148.088110
time: 1664877148.088110
state->time: 1664877148.088204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675499.468980039]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675499.469030501]: the fixed q :[0.422, 0.482, 0.476, 0.602][0m
[0m[ INFO] [1670675499.469041203]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675499.469056061]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.3084 0.364 -0.0005477
p_wv: 18.52 -15.22 31
p: 20.12 -14.96 30.02
q: [0.422, 0.482, 0.476, 0.602]
l: 0.5129
residual in position: -0.5125 0.2314 0.5042
q_err :[0.992, 0.0473, 0.0827, 0.0873]
residual in q: 0.09531 0.1669 0.176
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877148.088204 it_next->second->time: 1664877148.098204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877148.098204 it_next->second->time: 1664877148.108204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.14 -14.52 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877148.118204117 -1.542 0.01033 9.8 0 0 0.499
1-2 processing imu...
it_last_IMU.time: 1664877148.108204
lastState: 1664877148.108204
currentState: 1664877148.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.128204107 -1.533 0.01113 9.8 0 0 0.4958
1-2 processing imu...
it_last_IMU.time: 1664877148.118204
lastState: 1664877148.118204
currentState: 1664877148.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.138204098 -1.523 0.01179 9.8 0 0 0.4926
1-2 processing imu...
it_last_IMU.time: 1664877148.128204
lastState: 1664877148.128204
currentState: 1664877148.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.148204088 -1.514 0.0141 9.8 0 0 0.4894
1-2 processing imu...
it_last_IMU.time: 1664877148.138204
lastState: 1664877148.138204
currentState: 1664877148.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.158204079 -1.505 0.01631 9.8 0 0 0.4863
1-2 processing imu...
it_last_IMU.time: 1664877148.148204
lastState: 1664877148.148204
currentState: 1664877148.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.168204069 -1.496 0.01838 9.8 0 0 0.4831
1-2 processing imu...
it_last_IMU.time: 1664877148.158204
lastState: 1664877148.158204
currentState: 1664877148.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.178204060 -1.487 0.02032 9.8 0 0 0.4799
1-2 processing imu...
it_last_IMU.time: 1664877148.168204
lastState: 1664877148.168204
currentState: 1664877148.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.188204050 -1.478 0.02213 9.8 0 0 0.4768
1-2 processing imu...
it_last_IMU.time: 1664877148.178204
lastState: 1664877148.178204
currentState: 1664877148.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.198204041 -1.469 0.02381 9.8 0 0 0.4736
1-2 processing imu...
it_last_IMU.time: 1664877148.188204
lastState: 1664877148.188204
currentState: 1664877148.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.208204031 -1.46 0.02535 9.8 0 0 0.4704
1-2 processing imu...
it_last_IMU.time: 1664877148.198204
lastState: 1664877148.198204
currentState: 1664877148.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.218204021 -1.451 0.02676 9.8 0 0 0.4673
1-2 processing imu...
it_last_IMU.time: 1664877148.208204
lastState: 1664877148.208204
currentState: 1664877148.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.228204012 -1.442 0.02805 9.8 0 0 0.4641
1-2 processing imu...
it_last_IMU.time: 1664877148.218204
lastState: 1664877148.218204
currentState: 1664877148.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.238204002 -1.433 0.02921 9.8 0 0 0.461
1-2 processing imu...
it_last_IMU.time: 1664877148.228204
lastState: 1664877148.228204
currentState: 1664877148.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.248203993 -1.423 0.03076 9.8 0 0 0.4579
1-2 processing imu...
it_last_IMU.time: 1664877148.238204
lastState: 1664877148.238204
currentState: 1664877148.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.258203983 -1.413 0.0322 9.8 0 0 0.4548
1-2 processing imu...
it_last_IMU.time: 1664877148.248204
lastState: 1664877148.248204
currentState: 1664877148.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.268203974 -1.403 0.03351 9.8 0 0 0.4516
1-2 processing imu...
it_last_IMU.time: 1664877148.258204
lastState: 1664877148.258204
currentState: 1664877148.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.278203964 -1.393 0.03468 9.8 0 0 0.4485
1-2 processing imu...
it_last_IMU.time: 1664877148.268204
lastState: 1664877148.268204
currentState: 1664877148.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.288203955 -1.383 0.03573 9.8 0 0 0.4455
1-2 processing imu...
it_last_IMU.time: 1664877148.278204
lastState: 1664877148.278204
currentState: 1664877148.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.298203945 -1.373 0.03664 9.8 0 0 0.4424
1-2 processing imu...
it_last_IMU.time: 1664877148.288204
lastState: 1664877148.288204
currentState: 1664877148.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.308203936 -1.363 0.03742 9.8 0 0 0.4393
1-2 processing imu...
it_last_IMU.time: 1664877148.298204
lastState: 1664877148.298204
currentState: 1664877148.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.318203926 -1.353 0.03808 9.8 0 0 0.4362
1-2 processing imu...
it_last_IMU.time: 1664877148.308204
lastState: 1664877148.308204
currentState: 1664877148.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.328203917 -1.344 0.03861 9.8 0 0 0.4332
1-2 processing imu...
it_last_IMU.time: 1664877148.318204
lastState: 1664877148.318204
currentState: 1664877148.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.338203907 -1.334 0.03901 9.8 0 0 0.4302
1-2 processing imu...
it_last_IMU.time: 1664877148.328204
lastState: 1664877148.328204
currentState: 1664877148.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.348203897 -1.324 0.03926 9.8 0 0 0.4271
1-2 processing imu...
it_last_IMU.time: 1664877148.338204
lastState: 1664877148.338204
currentState: 1664877148.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.358203888 -1.315 0.03938 9.8 0 0 0.4241
1-2 processing imu...
it_last_IMU.time: 1664877148.348204
lastState: 1664877148.348204
currentState: 1664877148.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.368204117 -1.305 0.03939 9.8 0 0 0.4211
1-2 processing imu...
it_last_IMU.time: 1664877148.358204
lastState: 1664877148.358204
currentState: 1664877148.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.378204107 -1.296 0.03928 9.8 0 0 0.4181
1-2 processing imu...
it_last_IMU.time: 1664877148.368204
lastState: 1664877148.368204
currentState: 1664877148.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.388204098 -1.287 0.03905 9.8 0 0 0.4151
1-2 processing imu...
it_last_IMU.time: 1664877148.378204
lastState: 1664877148.378204
currentState: 1664877148.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.398204088 -1.277 0.03871 9.8 0 0 0.4122
1-2 processing imu...
it_last_IMU.time: 1664877148.388204
lastState: 1664877148.388204
currentState: 1664877148.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.408204079 -1.268 0.03825 9.8 0 0 0.4092
1-2 processing imu...
it_last_IMU.time: 1664877148.398204
lastState: 1664877148.398204
currentState: 1664877148.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.418204069 -1.259 0.03769 9.8 0 0 0.4063
1-2 processing imu...
it_last_IMU.time: 1664877148.408204
lastState: 1664877148.408204
currentState: 1664877148.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.428204060 -1.25 0.03701 9.8 0 0 0.4033
1-2 processing imu...
it_last_IMU.time: 1664877148.418204
lastState: 1664877148.418204
currentState: 1664877148.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.438204050 -1.24 0.03621 9.8 0 0 0.4004
1-2 processing imu...
it_last_IMU.time: 1664877148.428204
lastState: 1664877148.428204
currentState: 1664877148.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.448204041 -1.232 0.03617 9.8 0 0 0.3975
1-2 processing imu...
it_last_IMU.time: 1664877148.438204
lastState: 1664877148.438204
currentState: 1664877148.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.458204031 -1.224 0.03608 9.8 0 0 0.3946
1-2 processing imu...
it_last_IMU.time: 1664877148.448204
lastState: 1664877148.448204
currentState: 1664877148.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.468204021 -1.216 0.03589 9.8 0 0 0.3917
1-2 processing imu...
it_last_IMU.time: 1664877148.458204
lastState: 1664877148.458204
currentState: 1664877148.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.478204012 -1.207 0.03559 9.8 0 0 0.3888
1-2 processing imu...
it_last_IMU.time: 1664877148.468204
lastState: 1664877148.468204
currentState: 1664877148.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.488204002 -1.199 0.0352 9.8 0 0 0.3859
1-2 processing imu...
it_last_IMU.time: 1664877148.478204
lastState: 1664877148.478204
currentState: 1664877148.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.498203993 -1.191 0.03471 9.8 0 0 0.383
1-2 processing imu...
it_last_IMU.time: 1664877148.488204
lastState: 1664877148.488204
currentState: 1664877148.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.508203983 -1.183 0.03413 9.8 0 0 0.3801
1-2 processing imu...
it_last_IMU.time: 1664877148.498204
lastState: 1664877148.498204
currentState: 1664877148.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.518203974 -1.175 0.03345 9.8 0 0 0.3773
1-2 processing imu...
it_last_IMU.time: 1664877148.508204
lastState: 1664877148.508204
currentState: 1664877148.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877148.509670019 0.2991 0.3854 -1.093e-05 -0.0008203 0.002014 -0.869 -0.4949
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877148.509670
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877148.509670
state->time: 1664877148.509670
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675500.364433695]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675500.364490066]: the fixed q :[0.365, 0.402, 0.542, 0.641][0m
[0m[ INFO] [1670675500.364504396]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675500.364519788]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2991 0.3854 -1.093e-05
p_wv: 18.52 -15.22 31
p: 20.07 -14.58 30.05
q: [0.365, 0.402, 0.542, 0.641]
l: 0.5152
residual in position: -0.4994 0.05512 0.4875
q_err :[-0.996, -0.047, -0.0561, -0.0575]
residual in q: 0.09445 0.1127 0.1154
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877148.509670 it_next->second->time: 1664877148.518204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.12 -14.47 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877148.528203964 -1.167 0.03267 9.8 0 0 0.3744
1-2 processing imu...
it_last_IMU.time: 1664877148.518204
lastState: 1664877148.518204
currentState: 1664877148.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.538203955 -1.159 0.03181 9.8 0 0 0.3716
1-2 processing imu...
it_last_IMU.time: 1664877148.528204
lastState: 1664877148.528204
currentState: 1664877148.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.548203945 -1.15 0.03396 9.8 0 0 0.3688
1-2 processing imu...
it_last_IMU.time: 1664877148.538204
lastState: 1664877148.538204
currentState: 1664877148.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.558203936 -1.141 0.03622 9.8 0 0 0.366
1-2 processing imu...
it_last_IMU.time: 1664877148.548204
lastState: 1664877148.548204
currentState: 1664877148.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.568203926 -1.132 0.03838 9.8 0 0 0.3631
1-2 processing imu...
it_last_IMU.time: 1664877148.558204
lastState: 1664877148.558204
currentState: 1664877148.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.578203917 -1.123 0.04044 9.8 0 0 0.3604
1-2 processing imu...
it_last_IMU.time: 1664877148.568204
lastState: 1664877148.568204
currentState: 1664877148.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.588203907 -1.114 0.04241 9.8 0 0 0.3576
1-2 processing imu...
it_last_IMU.time: 1664877148.578204
lastState: 1664877148.578204
currentState: 1664877148.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.598203897 -1.105 0.04429 9.8 0 0 0.3548
1-2 processing imu...
it_last_IMU.time: 1664877148.588204
lastState: 1664877148.588204
currentState: 1664877148.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.608203888 -1.096 0.04607 9.8 0 0 0.352
1-2 processing imu...
it_last_IMU.time: 1664877148.598204
lastState: 1664877148.598204
currentState: 1664877148.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.618204117 -1.087 0.04775 9.8 0 0 0.3493
1-2 processing imu...
it_last_IMU.time: 1664877148.608204
lastState: 1664877148.608204
currentState: 1664877148.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.628204107 -1.078 0.04935 9.8 0 0 0.3466
1-2 processing imu...
it_last_IMU.time: 1664877148.618204
lastState: 1664877148.618204
currentState: 1664877148.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.638204098 -1.069 0.05086 9.8 0 0 0.3438
1-2 processing imu...
it_last_IMU.time: 1664877148.628204
lastState: 1664877148.628204
currentState: 1664877148.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.648204088 -1.061 0.04945 9.8 0 0 0.3411
1-2 processing imu...
it_last_IMU.time: 1664877148.638204
lastState: 1664877148.638204
currentState: 1664877148.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.658204079 -1.053 0.04774 9.8 0 0 0.3384
1-2 processing imu...
it_last_IMU.time: 1664877148.648204
lastState: 1664877148.648204
currentState: 1664877148.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.668204069 -1.044 0.04595 9.8 0 0 0.3357
1-2 processing imu...
it_last_IMU.time: 1664877148.658204
lastState: 1664877148.658204
currentState: 1664877148.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.678204060 -1.036 0.04408 9.8 0 0 0.333
1-2 processing imu...
it_last_IMU.time: 1664877148.668204
lastState: 1664877148.668204
currentState: 1664877148.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.688204050 -1.028 0.04212 9.8 0 0 0.3303
1-2 processing imu...
it_last_IMU.time: 1664877148.678204
lastState: 1664877148.678204
currentState: 1664877148.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.698204041 -1.02 0.04008 9.8 0 0 0.3276
1-2 processing imu...
it_last_IMU.time: 1664877148.688204
lastState: 1664877148.688204
currentState: 1664877148.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.708204031 -1.011 0.03796 9.8 0 0 0.3249
1-2 processing imu...
it_last_IMU.time: 1664877148.698204
lastState: 1664877148.698204
currentState: 1664877148.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.718204021 -1.003 0.03576 9.8 0 0 0.3222
1-2 processing imu...
it_last_IMU.time: 1664877148.708204
lastState: 1664877148.708204
currentState: 1664877148.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.728204012 -0.9951 0.03349 9.8 0 0 0.3195
1-2 processing imu...
it_last_IMU.time: 1664877148.718204
lastState: 1664877148.718204
currentState: 1664877148.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.738204002 -0.9869 0.03113 9.8 0 0 0.3168
1-2 processing imu...
it_last_IMU.time: 1664877148.728204
lastState: 1664877148.728204
currentState: 1664877148.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.748203993 -0.9794 0.02949 9.8 0 0 0.3141
1-2 processing imu...
it_last_IMU.time: 1664877148.738204
lastState: 1664877148.738204
currentState: 1664877148.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.758203983 -0.9719 0.02784 9.8 0 0 0.3114
1-2 processing imu...
it_last_IMU.time: 1664877148.748204
lastState: 1664877148.748204
currentState: 1664877148.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.768203974 -0.9644 0.02612 9.8 0 0 0.3087
1-2 processing imu...
it_last_IMU.time: 1664877148.758204
lastState: 1664877148.758204
currentState: 1664877148.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.778203964 -0.9569 0.02432 9.8 0 0 0.306
1-2 processing imu...
it_last_IMU.time: 1664877148.768204
lastState: 1664877148.768204
currentState: 1664877148.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.788203955 -0.9494 0.02246 9.8 0 0 0.3033
1-2 processing imu...
it_last_IMU.time: 1664877148.778204
lastState: 1664877148.778204
currentState: 1664877148.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.798203945 -0.942 0.02052 9.8 0 0 0.3006
1-2 processing imu...
it_last_IMU.time: 1664877148.788204
lastState: 1664877148.788204
currentState: 1664877148.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.808203936 -0.9346 0.01852 9.8 0 0 0.2979
1-2 processing imu...
it_last_IMU.time: 1664877148.798204
lastState: 1664877148.798204
currentState: 1664877148.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.818203926 -0.9272 0.01644 9.8 0 0 0.2952
1-2 processing imu...
it_last_IMU.time: 1664877148.808204
lastState: 1664877148.808204
currentState: 1664877148.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.828203917 -0.9198 0.0143 9.8 0 0 0.2925
1-2 processing imu...
it_last_IMU.time: 1664877148.818204
lastState: 1664877148.818204
currentState: 1664877148.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.838203907 -0.9125 0.01208 9.8 0 0 0.2898
1-2 processing imu...
it_last_IMU.time: 1664877148.828204
lastState: 1664877148.828204
currentState: 1664877148.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.848203897 -0.904 0.01088 9.8 0 0 0.287
1-2 processing imu...
it_last_IMU.time: 1664877148.838204
lastState: 1664877148.838204
currentState: 1664877148.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.858203888 -0.8953 0.009706 9.8 0 0 0.2843
1-2 processing imu...
it_last_IMU.time: 1664877148.848204
lastState: 1664877148.848204
currentState: 1664877148.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.868204117 -0.8867 0.008458 9.8 0 0 0.2815
1-2 processing imu...
it_last_IMU.time: 1664877148.858204
lastState: 1664877148.858204
currentState: 1664877148.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.878204107 -0.8781 0.007137 9.8 0 0 0.2788
1-2 processing imu...
it_last_IMU.time: 1664877148.868204
lastState: 1664877148.868204
currentState: 1664877148.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.888204098 -0.8696 0.005744 9.8 0 0 0.276
1-2 processing imu...
it_last_IMU.time: 1664877148.878204
lastState: 1664877148.878204
currentState: 1664877148.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.898204088 -0.861 0.004279 9.8 0 0 0.2733
1-2 processing imu...
it_last_IMU.time: 1664877148.888204
lastState: 1664877148.888204
currentState: 1664877148.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.908204079 -0.8524 0.002744 9.8 0 0 0.2705
1-2 processing imu...
it_last_IMU.time: 1664877148.898204
lastState: 1664877148.898204
currentState: 1664877148.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.918204069 -0.8439 0.00114 9.8 0 0 0.2678
1-2 processing imu...
it_last_IMU.time: 1664877148.908204
lastState: 1664877148.908204
currentState: 1664877148.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.928204060 -0.8354 -0.000534 9.8 0 0 0.265
1-2 processing imu...
it_last_IMU.time: 1664877148.918204
lastState: 1664877148.918204
currentState: 1664877148.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.938204050 -0.8269 -0.002276 9.8 0 0 0.2622
1-2 processing imu...
it_last_IMU.time: 1664877148.928204
lastState: 1664877148.928204
currentState: 1664877148.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877148.922408104 0.2859 0.4052 2.446e-05 -0.0006166 0.001904 -0.8998 -0.4364
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877148.922408
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877148.922408
state->time: 1664877148.922408
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675501.232379761]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675501.232492666]: the fixed q :[0.323, 0.331, 0.589, 0.663][0m
[0m[ INFO] [1670675501.232545024]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675501.232595167]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2859 0.4052 2.446e-05
p_wv: 18.52 -15.22 31
p: 19.89 -14.21 30.15
q: [0.323, 0.331, 0.589, 0.663]
l: 0.5144
residual in position: -0.4179 -0.1154 0.4365
q_err :[-0.998, -0.0433, -0.0267, -0.0301]
residual in q: 0.08667 0.05341 0.06022
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877148.922408 it_next->second->time: 1664877148.928204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877148.928204 it_next->second->time: 1664877148.938204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.09 -14.43 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877148.948204041 -0.8183 -0.003236 9.8 0 0 0.2594
1-2 processing imu...
it_last_IMU.time: 1664877148.938204
lastState: 1664877148.938204
currentState: 1664877148.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.958204031 -0.8098 -0.004174 9.8 0 0 0.2566
1-2 processing imu...
it_last_IMU.time: 1664877148.948204
lastState: 1664877148.948204
currentState: 1664877148.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.968204021 -0.8012 -0.005178 9.8 0 0 0.2538
1-2 processing imu...
it_last_IMU.time: 1664877148.958204
lastState: 1664877148.958204
currentState: 1664877148.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877148.978204012 -0.7927 -0.006248 9.8 0 0 0.251
1-2 processing imu...
it_last_IMU.time: 1664877148.968204
lastState: 1664877148.968204
currentState: 1664877148.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.988204002 -0.7842 -0.007383 9.8 0 0 0.2481
1-2 processing imu...
it_last_IMU.time: 1664877148.978204
lastState: 1664877148.978204
currentState: 1664877148.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877148.998203993 -0.7757 -0.008583 9.8 0 0 0.2453
1-2 processing imu...
it_last_IMU.time: 1664877148.988204
lastState: 1664877148.988204
currentState: 1664877148.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.008203983 -0.7672 -0.009847 9.8 0 0 0.2425
1-2 processing imu...
it_last_IMU.time: 1664877148.998204
lastState: 1664877148.998204
currentState: 1664877149.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.018203974 -0.7587 -0.01117 9.8 0 0 0.2396
1-2 processing imu...
it_last_IMU.time: 1664877149.008204
lastState: 1664877149.008204
currentState: 1664877149.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.028203964 -0.7502 -0.01256 9.8 0 0 0.2367
1-2 processing imu...
it_last_IMU.time: 1664877149.018204
lastState: 1664877149.018204
currentState: 1664877149.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.038203955 -0.7418 -0.01401 9.8 0 0 0.2339
1-2 processing imu...
it_last_IMU.time: 1664877149.028204
lastState: 1664877149.028204
currentState: 1664877149.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.048203945 -0.7333 -0.01452 9.8 0 0 0.231
1-2 processing imu...
it_last_IMU.time: 1664877149.038204
lastState: 1664877149.038204
currentState: 1664877149.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.058203936 -0.7249 -0.01496 9.8 0 0 0.2281
1-2 processing imu...
it_last_IMU.time: 1664877149.048204
lastState: 1664877149.048204
currentState: 1664877149.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.068203926 -0.7166 -0.01547 9.8 0 0 0.2252
1-2 processing imu...
it_last_IMU.time: 1664877149.058204
lastState: 1664877149.058204
currentState: 1664877149.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.078203917 -0.7082 -0.01604 9.8 0 0 0.2223
1-2 processing imu...
it_last_IMU.time: 1664877149.068204
lastState: 1664877149.068204
currentState: 1664877149.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.088203907 -0.6998 -0.01666 9.8 0 0 0.2193
1-2 processing imu...
it_last_IMU.time: 1664877149.078204
lastState: 1664877149.078204
currentState: 1664877149.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.098203897 -0.6914 -0.01734 9.8 0 0 0.2164
1-2 processing imu...
it_last_IMU.time: 1664877149.088204
lastState: 1664877149.088204
currentState: 1664877149.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.108203888 -0.683 -0.01808 9.8 0 0 0.2134
1-2 processing imu...
it_last_IMU.time: 1664877149.098204
lastState: 1664877149.098204
currentState: 1664877149.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.118204117 -0.6747 -0.01887 9.8 0 0 0.2105
1-2 processing imu...
it_last_IMU.time: 1664877149.108204
lastState: 1664877149.108204
currentState: 1664877149.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.128204107 -0.6663 -0.01972 9.8 0 0 0.2075
1-2 processing imu...
it_last_IMU.time: 1664877149.118204
lastState: 1664877149.118204
currentState: 1664877149.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.138204098 -0.658 -0.02062 9.8 0 0 0.2045
1-2 processing imu...
it_last_IMU.time: 1664877149.128204
lastState: 1664877149.128204
currentState: 1664877149.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.148204088 -0.6483 -0.02236 9.8 0 0 0.2015
1-2 processing imu...
it_last_IMU.time: 1664877149.138204
lastState: 1664877149.138204
currentState: 1664877149.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.158204079 -0.6384 -0.02425 9.8 0 0 0.1986
1-2 processing imu...
it_last_IMU.time: 1664877149.148204
lastState: 1664877149.148204
currentState: 1664877149.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.168204069 -0.6286 -0.0262 9.8 0 0 0.1956
1-2 processing imu...
it_last_IMU.time: 1664877149.158204
lastState: 1664877149.158204
currentState: 1664877149.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.178204060 -0.6188 -0.02822 9.8 0 0 0.1926
1-2 processing imu...
it_last_IMU.time: 1664877149.168204
lastState: 1664877149.168204
currentState: 1664877149.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.188204050 -0.609 -0.03028 9.8 0 0 0.1896
1-2 processing imu...
it_last_IMU.time: 1664877149.178204
lastState: 1664877149.178204
currentState: 1664877149.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.198204041 -0.5992 -0.03241 9.8 0 0 0.1866
1-2 processing imu...
it_last_IMU.time: 1664877149.188204
lastState: 1664877149.188204
currentState: 1664877149.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.208204031 -0.5894 -0.03458 9.8 0 0 0.1836
1-2 processing imu...
it_last_IMU.time: 1664877149.198204
lastState: 1664877149.198204
currentState: 1664877149.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.218204021 -0.5796 -0.03682 9.8 0 0 0.1806
1-2 processing imu...
it_last_IMU.time: 1664877149.208204
lastState: 1664877149.208204
currentState: 1664877149.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.228204012 -0.5698 -0.0391 9.8 0 0 0.1776
1-2 processing imu...
it_last_IMU.time: 1664877149.218204
lastState: 1664877149.218204
currentState: 1664877149.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.238204002 -0.5601 -0.04144 9.8 0 0 0.1745
1-2 processing imu...
it_last_IMU.time: 1664877149.228204
lastState: 1664877149.228204
currentState: 1664877149.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.248203993 -0.5498 -0.04313 9.8 0 0 0.1715
1-2 processing imu...
it_last_IMU.time: 1664877149.238204
lastState: 1664877149.238204
currentState: 1664877149.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.258203983 -0.5396 -0.04477 9.8 0 0 0.1685
1-2 processing imu...
it_last_IMU.time: 1664877149.248204
lastState: 1664877149.248204
currentState: 1664877149.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.268203974 -0.5293 -0.04647 9.8 0 0 0.1655
1-2 processing imu...
it_last_IMU.time: 1664877149.258204
lastState: 1664877149.258204
currentState: 1664877149.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.278203964 -0.5191 -0.04821 9.8 0 0 0.1625
1-2 processing imu...
it_last_IMU.time: 1664877149.268204
lastState: 1664877149.268204
currentState: 1664877149.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.288203955 -0.5088 -0.05001 9.8 0 0 0.1595
1-2 processing imu...
it_last_IMU.time: 1664877149.278204
lastState: 1664877149.278204
currentState: 1664877149.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.298203945 -0.4986 -0.05185 9.8 0 0 0.1565
1-2 processing imu...
it_last_IMU.time: 1664877149.288204
lastState: 1664877149.288204
currentState: 1664877149.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.308203936 -0.4884 -0.05374 9.8 0 0 0.1536
1-2 processing imu...
it_last_IMU.time: 1664877149.298204
lastState: 1664877149.298204
currentState: 1664877149.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.318203926 -0.4781 -0.05568 9.8 0 0 0.1506
1-2 processing imu...
it_last_IMU.time: 1664877149.308204
lastState: 1664877149.308204
currentState: 1664877149.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.328203917 -0.4679 -0.05766 9.8 0 0 0.1476
1-2 processing imu...
it_last_IMU.time: 1664877149.318204
lastState: 1664877149.318204
currentState: 1664877149.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.338203907 -0.4577 -0.05968 9.8 0 0 0.1446
1-2 processing imu...
it_last_IMU.time: 1664877149.328204
lastState: 1664877149.328204
currentState: 1664877149.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.348203897 -0.4481 -0.05982 9.8 0 0 0.1417
1-2 processing imu...
it_last_IMU.time: 1664877149.338204
lastState: 1664877149.338204
currentState: 1664877149.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877149.336947918 0.2712 0.422 -4.646e-05 -0.0009188 0.001883 -0.9183 -0.3959
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877149.336948
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877149.336948
state->time: 1664877149.336948
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675502.116003524]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675502.116058589]: the fixed q :[0.296, 0.274, 0.617, 0.676][0m
[0m[ INFO] [1670675502.116071181]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675502.116086009]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2712 0.422 -4.646e-05
p_wv: 18.52 -15.22 31
p: 19.69 -13.95 30.21
q: [0.296, 0.274, 0.617, 0.676]
l: 0.5148
residual in position: -0.3316 -0.2298 0.4073
q_err :[-0.999, -0.0427, -0.000444, -0.00784]
residual in q: 0.08543 0.000889 0.01569
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877149.336948 it_next->second->time: 1664877149.338204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877149.338204 it_next->second->time: 1664877149.348204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.06 -14.39 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877149.358203888 -0.4386 -0.0597 9.8 0 0 0.1387
1-2 processing imu...
it_last_IMU.time: 1664877149.348204
lastState: 1664877149.348204
currentState: 1664877149.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.368204117 -0.4292 -0.05962 9.8 0 0 0.1358
1-2 processing imu...
it_last_IMU.time: 1664877149.358204
lastState: 1664877149.358204
currentState: 1664877149.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.378204107 -0.4197 -0.05959 9.8 0 0 0.1328
1-2 processing imu...
it_last_IMU.time: 1664877149.368204
lastState: 1664877149.368204
currentState: 1664877149.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.388204098 -0.4102 -0.05959 9.8 0 0 0.1299
1-2 processing imu...
it_last_IMU.time: 1664877149.378204
lastState: 1664877149.378204
currentState: 1664877149.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.398204088 -0.4007 -0.05962 9.8 0 0 0.127
1-2 processing imu...
it_last_IMU.time: 1664877149.388204
lastState: 1664877149.388204
currentState: 1664877149.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.408204079 -0.3912 -0.05969 9.8 0 0 0.1241
1-2 processing imu...
it_last_IMU.time: 1664877149.398204
lastState: 1664877149.398204
currentState: 1664877149.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.418204069 -0.3817 -0.0598 9.8 0 0 0.1213
1-2 processing imu...
it_last_IMU.time: 1664877149.408204
lastState: 1664877149.408204
currentState: 1664877149.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.428204060 -0.3722 -0.05994 9.8 0 0 0.1184
1-2 processing imu...
it_last_IMU.time: 1664877149.418204
lastState: 1664877149.418204
currentState: 1664877149.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.438204050 -0.3627 -0.06012 9.8 0 0 0.1155
1-2 processing imu...
it_last_IMU.time: 1664877149.428204
lastState: 1664877149.428204
currentState: 1664877149.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.448204041 -0.3536 -0.05802 9.8 0 0 0.1127
1-2 processing imu...
it_last_IMU.time: 1664877149.438204
lastState: 1664877149.438204
currentState: 1664877149.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.458204031 -0.3445 -0.05558 9.8 0 0 0.1099
1-2 processing imu...
it_last_IMU.time: 1664877149.448204
lastState: 1664877149.448204
currentState: 1664877149.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.468204021 -0.3355 -0.05317 9.8 0 0 0.1071
1-2 processing imu...
it_last_IMU.time: 1664877149.458204
lastState: 1664877149.458204
currentState: 1664877149.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.478204012 -0.3264 -0.05079 9.8 0 0 0.1044
1-2 processing imu...
it_last_IMU.time: 1664877149.468204
lastState: 1664877149.468204
currentState: 1664877149.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.488204002 -0.3173 -0.04843 9.8 0 0 0.1016
1-2 processing imu...
it_last_IMU.time: 1664877149.478204
lastState: 1664877149.478204
currentState: 1664877149.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.498203993 -0.3082 -0.04611 9.8 0 0 0.09893
1-2 processing imu...
it_last_IMU.time: 1664877149.488204
lastState: 1664877149.488204
currentState: 1664877149.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.508203983 -0.2991 -0.0438 9.8 0 0 0.09626
1-2 processing imu...
it_last_IMU.time: 1664877149.498204
lastState: 1664877149.498204
currentState: 1664877149.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.518203974 -0.29 -0.04153 9.8 0 0 0.09361
1-2 processing imu...
it_last_IMU.time: 1664877149.508204
lastState: 1664877149.508204
currentState: 1664877149.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.528203964 -0.2809 -0.03928 9.8 0 0 0.091
1-2 processing imu...
it_last_IMU.time: 1664877149.518204
lastState: 1664877149.518204
currentState: 1664877149.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.538203955 -0.2717 -0.03705 9.8 0 0 0.08841
1-2 processing imu...
it_last_IMU.time: 1664877149.528204
lastState: 1664877149.528204
currentState: 1664877149.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.548203945 -0.2631 -0.03666 9.8 0 0 0.08586
1-2 processing imu...
it_last_IMU.time: 1664877149.538204
lastState: 1664877149.538204
currentState: 1664877149.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.558203936 -0.2546 -0.03661 9.8 0 0 0.08334
1-2 processing imu...
it_last_IMU.time: 1664877149.548204
lastState: 1664877149.548204
currentState: 1664877149.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.568203926 -0.2461 -0.03658 9.8 0 0 0.08087
1-2 processing imu...
it_last_IMU.time: 1664877149.558204
lastState: 1664877149.558204
currentState: 1664877149.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.578203917 -0.2376 -0.03657 9.8 0 0 0.07843
1-2 processing imu...
it_last_IMU.time: 1664877149.568204
lastState: 1664877149.568204
currentState: 1664877149.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.588203907 -0.2291 -0.03658 9.8 0 0 0.07604
1-2 processing imu...
it_last_IMU.time: 1664877149.578204
lastState: 1664877149.578204
currentState: 1664877149.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.598203897 -0.2205 -0.03661 9.8 0 0 0.07368
1-2 processing imu...
it_last_IMU.time: 1664877149.588204
lastState: 1664877149.588204
currentState: 1664877149.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.608203888 -0.212 -0.03666 9.8 0 0 0.07137
1-2 processing imu...
it_last_IMU.time: 1664877149.598204
lastState: 1664877149.598204
currentState: 1664877149.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.618204117 -0.2035 -0.03672 9.8 0 0 0.06909
1-2 processing imu...
it_last_IMU.time: 1664877149.608204
lastState: 1664877149.608204
currentState: 1664877149.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.628204107 -0.195 -0.0368 9.8 0 0 0.06686
1-2 processing imu...
it_last_IMU.time: 1664877149.618204
lastState: 1664877149.618204
currentState: 1664877149.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.638204098 -0.1865 -0.03689 9.8 0 0 0.06466
1-2 processing imu...
it_last_IMU.time: 1664877149.628204
lastState: 1664877149.628204
currentState: 1664877149.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.648204088 -0.1792 -0.03473 9.8 0 0 0.06251
1-2 processing imu...
it_last_IMU.time: 1664877149.638204
lastState: 1664877149.638204
currentState: 1664877149.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.658204079 -0.1721 -0.03215 9.8 0 0 0.0604
1-2 processing imu...
it_last_IMU.time: 1664877149.648204
lastState: 1664877149.648204
currentState: 1664877149.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.668204069 -0.1651 -0.02959 9.8 0 0 0.05833
1-2 processing imu...
it_last_IMU.time: 1664877149.658204
lastState: 1664877149.658204
currentState: 1664877149.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.678204060 -0.158 -0.02704 9.8 0 0 0.0563
1-2 processing imu...
it_last_IMU.time: 1664877149.668204
lastState: 1664877149.668204
currentState: 1664877149.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.688204050 -0.151 -0.0245 9.8 0 0 0.05432
1-2 processing imu...
it_last_IMU.time: 1664877149.678204
lastState: 1664877149.678204
currentState: 1664877149.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.698204041 -0.1439 -0.02197 9.8 0 0 0.05238
1-2 processing imu...
it_last_IMU.time: 1664877149.688204
lastState: 1664877149.688204
currentState: 1664877149.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.708204031 -0.1368 -0.01945 9.8 0 0 0.05048
1-2 processing imu...
it_last_IMU.time: 1664877149.698204
lastState: 1664877149.698204
currentState: 1664877149.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.718204021 -0.1298 -0.01694 9.8 0 0 0.04862
1-2 processing imu...
it_last_IMU.time: 1664877149.708204
lastState: 1664877149.708204
currentState: 1664877149.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.728204012 -0.1227 -0.01444 9.8 0 0 0.04681
1-2 processing imu...
it_last_IMU.time: 1664877149.718204
lastState: 1664877149.718204
currentState: 1664877149.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.738204002 -0.1156 -0.01195 9.8 0 0 0.04504
1-2 processing imu...
it_last_IMU.time: 1664877149.728204
lastState: 1664877149.728204
currentState: 1664877149.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.748203993 -0.1098 -0.008599 9.8 0 0 0.04331
1-2 processing imu...
it_last_IMU.time: 1664877149.738204
lastState: 1664877149.738204
currentState: 1664877149.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.758203983 -0.1043 -0.005088 9.8 0 0 0.04162
1-2 processing imu...
it_last_IMU.time: 1664877149.748204
lastState: 1664877149.748204
currentState: 1664877149.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.768203974 -0.09871 -0.001582 9.8 0 0 0.03997
1-2 processing imu...
it_last_IMU.time: 1664877149.758204
lastState: 1664877149.758204
currentState: 1664877149.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.778203964 -0.09315 0.001917 9.8 0 0 0.03836
1-2 processing imu...
it_last_IMU.time: 1664877149.768204
lastState: 1664877149.768204
currentState: 1664877149.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877149.767934084 0.255 0.4373 -0.0002073 -0.0009849 0.002284 -0.9241 -0.3822
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877149.767934
time: 1664877149.767934
state->time: 1664877149.768204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675503.011526162]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675503.011602711]: the fixed q :[0.282, 0.228, 0.635, 0.682][0m
[0m[ INFO] [1670675503.011614884]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675503.011630018]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.255 0.4373 -0.0002073
p_wv: 18.52 -15.22 31
p: 19.56 -13.75 30.18
q: [0.282, 0.228, 0.635, 0.682]
l: 0.5148
residual in position: -0.2788 -0.3181 0.4206
q_err :[-0.998, -0.0439, 0.0249, 0.0227]
residual in q: 0.08786 -0.04978 -0.04552
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877149.768204 it_next->second->time: 1664877149.778204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.02 -14.36 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877149.788203955 -0.08758 0.00541 9.8 0 0 0.03678
1-2 processing imu...
it_last_IMU.time: 1664877149.778204
lastState: 1664877149.778204
currentState: 1664877149.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.798203945 -0.08201 0.008899 9.8 0 0 0.03524
1-2 processing imu...
it_last_IMU.time: 1664877149.788204
lastState: 1664877149.788204
currentState: 1664877149.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.808203936 -0.07644 0.01238 9.8 0 0 0.03374
1-2 processing imu...
it_last_IMU.time: 1664877149.798204
lastState: 1664877149.798204
currentState: 1664877149.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.818203926 -0.07086 0.01586 9.8 0 0 0.03229
1-2 processing imu...
it_last_IMU.time: 1664877149.808204
lastState: 1664877149.808204
currentState: 1664877149.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.828203917 -0.06529 0.01933 9.8 0 0 0.03087
1-2 processing imu...
it_last_IMU.time: 1664877149.818204
lastState: 1664877149.818204
currentState: 1664877149.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.838203907 -0.05971 0.0228 9.8 0 0 0.02948
1-2 processing imu...
it_last_IMU.time: 1664877149.828204
lastState: 1664877149.828204
currentState: 1664877149.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.848203897 -0.05544 0.02512 9.8 0 0 0.02814
1-2 processing imu...
it_last_IMU.time: 1664877149.838204
lastState: 1664877149.838204
currentState: 1664877149.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.858203888 -0.05144 0.02719 9.8 0 0 0.02682
1-2 processing imu...
it_last_IMU.time: 1664877149.848204
lastState: 1664877149.848204
currentState: 1664877149.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.868204117 -0.04744 0.02926 9.8 0 0 0.02554
1-2 processing imu...
it_last_IMU.time: 1664877149.858204
lastState: 1664877149.858204
currentState: 1664877149.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.878204107 -0.04344 0.03132 9.8 0 0 0.0243
1-2 processing imu...
it_last_IMU.time: 1664877149.868204
lastState: 1664877149.868204
currentState: 1664877149.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.888204098 -0.03944 0.03339 9.8 0 0 0.02308
1-2 processing imu...
it_last_IMU.time: 1664877149.878204
lastState: 1664877149.878204
currentState: 1664877149.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.898204088 -0.03544 0.03545 9.8 0 0 0.0219
1-2 processing imu...
it_last_IMU.time: 1664877149.888204
lastState: 1664877149.888204
currentState: 1664877149.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.908204079 -0.03144 0.03751 9.8 0 0 0.02074
1-2 processing imu...
it_last_IMU.time: 1664877149.898204
lastState: 1664877149.898204
currentState: 1664877149.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.918204069 -0.02743 0.03956 9.8 0 0 0.01963
1-2 processing imu...
it_last_IMU.time: 1664877149.908204
lastState: 1664877149.908204
currentState: 1664877149.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.928204060 -0.02343 0.04162 9.8 0 0 0.01854
1-2 processing imu...
it_last_IMU.time: 1664877149.918204
lastState: 1664877149.918204
currentState: 1664877149.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.938204050 -0.01943 0.04367 9.8 0 0 0.01749
1-2 processing imu...
it_last_IMU.time: 1664877149.928204
lastState: 1664877149.928204
currentState: 1664877149.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.948204041 -0.0166 0.04526 9.8 0 0 0.01646
1-2 processing imu...
it_last_IMU.time: 1664877149.938204
lastState: 1664877149.938204
currentState: 1664877149.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.958204031 -0.01404 0.04674 9.8 0 0 0.01547
1-2 processing imu...
it_last_IMU.time: 1664877149.948204
lastState: 1664877149.948204
currentState: 1664877149.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.968204021 -0.01148 0.04822 9.8 0 0 0.0145
1-2 processing imu...
it_last_IMU.time: 1664877149.958204
lastState: 1664877149.958204
currentState: 1664877149.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.978204012 -0.008923 0.0497 9.8 0 0 0.01357
1-2 processing imu...
it_last_IMU.time: 1664877149.968204
lastState: 1664877149.968204
currentState: 1664877149.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877149.988204002 -0.006363 0.05118 9.8 0 0 0.01265
1-2 processing imu...
it_last_IMU.time: 1664877149.978204
lastState: 1664877149.978204
currentState: 1664877149.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877149.998203993 -0.003803 0.05266 9.8 0 0 0.01177
1-2 processing imu...
it_last_IMU.time: 1664877149.988204
lastState: 1664877149.988204
currentState: 1664877149.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.008203983 -0.001243 0.05414 9.8 0 0 0.01092
1-2 processing imu...
it_last_IMU.time: 1664877149.998204
lastState: 1664877149.998204
currentState: 1664877150.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.018203974 0.001317 0.05561 9.8 0 0 0.01009
1-2 processing imu...
it_last_IMU.time: 1664877150.008204
lastState: 1664877150.008204
currentState: 1664877150.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.028203964 0.003876 0.05709 9.8 0 0 0.009292
1-2 processing imu...
it_last_IMU.time: 1664877150.018204
lastState: 1664877150.018204
currentState: 1664877150.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.038203955 0.006435 0.05857 9.8 0 0 0.008521
1-2 processing imu...
it_last_IMU.time: 1664877150.028204
lastState: 1664877150.028204
currentState: 1664877150.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.048203945 0.008086 0.05839 9.8 0 0 0.007778
1-2 processing imu...
it_last_IMU.time: 1664877150.038204
lastState: 1664877150.038204
currentState: 1664877150.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.058203936 0.009517 0.05782 9.8 0 0 0.007059
1-2 processing imu...
it_last_IMU.time: 1664877150.048204
lastState: 1664877150.048204
currentState: 1664877150.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.068203926 0.01095 0.05725 9.8 0 0 0.006366
1-2 processing imu...
it_last_IMU.time: 1664877150.058204
lastState: 1664877150.058204
currentState: 1664877150.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.078203917 0.01238 0.05668 9.8 0 0 0.005698
1-2 processing imu...
it_last_IMU.time: 1664877150.068204
lastState: 1664877150.068204
currentState: 1664877150.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.088203907 0.01381 0.0561 9.8 0 0 0.005054
1-2 processing imu...
it_last_IMU.time: 1664877150.078204
lastState: 1664877150.078204
currentState: 1664877150.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.098203897 0.01524 0.05553 9.8 0 0 0.004436
1-2 processing imu...
it_last_IMU.time: 1664877150.088204
lastState: 1664877150.088204
currentState: 1664877150.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.108203888 0.01667 0.05496 9.8 0 0 0.003844
1-2 processing imu...
it_last_IMU.time: 1664877150.098204
lastState: 1664877150.098204
currentState: 1664877150.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.118204117 0.0181 0.05439 9.8 0 0 0.003276
1-2 processing imu...
it_last_IMU.time: 1664877150.108204
lastState: 1664877150.108204
currentState: 1664877150.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.128204107 0.01953 0.05381 9.8 0 0 0.002733
1-2 processing imu...
it_last_IMU.time: 1664877150.118204
lastState: 1664877150.118204
currentState: 1664877150.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.138204098 0.02096 0.05324 9.8 0 0 0.002216
1-2 processing imu...
it_last_IMU.time: 1664877150.128204
lastState: 1664877150.128204
currentState: 1664877150.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.148204088 0.02168 0.05224 9.8 0 0 0.001722
1-2 processing imu...
it_last_IMU.time: 1664877150.138204
lastState: 1664877150.138204
currentState: 1664877150.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.158204079 0.02223 0.05112 9.8 0 0 0.001248
1-2 processing imu...
it_last_IMU.time: 1664877150.148204
lastState: 1664877150.148204
currentState: 1664877150.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.168204069 0.02278 0.05001 9.8 0 0 0.000794
1-2 processing imu...
it_last_IMU.time: 1664877150.158204
lastState: 1664877150.158204
currentState: 1664877150.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.178204060 0.02333 0.0489 9.8 0 0 0.000361
1-2 processing imu...
it_last_IMU.time: 1664877150.168204
lastState: 1664877150.168204
currentState: 1664877150.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.188204050 0.02387 0.04779 9.8 0 0 -5.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877150.178204
lastState: 1664877150.178204
currentState: 1664877150.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.198204041 0.02442 0.04668 9.8 0 0 -0.000446
1-2 processing imu...
it_last_IMU.time: 1664877150.188204
lastState: 1664877150.188204
currentState: 1664877150.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877150.172108889 0.2394 0.4529 -5.877e-05 -0.001217 0.001789 -0.9256 -0.3785
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877150.172109
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877150.172109
state->time: 1664877150.172109
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675503.912977822]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675503.913078424]: the fixed q :[0.282, 0.213, 0.642, 0.68][0m
[0m[ INFO] [1670675503.913131629]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675503.913219885]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2394 0.4529 -5.877e-05
p_wv: 18.52 -15.22 31
p: 19.38 -13.71 30.28
q: [0.282, 0.213, 0.642, 0.68]
l: 0.5145
residual in position: -0.204 -0.3251 0.3685
q_err :[-0.998, -0.0422, 0.0365, 0.0301]
residual in q: 0.08453 -0.07316 -0.06028
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877150.172109 it_next->second->time: 1664877150.178204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877150.178204 it_next->second->time: 1664877150.188204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877150.188204 it_next->second->time: 1664877150.198204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.99 -14.32 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877150.208204031 0.02497 0.04556 9.8 0 0 -0.00082
1-2 processing imu...
it_last_IMU.time: 1664877150.198204
lastState: 1664877150.198204
currentState: 1664877150.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.218204021 0.02551 0.04445 9.8 0 0 -0.001173
1-2 processing imu...
it_last_IMU.time: 1664877150.208204
lastState: 1664877150.208204
currentState: 1664877150.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.228204012 0.02606 0.04334 9.8 0 0 -0.001506
1-2 processing imu...
it_last_IMU.time: 1664877150.218204
lastState: 1664877150.218204
currentState: 1664877150.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.238204002 0.02661 0.04223 9.8 0 0 -0.001819
1-2 processing imu...
it_last_IMU.time: 1664877150.228204
lastState: 1664877150.228204
currentState: 1664877150.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.248203993 0.02676 0.04178 9.8 0 0 -0.002114
1-2 processing imu...
it_last_IMU.time: 1664877150.238204
lastState: 1664877150.238204
currentState: 1664877150.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.258203983 0.02681 0.0415 9.8 0 0 -0.002393
1-2 processing imu...
it_last_IMU.time: 1664877150.248204
lastState: 1664877150.248204
currentState: 1664877150.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.268203974 0.02685 0.04123 9.8 0 0 -0.002657
1-2 processing imu...
it_last_IMU.time: 1664877150.258204
lastState: 1664877150.258204
currentState: 1664877150.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.278203964 0.0269 0.04095 9.8 0 0 -0.002905
1-2 processing imu...
it_last_IMU.time: 1664877150.268204
lastState: 1664877150.268204
currentState: 1664877150.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.288203955 0.02694 0.04068 9.8 0 0 -0.003138
1-2 processing imu...
it_last_IMU.time: 1664877150.278204
lastState: 1664877150.278204
currentState: 1664877150.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.298203945 0.02699 0.0404 9.8 0 0 -0.003356
1-2 processing imu...
it_last_IMU.time: 1664877150.288204
lastState: 1664877150.288204
currentState: 1664877150.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.308203936 0.02704 0.04013 9.8 0 0 -0.003558
1-2 processing imu...
it_last_IMU.time: 1664877150.298204
lastState: 1664877150.298204
currentState: 1664877150.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.318203926 0.02708 0.03985 9.8 0 0 -0.003745
1-2 processing imu...
it_last_IMU.time: 1664877150.308204
lastState: 1664877150.308204
currentState: 1664877150.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.328203917 0.02713 0.03958 9.8 0 0 -0.003917
1-2 processing imu...
it_last_IMU.time: 1664877150.318204
lastState: 1664877150.318204
currentState: 1664877150.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.338203907 0.02717 0.0393 9.8 0 0 -0.004073
1-2 processing imu...
it_last_IMU.time: 1664877150.328204
lastState: 1664877150.328204
currentState: 1664877150.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.348203897 0.02698 0.03707 9.8 0 0 -0.004215
1-2 processing imu...
it_last_IMU.time: 1664877150.338204
lastState: 1664877150.338204
currentState: 1664877150.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.358203888 0.02672 0.03428 9.8 0 0 -0.004347
1-2 processing imu...
it_last_IMU.time: 1664877150.348204
lastState: 1664877150.348204
currentState: 1664877150.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.368204117 0.02645 0.03149 9.8 0 0 -0.004467
1-2 processing imu...
it_last_IMU.time: 1664877150.358204
lastState: 1664877150.358204
currentState: 1664877150.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.378204107 0.02619 0.02871 9.8 0 0 -0.004577
1-2 processing imu...
it_last_IMU.time: 1664877150.368204
lastState: 1664877150.368204
currentState: 1664877150.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.388204098 0.02593 0.02592 9.8 0 0 -0.004677
1-2 processing imu...
it_last_IMU.time: 1664877150.378204
lastState: 1664877150.378204
currentState: 1664877150.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.398204088 0.02567 0.02313 9.8 0 0 -0.004766
1-2 processing imu...
it_last_IMU.time: 1664877150.388204
lastState: 1664877150.388204
currentState: 1664877150.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.408204079 0.02541 0.02034 9.8 0 0 -0.004844
1-2 processing imu...
it_last_IMU.time: 1664877150.398204
lastState: 1664877150.398204
currentState: 1664877150.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.418204069 0.02515 0.01756 9.8 0 0 -0.004911
1-2 processing imu...
it_last_IMU.time: 1664877150.408204
lastState: 1664877150.408204
currentState: 1664877150.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.428204060 0.02489 0.01477 9.8 0 0 -0.004967
1-2 processing imu...
it_last_IMU.time: 1664877150.418204
lastState: 1664877150.418204
currentState: 1664877150.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.438204050 0.02463 0.01199 9.8 0 0 -0.005013
1-2 processing imu...
it_last_IMU.time: 1664877150.428204
lastState: 1664877150.428204
currentState: 1664877150.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.448204041 0.02426 0.009699 9.8 0 0 -0.00505
1-2 processing imu...
it_last_IMU.time: 1664877150.438204
lastState: 1664877150.438204
currentState: 1664877150.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.458204031 0.02386 0.007562 9.8 0 0 -0.005079
1-2 processing imu...
it_last_IMU.time: 1664877150.448204
lastState: 1664877150.448204
currentState: 1664877150.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.468204021 0.02345 0.005425 9.8 0 0 -0.005102
1-2 processing imu...
it_last_IMU.time: 1664877150.458204
lastState: 1664877150.458204
currentState: 1664877150.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.478204012 0.02305 0.003288 9.8 0 0 -0.005119
1-2 processing imu...
it_last_IMU.time: 1664877150.468204
lastState: 1664877150.468204
currentState: 1664877150.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.488204002 0.02265 0.001151 9.8 0 0 -0.005129
1-2 processing imu...
it_last_IMU.time: 1664877150.478204
lastState: 1664877150.478204
currentState: 1664877150.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.498203993 0.02225 -0.000986 9.8 0 0 -0.005132
1-2 processing imu...
it_last_IMU.time: 1664877150.488204
lastState: 1664877150.488204
currentState: 1664877150.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.508203983 0.02185 -0.003123 9.8 0 0 -0.005128
1-2 processing imu...
it_last_IMU.time: 1664877150.498204
lastState: 1664877150.498204
currentState: 1664877150.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.518203974 0.02145 -0.00526 9.8 0 0 -0.005118
1-2 processing imu...
it_last_IMU.time: 1664877150.508204
lastState: 1664877150.508204
currentState: 1664877150.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.528203964 0.02105 -0.007397 9.8 0 0 -0.005102
1-2 processing imu...
it_last_IMU.time: 1664877150.518204
lastState: 1664877150.518204
currentState: 1664877150.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.538203955 0.02064 -0.009535 9.8 0 0 -0.005078
1-2 processing imu...
it_last_IMU.time: 1664877150.528204
lastState: 1664877150.528204
currentState: 1664877150.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.548203945 0.02022 -0.01121 9.8 0 0 -0.005049
1-2 processing imu...
it_last_IMU.time: 1664877150.538204
lastState: 1664877150.538204
currentState: 1664877150.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.558203936 0.01979 -0.01275 9.8 0 0 -0.005016
1-2 processing imu...
it_last_IMU.time: 1664877150.548204
lastState: 1664877150.548204
currentState: 1664877150.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.568203926 0.01937 -0.01428 9.8 0 0 -0.004979
1-2 processing imu...
it_last_IMU.time: 1664877150.558204
lastState: 1664877150.558204
currentState: 1664877150.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.578203917 0.01894 -0.01582 9.8 0 0 -0.004939
1-2 processing imu...
it_last_IMU.time: 1664877150.568204
lastState: 1664877150.568204
currentState: 1664877150.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.588203907 0.01851 -0.01735 9.8 0 0 -0.004894
1-2 processing imu...
it_last_IMU.time: 1664877150.578204
lastState: 1664877150.578204
currentState: 1664877150.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.598203897 0.01808 -0.01889 9.8 0 0 -0.004846
1-2 processing imu...
it_last_IMU.time: 1664877150.588204
lastState: 1664877150.588204
currentState: 1664877150.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.608203888 0.01765 -0.02042 9.8 0 0 -0.004794
1-2 processing imu...
it_last_IMU.time: 1664877150.598204
lastState: 1664877150.598204
currentState: 1664877150.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877150.597230911 0.2233 0.4679 -7.059e-05 -0.001273 0.002929 -0.9251 -0.3796
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877150.597231
time: 1664877150.597231
state->time: 1664877150.598204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675504.822489671]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675504.822618411]: the fixed q :[0.283, 0.207, 0.643, 0.681][0m
[0m[ INFO] [1670675504.822689647]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675504.822756332]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2233 0.4679 -7.059e-05
p_wv: 18.52 -15.22 31
p: 19.33 -13.63 30.26
q: [0.283, 0.207, 0.643, 0.681]
l: 0.5151
residual in position: -0.1936 -0.349 0.3809
q_err :[-0.998, -0.043, 0.0413, 0.0354]
residual in q: 0.08616 -0.08288 -0.07092
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877150.598204 it_next->second->time: 1664877150.608204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.96 -14.3 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877150.618204117 0.01723 -0.02196 9.8 0 0 -0.004738
1-2 processing imu...
it_last_IMU.time: 1664877150.608204
lastState: 1664877150.608204
currentState: 1664877150.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.628204107 0.0168 -0.02349 9.8 0 0 -0.004679
1-2 processing imu...
it_last_IMU.time: 1664877150.618204
lastState: 1664877150.618204
currentState: 1664877150.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.638204098 0.01637 -0.02503 9.8 0 0 -0.004616
1-2 processing imu...
it_last_IMU.time: 1664877150.628204
lastState: 1664877150.628204
currentState: 1664877150.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.648204088 0.01597 -0.0273 9.8 0 0 -0.004549
1-2 processing imu...
it_last_IMU.time: 1664877150.638204
lastState: 1664877150.638204
currentState: 1664877150.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.658204079 0.01557 -0.02982 9.8 0 0 -0.004481
1-2 processing imu...
it_last_IMU.time: 1664877150.648204
lastState: 1664877150.648204
currentState: 1664877150.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.668204069 0.01517 -0.03234 9.8 0 0 -0.004412
1-2 processing imu...
it_last_IMU.time: 1664877150.658204
lastState: 1664877150.658204
currentState: 1664877150.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.678204060 0.01477 -0.03486 9.8 0 0 -0.00434
1-2 processing imu...
it_last_IMU.time: 1664877150.668204
lastState: 1664877150.668204
currentState: 1664877150.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.688204050 0.01438 -0.03738 9.8 0 0 -0.004268
1-2 processing imu...
it_last_IMU.time: 1664877150.678204
lastState: 1664877150.678204
currentState: 1664877150.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.698204041 0.01398 -0.0399 9.8 0 0 -0.004194
1-2 processing imu...
it_last_IMU.time: 1664877150.688204
lastState: 1664877150.688204
currentState: 1664877150.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.708204031 0.01358 -0.04242 9.8 0 0 -0.004118
1-2 processing imu...
it_last_IMU.time: 1664877150.698204
lastState: 1664877150.698204
currentState: 1664877150.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.718204021 0.01319 -0.04494 9.8 0 0 -0.004041
1-2 processing imu...
it_last_IMU.time: 1664877150.708204
lastState: 1664877150.708204
currentState: 1664877150.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.728204012 0.01279 -0.04746 9.8 0 0 -0.003962
1-2 processing imu...
it_last_IMU.time: 1664877150.718204
lastState: 1664877150.718204
currentState: 1664877150.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.738204002 0.01239 -0.04998 9.8 0 0 -0.003882
1-2 processing imu...
it_last_IMU.time: 1664877150.728204
lastState: 1664877150.728204
currentState: 1664877150.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.748203993 0.01203 -0.05104 9.8 0 0 -0.0038
1-2 processing imu...
it_last_IMU.time: 1664877150.738204
lastState: 1664877150.738204
currentState: 1664877150.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.758203983 0.01168 -0.0516 9.8 0 0 -0.003719
1-2 processing imu...
it_last_IMU.time: 1664877150.748204
lastState: 1664877150.748204
currentState: 1664877150.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.768203974 0.01132 -0.05217 9.8 0 0 -0.003637
1-2 processing imu...
it_last_IMU.time: 1664877150.758204
lastState: 1664877150.758204
currentState: 1664877150.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.778203964 0.01097 -0.05273 9.8 0 0 -0.003556
1-2 processing imu...
it_last_IMU.time: 1664877150.768204
lastState: 1664877150.768204
currentState: 1664877150.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.788203955 0.01062 -0.0533 9.8 0 0 -0.003475
1-2 processing imu...
it_last_IMU.time: 1664877150.778204
lastState: 1664877150.778204
currentState: 1664877150.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.798203945 0.01027 -0.05386 9.8 0 0 -0.003393
1-2 processing imu...
it_last_IMU.time: 1664877150.788204
lastState: 1664877150.788204
currentState: 1664877150.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.808203936 0.009917 -0.05442 9.8 0 0 -0.003312
1-2 processing imu...
it_last_IMU.time: 1664877150.798204
lastState: 1664877150.798204
currentState: 1664877150.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.818203926 0.009565 -0.05498 9.8 0 0 -0.00323
1-2 processing imu...
it_last_IMU.time: 1664877150.808204
lastState: 1664877150.808204
currentState: 1664877150.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.828203917 0.009213 -0.05555 9.8 0 0 -0.003149
1-2 processing imu...
it_last_IMU.time: 1664877150.818204
lastState: 1664877150.818204
currentState: 1664877150.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.838203907 0.008861 -0.05611 9.8 0 0 -0.003068
1-2 processing imu...
it_last_IMU.time: 1664877150.828204
lastState: 1664877150.828204
currentState: 1664877150.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.848203897 0.008547 -0.05541 9.8 0 0 -0.002987
1-2 processing imu...
it_last_IMU.time: 1664877150.838204
lastState: 1664877150.838204
currentState: 1664877150.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.858203888 0.008246 -0.05425 9.8 0 0 -0.002906
1-2 processing imu...
it_last_IMU.time: 1664877150.848204
lastState: 1664877150.848204
currentState: 1664877150.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.868204117 0.007945 -0.05309 9.8 0 0 -0.002827
1-2 processing imu...
it_last_IMU.time: 1664877150.858204
lastState: 1664877150.858204
currentState: 1664877150.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.878204107 0.007644 -0.05194 9.8 0 0 -0.002749
1-2 processing imu...
it_last_IMU.time: 1664877150.868204
lastState: 1664877150.868204
currentState: 1664877150.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.888204098 0.007343 -0.05078 9.8 0 0 -0.002672
1-2 processing imu...
it_last_IMU.time: 1664877150.878204
lastState: 1664877150.878204
currentState: 1664877150.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.898204088 0.007042 -0.04962 9.8 0 0 -0.002595
1-2 processing imu...
it_last_IMU.time: 1664877150.888204
lastState: 1664877150.888204
currentState: 1664877150.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.908204079 0.00674 -0.04846 9.8 0 0 -0.00252
1-2 processing imu...
it_last_IMU.time: 1664877150.898204
lastState: 1664877150.898204
currentState: 1664877150.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.918204069 0.006439 -0.0473 9.8 0 0 -0.002445
1-2 processing imu...
it_last_IMU.time: 1664877150.908204
lastState: 1664877150.908204
currentState: 1664877150.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.928204060 0.006137 -0.04615 9.8 0 0 -0.002372
1-2 processing imu...
it_last_IMU.time: 1664877150.918204
lastState: 1664877150.918204
currentState: 1664877150.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.938204050 0.005835 -0.04499 9.8 0 0 -0.0023
1-2 processing imu...
it_last_IMU.time: 1664877150.928204
lastState: 1664877150.928204
currentState: 1664877150.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.948204041 0.005579 -0.04385 9.8 0 0 -0.002228
1-2 processing imu...
it_last_IMU.time: 1664877150.938204
lastState: 1664877150.938204
currentState: 1664877150.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.958204031 0.005339 -0.04272 9.8 0 0 -0.002158
1-2 processing imu...
it_last_IMU.time: 1664877150.948204
lastState: 1664877150.948204
currentState: 1664877150.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.968204021 0.005099 -0.04159 9.8 0 0 -0.002089
1-2 processing imu...
it_last_IMU.time: 1664877150.958204
lastState: 1664877150.958204
currentState: 1664877150.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.978204012 0.004859 -0.04047 9.8 0 0 -0.002022
1-2 processing imu...
it_last_IMU.time: 1664877150.968204
lastState: 1664877150.968204
currentState: 1664877150.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877150.988204002 0.004619 -0.03934 9.8 0 0 -0.001956
1-2 processing imu...
it_last_IMU.time: 1664877150.978204
lastState: 1664877150.978204
currentState: 1664877150.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877150.998203993 0.004379 -0.03821 9.8 0 0 -0.001892
1-2 processing imu...
it_last_IMU.time: 1664877150.988204
lastState: 1664877150.988204
currentState: 1664877150.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.008203983 0.004139 -0.03708 9.8 0 0 -0.001828
1-2 processing imu...
it_last_IMU.time: 1664877150.998204
lastState: 1664877150.998204
currentState: 1664877151.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.018203974 0.003898 -0.03595 9.8 0 0 -0.001767
1-2 processing imu...
it_last_IMU.time: 1664877151.008204
lastState: 1664877151.008204
currentState: 1664877151.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.028203964 0.003658 -0.03482 9.8 0 0 -0.001706
1-2 processing imu...
it_last_IMU.time: 1664877151.018204
lastState: 1664877151.018204
currentState: 1664877151.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877151.015387058 0.208 0.4823 0.0002317 -0.0002526 0.003521 -0.9248 -0.3804
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877151.015387
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877151.015387
state->time: 1664877151.015387
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675505.718246952]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675505.718301351]: the fixed q :[0.283, 0.212, 0.641, 0.681][0m
[0m[ INFO] [1670675505.718312667]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675505.718327624]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.208 0.4823 0.0002317
p_wv: 18.52 -15.22 31
p: 19.29 -13.64 30.28
q: [0.283, 0.212, 0.641, 0.681]
l: 0.5146
residual in position: -0.1861 -0.3318 0.3708
q_err :[-0.998, -0.0419, 0.0371, 0.0321]
residual in q: 0.08403 -0.07434 -0.06434
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877151.015387 it_next->second->time: 1664877151.018204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877151.018204 it_next->second->time: 1664877151.028204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.93 -14.27 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877151.038203955 0.003418 -0.03369 9.8 0 0 -0.001647
1-2 processing imu...
it_last_IMU.time: 1664877151.028204
lastState: 1664877151.028204
currentState: 1664877151.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.048203945 0.003229 -0.03302 9.8 0 0 -0.001589
1-2 processing imu...
it_last_IMU.time: 1664877151.038204
lastState: 1664877151.038204
currentState: 1664877151.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.058203936 0.003059 -0.03253 9.8 0 0 -0.001533
1-2 processing imu...
it_last_IMU.time: 1664877151.048204
lastState: 1664877151.048204
currentState: 1664877151.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.068203926 0.00289 -0.03204 9.8 0 0 -0.001478
1-2 processing imu...
it_last_IMU.time: 1664877151.058204
lastState: 1664877151.058204
currentState: 1664877151.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.078203917 0.002721 -0.03155 9.8 0 0 -0.001425
1-2 processing imu...
it_last_IMU.time: 1664877151.068204
lastState: 1664877151.068204
currentState: 1664877151.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.088203907 0.002552 -0.03106 9.8 0 0 -0.001373
1-2 processing imu...
it_last_IMU.time: 1664877151.078204
lastState: 1664877151.078204
currentState: 1664877151.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.098203897 0.002382 -0.03057 9.8 0 0 -0.001323
1-2 processing imu...
it_last_IMU.time: 1664877151.088204
lastState: 1664877151.088204
currentState: 1664877151.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.108203888 0.002213 -0.03009 9.8 0 0 -0.001274
1-2 processing imu...
it_last_IMU.time: 1664877151.098204
lastState: 1664877151.098204
currentState: 1664877151.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.118204117 0.002044 -0.0296 9.8 0 0 -0.001226
1-2 processing imu...
it_last_IMU.time: 1664877151.108204
lastState: 1664877151.108204
currentState: 1664877151.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.128204107 0.001874 -0.02911 9.8 0 0 -0.00118
1-2 processing imu...
it_last_IMU.time: 1664877151.118204
lastState: 1664877151.118204
currentState: 1664877151.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.138204098 0.001705 -0.02862 9.8 0 0 -0.001136
1-2 processing imu...
it_last_IMU.time: 1664877151.128204
lastState: 1664877151.128204
currentState: 1664877151.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.148204088 0.001578 -0.02785 9.8 0 0 -0.001092
1-2 processing imu...
it_last_IMU.time: 1664877151.138204
lastState: 1664877151.138204
currentState: 1664877151.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.158204079 0.001469 -0.02697 9.8 0 0 -0.001051
1-2 processing imu...
it_last_IMU.time: 1664877151.148204
lastState: 1664877151.148204
currentState: 1664877151.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.168204069 0.00136 -0.0261 9.8 0 0 -0.00101
1-2 processing imu...
it_last_IMU.time: 1664877151.158204
lastState: 1664877151.158204
currentState: 1664877151.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.178204060 0.001251 -0.02522 9.8 0 0 -0.000971
1-2 processing imu...
it_last_IMU.time: 1664877151.168204
lastState: 1664877151.168204
currentState: 1664877151.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.188204050 0.001142 -0.02434 9.8 0 0 -0.000933
1-2 processing imu...
it_last_IMU.time: 1664877151.178204
lastState: 1664877151.178204
currentState: 1664877151.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.198204041 0.001033 -0.02346 9.8 0 0 -0.000896
1-2 processing imu...
it_last_IMU.time: 1664877151.188204
lastState: 1664877151.188204
currentState: 1664877151.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.208204031 0.000924 -0.02258 9.8 0 0 -0.000861
1-2 processing imu...
it_last_IMU.time: 1664877151.198204
lastState: 1664877151.198204
currentState: 1664877151.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.218204021 0.000815 -0.0217 9.8 0 0 -0.000827
1-2 processing imu...
it_last_IMU.time: 1664877151.208204
lastState: 1664877151.208204
currentState: 1664877151.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.228204012 0.000706 -0.02082 9.8 0 0 -0.000794
1-2 processing imu...
it_last_IMU.time: 1664877151.218204
lastState: 1664877151.218204
currentState: 1664877151.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.238204002 0.000596 -0.01995 9.8 0 0 -0.000763
1-2 processing imu...
it_last_IMU.time: 1664877151.228204
lastState: 1664877151.228204
currentState: 1664877151.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.248203993 0.000523 -0.01985 9.8 0 0 -0.000733
1-2 processing imu...
it_last_IMU.time: 1664877151.238204
lastState: 1664877151.238204
currentState: 1664877151.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.258203983 0.000466 -0.02008 9.8 0 0 -0.000704
1-2 processing imu...
it_last_IMU.time: 1664877151.248204
lastState: 1664877151.248204
currentState: 1664877151.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.268203974 0.000409 -0.02032 9.8 0 0 -0.000676
1-2 processing imu...
it_last_IMU.time: 1664877151.258204
lastState: 1664877151.258204
currentState: 1664877151.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.278203964 0.000351 -0.02055 9.8 0 0 -0.00065
1-2 processing imu...
it_last_IMU.time: 1664877151.268204
lastState: 1664877151.268204
currentState: 1664877151.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.288203955 0.000294 -0.02079 9.8 0 0 -0.000624
1-2 processing imu...
it_last_IMU.time: 1664877151.278204
lastState: 1664877151.278204
currentState: 1664877151.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.298203945 0.000236 -0.02102 9.8 0 0 -0.000599
1-2 processing imu...
it_last_IMU.time: 1664877151.288204
lastState: 1664877151.288204
currentState: 1664877151.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.308203936 0.000179 -0.02125 9.8 0 0 -0.000576
1-2 processing imu...
it_last_IMU.time: 1664877151.298204
lastState: 1664877151.298204
currentState: 1664877151.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.318203926 0.000122 -0.02149 9.8 0 0 -0.000553
1-2 processing imu...
it_last_IMU.time: 1664877151.308204
lastState: 1664877151.308204
currentState: 1664877151.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.328203917 6.4e-05 -0.02172 9.8 0 0 -0.000532
1-2 processing imu...
it_last_IMU.time: 1664877151.318204
lastState: 1664877151.318204
currentState: 1664877151.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.338203907 7e-06 -0.02196 9.8 0 0 -0.000512
1-2 processing imu...
it_last_IMU.time: 1664877151.328204
lastState: 1664877151.328204
currentState: 1664877151.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.348203897 -2.2e-05 -0.02113 9.8 0 0 -0.000492
1-2 processing imu...
it_last_IMU.time: 1664877151.338204
lastState: 1664877151.338204
currentState: 1664877151.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.358203888 -3.7e-05 -0.01982 9.8 0 0 -0.000474
1-2 processing imu...
it_last_IMU.time: 1664877151.348204
lastState: 1664877151.348204
currentState: 1664877151.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.368204117 -5.3e-05 -0.01852 9.8 0 0 -0.000456
1-2 processing imu...
it_last_IMU.time: 1664877151.358204
lastState: 1664877151.358204
currentState: 1664877151.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.378204107 -6.8e-05 -0.01722 9.8 0 0 -0.000439
1-2 processing imu...
it_last_IMU.time: 1664877151.368204
lastState: 1664877151.368204
currentState: 1664877151.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.388204098 -8.4e-05 -0.01591 9.8 0 0 -0.000423
1-2 processing imu...
it_last_IMU.time: 1664877151.378204
lastState: 1664877151.378204
currentState: 1664877151.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.398204088 -0.0001 -0.0146 9.8 0 0 -0.000408
1-2 processing imu...
it_last_IMU.time: 1664877151.388204
lastState: 1664877151.388204
currentState: 1664877151.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.408204079 -0.000115 -0.0133 9.8 0 0 -0.000393
1-2 processing imu...
it_last_IMU.time: 1664877151.398204
lastState: 1664877151.398204
currentState: 1664877151.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.418204069 -0.000131 -0.012 9.8 0 0 -0.00038
1-2 processing imu...
it_last_IMU.time: 1664877151.408204
lastState: 1664877151.408204
currentState: 1664877151.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.428204060 -0.000146 -0.01069 9.8 0 0 -0.000367
1-2 processing imu...
it_last_IMU.time: 1664877151.418204
lastState: 1664877151.418204
currentState: 1664877151.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.438204050 -0.000162 -0.009386 9.8 0 0 -0.000355
1-2 processing imu...
it_last_IMU.time: 1664877151.428204
lastState: 1664877151.428204
currentState: 1664877151.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.448204041 -0.000159 -0.007641 9.8 0 0 -0.000343
1-2 processing imu...
it_last_IMU.time: 1664877151.438204
lastState: 1664877151.438204
currentState: 1664877151.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877151.424034119 0.1918 0.4984 0.0002508 -0.0005814 0.003404 -0.925 -0.38
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877151.424034
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877151.424034
state->time: 1664877151.424034
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675506.604090855]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675506.604205968]: the fixed q :[0.284, 0.216, 0.64, 0.681][0m
[0m[ INFO] [1670675506.604266209]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675506.604318684]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1918 0.4984 0.0002508
p_wv: 18.52 -15.22 31
p: 19.24 -13.67 30.34
q: [0.284, 0.216, 0.64, 0.681]
l: 0.5148
residual in position: -0.1776 -0.3013 0.3425
q_err :[-0.998, -0.0419, 0.0349, 0.0283]
residual in q: 0.08401 -0.06988 -0.05673
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877151.424034 it_next->second->time: 1664877151.428204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877151.428204 it_next->second->time: 1664877151.438204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877151.438204 it_next->second->time: 1664877151.448204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.9 -14.23 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877151.458204031 -0.000148 -0.005692 9.8 0 0 -0.000332
1-2 processing imu...
it_last_IMU.time: 1664877151.448204
lastState: 1664877151.448204
currentState: 1664877151.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.468204021 -0.000136 -0.003743 9.8 0 0 -0.000322
1-2 processing imu...
it_last_IMU.time: 1664877151.458204
lastState: 1664877151.458204
currentState: 1664877151.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.478204012 -0.000125 -0.001794 9.8 0 0 -0.000312
1-2 processing imu...
it_last_IMU.time: 1664877151.468204
lastState: 1664877151.468204
currentState: 1664877151.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.488204002 -0.000113 0.000155 9.8 0 0 -0.000303
1-2 processing imu...
it_last_IMU.time: 1664877151.478204
lastState: 1664877151.478204
currentState: 1664877151.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.498203993 -0.000102 0.002105 9.8 0 0 -0.000295
1-2 processing imu...
it_last_IMU.time: 1664877151.488204
lastState: 1664877151.488204
currentState: 1664877151.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.508203983 -9.1e-05 0.004054 9.8 0 0 -0.000286
1-2 processing imu...
it_last_IMU.time: 1664877151.498204
lastState: 1664877151.498204
currentState: 1664877151.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.518203974 -7.9e-05 0.006003 9.8 0 0 -0.000279
1-2 processing imu...
it_last_IMU.time: 1664877151.508204
lastState: 1664877151.508204
currentState: 1664877151.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.528203964 -6.8e-05 0.007952 9.8 0 0 -0.000272
1-2 processing imu...
it_last_IMU.time: 1664877151.518204
lastState: 1664877151.518204
currentState: 1664877151.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.538203955 -5.6e-05 0.009901 9.8 0 0 -0.000265
1-2 processing imu...
it_last_IMU.time: 1664877151.528204
lastState: 1664877151.528204
currentState: 1664877151.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.548203945 -3.4e-05 0.01244 9.8 0 0 -0.000259
1-2 processing imu...
it_last_IMU.time: 1664877151.538204
lastState: 1664877151.538204
currentState: 1664877151.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.558203936 -5e-06 0.01526 9.8 0 0 -0.000254
1-2 processing imu...
it_last_IMU.time: 1664877151.548204
lastState: 1664877151.548204
currentState: 1664877151.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.568203926 2.3e-05 0.01809 9.8 0 0 -0.000248
1-2 processing imu...
it_last_IMU.time: 1664877151.558204
lastState: 1664877151.558204
currentState: 1664877151.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.578203917 5.2e-05 0.02091 9.8 0 0 -0.000243
1-2 processing imu...
it_last_IMU.time: 1664877151.568204
lastState: 1664877151.568204
currentState: 1664877151.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.588203907 8e-05 0.02373 9.8 0 0 -0.000239
1-2 processing imu...
it_last_IMU.time: 1664877151.578204
lastState: 1664877151.578204
currentState: 1664877151.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.598203897 0.000108 0.02655 9.8 0 0 -0.000234
1-2 processing imu...
it_last_IMU.time: 1664877151.588204
lastState: 1664877151.588204
currentState: 1664877151.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.608203888 0.000137 0.02938 9.8 0 0 -0.00023
1-2 processing imu...
it_last_IMU.time: 1664877151.598204
lastState: 1664877151.598204
currentState: 1664877151.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.618204117 0.000165 0.0322 9.8 0 0 -0.000227
1-2 processing imu...
it_last_IMU.time: 1664877151.608204
lastState: 1664877151.608204
currentState: 1664877151.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.628204107 0.000193 0.03503 9.8 0 0 -0.000223
1-2 processing imu...
it_last_IMU.time: 1664877151.618204
lastState: 1664877151.618204
currentState: 1664877151.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.638204098 0.000221 0.03785 9.8 0 0 -0.00022
1-2 processing imu...
it_last_IMU.time: 1664877151.628204
lastState: 1664877151.628204
currentState: 1664877151.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.648204088 0.000253 0.03937 9.8 0 0 -0.000218
1-2 processing imu...
it_last_IMU.time: 1664877151.638204
lastState: 1664877151.638204
currentState: 1664877151.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.658204079 0.000287 0.04024 9.8 0 0 -0.000215
1-2 processing imu...
it_last_IMU.time: 1664877151.648204
lastState: 1664877151.648204
currentState: 1664877151.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.668204069 0.00032 0.0411 9.8 0 0 -0.000213
1-2 processing imu...
it_last_IMU.time: 1664877151.658204
lastState: 1664877151.658204
currentState: 1664877151.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.678204060 0.000354 0.04197 9.8 0 0 -0.000211
1-2 processing imu...
it_last_IMU.time: 1664877151.668204
lastState: 1664877151.668204
currentState: 1664877151.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.688204050 0.000387 0.04283 9.8 0 0 -0.000209
1-2 processing imu...
it_last_IMU.time: 1664877151.678204
lastState: 1664877151.678204
currentState: 1664877151.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.698204041 0.000421 0.0437 9.8 0 0 -0.000207
1-2 processing imu...
it_last_IMU.time: 1664877151.688204
lastState: 1664877151.688204
currentState: 1664877151.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.708204031 0.000454 0.04456 9.8 0 0 -0.000205
1-2 processing imu...
it_last_IMU.time: 1664877151.698204
lastState: 1664877151.698204
currentState: 1664877151.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.718204021 0.000488 0.04543 9.8 0 0 -0.000203
1-2 processing imu...
it_last_IMU.time: 1664877151.708204
lastState: 1664877151.708204
currentState: 1664877151.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.728204012 0.000521 0.0463 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877151.718204
lastState: 1664877151.718204
currentState: 1664877151.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.738204002 0.000555 0.04716 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877151.728204
lastState: 1664877151.728204
currentState: 1664877151.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.748203993 0.000584 0.0454 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877151.738204
lastState: 1664877151.738204
currentState: 1664877151.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.758203983 0.000611 0.04225 9.8 0 0 -0.000199
1-2 processing imu...
it_last_IMU.time: 1664877151.748204
lastState: 1664877151.748204
currentState: 1664877151.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.768203974 0.000638 0.03911 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877151.758204
lastState: 1664877151.758204
currentState: 1664877151.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.778203964 0.000665 0.03596 9.8 0 0 -0.000197
1-2 processing imu...
it_last_IMU.time: 1664877151.768204
lastState: 1664877151.768204
currentState: 1664877151.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.788203955 0.000692 0.03281 9.8 0 0 -0.000197
1-2 processing imu...
it_last_IMU.time: 1664877151.778204
lastState: 1664877151.778204
currentState: 1664877151.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.798203945 0.00072 0.02967 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877151.788204
lastState: 1664877151.788204
currentState: 1664877151.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.808203936 0.000747 0.02652 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877151.798204
lastState: 1664877151.798204
currentState: 1664877151.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.818203926 0.000774 0.02338 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877151.808204
lastState: 1664877151.808204
currentState: 1664877151.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.828203917 0.000801 0.02023 9.8 0 0 -0.000194
1-2 processing imu...
it_last_IMU.time: 1664877151.818204
lastState: 1664877151.818204
currentState: 1664877151.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.838203907 0.000828 0.01709 9.8 0 0 -0.000194
1-2 processing imu...
it_last_IMU.time: 1664877151.828204
lastState: 1664877151.828204
currentState: 1664877151.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.848203897 0.000842 0.01444 9.8 0 0 -0.000194
1-2 processing imu...
it_last_IMU.time: 1664877151.838204
lastState: 1664877151.838204
currentState: 1664877151.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.858203888 0.000849 0.01206 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877151.848204
lastState: 1664877151.848204
currentState: 1664877151.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877151.839504957 0.1756 0.5143 -7.977e-05 -0.00101 0.003785 -0.9248 -0.3805
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877151.839505
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877151.839505
state->time: 1664877151.839505
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675507.496061152]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675507.496157336]: the fixed q :[0.283, 0.218, 0.639, 0.681][0m
[0m[ INFO] [1670675507.496208187]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675507.496262214]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1756 0.5143 -7.977e-05
p_wv: 18.52 -15.22 31
p: 19.2 -13.64 30.35
q: [0.283, 0.218, 0.639, 0.681]
l: 0.5149
residual in position: -0.1746 -0.2985 0.3356
q_err :[-0.998, -0.0419, 0.0336, 0.0279]
residual in q: 0.08394 -0.0674 -0.05586
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877151.839505 it_next->second->time: 1664877151.848204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877151.848204 it_next->second->time: 1664877151.858204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.87 -14.2 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877151.868204117 0.000855 0.009679 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877151.858204
lastState: 1664877151.858204
currentState: 1664877151.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.878204107 0.000862 0.007299 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877151.868204
lastState: 1664877151.868204
currentState: 1664877151.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.888204098 0.000869 0.00492 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877151.878204
lastState: 1664877151.878204
currentState: 1664877151.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.898204088 0.000876 0.002541 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877151.888204
lastState: 1664877151.888204
currentState: 1664877151.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.908204079 0.000882 0.000161 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877151.898204
lastState: 1664877151.898204
currentState: 1664877151.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.918204069 0.000889 -0.002218 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877151.908204
lastState: 1664877151.908204
currentState: 1664877151.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.928204060 0.000896 -0.004597 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877151.918204
lastState: 1664877151.918204
currentState: 1664877151.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.938204050 0.000903 -0.006977 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877151.928204
lastState: 1664877151.928204
currentState: 1664877151.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.948204041 0.000901 -0.007286 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877151.938204
lastState: 1664877151.938204
currentState: 1664877151.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.958204031 0.000895 -0.006418 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877151.948204
lastState: 1664877151.948204
currentState: 1664877151.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.968204021 0.000888 -0.00555 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877151.958204
lastState: 1664877151.958204
currentState: 1664877151.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.978204012 0.000882 -0.004683 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877151.968204
lastState: 1664877151.968204
currentState: 1664877151.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877151.988204002 0.000875 -0.003815 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877151.978204
lastState: 1664877151.978204
currentState: 1664877151.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877151.998203993 0.000869 -0.002948 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877151.988204
lastState: 1664877151.988204
currentState: 1664877151.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.008203983 0.000862 -0.00208 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877151.998204
lastState: 1664877151.998204
currentState: 1664877152.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.018203974 0.000856 -0.001212 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877152.008204
lastState: 1664877152.008204
currentState: 1664877152.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.028203964 0.000849 -0.000345 9.8 0 0 -0.000194
1-2 processing imu...
it_last_IMU.time: 1664877152.018204
lastState: 1664877152.018204
currentState: 1664877152.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.038203955 0.000843 0.000523 9.8 0 0 -0.000194
1-2 processing imu...
it_last_IMU.time: 1664877152.028204
lastState: 1664877152.028204
currentState: 1664877152.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.048203945 0.000833 0.001608 9.8 0 0 -0.000194
1-2 processing imu...
it_last_IMU.time: 1664877152.038204
lastState: 1664877152.038204
currentState: 1664877152.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.058203936 0.00082 0.002821 9.8 0 0 -0.000194
1-2 processing imu...
it_last_IMU.time: 1664877152.048204
lastState: 1664877152.048204
currentState: 1664877152.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.068203926 0.000807 0.004034 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877152.058204
lastState: 1664877152.058204
currentState: 1664877152.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.078203917 0.000794 0.005247 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877152.068204
lastState: 1664877152.068204
currentState: 1664877152.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.088203907 0.000781 0.00646 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877152.078204
lastState: 1664877152.078204
currentState: 1664877152.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.098203897 0.000768 0.007673 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877152.088204
lastState: 1664877152.088204
currentState: 1664877152.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.108203888 0.000756 0.008886 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877152.098204
lastState: 1664877152.098204
currentState: 1664877152.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.118204117 0.000743 0.0101 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877152.108204
lastState: 1664877152.108204
currentState: 1664877152.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.128204107 0.00073 0.01131 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877152.118204
lastState: 1664877152.118204
currentState: 1664877152.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.138204098 0.000717 0.01252 9.8 0 0 -0.000197
1-2 processing imu...
it_last_IMU.time: 1664877152.128204
lastState: 1664877152.128204
currentState: 1664877152.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.148204088 0.000703 0.01303 9.8 0 0 -0.000197
1-2 processing imu...
it_last_IMU.time: 1664877152.138204
lastState: 1664877152.138204
currentState: 1664877152.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.158204079 0.000689 0.0131 9.8 0 0 -0.000197
1-2 processing imu...
it_last_IMU.time: 1664877152.148204
lastState: 1664877152.148204
currentState: 1664877152.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.168204069 0.000675 0.01317 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877152.158204
lastState: 1664877152.158204
currentState: 1664877152.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.178204060 0.00066 0.01324 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877152.168204
lastState: 1664877152.168204
currentState: 1664877152.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.188204050 0.000646 0.0133 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877152.178204
lastState: 1664877152.178204
currentState: 1664877152.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.198204041 0.000631 0.01337 9.8 0 0 -0.000199
1-2 processing imu...
it_last_IMU.time: 1664877152.188204
lastState: 1664877152.188204
currentState: 1664877152.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.208204031 0.000617 0.01344 9.8 0 0 -0.000199
1-2 processing imu...
it_last_IMU.time: 1664877152.198204
lastState: 1664877152.198204
currentState: 1664877152.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.218204021 0.000603 0.01351 9.8 0 0 -0.000199
1-2 processing imu...
it_last_IMU.time: 1664877152.208204
lastState: 1664877152.208204
currentState: 1664877152.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.228204012 0.000588 0.01358 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877152.218204
lastState: 1664877152.218204
currentState: 1664877152.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.238204002 0.000574 0.01365 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877152.228204
lastState: 1664877152.228204
currentState: 1664877152.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.248203993 0.000561 0.01402 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877152.238204
lastState: 1664877152.238204
currentState: 1664877152.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.258203983 0.000549 0.01458 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877152.248204
lastState: 1664877152.248204
currentState: 1664877152.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.268203974 0.000537 0.01515 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877152.258204
lastState: 1664877152.258204
currentState: 1664877152.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.278203964 0.000524 0.01571 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877152.268204
lastState: 1664877152.268204
currentState: 1664877152.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877152.255260944 0.1605 0.5295 0.0002253 -0.0002729 0.003687 -0.9248 -0.3805
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877152.255261
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877152.255261
state->time: 1664877152.255261
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675508.404442599]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675508.404492345]: the fixed q :[0.283, 0.221, 0.638, 0.681][0m
[0m[ INFO] [1670675508.404503100]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675508.404518680]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1605 0.5295 0.0002253
p_wv: 18.52 -15.22 31
p: 19.16 -13.63 30.37
q: [0.283, 0.221, 0.638, 0.681]
l: 0.5147
residual in position: -0.1712 -0.2886 0.3264
q_err :[-0.998, -0.0415, 0.0306, 0.0255]
residual in q: 0.08316 -0.06126 -0.05116
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877152.255261 it_next->second->time: 1664877152.258204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877152.258204 it_next->second->time: 1664877152.268204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877152.268204 it_next->second->time: 1664877152.278204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.84 -14.17 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877152.288203955 0.000512 0.01627 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877152.278204
lastState: 1664877152.278204
currentState: 1664877152.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.298203945 0.0005 0.01684 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877152.288204
lastState: 1664877152.288204
currentState: 1664877152.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.308203936 0.000488 0.0174 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877152.298204
lastState: 1664877152.298204
currentState: 1664877152.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.318203926 0.000475 0.01796 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877152.308204
lastState: 1664877152.308204
currentState: 1664877152.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.328203917 0.000463 0.01853 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877152.318204
lastState: 1664877152.318204
currentState: 1664877152.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.338203907 0.000451 0.01909 9.8 0 0 -0.000203
1-2 processing imu...
it_last_IMU.time: 1664877152.328204
lastState: 1664877152.328204
currentState: 1664877152.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.348203897 0.000441 0.01983 9.8 0 0 -0.000203
1-2 processing imu...
it_last_IMU.time: 1664877152.338204
lastState: 1664877152.338204
currentState: 1664877152.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.358203888 0.000433 0.0207 9.8 0 0 -0.000203
1-2 processing imu...
it_last_IMU.time: 1664877152.348204
lastState: 1664877152.348204
currentState: 1664877152.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.368204117 0.000426 0.02156 9.8 0 0 -0.000203
1-2 processing imu...
it_last_IMU.time: 1664877152.358204
lastState: 1664877152.358204
currentState: 1664877152.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.378204107 0.000418 0.02242 9.8 0 0 -0.000203
1-2 processing imu...
it_last_IMU.time: 1664877152.368204
lastState: 1664877152.368204
currentState: 1664877152.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.388204098 0.00041 0.02329 9.8 0 0 -0.000203
1-2 processing imu...
it_last_IMU.time: 1664877152.378204
lastState: 1664877152.378204
currentState: 1664877152.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.398204088 0.000402 0.02415 9.8 0 0 -0.000204
1-2 processing imu...
it_last_IMU.time: 1664877152.388204
lastState: 1664877152.388204
currentState: 1664877152.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.408204079 0.000395 0.02501 9.8 0 0 -0.000204
1-2 processing imu...
it_last_IMU.time: 1664877152.398204
lastState: 1664877152.398204
currentState: 1664877152.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.418204069 0.000387 0.02587 9.8 0 0 -0.000204
1-2 processing imu...
it_last_IMU.time: 1664877152.408204
lastState: 1664877152.408204
currentState: 1664877152.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.428204060 0.000379 0.02674 9.8 0 0 -0.000204
1-2 processing imu...
it_last_IMU.time: 1664877152.418204
lastState: 1664877152.418204
currentState: 1664877152.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.438204050 0.000371 0.0276 9.8 0 0 -0.000204
1-2 processing imu...
it_last_IMU.time: 1664877152.428204
lastState: 1664877152.428204
currentState: 1664877152.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.448204041 0.000366 0.02799 9.8 0 0 -0.000204
1-2 processing imu...
it_last_IMU.time: 1664877152.438204
lastState: 1664877152.438204
currentState: 1664877152.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.458204031 0.000363 0.02807 9.8 0 0 -0.000204
1-2 processing imu...
it_last_IMU.time: 1664877152.448204
lastState: 1664877152.448204
currentState: 1664877152.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.468204021 0.00036 0.02814 9.8 0 0 -0.000204
1-2 processing imu...
it_last_IMU.time: 1664877152.458204
lastState: 1664877152.458204
currentState: 1664877152.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.478204012 0.000356 0.02821 9.8 0 0 -0.000204
1-2 processing imu...
it_last_IMU.time: 1664877152.468204
lastState: 1664877152.468204
currentState: 1664877152.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.488204002 0.000353 0.02828 9.8 0 0 -0.000204
1-2 processing imu...
it_last_IMU.time: 1664877152.478204
lastState: 1664877152.478204
currentState: 1664877152.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.498203993 0.00035 0.02835 9.8 0 0 -0.000204
1-2 processing imu...
it_last_IMU.time: 1664877152.488204
lastState: 1664877152.488204
currentState: 1664877152.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.508203983 0.000347 0.02842 9.8 0 0 -0.000204
1-2 processing imu...
it_last_IMU.time: 1664877152.498204
lastState: 1664877152.498204
currentState: 1664877152.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.518203974 0.000344 0.0285 9.8 0 0 -0.000204
1-2 processing imu...
it_last_IMU.time: 1664877152.508204
lastState: 1664877152.508204
currentState: 1664877152.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.528203964 0.00034 0.02857 9.8 0 0 -0.000204
1-2 processing imu...
it_last_IMU.time: 1664877152.518204
lastState: 1664877152.518204
currentState: 1664877152.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.538203955 0.000337 0.02864 9.8 0 0 -0.000203
1-2 processing imu...
it_last_IMU.time: 1664877152.528204
lastState: 1664877152.528204
currentState: 1664877152.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.548203945 0.000337 0.02666 9.8 0 0 -0.000203
1-2 processing imu...
it_last_IMU.time: 1664877152.538204
lastState: 1664877152.538204
currentState: 1664877152.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.558203936 0.00034 0.02322 9.8 0 0 -0.000203
1-2 processing imu...
it_last_IMU.time: 1664877152.548204
lastState: 1664877152.548204
currentState: 1664877152.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.568203926 0.000342 0.01979 9.8 0 0 -0.000203
1-2 processing imu...
it_last_IMU.time: 1664877152.558204
lastState: 1664877152.558204
currentState: 1664877152.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.578203917 0.000345 0.01635 9.8 0 0 -0.000203
1-2 processing imu...
it_last_IMU.time: 1664877152.568204
lastState: 1664877152.568204
currentState: 1664877152.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.588203907 0.000347 0.01291 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877152.578204
lastState: 1664877152.578204
currentState: 1664877152.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.598203897 0.00035 0.009474 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877152.588204
lastState: 1664877152.588204
currentState: 1664877152.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.608203888 0.000352 0.006036 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877152.598204
lastState: 1664877152.598204
currentState: 1664877152.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.618204117 0.000355 0.002599 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877152.608204
lastState: 1664877152.608204
currentState: 1664877152.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.628204107 0.000357 -0.000839 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877152.618204
lastState: 1664877152.618204
currentState: 1664877152.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.638204098 0.00036 -0.004276 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877152.628204
lastState: 1664877152.628204
currentState: 1664877152.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.648204088 0.000365 -0.006883 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877152.638204
lastState: 1664877152.638204
currentState: 1664877152.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.658204079 0.000372 -0.008877 9.8 0 0 -0.000199
1-2 processing imu...
it_last_IMU.time: 1664877152.648204
lastState: 1664877152.648204
currentState: 1664877152.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.668204069 0.000379 -0.01087 9.8 0 0 -0.000199
1-2 processing imu...
it_last_IMU.time: 1664877152.658204
lastState: 1664877152.658204
currentState: 1664877152.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.678204060 0.000386 -0.01286 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877152.668204
lastState: 1664877152.668204
currentState: 1664877152.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.688204050 0.000393 -0.01486 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877152.678204
lastState: 1664877152.678204
currentState: 1664877152.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877152.674995899 0.1455 0.545 0.000146 6.259e-05 0.004001 -0.9247 -0.3806
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877152.674996
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877152.674996
state->time: 1664877152.674996
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675509.286057847]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675509.286148732]: the fixed q :[0.283, 0.222, 0.637, 0.681][0m
[0m[ INFO] [1670675509.286200104]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675509.286252895]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1455 0.545 0.000146
p_wv: 18.52 -15.22 31
p: 19.14 -13.62 30.38
q: [0.283, 0.222, 0.637, 0.681]
l: 0.5147
residual in position: -0.1718 -0.2808 0.3197
q_err :[-0.998, -0.0412, 0.0297, 0.0242]
residual in q: 0.08253 -0.05939 -0.04855
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877152.674996 it_next->second->time: 1664877152.678204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877152.678204 it_next->second->time: 1664877152.688204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.81 -14.15 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877152.698204041 0.0004 -0.01685 9.8 0 0 -0.000197
1-2 processing imu...
it_last_IMU.time: 1664877152.688204
lastState: 1664877152.688204
currentState: 1664877152.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.708204031 0.000407 -0.01885 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877152.698204
lastState: 1664877152.698204
currentState: 1664877152.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.718204021 0.000414 -0.02084 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877152.708204
lastState: 1664877152.708204
currentState: 1664877152.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.728204012 0.000421 -0.02283 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877152.718204
lastState: 1664877152.718204
currentState: 1664877152.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.738204002 0.000428 -0.02483 9.8 0 0 -0.000194
1-2 processing imu...
it_last_IMU.time: 1664877152.728204
lastState: 1664877152.728204
currentState: 1664877152.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.748203993 0.000437 -0.02617 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877152.738204
lastState: 1664877152.738204
currentState: 1664877152.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.758203983 0.000447 -0.02701 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877152.748204
lastState: 1664877152.748204
currentState: 1664877152.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.768203974 0.000457 -0.02785 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877152.758204
lastState: 1664877152.758204
currentState: 1664877152.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.778203964 0.000467 -0.0287 9.8 0 0 -0.000191
1-2 processing imu...
it_last_IMU.time: 1664877152.768204
lastState: 1664877152.768204
currentState: 1664877152.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.788203955 0.000477 -0.02954 9.8 0 0 -0.00019
1-2 processing imu...
it_last_IMU.time: 1664877152.778204
lastState: 1664877152.778204
currentState: 1664877152.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.798203945 0.000487 -0.03038 9.8 0 0 -0.000189
1-2 processing imu...
it_last_IMU.time: 1664877152.788204
lastState: 1664877152.788204
currentState: 1664877152.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.808203936 0.000497 -0.03122 9.8 0 0 -0.000188
1-2 processing imu...
it_last_IMU.time: 1664877152.798204
lastState: 1664877152.798204
currentState: 1664877152.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.818203926 0.000507 -0.03207 9.8 0 0 -0.000187
1-2 processing imu...
it_last_IMU.time: 1664877152.808204
lastState: 1664877152.808204
currentState: 1664877152.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.828203917 0.000517 -0.03291 9.8 0 0 -0.000186
1-2 processing imu...
it_last_IMU.time: 1664877152.818204
lastState: 1664877152.818204
currentState: 1664877152.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.838203907 0.000527 -0.03375 9.8 0 0 -0.000185
1-2 processing imu...
it_last_IMU.time: 1664877152.828204
lastState: 1664877152.828204
currentState: 1664877152.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.848203897 0.000537 -0.03332 9.8 0 0 -0.000184
1-2 processing imu...
it_last_IMU.time: 1664877152.838204
lastState: 1664877152.838204
currentState: 1664877152.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.858203888 0.000547 -0.03186 9.8 0 0 -0.000182
1-2 processing imu...
it_last_IMU.time: 1664877152.848204
lastState: 1664877152.848204
currentState: 1664877152.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.868204117 0.000557 -0.03041 9.8 0 0 -0.000181
1-2 processing imu...
it_last_IMU.time: 1664877152.858204
lastState: 1664877152.858204
currentState: 1664877152.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.878204107 0.000567 -0.02896 9.8 0 0 -0.00018
1-2 processing imu...
it_last_IMU.time: 1664877152.868204
lastState: 1664877152.868204
currentState: 1664877152.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.888204098 0.000578 -0.02751 9.8 0 0 -0.000179
1-2 processing imu...
it_last_IMU.time: 1664877152.878204
lastState: 1664877152.878204
currentState: 1664877152.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.898204088 0.000588 -0.02605 9.8 0 0 -0.000177
1-2 processing imu...
it_last_IMU.time: 1664877152.888204
lastState: 1664877152.888204
currentState: 1664877152.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.908204079 0.000598 -0.0246 9.8 0 0 -0.000176
1-2 processing imu...
it_last_IMU.time: 1664877152.898204
lastState: 1664877152.898204
currentState: 1664877152.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.918204069 0.000608 -0.02315 9.8 0 0 -0.000175
1-2 processing imu...
it_last_IMU.time: 1664877152.908204
lastState: 1664877152.908204
currentState: 1664877152.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.928204060 0.000618 -0.0217 9.8 0 0 -0.000173
1-2 processing imu...
it_last_IMU.time: 1664877152.918204
lastState: 1664877152.918204
currentState: 1664877152.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.938204050 0.000628 -0.02024 9.8 0 0 -0.000172
1-2 processing imu...
it_last_IMU.time: 1664877152.928204
lastState: 1664877152.928204
currentState: 1664877152.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.948204041 0.000637 -0.01929 9.8 0 0 -0.000171
1-2 processing imu...
it_last_IMU.time: 1664877152.938204
lastState: 1664877152.938204
currentState: 1664877152.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.958204031 0.000643 -0.01876 9.8 0 0 -0.000169
1-2 processing imu...
it_last_IMU.time: 1664877152.948204
lastState: 1664877152.948204
currentState: 1664877152.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.968204021 0.00065 -0.01822 9.8 0 0 -0.000168
1-2 processing imu...
it_last_IMU.time: 1664877152.958204
lastState: 1664877152.958204
currentState: 1664877152.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.978204012 0.000656 -0.01768 9.8 0 0 -0.000166
1-2 processing imu...
it_last_IMU.time: 1664877152.968204
lastState: 1664877152.968204
currentState: 1664877152.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877152.988204002 0.000663 -0.01715 9.8 0 0 -0.000165
1-2 processing imu...
it_last_IMU.time: 1664877152.978204
lastState: 1664877152.978204
currentState: 1664877152.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877152.998203993 0.000669 -0.01661 9.8 0 0 -0.000163
1-2 processing imu...
it_last_IMU.time: 1664877152.988204
lastState: 1664877152.988204
currentState: 1664877152.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.008203983 0.000676 -0.01607 9.8 0 0 -0.000162
1-2 processing imu...
it_last_IMU.time: 1664877152.998204
lastState: 1664877152.998204
currentState: 1664877153.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.018203974 0.000683 -0.01554 9.8 0 0 -0.00016
1-2 processing imu...
it_last_IMU.time: 1664877153.008204
lastState: 1664877153.008204
currentState: 1664877153.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.028203964 0.000689 -0.015 9.8 0 0 -0.000159
1-2 processing imu...
it_last_IMU.time: 1664877153.018204
lastState: 1664877153.018204
currentState: 1664877153.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.038203955 0.000696 -0.01447 9.8 0 0 -0.000157
1-2 processing imu...
it_last_IMU.time: 1664877153.028204
lastState: 1664877153.028204
currentState: 1664877153.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
[33m[ WARN] [1670675510.026792944]: Pose measurement throttling is on, dropping messagesto be below 2.500000 Hz[0m
1-1 IMUCallback(): 1664877153.048203945 0.000697 -0.01375 9.8 0 0 -0.000155
1-2 processing imu...
it_last_IMU.time: 1664877153.038204
lastState: 1664877153.038204
currentState: 1664877153.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.058203936 0.000695 -0.01288 9.8 0 0 -0.000154
1-2 processing imu...
it_last_IMU.time: 1664877153.048204
lastState: 1664877153.048204
currentState: 1664877153.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.068203926 0.000693 -0.012 9.8 0 0 -0.000152
1-2 processing imu...
it_last_IMU.time: 1664877153.058204
lastState: 1664877153.058204
currentState: 1664877153.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.078203917 0.00069 -0.01113 9.8 0 0 -0.000151
1-2 processing imu...
it_last_IMU.time: 1664877153.068204
lastState: 1664877153.068204
currentState: 1664877153.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.088203907 0.000688 -0.01026 9.8 0 0 -0.000149
1-2 processing imu...
it_last_IMU.time: 1664877153.078204
lastState: 1664877153.078204
currentState: 1664877153.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.098203897 0.000685 -0.009388 9.8 0 0 -0.000148
1-2 processing imu...
it_last_IMU.time: 1664877153.088204
lastState: 1664877153.088204
currentState: 1664877153.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.108203888 0.000683 -0.008515 9.8 0 0 -0.000146
1-2 processing imu...
it_last_IMU.time: 1664877153.098204
lastState: 1664877153.098204
currentState: 1664877153.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877153.096035004 0.1297 0.5604 0.0003941 0.0008017 0.004672 -0.9247 -0.3807
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877153.096035
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877153.096035
state->time: 1664877153.096035
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675510.229443245]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675510.229478147]: the fixed q :[0.284, 0.224, 0.637, 0.681][0m
[0m[ INFO] [1670675510.229488472]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675510.229508545]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1297 0.5604 0.0003941
p_wv: 18.52 -15.22 31
p: 19.1 -13.6 30.39
q: [0.284, 0.224, 0.637, 0.681]
l: 0.5146
residual in position: -0.1695 -0.2738 0.3147
q_err :[-0.999, -0.0403, 0.0278, 0.0227]
residual in q: 0.08076 -0.05577 -0.04552
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877153.096035 it_next->second->time: 1664877153.098204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877153.098204 it_next->second->time: 1664877153.108204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.78 -14.12 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877153.118204117 0.00068 -0.007643 9.8 0 0 -0.000144
1-2 processing imu...
it_last_IMU.time: 1664877153.108204
lastState: 1664877153.108204
currentState: 1664877153.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.128204107 0.000678 -0.006771 9.8 0 0 -0.000143
1-2 processing imu...
it_last_IMU.time: 1664877153.118204
lastState: 1664877153.118204
currentState: 1664877153.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.138204098 0.000676 -0.005899 9.8 0 0 -0.000141
1-2 processing imu...
it_last_IMU.time: 1664877153.128204
lastState: 1664877153.128204
currentState: 1664877153.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.148204088 0.000669 -0.005098 9.8 0 0 -0.00014
1-2 processing imu...
it_last_IMU.time: 1664877153.138204
lastState: 1664877153.138204
currentState: 1664877153.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.158204079 0.00066 -0.004358 9.8 0 0 -0.000138
1-2 processing imu...
it_last_IMU.time: 1664877153.148204
lastState: 1664877153.148204
currentState: 1664877153.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.168204069 0.00065 -0.003618 9.8 0 0 -0.000137
1-2 processing imu...
it_last_IMU.time: 1664877153.158204
lastState: 1664877153.158204
currentState: 1664877153.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.178204060 0.00064 -0.002879 9.8 0 0 -0.000135
1-2 processing imu...
it_last_IMU.time: 1664877153.168204
lastState: 1664877153.168204
currentState: 1664877153.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.188204050 0.000631 -0.002139 9.8 0 0 -0.000134
1-2 processing imu...
it_last_IMU.time: 1664877153.178204
lastState: 1664877153.178204
currentState: 1664877153.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.198204041 0.000621 -0.001399 9.8 0 0 -0.000132
1-2 processing imu...
it_last_IMU.time: 1664877153.188204
lastState: 1664877153.188204
currentState: 1664877153.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.208204031 0.000611 -0.00066 9.8 0 0 -0.000131
1-2 processing imu...
it_last_IMU.time: 1664877153.198204
lastState: 1664877153.198204
currentState: 1664877153.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.218204021 0.000601 8e-05 9.8 0 0 -0.00013
1-2 processing imu...
it_last_IMU.time: 1664877153.208204
lastState: 1664877153.208204
currentState: 1664877153.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.228204012 0.000592 0.00082 9.8 0 0 -0.000128
1-2 processing imu...
it_last_IMU.time: 1664877153.218204
lastState: 1664877153.218204
currentState: 1664877153.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.238204002 0.000582 0.001559 9.8 0 0 -0.000127
1-2 processing imu...
it_last_IMU.time: 1664877153.228204
lastState: 1664877153.228204
currentState: 1664877153.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.248203993 0.000571 0.002358 9.8 0 0 -0.000126
1-2 processing imu...
it_last_IMU.time: 1664877153.238204
lastState: 1664877153.238204
currentState: 1664877153.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.258203983 0.000559 0.003212 9.8 0 0 -0.000124
1-2 processing imu...
it_last_IMU.time: 1664877153.248204
lastState: 1664877153.248204
currentState: 1664877153.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.268203974 0.000546 0.004065 9.8 0 0 -0.000123
1-2 processing imu...
it_last_IMU.time: 1664877153.258204
lastState: 1664877153.258204
currentState: 1664877153.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.278203964 0.000534 0.004919 9.8 0 0 -0.000122
1-2 processing imu...
it_last_IMU.time: 1664877153.268204
lastState: 1664877153.268204
currentState: 1664877153.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.288203955 0.000521 0.005772 9.8 0 0 -0.000121
1-2 processing imu...
it_last_IMU.time: 1664877153.278204
lastState: 1664877153.278204
currentState: 1664877153.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.298203945 0.000509 0.006625 9.8 0 0 -0.00012
1-2 processing imu...
it_last_IMU.time: 1664877153.288204
lastState: 1664877153.288204
currentState: 1664877153.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.308203936 0.000497 0.007479 9.8 0 0 -0.000118
1-2 processing imu...
it_last_IMU.time: 1664877153.298204
lastState: 1664877153.298204
currentState: 1664877153.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.318203926 0.000484 0.008332 9.8 0 0 -0.000117
1-2 processing imu...
it_last_IMU.time: 1664877153.308204
lastState: 1664877153.308204
currentState: 1664877153.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.328203917 0.000472 0.009186 9.8 0 0 -0.000116
1-2 processing imu...
it_last_IMU.time: 1664877153.318204
lastState: 1664877153.318204
currentState: 1664877153.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.338203907 0.00046 0.01004 9.8 0 0 -0.000115
1-2 processing imu...
it_last_IMU.time: 1664877153.328204
lastState: 1664877153.328204
currentState: 1664877153.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.348203897 0.000447 0.009455 9.8 0 0 -0.000114
1-2 processing imu...
it_last_IMU.time: 1664877153.338204
lastState: 1664877153.338204
currentState: 1664877153.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.358203888 0.000435 0.007505 9.8 0 0 -0.000113
1-2 processing imu...
it_last_IMU.time: 1664877153.348204
lastState: 1664877153.348204
currentState: 1664877153.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.368204117 0.000423 0.005555 9.8 0 0 -0.000112
1-2 processing imu...
it_last_IMU.time: 1664877153.358204
lastState: 1664877153.358204
currentState: 1664877153.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.378204107 0.00041 0.003606 9.8 0 0 -0.000111
1-2 processing imu...
it_last_IMU.time: 1664877153.368204
lastState: 1664877153.368204
currentState: 1664877153.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.388204098 0.000398 0.001656 9.8 0 0 -0.00011
1-2 processing imu...
it_last_IMU.time: 1664877153.378204
lastState: 1664877153.378204
currentState: 1664877153.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.398204088 0.000386 -0.000294 9.8 0 0 -0.000109
1-2 processing imu...
it_last_IMU.time: 1664877153.388204
lastState: 1664877153.388204
currentState: 1664877153.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.408204079 0.000374 -0.002243 9.8 0 0 -0.000109
1-2 processing imu...
it_last_IMU.time: 1664877153.398204
lastState: 1664877153.398204
currentState: 1664877153.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.418204069 0.000361 -0.004193 9.8 0 0 -0.000108
1-2 processing imu...
it_last_IMU.time: 1664877153.408204
lastState: 1664877153.408204
currentState: 1664877153.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.428204060 0.000349 -0.006143 9.8 0 0 -0.000107
1-2 processing imu...
it_last_IMU.time: 1664877153.418204
lastState: 1664877153.418204
currentState: 1664877153.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.438204050 0.000337 -0.008093 9.8 0 0 -0.000106
1-2 processing imu...
it_last_IMU.time: 1664877153.428204
lastState: 1664877153.428204
currentState: 1664877153.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.448204041 0.000326 -0.008332 9.8 0 0 -0.000105
1-2 processing imu...
it_last_IMU.time: 1664877153.438204
lastState: 1664877153.438204
currentState: 1664877153.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.458204031 0.000315 -0.00689 9.8 0 0 -0.000105
1-2 processing imu...
it_last_IMU.time: 1664877153.448204
lastState: 1664877153.448204
currentState: 1664877153.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.468204021 0.000305 -0.005448 9.8 0 0 -0.000104
1-2 processing imu...
it_last_IMU.time: 1664877153.458204
lastState: 1664877153.458204
currentState: 1664877153.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.478204012 0.000295 -0.004006 9.8 0 0 -0.000103
1-2 processing imu...
it_last_IMU.time: 1664877153.468204
lastState: 1664877153.468204
currentState: 1664877153.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.488204002 0.000284 -0.002564 9.8 0 0 -0.000103
1-2 processing imu...
it_last_IMU.time: 1664877153.478204
lastState: 1664877153.478204
currentState: 1664877153.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.498203993 0.000274 -0.001122 9.8 0 0 -0.000102
1-2 processing imu...
it_last_IMU.time: 1664877153.488204
lastState: 1664877153.488204
currentState: 1664877153.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.508203983 0.000264 0.000321 9.8 0 0 -0.000101
1-2 processing imu...
it_last_IMU.time: 1664877153.498204
lastState: 1664877153.498204
currentState: 1664877153.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.518203974 0.000254 0.001763 9.8 0 0 -0.000101
1-2 processing imu...
it_last_IMU.time: 1664877153.508204
lastState: 1664877153.508204
currentState: 1664877153.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877153.506350040 0.1146 0.5768 -0.0005474 -0.0003699 0.00411 -0.9253 -0.3793
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877153.506350
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877153.506350
state->time: 1664877153.506350
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675511.101271039]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675511.101333370]: the fixed q :[0.284, 0.227, 0.636, 0.681][0m
[0m[ INFO] [1670675511.101358366]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675511.101386929]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1146 0.5768 -0.0005474
p_wv: 18.52 -15.22 31
p: 19.05 -13.61 30.43
q: [0.284, 0.227, 0.636, 0.681]
l: 0.5146
residual in position: -0.1581 -0.2517 0.2904
q_err :[-0.999, -0.0405, 0.027, 0.0191]
residual in q: 0.08119 -0.0541 -0.03826
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877153.506350 it_next->second->time: 1664877153.508204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877153.508204 it_next->second->time: 1664877153.518204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.75 -14.09 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877153.528203964 0.000243 0.003205 9.8 0 0 -0.0001
1-2 processing imu...
it_last_IMU.time: 1664877153.518204
lastState: 1664877153.518204
currentState: 1664877153.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.538203955 0.000233 0.004647 9.8 0 0 -0.0001
1-2 processing imu...
it_last_IMU.time: 1664877153.528204
lastState: 1664877153.528204
currentState: 1664877153.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.548203945 0.000224 0.006339 9.8 0 0 -9.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.538204
lastState: 1664877153.538204
currentState: 1664877153.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.558203936 0.000216 0.008286 9.8 0 0 -9.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.548204
lastState: 1664877153.548204
currentState: 1664877153.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.568203926 0.000209 0.01023 9.8 0 0 -9.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.558204
lastState: 1664877153.558204
currentState: 1664877153.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.578203917 0.000201 0.01218 9.8 0 0 -9.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.568204
lastState: 1664877153.568204
currentState: 1664877153.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.588203907 0.000193 0.01413 9.8 0 0 -9.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.578204
lastState: 1664877153.578204
currentState: 1664877153.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.598203897 0.000185 0.01607 9.8 0 0 -9.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.588204
lastState: 1664877153.588204
currentState: 1664877153.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.608203888 0.000178 0.01802 9.8 0 0 -9.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.598204
lastState: 1664877153.598204
currentState: 1664877153.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.618204117 0.00017 0.01997 9.8 0 0 -9.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.608204
lastState: 1664877153.608204
currentState: 1664877153.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.628204107 0.000162 0.02191 9.8 0 0 -9.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.618204
lastState: 1664877153.618204
currentState: 1664877153.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.638204098 0.000155 0.02386 9.8 0 0 -9.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.628204
lastState: 1664877153.628204
currentState: 1664877153.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.648204088 0.000148 0.02407 9.8 0 0 -9.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.638204
lastState: 1664877153.638204
currentState: 1664877153.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.658204079 0.000143 0.02245 9.8 0 0 -9.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.648204
lastState: 1664877153.648204
currentState: 1664877153.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.668204069 0.000139 0.02082 9.8 0 0 -9.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.658204
lastState: 1664877153.658204
currentState: 1664877153.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.678204060 0.000134 0.0192 9.8 0 0 -9.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.668204
lastState: 1664877153.668204
currentState: 1664877153.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.688204050 0.000129 0.01758 9.8 0 0 -9.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.678204
lastState: 1664877153.678204
currentState: 1664877153.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.698204041 0.000124 0.01595 9.8 0 0 -9.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.688204
lastState: 1664877153.688204
currentState: 1664877153.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.708204031 0.000119 0.01433 9.8 0 0 -9.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.698204
lastState: 1664877153.698204
currentState: 1664877153.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.718204021 0.000114 0.01271 9.8 0 0 -9.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.708204
lastState: 1664877153.708204
currentState: 1664877153.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.728204012 0.000109 0.01108 9.8 0 0 -9.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.718204
lastState: 1664877153.718204
currentState: 1664877153.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.738204002 0.000105 0.009462 9.8 0 0 -9.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.728204
lastState: 1664877153.728204
currentState: 1664877153.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.748203993 0.000101 0.008333 9.8 0 0 -9.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.738204
lastState: 1664877153.738204
currentState: 1664877153.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.758203983 0.0001 0.007747 9.8 0 0 -9.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.748204
lastState: 1664877153.748204
currentState: 1664877153.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.768203974 9.9e-05 0.00716 9.8 0 0 -9.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.758204
lastState: 1664877153.758204
currentState: 1664877153.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.778203964 9.7e-05 0.006573 9.8 0 0 -9.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.768204
lastState: 1664877153.768204
currentState: 1664877153.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.788203955 9.6e-05 0.005986 9.8 0 0 -9.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.778204
lastState: 1664877153.778204
currentState: 1664877153.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.798203945 9.5e-05 0.005399 9.8 0 0 -9.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.788204
lastState: 1664877153.788204
currentState: 1664877153.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.808203936 9.3e-05 0.004812 9.8 0 0 -9e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.798204
lastState: 1664877153.798204
currentState: 1664877153.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.818203926 9.2e-05 0.004225 9.8 0 0 -9e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.808204
lastState: 1664877153.808204
currentState: 1664877153.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.828203917 9.1e-05 0.003638 9.8 0 0 -9e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.818204
lastState: 1664877153.818204
currentState: 1664877153.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.838203907 8.9e-05 0.003051 9.8 0 0 -9e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.828204
lastState: 1664877153.828204
currentState: 1664877153.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.848203897 8.9e-05 0.001802 9.8 0 0 -8.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.838204
lastState: 1664877153.838204
currentState: 1664877153.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.858203888 9e-05 -0.000198 9.8 0 0 -8.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.848204
lastState: 1664877153.848204
currentState: 1664877153.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.868204117 9.2e-05 -0.002199 9.8 0 0 -8.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.858204
lastState: 1664877153.858204
currentState: 1664877153.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.878204107 9.3e-05 -0.004199 9.8 0 0 -8.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.868204
lastState: 1664877153.868204
currentState: 1664877153.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.888204098 9.4e-05 -0.006199 9.8 0 0 -8.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.878204
lastState: 1664877153.878204
currentState: 1664877153.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.898204088 9.5e-05 -0.0082 9.8 0 0 -8.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.888204
lastState: 1664877153.888204
currentState: 1664877153.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.908204079 9.6e-05 -0.0102 9.8 0 0 -8.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.898204
lastState: 1664877153.898204
currentState: 1664877153.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.918204069 9.8e-05 -0.0122 9.8 0 0 -8.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.908204
lastState: 1664877153.908204
currentState: 1664877153.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877153.928204060 9.9e-05 -0.0142 9.8 0 0 -8.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.918204
lastState: 1664877153.918204
currentState: 1664877153.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.938204050 0.0001 -0.0162 9.8 0 0 -8.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.928204
lastState: 1664877153.928204
currentState: 1664877153.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.948204041 0.000102 -0.01842 9.8 0 0 -8.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.938204
lastState: 1664877153.938204
currentState: 1664877153.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.958204031 0.000106 -0.02088 9.8 0 0 -8.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.948204
lastState: 1664877153.948204
currentState: 1664877153.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877153.928415060 0.09758 0.5929 -0.0006464 -0.0007683 0.005306 -0.9249 -0.3802
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877153.928415
time: 1664877153.928415
state->time: 1664877153.928204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675512.023447785]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675512.023480963]: the fixed q :[0.282, 0.228, 0.636, 0.681][0m
[0m[ INFO] [1670675512.023492348]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675512.023506671]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.09758 0.5929 -0.0006464
p_wv: 18.52 -15.22 31
p: 19.02 -13.58 30.43
q: [0.282, 0.228, 0.636, 0.681]
l: 0.5147
residual in position: -0.161 -0.2533 0.2917
q_err :[-0.999, -0.0392, 0.0261, 0.0209]
residual in q: 0.07848 -0.05221 -0.04176
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877153.928204 it_next->second->time: 1664877153.938204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877153.938204 it_next->second->time: 1664877153.948204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877153.948204 it_next->second->time: 1664877153.958204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.72 -14.05 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877153.968204021 0.00011 -0.02335 9.8 0 0 -8.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.958204
lastState: 1664877153.958204
currentState: 1664877153.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.978204012 0.000114 -0.02582 9.8 0 0 -8.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.968204
lastState: 1664877153.968204
currentState: 1664877153.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.988204002 0.000118 -0.02828 9.8 0 0 -8.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.978204
lastState: 1664877153.978204
currentState: 1664877153.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877153.998203993 0.000122 -0.03075 9.8 0 0 -8.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.988204
lastState: 1664877153.988204
currentState: 1664877153.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.008203983 0.000125 -0.03322 9.8 0 0 -8.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877153.998204
lastState: 1664877153.998204
currentState: 1664877154.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.018203974 0.000129 -0.03568 9.8 0 0 -8.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.008204
lastState: 1664877154.008204
currentState: 1664877154.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.028203964 0.000133 -0.03815 9.8 0 0 -8.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.018204
lastState: 1664877154.018204
currentState: 1664877154.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.038203955 0.000137 -0.04062 9.8 0 0 -8.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.028204
lastState: 1664877154.028204
currentState: 1664877154.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.048203945 0.000141 -0.04112 9.8 0 0 -8.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.038204
lastState: 1664877154.038204
currentState: 1664877154.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.058203936 0.000146 -0.03924 9.8 0 0 -8.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.048204
lastState: 1664877154.048204
currentState: 1664877154.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.068203926 0.000152 -0.03735 9.8 0 0 -8.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.058204
lastState: 1664877154.058204
currentState: 1664877154.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.078203917 0.000157 -0.03547 9.8 0 0 -8.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.068204
lastState: 1664877154.068204
currentState: 1664877154.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.088203907 0.000162 -0.03358 9.8 0 0 -8.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.078204
lastState: 1664877154.078204
currentState: 1664877154.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.098203897 0.000167 -0.0317 9.8 0 0 -8.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.088204
lastState: 1664877154.088204
currentState: 1664877154.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.108203888 0.000172 -0.02981 9.8 0 0 -8.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.098204
lastState: 1664877154.098204
currentState: 1664877154.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.118204117 0.000178 -0.02792 9.8 0 0 -8e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.108204
lastState: 1664877154.108204
currentState: 1664877154.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.128204107 0.000183 -0.02604 9.8 0 0 -8e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.118204
lastState: 1664877154.118204
currentState: 1664877154.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.138204098 0.000188 -0.02415 9.8 0 0 -7.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.128204
lastState: 1664877154.128204
currentState: 1664877154.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.148204088 0.000193 -0.02116 9.8 0 0 -7.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.138204
lastState: 1664877154.138204
currentState: 1664877154.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.158204079 0.000199 -0.01675 9.8 0 0 -7.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.148204
lastState: 1664877154.148204
currentState: 1664877154.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.168204069 0.000205 -0.01235 9.8 0 0 -7.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.158204
lastState: 1664877154.158204
currentState: 1664877154.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.178204060 0.00021 -0.007948 9.8 0 0 -7.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.168204
lastState: 1664877154.168204
currentState: 1664877154.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.188204050 0.000216 -0.003546 9.8 0 0 -7.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.178204
lastState: 1664877154.178204
currentState: 1664877154.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.198204041 0.000222 0.000857 9.8 0 0 -7.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.188204
lastState: 1664877154.188204
currentState: 1664877154.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.208204031 0.000227 0.005259 9.8 0 0 -7.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.198204
lastState: 1664877154.198204
currentState: 1664877154.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.218204021 0.000233 0.009662 9.8 0 0 -7.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.208204
lastState: 1664877154.208204
currentState: 1664877154.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.228204012 0.000239 0.01406 9.8 0 0 -7.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.218204
lastState: 1664877154.218204
currentState: 1664877154.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.238204002 0.000244 0.01847 9.8 0 0 -7.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.228204
lastState: 1664877154.228204
currentState: 1664877154.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.248203993 0.000249 0.02123 9.8 0 0 -7.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.238204
lastState: 1664877154.238204
currentState: 1664877154.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.258203983 0.000254 0.02184 9.8 0 0 -7.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.248204
lastState: 1664877154.248204
currentState: 1664877154.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.268203974 0.000259 0.02244 9.8 0 0 -7.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.258204
lastState: 1664877154.258204
currentState: 1664877154.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.278203964 0.000263 0.02305 9.8 0 0 -7e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.268204
lastState: 1664877154.268204
currentState: 1664877154.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.288203955 0.000268 0.02366 9.8 0 0 -6.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.278204
lastState: 1664877154.278204
currentState: 1664877154.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.298203945 0.000272 0.02427 9.8 0 0 -6.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.288204
lastState: 1664877154.288204
currentState: 1664877154.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.308203936 0.000277 0.02488 9.8 0 0 -6.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.298204
lastState: 1664877154.298204
currentState: 1664877154.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.318203926 0.000281 0.02549 9.8 0 0 -6.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.308204
lastState: 1664877154.308204
currentState: 1664877154.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.328203917 0.000286 0.0261 9.8 0 0 -6.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.318204
lastState: 1664877154.318204
currentState: 1664877154.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.338203907 0.000291 0.02671 9.8 0 0 -6.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.328204
lastState: 1664877154.328204
currentState: 1664877154.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.348203897 0.000294 0.02788 9.8 0 0 -6.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.338204
lastState: 1664877154.338204
currentState: 1664877154.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.358203888 0.000295 0.02982 9.8 0 0 -6.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.348204
lastState: 1664877154.348204
currentState: 1664877154.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877154.338845015 0.08169 0.6094 0.0003104 9.69e-05 0.004503 -0.9253 -0.3792
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877154.338845
time: 1664877154.338845
state->time: 1664877154.338204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675512.896639706]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675512.896797329]: the fixed q :[0.282, 0.232, 0.635, 0.681][0m
[0m[ INFO] [1670675512.896869178]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675512.896945508]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.08169 0.6094 0.0003104
p_wv: 18.52 -15.22 31
p: 18.97 -13.58 30.47
q: [0.282, 0.232, 0.635, 0.681]
l: 0.5145
residual in position: -0.1515 -0.2347 0.2737
q_err :[-0.999, -0.0388, 0.0222, 0.0168]
residual in q: 0.07766 -0.04437 -0.03356
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877154.338204 it_next->second->time: 1664877154.348204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877154.348204 it_next->second->time: 1664877154.358204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.68 -14.02 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877154.368204117 0.000296 0.03176 9.8 0 0 -6.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.358204
lastState: 1664877154.358204
currentState: 1664877154.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.378204107 0.000296 0.0337 9.8 0 0 -6.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.368204
lastState: 1664877154.368204
currentState: 1664877154.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.388204098 0.000297 0.03564 9.8 0 0 -6.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.378204
lastState: 1664877154.378204
currentState: 1664877154.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.398204088 0.000298 0.03757 9.8 0 0 -6.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.388204
lastState: 1664877154.388204
currentState: 1664877154.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.408204079 0.000299 0.03951 9.8 0 0 -6e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.398204
lastState: 1664877154.398204
currentState: 1664877154.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.418204069 0.0003 0.04145 9.8 0 0 -5.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.408204
lastState: 1664877154.408204
currentState: 1664877154.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.428204060 0.000301 0.04339 9.8 0 0 -5.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.418204
lastState: 1664877154.418204
currentState: 1664877154.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.438204050 0.000302 0.04533 9.8 0 0 -5.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.428204
lastState: 1664877154.428204
currentState: 1664877154.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.448204041 0.000302 0.04645 9.8 0 0 -5.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.438204
lastState: 1664877154.438204
currentState: 1664877154.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.458204031 0.000299 0.04641 9.8 0 0 -5.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.448204
lastState: 1664877154.448204
currentState: 1664877154.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.468204021 0.000296 0.04637 9.8 0 0 -5.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.458204
lastState: 1664877154.458204
currentState: 1664877154.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.478204012 0.000293 0.04634 9.8 0 0 -5.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.468204
lastState: 1664877154.468204
currentState: 1664877154.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.488204002 0.000291 0.0463 9.8 0 0 -5.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.478204
lastState: 1664877154.478204
currentState: 1664877154.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.498203993 0.000288 0.04626 9.8 0 0 -5.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.488204
lastState: 1664877154.488204
currentState: 1664877154.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.508203983 0.000285 0.04623 9.8 0 0 -5.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.498204
lastState: 1664877154.498204
currentState: 1664877154.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.518203974 0.000282 0.04619 9.8 0 0 -5.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.508204
lastState: 1664877154.508204
currentState: 1664877154.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.528203964 0.00028 0.04615 9.8 0 0 -5e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.518204
lastState: 1664877154.518204
currentState: 1664877154.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.538203955 0.000277 0.04611 9.8 0 0 -4.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.528204
lastState: 1664877154.528204
currentState: 1664877154.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.548203945 0.000273 0.04605 9.8 0 0 -4.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.538204
lastState: 1664877154.538204
currentState: 1664877154.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.558203936 0.000268 0.04595 9.8 0 0 -4.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.548204
lastState: 1664877154.548204
currentState: 1664877154.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.568203926 0.000263 0.04585 9.8 0 0 -4.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.558204
lastState: 1664877154.558204
currentState: 1664877154.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.578203917 0.000258 0.04575 9.8 0 0 -4.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.568204
lastState: 1664877154.568204
currentState: 1664877154.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.588203907 0.000253 0.04565 9.8 0 0 -4.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.578204
lastState: 1664877154.578204
currentState: 1664877154.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.598203897 0.000249 0.04555 9.8 0 0 -4.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.588204
lastState: 1664877154.588204
currentState: 1664877154.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.608203888 0.000244 0.04545 9.8 0 0 -4.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.598204
lastState: 1664877154.598204
currentState: 1664877154.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.618204117 0.000239 0.04535 9.8 0 0 -4.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.608204
lastState: 1664877154.608204
currentState: 1664877154.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.628204107 0.000234 0.04525 9.8 0 0 -4.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.618204
lastState: 1664877154.618204
currentState: 1664877154.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.638204098 0.000229 0.04515 9.8 0 0 -4.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.628204
lastState: 1664877154.628204
currentState: 1664877154.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.648204088 0.000224 0.04452 9.8 0 0 -4.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.638204
lastState: 1664877154.638204
currentState: 1664877154.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.658204079 0.000218 0.04308 9.8 0 0 -4.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.648204
lastState: 1664877154.648204
currentState: 1664877154.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.668204069 0.000213 0.04164 9.8 0 0 -4e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.658204
lastState: 1664877154.658204
currentState: 1664877154.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.678204060 0.000207 0.0402 9.8 0 0 -4e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.668204
lastState: 1664877154.668204
currentState: 1664877154.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.688204050 0.000202 0.03876 9.8 0 0 -3.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.678204
lastState: 1664877154.678204
currentState: 1664877154.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.698204041 0.000196 0.03731 9.8 0 0 -3.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.688204
lastState: 1664877154.688204
currentState: 1664877154.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.708204031 0.000191 0.03587 9.8 0 0 -3.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.698204
lastState: 1664877154.698204
currentState: 1664877154.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.718204021 0.000185 0.03443 9.8 0 0 -3.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.708204
lastState: 1664877154.708204
currentState: 1664877154.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.728204012 0.00018 0.03299 9.8 0 0 -3.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.718204
lastState: 1664877154.718204
currentState: 1664877154.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.738204002 0.000174 0.03155 9.8 0 0 -3.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.728204
lastState: 1664877154.728204
currentState: 1664877154.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.748203993 0.000169 0.02975 9.8 0 0 -3.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.738204
lastState: 1664877154.738204
currentState: 1664877154.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.758203983 0.000164 0.02739 9.8 0 0 -3.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.748204
lastState: 1664877154.748204
currentState: 1664877154.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877154.753220081 0.0662 0.6253 9.752e-05 -0.0001276 0.003938 -0.9258 -0.3781
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877154.753220
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877154.753220
state->time: 1664877154.753220
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675513.798283991]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675513.798375486]: the fixed q :[0.282, 0.232, 0.636, 0.68][0m
[0m[ INFO] [1670675513.798429040]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675513.798511568]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.0662 0.6253 9.752e-05
p_wv: 18.52 -15.22 31
p: 18.94 -13.56 30.49
q: [0.282, 0.232, 0.636, 0.68]
l: 0.5147
residual in position: -0.1502 -0.2282 0.2613
q_err :[-0.999, -0.0388, 0.0223, 0.0157]
residual in q: 0.07769 -0.04458 -0.03147
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877154.753220 it_next->second->time: 1664877154.758204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.65 -14 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877154.768203974 0.000159 0.02503 9.8 0 0 -3.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.758204
lastState: 1664877154.758204
currentState: 1664877154.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.778203964 0.000154 0.02267 9.8 0 0 -3.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.768204
lastState: 1664877154.768204
currentState: 1664877154.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.788203955 0.000148 0.02031 9.8 0 0 -3.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.778204
lastState: 1664877154.778204
currentState: 1664877154.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.798203945 0.000143 0.01795 9.8 0 0 -3.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.788204
lastState: 1664877154.788204
currentState: 1664877154.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.808203936 0.000138 0.01559 9.8 0 0 -3.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.798204
lastState: 1664877154.798204
currentState: 1664877154.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.818203926 0.000133 0.01323 9.8 0 0 -3.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.808204
lastState: 1664877154.808204
currentState: 1664877154.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.828203917 0.000128 0.01087 9.8 0 0 -3.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.818204
lastState: 1664877154.818204
currentState: 1664877154.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.838203907 0.000123 0.008506 9.8 0 0 -3.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.828204
lastState: 1664877154.828204
currentState: 1664877154.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.848203897 0.000118 0.006764 9.8 0 0 -3.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.838204
lastState: 1664877154.838204
currentState: 1664877154.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.858203888 0.000113 0.006032 9.8 0 0 -3.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.848204
lastState: 1664877154.848204
currentState: 1664877154.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.868204117 0.000109 0.0053 9.8 0 0 -3.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.858204
lastState: 1664877154.858204
currentState: 1664877154.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.878204107 0.000105 0.004569 9.8 0 0 -3.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.868204
lastState: 1664877154.868204
currentState: 1664877154.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.888204098 0.0001 0.003837 9.8 0 0 -3.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.878204
lastState: 1664877154.878204
currentState: 1664877154.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.898204088 9.6e-05 0.003105 9.8 0 0 -3.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.888204
lastState: 1664877154.888204
currentState: 1664877154.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.908204079 9.2e-05 0.002373 9.8 0 0 -3e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.898204
lastState: 1664877154.898204
currentState: 1664877154.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.918204069 8.7e-05 0.001642 9.8 0 0 -3e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.908204
lastState: 1664877154.908204
currentState: 1664877154.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.928204060 8.3e-05 0.00091 9.8 0 0 -3e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.918204
lastState: 1664877154.918204
currentState: 1664877154.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.938204050 7.8e-05 0.000178 9.8 0 0 -3e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.928204
lastState: 1664877154.928204
currentState: 1664877154.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.948204041 7.4e-05 -0.001561 9.8 0 0 -2.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.938204
lastState: 1664877154.938204
currentState: 1664877154.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.958204031 7.1e-05 -0.00501 9.8 0 0 -2.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.948204
lastState: 1664877154.948204
currentState: 1664877154.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.968204021 6.7e-05 -0.00846 9.8 0 0 -2.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.958204
lastState: 1664877154.958204
currentState: 1664877154.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877154.978204012 6.4e-05 -0.01191 9.8 0 0 -2.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.968204
lastState: 1664877154.968204
currentState: 1664877154.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.988204002 6.1e-05 -0.01536 9.8 0 0 -2.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.978204
lastState: 1664877154.978204
currentState: 1664877154.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877154.998203993 5.7e-05 -0.01881 9.8 0 0 -2.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.988204
lastState: 1664877154.988204
currentState: 1664877154.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.008203983 5.4e-05 -0.02226 9.8 0 0 -2.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877154.998204
lastState: 1664877154.998204
currentState: 1664877155.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.018203974 5e-05 -0.02571 9.8 0 0 -2.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.008204
lastState: 1664877155.008204
currentState: 1664877155.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.028203964 4.7e-05 -0.02916 9.8 0 0 -2.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.018204
lastState: 1664877155.018204
currentState: 1664877155.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.038203955 4.3e-05 -0.03261 9.8 0 0 -2.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.028204
lastState: 1664877155.028204
currentState: 1664877155.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.048203945 4e-05 -0.03523 9.8 0 0 -2.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.038204
lastState: 1664877155.038204
currentState: 1664877155.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.058203936 3.8e-05 -0.03639 9.8 0 0 -2.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.048204
lastState: 1664877155.048204
currentState: 1664877155.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.068203926 3.5e-05 -0.03756 9.8 0 0 -2.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.058204
lastState: 1664877155.058204
currentState: 1664877155.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.078203917 3.3e-05 -0.03872 9.8 0 0 -2.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.068204
lastState: 1664877155.068204
currentState: 1664877155.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.088203907 3.1e-05 -0.03988 9.8 0 0 -2.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.078204
lastState: 1664877155.078204
currentState: 1664877155.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.098203897 2.8e-05 -0.04104 9.8 0 0 -2.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.088204
lastState: 1664877155.088204
currentState: 1664877155.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.108203888 2.6e-05 -0.04221 9.8 0 0 -2.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.098204
lastState: 1664877155.098204
currentState: 1664877155.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.118204117 2.3e-05 -0.04337 9.8 0 0 -2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.108204
lastState: 1664877155.108204
currentState: 1664877155.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.128204107 2.1e-05 -0.04453 9.8 0 0 -2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.118204
lastState: 1664877155.118204
currentState: 1664877155.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.138204098 1.9e-05 -0.04569 9.8 0 0 -2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.128204
lastState: 1664877155.128204
currentState: 1664877155.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.148204088 1.6e-05 -0.04671 9.8 0 0 -2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.138204
lastState: 1664877155.138204
currentState: 1664877155.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.158204079 1.5e-05 -0.04745 9.8 0 0 -2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.148204
lastState: 1664877155.148204
currentState: 1664877155.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.168204069 1.3e-05 -0.0482 9.8 0 0 -2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.158204
lastState: 1664877155.158204
currentState: 1664877155.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.178204060 1.2e-05 -0.04895 9.8 0 0 -2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.168204
lastState: 1664877155.168204
currentState: 1664877155.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.188204050 1e-05 -0.04969 9.8 0 0 -2.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.178204
lastState: 1664877155.178204
currentState: 1664877155.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877155.172708035 0.05232 0.6412 -0.0002183 -0.0003337 0.005171 -0.9265 -0.3763
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877155.172708
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877155.172708
state->time: 1664877155.172708
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675514.712557476]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675514.712678680]: the fixed q :[0.281, 0.233, 0.636, 0.68][0m
[0m[ INFO] [1670675514.712752679]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675514.712828509]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.05232 0.6412 -0.0002183
p_wv: 18.52 -15.22 31
p: 18.91 -13.53 30.49
q: [0.281, 0.233, 0.636, 0.68]
l: 0.5146
residual in position: -0.1477 -0.2263 0.2609
q_err :[-0.999, -0.0368, 0.022, 0.0141]
residual in q: 0.07368 -0.04396 -0.02826
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877155.172708 it_next->second->time: 1664877155.178204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877155.178204 it_next->second->time: 1664877155.188204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.62 -13.96 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877155.198204041 9e-06 -0.05044 9.8 0 0 -2.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.188204
lastState: 1664877155.188204
currentState: 1664877155.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.208204031 7e-06 -0.05118 9.8 0 0 -2.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.198204
lastState: 1664877155.198204
currentState: 1664877155.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.218204021 6e-06 -0.05193 9.8 0 0 -2.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.208204
lastState: 1664877155.208204
currentState: 1664877155.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.228204012 4e-06 -0.05267 9.8 0 0 -2.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.218204
lastState: 1664877155.218204
currentState: 1664877155.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.238204002 3e-06 -0.05342 9.8 0 0 -2.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.228204
lastState: 1664877155.228204
currentState: 1664877155.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.248203993 1e-06 -0.05339 9.8 0 0 -2.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.238204
lastState: 1664877155.238204
currentState: 1664877155.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.258203983 1e-06 -0.05186 9.8 0 0 -2.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.248204
lastState: 1664877155.248204
currentState: 1664877155.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.268203974 -0 -0.05034 9.8 0 0 -2.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.258204
lastState: 1664877155.258204
currentState: 1664877155.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.278203964 -1e-06 -0.04881 9.8 0 0 -2.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.268204
lastState: 1664877155.268204
currentState: 1664877155.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.288203955 -2e-06 -0.04729 9.8 0 0 -2.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.278204
lastState: 1664877155.278204
currentState: 1664877155.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.298203945 -3e-06 -0.04577 9.8 0 0 -2.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.288204
lastState: 1664877155.288204
currentState: 1664877155.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.308203936 -3e-06 -0.04424 9.8 0 0 -2.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.298204
lastState: 1664877155.298204
currentState: 1664877155.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.318203926 -4e-06 -0.04272 9.8 0 0 -2.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.308204
lastState: 1664877155.308204
currentState: 1664877155.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.328203917 -5e-06 -0.0412 9.8 0 0 -2.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.318204
lastState: 1664877155.318204
currentState: 1664877155.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.338203907 -6e-06 -0.03967 9.8 0 0 -2.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.328204
lastState: 1664877155.328204
currentState: 1664877155.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.348203897 -7e-06 -0.03905 9.8 0 0 -2.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.338204
lastState: 1664877155.338204
currentState: 1664877155.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.358203888 -7e-06 -0.04023 9.8 0 0 -2.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.348204
lastState: 1664877155.348204
currentState: 1664877155.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.368204117 -7e-06 -0.04141 9.8 0 0 -2.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.358204
lastState: 1664877155.358204
currentState: 1664877155.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.378204107 -8e-06 -0.04259 9.8 0 0 -2.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.368204
lastState: 1664877155.368204
currentState: 1664877155.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.388204098 -8e-06 -0.04377 9.8 0 0 -2.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.378204
lastState: 1664877155.378204
currentState: 1664877155.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.398204088 -8e-06 -0.04495 9.8 0 0 -2.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.388204
lastState: 1664877155.388204
currentState: 1664877155.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.408204079 -9e-06 -0.04613 9.8 0 0 -2.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.398204
lastState: 1664877155.398204
currentState: 1664877155.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.418204069 -9e-06 -0.04731 9.8 0 0 -2.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.408204
lastState: 1664877155.408204
currentState: 1664877155.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.428204060 -9e-06 -0.04849 9.8 0 0 -2e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.418204
lastState: 1664877155.418204
currentState: 1664877155.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.438204050 -1e-05 -0.04967 9.8 0 0 -2e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.428204
lastState: 1664877155.428204
currentState: 1664877155.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.448204041 -1e-05 -0.04991 9.8 0 0 -2e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.438204
lastState: 1664877155.438204
currentState: 1664877155.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.458204031 -1e-05 -0.0482 9.8 0 0 -1.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.448204
lastState: 1664877155.448204
currentState: 1664877155.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.468204021 -1e-05 -0.0465 9.8 0 0 -1.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.458204
lastState: 1664877155.458204
currentState: 1664877155.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.478204012 -1e-05 -0.04479 9.8 0 0 -1.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.468204
lastState: 1664877155.468204
currentState: 1664877155.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.488204002 -1e-05 -0.04308 9.8 0 0 -1.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.478204
lastState: 1664877155.478204
currentState: 1664877155.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.498203993 -1e-05 -0.04138 9.8 0 0 -1.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.488204
lastState: 1664877155.488204
currentState: 1664877155.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.508203983 -1e-05 -0.03967 9.8 0 0 -1.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.498204
lastState: 1664877155.498204
currentState: 1664877155.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.518203974 -1e-05 -0.03796 9.8 0 0 -1.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.508204
lastState: 1664877155.508204
currentState: 1664877155.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.528203964 -1e-05 -0.03625 9.8 0 0 -1.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.518204
lastState: 1664877155.518204
currentState: 1664877155.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.538203955 -9e-06 -0.03455 9.8 0 0 -1.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.528204
lastState: 1664877155.528204
currentState: 1664877155.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.548203945 -9e-06 -0.03197 9.8 0 0 -1.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.538204
lastState: 1664877155.538204
currentState: 1664877155.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.558203936 -9e-06 -0.02753 9.8 0 0 -1.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.548204
lastState: 1664877155.548204
currentState: 1664877155.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.568203926 -9e-06 -0.02308 9.8 0 0 -1.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.558204
lastState: 1664877155.558204
currentState: 1664877155.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.578203917 -9e-06 -0.01864 9.8 0 0 -1.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.568204
lastState: 1664877155.568204
currentState: 1664877155.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.588203907 -8e-06 -0.0142 9.8 0 0 -1.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.578204
lastState: 1664877155.578204
currentState: 1664877155.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.598203897 -8e-06 -0.009752 9.8 0 0 -1.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.588204
lastState: 1664877155.588204
currentState: 1664877155.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.608203888 -8e-06 -0.005308 9.8 0 0 -1.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.598204
lastState: 1664877155.598204
currentState: 1664877155.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877155.596498013 0.03648 0.6567 -0.0009009 -0.001139 0.005823 -0.9264 -0.3765
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877155.596498
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877155.596498
state->time: 1664877155.596498
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675515.625020198]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675515.625070324]: the fixed q :[0.279, 0.233, 0.635, 0.681][0m
[0m[ INFO] [1670675515.625082528]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675515.625116251]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.03648 0.6567 -0.0009009
p_wv: 18.52 -15.22 31
p: 18.89 -13.51 30.49
q: [0.279, 0.233, 0.635, 0.681]
l: 0.5145
residual in position: -0.1524 -0.2241 0.262
q_err :[-0.999, -0.0373, 0.0212, 0.0152]
residual in q: 0.0746 -0.0425 -0.03053
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877155.596498 it_next->second->time: 1664877155.598204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877155.598204 it_next->second->time: 1664877155.608204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.59 -13.94 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877155.618204117 -8e-06 -0.000864 9.8 0 0 -1.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.608204
lastState: 1664877155.608204
currentState: 1664877155.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.628204107 -7e-06 0.00358 9.8 0 0 -1.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.618204
lastState: 1664877155.618204
currentState: 1664877155.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.638204098 -7e-06 0.008024 9.8 0 0 -1.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.628204
lastState: 1664877155.628204
currentState: 1664877155.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.648204088 -7e-06 0.0115 9.8 0 0 -1e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.638204
lastState: 1664877155.638204
currentState: 1664877155.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.658204079 -6e-06 0.01282 9.8 0 0 -9e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.648204
lastState: 1664877155.648204
currentState: 1664877155.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.668204069 -6e-06 0.01414 9.8 0 0 -9e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.658204
lastState: 1664877155.658204
currentState: 1664877155.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.678204060 -6e-06 0.01546 9.8 0 0 -8e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.668204
lastState: 1664877155.668204
currentState: 1664877155.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.688204050 -5e-06 0.01678 9.8 0 0 -8e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.678204
lastState: 1664877155.678204
currentState: 1664877155.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.698204041 -5e-06 0.0181 9.8 0 0 -7e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.688204
lastState: 1664877155.688204
currentState: 1664877155.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.708204031 -5e-06 0.01942 9.8 0 0 -6e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.698204
lastState: 1664877155.698204
currentState: 1664877155.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.718204021 -4e-06 0.02074 9.8 0 0 -6e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.708204
lastState: 1664877155.708204
currentState: 1664877155.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.728204012 -4e-06 0.02206 9.8 0 0 -5e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.718204
lastState: 1664877155.718204
currentState: 1664877155.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.738204002 -3e-06 0.02338 9.8 0 0 -4e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.728204
lastState: 1664877155.728204
currentState: 1664877155.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.748203993 -3e-06 0.02359 9.8 0 0 -4e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.738204
lastState: 1664877155.738204
currentState: 1664877155.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.758203983 -3e-06 0.02122 9.8 0 0 -3e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.748204
lastState: 1664877155.748204
currentState: 1664877155.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.768203974 -2e-06 0.01885 9.8 0 0 -2e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.758204
lastState: 1664877155.758204
currentState: 1664877155.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.778203964 -2e-06 0.01647 9.8 0 0 -1e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.768204
lastState: 1664877155.768204
currentState: 1664877155.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.788203955 -1e-06 0.0141 9.8 0 0 -1e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.778204
lastState: 1664877155.778204
currentState: 1664877155.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.798203945 -1e-06 0.01172 9.8 0 0 -0
1-2 processing imu...
it_last_IMU.time: 1664877155.788204
lastState: 1664877155.788204
currentState: 1664877155.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.808203936 -0 0.009349 9.8 0 0 1e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.798204
lastState: 1664877155.798204
currentState: 1664877155.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.818203926 0 0.006975 9.8 0 0 1e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.808204
lastState: 1664877155.808204
currentState: 1664877155.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.828203917 1e-06 0.004601 9.8 0 0 2e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.818204
lastState: 1664877155.818204
currentState: 1664877155.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.838203907 1e-06 0.002227 9.8 0 0 3e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.828204
lastState: 1664877155.828204
currentState: 1664877155.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.848203897 2e-06 0.001087 9.8 0 0 3e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.838204
lastState: 1664877155.838204
currentState: 1664877155.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.858203888 2e-06 0.002961 9.8 0 0 4e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.848204
lastState: 1664877155.848204
currentState: 1664877155.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.868204117 3e-06 0.004836 9.8 0 0 5e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.858204
lastState: 1664877155.858204
currentState: 1664877155.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.878204107 3e-06 0.006711 9.8 0 0 5e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.868204
lastState: 1664877155.868204
currentState: 1664877155.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.888204098 4e-06 0.008586 9.8 0 0 6e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.878204
lastState: 1664877155.878204
currentState: 1664877155.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.898204088 4e-06 0.01046 9.8 0 0 7e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.888204
lastState: 1664877155.888204
currentState: 1664877155.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.908204079 5e-06 0.01234 9.8 0 0 7e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.898204
lastState: 1664877155.898204
currentState: 1664877155.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.918204069 5e-06 0.01421 9.8 0 0 8e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.908204
lastState: 1664877155.908204
currentState: 1664877155.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.928204060 6e-06 0.01608 9.8 0 0 9e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.918204
lastState: 1664877155.918204
currentState: 1664877155.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.938204050 6e-06 0.01796 9.8 0 0 9e-06
1-2 processing imu...
it_last_IMU.time: 1664877155.928204
lastState: 1664877155.928204
currentState: 1664877155.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.948204041 7e-06 0.02019 9.8 0 0 1e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.938204
lastState: 1664877155.938204
currentState: 1664877155.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877155.958204031 7e-06 0.02332 9.8 0 0 1.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.948204
lastState: 1664877155.948204
currentState: 1664877155.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.968204021 7e-06 0.02646 9.8 0 0 1.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.958204
lastState: 1664877155.958204
currentState: 1664877155.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.978204012 8e-06 0.02959 9.8 0 0 1.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.968204
lastState: 1664877155.968204
currentState: 1664877155.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.988204002 8e-06 0.03273 9.8 0 0 1.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.978204
lastState: 1664877155.978204
currentState: 1664877155.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877155.998203993 9e-06 0.03587 9.8 0 0 1.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.988204
lastState: 1664877155.988204
currentState: 1664877155.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.008203983 9e-06 0.039 9.8 0 0 1.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877155.998204
lastState: 1664877155.998204
currentState: 1664877156.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.018203974 9e-06 0.04214 9.8 0 0 1.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.008204
lastState: 1664877156.008204
currentState: 1664877156.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.028203964 1e-05 0.04527 9.8 0 0 1.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.018204
lastState: 1664877156.018204
currentState: 1664877156.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.038203955 1e-05 0.04841 9.8 0 0 1.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.028204
lastState: 1664877156.028204
currentState: 1664877156.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.048203945 1.1e-05 0.05052 9.8 0 0 1.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.038204
lastState: 1664877156.038204
currentState: 1664877156.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877156.018994093 0.02015 0.6714 0.0007545 0.000486 0.003642 -0.9261 -0.3774
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877156.018994
time: 1664877156.018994
state->time: 1664877156.018204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675516.596076299]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675516.596107423]: the fixed q :[0.278, 0.235, 0.635, 0.681][0m
[0m[ INFO] [1670675516.596116144]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675516.596134345]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.02015 0.6714 0.0007545
p_wv: 18.52 -15.22 31
p: 18.84 -13.5 30.51
q: [0.278, 0.235, 0.635, 0.681]
l: 0.5145
residual in position: -0.1462 -0.2146 0.2507
q_err :[-0.999, -0.0381, 0.0166, 0.0148]
residual in q: 0.07635 -0.03333 -0.02957
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877156.018204 it_next->second->time: 1664877156.028204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877156.028204 it_next->second->time: 1664877156.038204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877156.038204 it_next->second->time: 1664877156.048204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.56 -13.9 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877156.058203936 1.1e-05 0.04992 9.8 0 0 1.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.048204
lastState: 1664877156.048204
currentState: 1664877156.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.068203926 1.1e-05 0.04933 9.8 0 0 1.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.058204
lastState: 1664877156.058204
currentState: 1664877156.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.078203917 1.1e-05 0.04873 9.8 0 0 1.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.068204
lastState: 1664877156.068204
currentState: 1664877156.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.088203907 1.1e-05 0.04813 9.8 0 0 1.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.078204
lastState: 1664877156.078204
currentState: 1664877156.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.098203897 1.1e-05 0.04753 9.8 0 0 1.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.088204
lastState: 1664877156.088204
currentState: 1664877156.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.108203888 1.1e-05 0.04693 9.8 0 0 1.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.098204
lastState: 1664877156.098204
currentState: 1664877156.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.118204117 1.1e-05 0.04633 9.8 0 0 1.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.108204
lastState: 1664877156.108204
currentState: 1664877156.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.128204107 1.1e-05 0.04573 9.8 0 0 1.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.118204
lastState: 1664877156.118204
currentState: 1664877156.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.138204098 1.1e-05 0.04513 9.8 0 0 1.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.128204
lastState: 1664877156.128204
currentState: 1664877156.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.148204088 1.1e-05 0.04444 9.8 0 0 2e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.138204
lastState: 1664877156.138204
currentState: 1664877156.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.158204079 1.1e-05 0.04348 9.8 0 0 2e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.148204
lastState: 1664877156.148204
currentState: 1664877156.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.168204069 1e-05 0.04252 9.8 0 0 2e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.158204
lastState: 1664877156.158204
currentState: 1664877156.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.178204060 1e-05 0.04156 9.8 0 0 2.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.168204
lastState: 1664877156.168204
currentState: 1664877156.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.188204050 1e-05 0.0406 9.8 0 0 2.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.178204
lastState: 1664877156.178204
currentState: 1664877156.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.198204041 9e-06 0.03964 9.8 0 0 2.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.188204
lastState: 1664877156.188204
currentState: 1664877156.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.208204031 9e-06 0.03868 9.8 0 0 2.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.198204
lastState: 1664877156.198204
currentState: 1664877156.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.218204021 8e-06 0.03773 9.8 0 0 2.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.208204
lastState: 1664877156.208204
currentState: 1664877156.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.228204012 8e-06 0.03677 9.8 0 0 2.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.218204
lastState: 1664877156.218204
currentState: 1664877156.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.238204002 8e-06 0.03581 9.8 0 0 2.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.228204
lastState: 1664877156.228204
currentState: 1664877156.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.248203993 7e-06 0.03546 9.8 0 0 2.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.238204
lastState: 1664877156.238204
currentState: 1664877156.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.258203983 6e-06 0.03691 9.8 0 0 2.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.248204
lastState: 1664877156.248204
currentState: 1664877156.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.268203974 6e-06 0.03837 9.8 0 0 2.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.258204
lastState: 1664877156.258204
currentState: 1664877156.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.278203964 5e-06 0.03982 9.8 0 0 2.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.268204
lastState: 1664877156.268204
currentState: 1664877156.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.288203955 4e-06 0.04127 9.8 0 0 2.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.278204
lastState: 1664877156.278204
currentState: 1664877156.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.298203945 3e-06 0.04272 9.8 0 0 2.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.288204
lastState: 1664877156.288204
currentState: 1664877156.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.308203936 2e-06 0.04417 9.8 0 0 2.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.298204
lastState: 1664877156.298204
currentState: 1664877156.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.318203926 1e-06 0.04562 9.8 0 0 2.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.308204
lastState: 1664877156.308204
currentState: 1664877156.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.328203917 1e-06 0.04707 9.8 0 0 2.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.318204
lastState: 1664877156.318204
currentState: 1664877156.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.338203907 -0 0.04852 9.8 0 0 2.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.328204
lastState: 1664877156.328204
currentState: 1664877156.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.348203897 -1e-06 0.04886 9.8 0 0 2.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.338204
lastState: 1664877156.338204
currentState: 1664877156.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.358203888 -3e-06 0.04579 9.8 0 0 2.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.348204
lastState: 1664877156.348204
currentState: 1664877156.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.368204117 -4e-06 0.04272 9.8 0 0 2.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.358204
lastState: 1664877156.358204
currentState: 1664877156.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.378204107 -6e-06 0.03964 9.8 0 0 2.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.368204
lastState: 1664877156.368204
currentState: 1664877156.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.388204098 -7e-06 0.03657 9.8 0 0 2.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.378204
lastState: 1664877156.378204
currentState: 1664877156.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.398204088 -9e-06 0.0335 9.8 0 0 2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.388204
lastState: 1664877156.388204
currentState: 1664877156.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.408204079 -1e-05 0.03043 9.8 0 0 2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.398204
lastState: 1664877156.398204
currentState: 1664877156.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.418204069 -1.2e-05 0.02736 9.8 0 0 2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.408204
lastState: 1664877156.408204
currentState: 1664877156.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.428204060 -1.3e-05 0.02428 9.8 0 0 2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.418204
lastState: 1664877156.418204
currentState: 1664877156.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.438204050 -1.5e-05 0.02121 9.8 0 0 2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.428204
lastState: 1664877156.428204
currentState: 1664877156.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877156.426300049 0.004239 0.6867 -0.0003523 -0.0006248 0.005001 -0.926 -0.3774
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877156.426300
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877156.426300
state->time: 1664877156.426300
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675517.451862846]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675517.452118897]: the fixed q :[0.28, 0.237, 0.637, 0.678][0m
[0m[ INFO] [1670675517.452180626]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675517.452234576]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.004239 0.6867 -0.0003523
p_wv: 18.52 -15.22 31
p: 18.79 -13.51 30.57
q: [0.28, 0.237, 0.637, 0.678]
l: 0.5146
residual in position: -0.1363 -0.1933 0.2202
q_err :[-0.999, -0.0339, 0.0189, 0.0126]
residual in q: 0.06792 -0.03788 -0.02521
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877156.426300 it_next->second->time: 1664877156.428204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877156.428204 it_next->second->time: 1664877156.438204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.53 -13.88 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877156.448204041 -1.7e-05 0.0179 9.8 0 0 2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.438204
lastState: 1664877156.438204
currentState: 1664877156.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.458204031 -1.9e-05 0.01384 9.8 0 0 2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.448204
lastState: 1664877156.448204
currentState: 1664877156.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.468204021 -2.1e-05 0.009778 9.8 0 0 2.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.458204
lastState: 1664877156.458204
currentState: 1664877156.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.478204012 -2.4e-05 0.005715 9.8 0 0 2.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.468204
lastState: 1664877156.468204
currentState: 1664877156.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.488204002 -2.6e-05 0.001653 9.8 0 0 2.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.478204
lastState: 1664877156.478204
currentState: 1664877156.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.498203993 -2.8e-05 -0.00241 9.8 0 0 2.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.488204
lastState: 1664877156.488204
currentState: 1664877156.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.508203983 -3.1e-05 -0.006472 9.8 0 0 2.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.498204
lastState: 1664877156.498204
currentState: 1664877156.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.518203974 -3.3e-05 -0.01053 9.8 0 0 2.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.508204
lastState: 1664877156.508204
currentState: 1664877156.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.528203964 -3.5e-05 -0.0146 9.8 0 0 2.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.518204
lastState: 1664877156.518204
currentState: 1664877156.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.538203955 -3.8e-05 -0.01866 9.8 0 0 2.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.528204
lastState: 1664877156.528204
currentState: 1664877156.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.548203945 -4e-05 -0.02234 9.8 0 0 2.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.538204
lastState: 1664877156.538204
currentState: 1664877156.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.558203936 -4.4e-05 -0.02475 9.8 0 0 2.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.548204
lastState: 1664877156.548204
currentState: 1664877156.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.568203926 -4.7e-05 -0.02716 9.8 0 0 2.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.558204
lastState: 1664877156.558204
currentState: 1664877156.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.578203917 -5e-05 -0.02957 9.8 0 0 2.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.568204
lastState: 1664877156.568204
currentState: 1664877156.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.588203907 -5.4e-05 -0.03198 9.8 0 0 2.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.578204
lastState: 1664877156.578204
currentState: 1664877156.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.598203897 -5.7e-05 -0.03439 9.8 0 0 2.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.588204
lastState: 1664877156.588204
currentState: 1664877156.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.608203888 -6e-05 -0.0368 9.8 0 0 2.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.598204
lastState: 1664877156.598204
currentState: 1664877156.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.618204117 -6.4e-05 -0.03921 9.8 0 0 2.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.608204
lastState: 1664877156.608204
currentState: 1664877156.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.628204107 -6.7e-05 -0.04162 9.8 0 0 2.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.618204
lastState: 1664877156.618204
currentState: 1664877156.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.638204098 -7e-05 -0.04403 9.8 0 0 2.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.628204
lastState: 1664877156.628204
currentState: 1664877156.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.648204088 -7.4e-05 -0.04562 9.8 0 0 2.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.638204
lastState: 1664877156.638204
currentState: 1664877156.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.658204079 -7.8e-05 -0.04429 9.8 0 0 3e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.648204
lastState: 1664877156.648204
currentState: 1664877156.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.668204069 -8.3e-05 -0.04296 9.8 0 0 3e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.658204
lastState: 1664877156.658204
currentState: 1664877156.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.678204060 -8.7e-05 -0.04164 9.8 0 0 3e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.668204
lastState: 1664877156.668204
currentState: 1664877156.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.688204050 -9.1e-05 -0.04031 9.8 0 0 3e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.678204
lastState: 1664877156.678204
currentState: 1664877156.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.698204041 -9.5e-05 -0.03898 9.8 0 0 3.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.688204
lastState: 1664877156.688204
currentState: 1664877156.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.708204031 -0.0001 -0.03766 9.8 0 0 3.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.698204
lastState: 1664877156.698204
currentState: 1664877156.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.718204021 -0.000104 -0.03633 9.8 0 0 3.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.708204
lastState: 1664877156.708204
currentState: 1664877156.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.728204012 -0.000108 -0.035 9.8 0 0 3.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.718204
lastState: 1664877156.718204
currentState: 1664877156.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.738204002 -0.000113 -0.03367 9.8 0 0 3.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.728204
lastState: 1664877156.728204
currentState: 1664877156.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.748203993 -0.000117 -0.03254 9.8 0 0 3.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.738204
lastState: 1664877156.738204
currentState: 1664877156.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.758203983 -0.000122 -0.03211 9.8 0 0 3.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.748204
lastState: 1664877156.748204
currentState: 1664877156.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.768203974 -0.000127 -0.03169 9.8 0 0 3.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.758204
lastState: 1664877156.758204
currentState: 1664877156.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.778203964 -0.000132 -0.03127 9.8 0 0 3.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.768204
lastState: 1664877156.768204
currentState: 1664877156.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.788203955 -0.000137 -0.03085 9.8 0 0 3.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.778204
lastState: 1664877156.778204
currentState: 1664877156.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.798203945 -0.000142 -0.03043 9.8 0 0 3.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.788204
lastState: 1664877156.788204
currentState: 1664877156.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.808203936 -0.000147 -0.03 9.8 0 0 3.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.798204
lastState: 1664877156.798204
currentState: 1664877156.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.818203926 -0.000152 -0.02958 9.8 0 0 3.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.808204
lastState: 1664877156.808204
currentState: 1664877156.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.828203917 -0.000157 -0.02916 9.8 0 0 3.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.818204
lastState: 1664877156.818204
currentState: 1664877156.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.838203907 -0.000162 -0.02874 9.8 0 0 3.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.828204
lastState: 1664877156.828204
currentState: 1664877156.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.848203897 -0.000167 -0.02811 9.8 0 0 3.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.838204
lastState: 1664877156.838204
currentState: 1664877156.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.858203888 -0.000173 -0.02668 9.8 0 0 3.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.848204
lastState: 1664877156.848204
currentState: 1664877156.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877156.841727972 -0.01177 0.7026 0.0004228 0.0006533 0.004532 -0.9262 -0.3771
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877156.841728
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877156.841728
state->time: 1664877156.841728
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675518.321056617]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675518.321189775]: the fixed q :[0.279, 0.239, 0.636, 0.679][0m
[0m[ INFO] [1670675518.321242565]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675518.321295573]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.01177 0.7026 0.0004228
p_wv: 18.52 -15.22 31
p: 18.76 -13.48 30.56
q: [0.279, 0.239, 0.636, 0.679]
l: 0.5146
residual in position: -0.1353 -0.195 0.2264
q_err :[-0.999, -0.0346, 0.0154, 0.0114]
residual in q: 0.06933 -0.0309 -0.02289
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877156.841728 it_next->second->time: 1664877156.848204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877156.848204 it_next->second->time: 1664877156.858204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.5 -13.85 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877156.868204117 -0.000178 -0.02524 9.8 0 0 3.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.858204
lastState: 1664877156.858204
currentState: 1664877156.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.878204107 -0.000183 -0.02381 9.8 0 0 3.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.868204
lastState: 1664877156.868204
currentState: 1664877156.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.888204098 -0.000189 -0.02237 9.8 0 0 3.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.878204
lastState: 1664877156.878204
currentState: 1664877156.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.898204088 -0.000194 -0.02094 9.8 0 0 3.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.888204
lastState: 1664877156.888204
currentState: 1664877156.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.908204079 -0.000199 -0.0195 9.8 0 0 3.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.898204
lastState: 1664877156.898204
currentState: 1664877156.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.918204069 -0.000205 -0.01807 9.8 0 0 3.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.908204
lastState: 1664877156.908204
currentState: 1664877156.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.928204060 -0.00021 -0.01663 9.8 0 0 4e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.918204
lastState: 1664877156.918204
currentState: 1664877156.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.938204050 -0.000215 -0.0152 9.8 0 0 4e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.928204
lastState: 1664877156.928204
currentState: 1664877156.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.948204041 -0.000221 -0.01392 9.8 0 0 4.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.938204
lastState: 1664877156.938204
currentState: 1664877156.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.958204031 -0.000226 -0.01329 9.8 0 0 4.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.948204
lastState: 1664877156.948204
currentState: 1664877156.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.968204021 -0.000231 -0.01267 9.8 0 0 4.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.958204
lastState: 1664877156.958204
currentState: 1664877156.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.978204012 -0.000236 -0.01205 9.8 0 0 4.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.968204
lastState: 1664877156.968204
currentState: 1664877156.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877156.988204002 -0.000241 -0.01142 9.8 0 0 4.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.978204
lastState: 1664877156.978204
currentState: 1664877156.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877156.998203993 -0.000246 -0.0108 9.8 0 0 4.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.988204
lastState: 1664877156.988204
currentState: 1664877156.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.008203983 -0.000251 -0.01018 9.8 0 0 4.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877156.998204
lastState: 1664877156.998204
currentState: 1664877157.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.018203974 -0.000256 -0.009551 9.8 0 0 4.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.008204
lastState: 1664877157.008204
currentState: 1664877157.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.028203964 -0.000261 -0.008928 9.8 0 0 4.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.018204
lastState: 1664877157.018204
currentState: 1664877157.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.038203955 -0.000266 -0.008304 9.8 0 0 4.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.028204
lastState: 1664877157.028204
currentState: 1664877157.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.048203945 -0.000271 -0.007616 9.8 0 0 4.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.038204
lastState: 1664877157.038204
currentState: 1664877157.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.058203936 -0.000274 -0.006646 9.8 0 0 4.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.048204
lastState: 1664877157.048204
currentState: 1664877157.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.068203926 -0.000277 -0.005677 9.8 0 0 4.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.058204
lastState: 1664877157.058204
currentState: 1664877157.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.078203917 -0.00028 -0.004707 9.8 0 0 5e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.068204
lastState: 1664877157.068204
currentState: 1664877157.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.088203907 -0.000283 -0.003737 9.8 0 0 5.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.078204
lastState: 1664877157.078204
currentState: 1664877157.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.098203897 -0.000286 -0.002767 9.8 0 0 5.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.088204
lastState: 1664877157.088204
currentState: 1664877157.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.108203888 -0.000289 -0.001797 9.8 0 0 5.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.098204
lastState: 1664877157.098204
currentState: 1664877157.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.118204117 -0.000293 -0.000827 9.8 0 0 5.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.108204
lastState: 1664877157.108204
currentState: 1664877157.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.128204107 -0.000296 0.000143 9.8 0 0 5.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.118204
lastState: 1664877157.118204
currentState: 1664877157.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.138204098 -0.000299 0.001113 9.8 0 0 5.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.128204
lastState: 1664877157.128204
currentState: 1664877157.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.148204088 -0.000301 0.002246 9.8 0 0 5.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.138204
lastState: 1664877157.138204
currentState: 1664877157.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.158204079 -0.000301 0.004149 9.8 0 0 5.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.148204
lastState: 1664877157.148204
currentState: 1664877157.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.168204069 -0.0003 0.006052 9.8 0 0 5.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.158204
lastState: 1664877157.158204
currentState: 1664877157.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.178204060 -0.000299 0.007955 9.8 0 0 5.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.168204
lastState: 1664877157.168204
currentState: 1664877157.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.188204050 -0.000299 0.009858 9.8 0 0 5.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.178204
lastState: 1664877157.178204
currentState: 1664877157.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.198204041 -0.000298 0.01176 9.8 0 0 6e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.188204
lastState: 1664877157.188204
currentState: 1664877157.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.208204031 -0.000298 0.01366 9.8 0 0 6.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.198204
lastState: 1664877157.198204
currentState: 1664877157.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.218204021 -0.000297 0.01557 9.8 0 0 6.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.208204
lastState: 1664877157.208204
currentState: 1664877157.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.228204012 -0.000296 0.01747 9.8 0 0 6.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.218204
lastState: 1664877157.218204
currentState: 1664877157.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.238204002 -0.000296 0.01937 9.8 0 0 6.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.228204
lastState: 1664877157.228204
currentState: 1664877157.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.248203993 -0.000294 0.02062 9.8 0 0 6.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.238204
lastState: 1664877157.238204
currentState: 1664877157.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.258203983 -0.00029 0.01856 9.8 0 0 6.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.248204
lastState: 1664877157.248204
currentState: 1664877157.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.268203974 -0.000286 0.0165 9.8 0 0 6.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.258204
lastState: 1664877157.258204
currentState: 1664877157.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.278203964 -0.000282 0.01444 9.8 0 0 6.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.268204
lastState: 1664877157.268204
currentState: 1664877157.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877157.267277002 -0.02804 0.7174 0.0003881 -4.577e-05 0.003765 -0.9259 -0.3778
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877157.267277
time: 1664877157.267277
state->time: 1664877157.268204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675519.235926540]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675519.236082497]: the fixed q :[0.28, 0.239, 0.636, 0.679][0m
[0m[ INFO] [1670675519.236183547]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675519.236284650]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.02804 0.7174 0.0003881
p_wv: 18.52 -15.22 31
p: 18.74 -13.44 30.56
q: [0.28, 0.239, 0.636, 0.679]
l: 0.5144
residual in position: -0.1411 -0.1968 0.2271
q_err :[-0.999, -0.0358, 0.0166, 0.0119]
residual in q: 0.07172 -0.03324 -0.02383
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877157.268204 it_next->second->time: 1664877157.278204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.47 -13.82 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877157.288203955 -0.000278 0.01238 9.8 0 0 6.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.278204
lastState: 1664877157.278204
currentState: 1664877157.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.298203945 -0.000273 0.01032 9.8 0 0 6.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.288204
lastState: 1664877157.288204
currentState: 1664877157.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.308203936 -0.000269 0.008256 9.8 0 0 6.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.298204
lastState: 1664877157.298204
currentState: 1664877157.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.318203926 -0.000265 0.006196 9.8 0 0 7e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.308204
lastState: 1664877157.308204
currentState: 1664877157.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.328203917 -0.000261 0.004135 9.8 0 0 7.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.318204
lastState: 1664877157.318204
currentState: 1664877157.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.338203907 -0.000257 0.002075 9.8 0 0 7.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.328204
lastState: 1664877157.328204
currentState: 1664877157.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.348203897 -0.000252 0.000171 9.8 0 0 7.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.338204
lastState: 1664877157.338204
currentState: 1664877157.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.358203888 -0.000247 -0.000894 9.8 0 0 7.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.348204
lastState: 1664877157.348204
currentState: 1664877157.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.368204117 -0.000241 -0.001959 9.8 0 0 7.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.358204
lastState: 1664877157.358204
currentState: 1664877157.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.378204107 -0.000236 -0.003024 9.8 0 0 7.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.368204
lastState: 1664877157.368204
currentState: 1664877157.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.388204098 -0.00023 -0.004089 9.8 0 0 7.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.378204
lastState: 1664877157.378204
currentState: 1664877157.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.398204088 -0.000225 -0.005154 9.8 0 0 7.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.388204
lastState: 1664877157.388204
currentState: 1664877157.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.408204079 -0.000219 -0.006219 9.8 0 0 7.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.398204
lastState: 1664877157.398204
currentState: 1664877157.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.418204069 -0.000214 -0.007284 9.8 0 0 7.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.408204
lastState: 1664877157.408204
currentState: 1664877157.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.428204060 -0.000208 -0.008349 9.8 0 0 7.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.418204
lastState: 1664877157.418204
currentState: 1664877157.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.438204050 -0.000203 -0.009414 9.8 0 0 7.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.428204
lastState: 1664877157.428204
currentState: 1664877157.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.448204041 -0.000197 -0.0101 9.8 0 0 7.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.438204
lastState: 1664877157.438204
currentState: 1664877157.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.458204031 -0.000192 -0.008586 9.8 0 0 7.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.448204
lastState: 1664877157.448204
currentState: 1664877157.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.468204021 -0.000187 -0.007074 9.8 0 0 7.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.458204
lastState: 1664877157.458204
currentState: 1664877157.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.478204012 -0.000182 -0.005562 9.8 0 0 8e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.468204
lastState: 1664877157.468204
currentState: 1664877157.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.488204002 -0.000177 -0.004051 9.8 0 0 8e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.478204
lastState: 1664877157.478204
currentState: 1664877157.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.498203993 -0.000172 -0.002539 9.8 0 0 8.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.488204
lastState: 1664877157.488204
currentState: 1664877157.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.508203983 -0.000167 -0.001027 9.8 0 0 8.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.498204
lastState: 1664877157.498204
currentState: 1664877157.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.518203974 -0.000162 0.000485 9.8 0 0 8.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.508204
lastState: 1664877157.508204
currentState: 1664877157.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.528203964 -0.000157 0.001997 9.8 0 0 8.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.518204
lastState: 1664877157.518204
currentState: 1664877157.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.538203955 -0.000151 0.003509 9.8 0 0 8.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.528204
lastState: 1664877157.528204
currentState: 1664877157.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.548203945 -0.000147 0.004725 9.8 0 0 8.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.538204
lastState: 1664877157.538204
currentState: 1664877157.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.558203936 -0.000143 0.004113 9.8 0 0 8.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.548204
lastState: 1664877157.548204
currentState: 1664877157.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.568203926 -0.000139 0.003501 9.8 0 0 8.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.558204
lastState: 1664877157.558204
currentState: 1664877157.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.578203917 -0.000136 0.002889 9.8 0 0 8.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.568204
lastState: 1664877157.568204
currentState: 1664877157.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.588203907 -0.000132 0.002277 9.8 0 0 8.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.578204
lastState: 1664877157.578204
currentState: 1664877157.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.598203897 -0.000128 0.001664 9.8 0 0 8.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.588204
lastState: 1664877157.588204
currentState: 1664877157.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.608203888 -0.000125 0.001052 9.8 0 0 8.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.598204
lastState: 1664877157.598204
currentState: 1664877157.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.618204117 -0.000121 0.00044 9.8 0 0 8.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.608204
lastState: 1664877157.608204
currentState: 1664877157.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.628204107 -0.000117 -0.000172 9.8 0 0 8.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.618204
lastState: 1664877157.618204
currentState: 1664877157.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.638204098 -0.000114 -0.000784 9.8 0 0 8.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.628204
lastState: 1664877157.628204
currentState: 1664877157.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.648204088 -0.00011 -0.001316 9.8 0 0 8.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.638204
lastState: 1664877157.638204
currentState: 1664877157.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.658204079 -0.000109 -0.001315 9.8 0 0 8.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.648204
lastState: 1664877157.648204
currentState: 1664877157.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.668204069 -0.000107 -0.001314 9.8 0 0 8.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.658204
lastState: 1664877157.658204
currentState: 1664877157.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.678204060 -0.000106 -0.001312 9.8 0 0 8.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.668204
lastState: 1664877157.668204
currentState: 1664877157.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.688204050 -0.000104 -0.001311 9.8 0 0 8.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.678204
lastState: 1664877157.678204
currentState: 1664877157.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.698204041 -0.000103 -0.001309 9.8 0 0 8.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.688204
lastState: 1664877157.688204
currentState: 1664877157.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877157.674782991 -0.0445 0.7335 0.0003754 0.0001938 0.004133 -0.9258 -0.3781
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877157.674783
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877157.674783
state->time: 1664877157.674783
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675520.147724598]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675520.147772659]: the fixed q :[0.279, 0.242, 0.637, 0.677][0m
[0m[ INFO] [1670675520.147782590]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675520.147802648]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.0445 0.7335 0.0003754
p_wv: 18.52 -15.22 31
p: 18.68 -13.45 30.61
q: [0.279, 0.242, 0.637, 0.677]
l: 0.5145
residual in position: -0.1277 -0.1753 0.2033
q_err :[-0.999, -0.0321, 0.0146, 0.0103]
residual in q: 0.06417 -0.02919 -0.02051
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877157.674783 it_next->second->time: 1664877157.678204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877157.678204 it_next->second->time: 1664877157.688204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877157.688204 it_next->second->time: 1664877157.698204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.44 -13.78 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877157.708204031 -0.000101 -0.001308 9.8 0 0 8.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.698204
lastState: 1664877157.698204
currentState: 1664877157.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.718204021 -0.0001 -0.001307 9.8 0 0 8.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.708204
lastState: 1664877157.708204
currentState: 1664877157.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.728204012 -9.8e-05 -0.001305 9.8 0 0 8.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.718204
lastState: 1664877157.718204
currentState: 1664877157.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.738204002 -9.7e-05 -0.001304 9.8 0 0 8.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.728204
lastState: 1664877157.728204
currentState: 1664877157.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.748203993 -9.6e-05 -0.001266 9.8 0 0 8.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.738204
lastState: 1664877157.738204
currentState: 1664877157.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.758203983 -9.7e-05 -0.000968 9.8 0 0 9e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.748204
lastState: 1664877157.748204
currentState: 1664877157.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.768203974 -9.8e-05 -0.000671 9.8 0 0 9e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.758204
lastState: 1664877157.758204
currentState: 1664877157.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.778203964 -9.9e-05 -0.000373 9.8 0 0 9e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.768204
lastState: 1664877157.768204
currentState: 1664877157.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.788203955 -0.0001 -7.5e-05 9.8 0 0 9e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.778204
lastState: 1664877157.778204
currentState: 1664877157.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.798203945 -0.000102 0.000223 9.8 0 0 9.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.788204
lastState: 1664877157.788204
currentState: 1664877157.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.808203936 -0.000103 0.000521 9.8 0 0 9.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.798204
lastState: 1664877157.798204
currentState: 1664877157.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.818203926 -0.000104 0.000819 9.8 0 0 9.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.808204
lastState: 1664877157.808204
currentState: 1664877157.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.828203917 -0.000105 0.001117 9.8 0 0 9.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.818204
lastState: 1664877157.818204
currentState: 1664877157.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.838203907 -0.000106 0.001415 9.8 0 0 9.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.828204
lastState: 1664877157.828204
currentState: 1664877157.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.848203897 -0.000108 0.001641 9.8 0 0 9.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.838204
lastState: 1664877157.838204
currentState: 1664877157.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.858203888 -0.000112 0.001299 9.8 0 0 9.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.848204
lastState: 1664877157.848204
currentState: 1664877157.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.868204117 -0.000116 0.000958 9.8 0 0 9.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.858204
lastState: 1664877157.858204
currentState: 1664877157.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.878204107 -0.000121 0.000617 9.8 0 0 9.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.868204
lastState: 1664877157.868204
currentState: 1664877157.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.888204098 -0.000125 0.000275 9.8 0 0 9.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.878204
lastState: 1664877157.878204
currentState: 1664877157.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.898204088 -0.000129 -6.6e-05 9.8 0 0 9.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.888204
lastState: 1664877157.888204
currentState: 1664877157.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.908204079 -0.000134 -0.000408 9.8 0 0 9.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.898204
lastState: 1664877157.898204
currentState: 1664877157.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.918204069 -0.000138 -0.000749 9.8 0 0 9.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.908204
lastState: 1664877157.908204
currentState: 1664877157.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.928204060 -0.000142 -0.00109 9.8 0 0 9.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.918204
lastState: 1664877157.918204
currentState: 1664877157.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.938204050 -0.000146 -0.001432 9.8 0 0 9.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.928204
lastState: 1664877157.928204
currentState: 1664877157.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.948204041 -0.000151 -0.001944 9.8 0 0 9.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.938204
lastState: 1664877157.938204
currentState: 1664877157.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.958204031 -0.000158 -0.003941 9.8 0 0 9.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.948204
lastState: 1664877157.948204
currentState: 1664877157.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.968204021 -0.000165 -0.005937 9.8 0 0 9.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.958204
lastState: 1664877157.958204
currentState: 1664877157.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.978204012 -0.000172 -0.007934 9.8 0 0 9.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.968204
lastState: 1664877157.968204
currentState: 1664877157.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877157.988204002 -0.00018 -0.00993 9.8 0 0 9.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.978204
lastState: 1664877157.978204
currentState: 1664877157.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877157.998203993 -0.000187 -0.01193 9.8 0 0 9.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.988204
lastState: 1664877157.988204
currentState: 1664877157.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.008203983 -0.000194 -0.01392 9.8 0 0 9.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877157.998204
lastState: 1664877157.998204
currentState: 1664877158.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.018203974 -0.000201 -0.01592 9.8 0 0 9.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877158.008204
lastState: 1664877158.008204
currentState: 1664877158.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.028203964 -0.000208 -0.01792 9.8 0 0 9.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877158.018204
lastState: 1664877158.018204
currentState: 1664877158.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.038203955 -0.000215 -0.01991 9.8 0 0 9.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877158.028204
lastState: 1664877158.028204
currentState: 1664877158.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.048203945 -0.000223 -0.02192 9.8 0 0 0.0001
1-2 processing imu...
it_last_IMU.time: 1664877158.038204
lastState: 1664877158.038204
currentState: 1664877158.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.058203936 -0.000233 -0.02403 9.8 0 0 0.0001
1-2 processing imu...
it_last_IMU.time: 1664877158.048204
lastState: 1664877158.048204
currentState: 1664877158.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.068203926 -0.000243 -0.02614 9.8 0 0 0.000101
1-2 processing imu...
it_last_IMU.time: 1664877158.058204
lastState: 1664877158.058204
currentState: 1664877158.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.078203917 -0.000253 -0.02825 9.8 0 0 0.000101
1-2 processing imu...
it_last_IMU.time: 1664877158.068204
lastState: 1664877158.068204
currentState: 1664877158.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.088203907 -0.000263 -0.03036 9.8 0 0 0.000102
1-2 processing imu...
it_last_IMU.time: 1664877158.078204
lastState: 1664877158.078204
currentState: 1664877158.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.098203897 -0.000273 -0.03247 9.8 0 0 0.000103
1-2 processing imu...
it_last_IMU.time: 1664877158.088204
lastState: 1664877158.088204
currentState: 1664877158.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.108203888 -0.000283 -0.03458 9.8 0 0 0.000103
1-2 processing imu...
it_last_IMU.time: 1664877158.098204
lastState: 1664877158.098204
currentState: 1664877158.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877158.089231014 -0.05916 0.7487 0.0006871 0.0005112 0.004187 -0.926 -0.3775
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877158.089231
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877158.089231
state->time: 1664877158.089231
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675521.028161668]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675521.028257041]: the fixed q :[0.279, 0.243, 0.636, 0.677][0m
[0m[ INFO] [1670675521.028309369]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675521.028359550]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.05916 0.7487 0.0006871
p_wv: 18.52 -15.22 31
p: 18.65 -13.42 30.61
q: [0.279, 0.243, 0.636, 0.677]
l: 0.5146
residual in position: -0.1271 -0.1769 0.2013
q_err :[-0.999, -0.0322, 0.0139, 0.00857]
residual in q: 0.06446 -0.02783 -0.01715
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877158.089231 it_next->second->time: 1664877158.098204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877158.098204 it_next->second->time: 1664877158.108204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.41 -13.76 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877158.118204117 -0.000294 -0.03669 9.8 0 0 0.000104
1-2 processing imu...
it_last_IMU.time: 1664877158.108204
lastState: 1664877158.108204
currentState: 1664877158.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.128204107 -0.000304 -0.0388 9.8 0 0 0.000105
1-2 processing imu...
it_last_IMU.time: 1664877158.118204
lastState: 1664877158.118204
currentState: 1664877158.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.138204098 -0.000314 -0.04091 9.8 0 0 0.000105
1-2 processing imu...
it_last_IMU.time: 1664877158.128204
lastState: 1664877158.128204
currentState: 1664877158.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.148204088 -0.000324 -0.04265 9.8 0 0 0.000106
1-2 processing imu...
it_last_IMU.time: 1664877158.138204
lastState: 1664877158.138204
currentState: 1664877158.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.158204079 -0.000336 -0.04047 9.8 0 0 0.000107
1-2 processing imu...
it_last_IMU.time: 1664877158.148204
lastState: 1664877158.148204
currentState: 1664877158.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.168204069 -0.000347 -0.03829 9.8 0 0 0.000108
1-2 processing imu...
it_last_IMU.time: 1664877158.158204
lastState: 1664877158.158204
currentState: 1664877158.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.178204060 -0.000359 -0.03611 9.8 0 0 0.000109
1-2 processing imu...
it_last_IMU.time: 1664877158.168204
lastState: 1664877158.168204
currentState: 1664877158.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.188204050 -0.000371 -0.03393 9.8 0 0 0.00011
1-2 processing imu...
it_last_IMU.time: 1664877158.178204
lastState: 1664877158.178204
currentState: 1664877158.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.198204041 -0.000382 -0.03175 9.8 0 0 0.00011
1-2 processing imu...
it_last_IMU.time: 1664877158.188204
lastState: 1664877158.188204
currentState: 1664877158.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.208204031 -0.000394 -0.02957 9.8 0 0 0.000111
1-2 processing imu...
it_last_IMU.time: 1664877158.198204
lastState: 1664877158.198204
currentState: 1664877158.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.218204021 -0.000406 -0.02739 9.8 0 0 0.000112
1-2 processing imu...
it_last_IMU.time: 1664877158.208204
lastState: 1664877158.208204
currentState: 1664877158.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.228204012 -0.000417 -0.02521 9.8 0 0 0.000113
1-2 processing imu...
it_last_IMU.time: 1664877158.218204
lastState: 1664877158.218204
currentState: 1664877158.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.238204002 -0.000429 -0.02303 9.8 0 0 0.000114
1-2 processing imu...
it_last_IMU.time: 1664877158.228204
lastState: 1664877158.228204
currentState: 1664877158.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.248203993 -0.00044 -0.02085 9.8 0 0 0.000115
1-2 processing imu...
it_last_IMU.time: 1664877158.238204
lastState: 1664877158.238204
currentState: 1664877158.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.258203983 -0.000452 -0.01868 9.8 0 0 0.000116
1-2 processing imu...
it_last_IMU.time: 1664877158.248204
lastState: 1664877158.248204
currentState: 1664877158.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.268203974 -0.000463 -0.01651 9.8 0 0 0.000117
1-2 processing imu...
it_last_IMU.time: 1664877158.258204
lastState: 1664877158.258204
currentState: 1664877158.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.278203964 -0.000475 -0.01434 9.8 0 0 0.000119
1-2 processing imu...
it_last_IMU.time: 1664877158.268204
lastState: 1664877158.268204
currentState: 1664877158.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.288203955 -0.000486 -0.01218 9.8 0 0 0.00012
1-2 processing imu...
it_last_IMU.time: 1664877158.278204
lastState: 1664877158.278204
currentState: 1664877158.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.298203945 -0.000498 -0.01001 9.8 0 0 0.000121
1-2 processing imu...
it_last_IMU.time: 1664877158.288204
lastState: 1664877158.288204
currentState: 1664877158.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.308203936 -0.00051 -0.00784 9.8 0 0 0.000122
1-2 processing imu...
it_last_IMU.time: 1664877158.298204
lastState: 1664877158.298204
currentState: 1664877158.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.318203926 -0.000521 -0.005672 9.8 0 0 0.000123
1-2 processing imu...
it_last_IMU.time: 1664877158.308204
lastState: 1664877158.308204
currentState: 1664877158.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.328203917 -0.000533 -0.003504 9.8 0 0 0.000125
1-2 processing imu...
it_last_IMU.time: 1664877158.318204
lastState: 1664877158.318204
currentState: 1664877158.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.338203907 -0.000544 -0.001336 9.8 0 0 0.000126
1-2 processing imu...
it_last_IMU.time: 1664877158.328204
lastState: 1664877158.328204
currentState: 1664877158.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.348203897 -0.000555 0.000757 9.8 0 0 0.000127
1-2 processing imu...
it_last_IMU.time: 1664877158.338204
lastState: 1664877158.338204
currentState: 1664877158.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.358203888 -0.000564 0.001812 9.8 0 0 0.000129
1-2 processing imu...
it_last_IMU.time: 1664877158.348204
lastState: 1664877158.348204
currentState: 1664877158.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.368204117 -0.000573 0.002867 9.8 0 0 0.00013
1-2 processing imu...
it_last_IMU.time: 1664877158.358204
lastState: 1664877158.358204
currentState: 1664877158.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.378204107 -0.000582 0.003922 9.8 0 0 0.000131
1-2 processing imu...
it_last_IMU.time: 1664877158.368204
lastState: 1664877158.368204
currentState: 1664877158.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.388204098 -0.000591 0.004978 9.8 0 0 0.000133
1-2 processing imu...
it_last_IMU.time: 1664877158.378204
lastState: 1664877158.378204
currentState: 1664877158.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.398204088 -0.0006 0.006033 9.8 0 0 0.000134
1-2 processing imu...
it_last_IMU.time: 1664877158.388204
lastState: 1664877158.388204
currentState: 1664877158.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.408204079 -0.000608 0.007088 9.8 0 0 0.000136
1-2 processing imu...
it_last_IMU.time: 1664877158.398204
lastState: 1664877158.398204
currentState: 1664877158.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.418204069 -0.000617 0.008143 9.8 0 0 0.000137
1-2 processing imu...
it_last_IMU.time: 1664877158.408204
lastState: 1664877158.408204
currentState: 1664877158.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.428204060 -0.000626 0.009199 9.8 0 0 0.000139
1-2 processing imu...
it_last_IMU.time: 1664877158.418204
lastState: 1664877158.418204
currentState: 1664877158.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.438204050 -0.000635 0.01025 9.8 0 0 0.00014
1-2 processing imu...
it_last_IMU.time: 1664877158.428204
lastState: 1664877158.428204
currentState: 1664877158.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.448204041 -0.000643 0.01137 9.8 0 0 0.000142
1-2 processing imu...
it_last_IMU.time: 1664877158.438204
lastState: 1664877158.438204
currentState: 1664877158.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.458204031 -0.000645 0.01349 9.8 0 0 0.000143
1-2 processing imu...
it_last_IMU.time: 1664877158.448204
lastState: 1664877158.448204
currentState: 1664877158.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.468204021 -0.000647 0.01561 9.8 0 0 0.000145
1-2 processing imu...
it_last_IMU.time: 1664877158.458204
lastState: 1664877158.458204
currentState: 1664877158.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.478204012 -0.000649 0.01772 9.8 0 0 0.000147
1-2 processing imu...
it_last_IMU.time: 1664877158.468204
lastState: 1664877158.468204
currentState: 1664877158.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.488204002 -0.00065 0.01984 9.8 0 0 0.000148
1-2 processing imu...
it_last_IMU.time: 1664877158.478204
lastState: 1664877158.478204
currentState: 1664877158.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.498203993 -0.000652 0.02196 9.8 0 0 0.00015
1-2 processing imu...
it_last_IMU.time: 1664877158.488204
lastState: 1664877158.488204
currentState: 1664877158.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.508203983 -0.000654 0.02407 9.8 0 0 0.000151
1-2 processing imu...
it_last_IMU.time: 1664877158.498204
lastState: 1664877158.498204
currentState: 1664877158.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.518203974 -0.000656 0.02619 9.8 0 0 0.000153
1-2 processing imu...
it_last_IMU.time: 1664877158.508204
lastState: 1664877158.508204
currentState: 1664877158.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.528203964 -0.000658 0.02831 9.8 0 0 0.000155
1-2 processing imu...
it_last_IMU.time: 1664877158.518204
lastState: 1664877158.518204
currentState: 1664877158.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877158.515315056 -0.07464 0.7645 0.0007344 0.0006166 0.004812 -0.9264 -0.3766
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877158.515315
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877158.515315
state->time: 1664877158.515315
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675521.909711182]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675521.909851659]: the fixed q :[0.279, 0.243, 0.636, 0.677][0m
[0m[ INFO] [1670675521.909926996]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675521.909996242]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.07464 0.7645 0.0007344
p_wv: 18.52 -15.22 31
p: 18.63 -13.39 30.6
q: [0.279, 0.243, 0.636, 0.677]
l: 0.5144
residual in position: -0.1333 -0.1771 0.2045
q_err :[-0.999, -0.0319, 0.0139, 0.00783]
residual in q: 0.06386 -0.02787 -0.01568
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877158.515315 it_next->second->time: 1664877158.518204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877158.518204 it_next->second->time: 1664877158.528204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.38 -13.73 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877158.538203955 -0.000659 0.03043 9.8 0 0 0.000156
1-2 processing imu...
it_last_IMU.time: 1664877158.528204
lastState: 1664877158.528204
currentState: 1664877158.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.548203945 -0.000661 0.03245 9.8 0 0 0.000158
1-2 processing imu...
it_last_IMU.time: 1664877158.538204
lastState: 1664877158.538204
currentState: 1664877158.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.558203936 -0.000653 0.03266 9.8 0 0 0.000159
1-2 processing imu...
it_last_IMU.time: 1664877158.548204
lastState: 1664877158.548204
currentState: 1664877158.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.568203926 -0.000646 0.03288 9.8 0 0 0.000161
1-2 processing imu...
it_last_IMU.time: 1664877158.558204
lastState: 1664877158.558204
currentState: 1664877158.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.578203917 -0.000638 0.0331 9.8 0 0 0.000163
1-2 processing imu...
it_last_IMU.time: 1664877158.568204
lastState: 1664877158.568204
currentState: 1664877158.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.588203907 -0.000631 0.03331 9.8 0 0 0.000164
1-2 processing imu...
it_last_IMU.time: 1664877158.578204
lastState: 1664877158.578204
currentState: 1664877158.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.598203897 -0.000623 0.03353 9.8 0 0 0.000166
1-2 processing imu...
it_last_IMU.time: 1664877158.588204
lastState: 1664877158.588204
currentState: 1664877158.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.608203888 -0.000616 0.03374 9.8 0 0 0.000167
1-2 processing imu...
it_last_IMU.time: 1664877158.598204
lastState: 1664877158.598204
currentState: 1664877158.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.618204117 -0.000608 0.03396 9.8 0 0 0.000169
1-2 processing imu...
it_last_IMU.time: 1664877158.608204
lastState: 1664877158.608204
currentState: 1664877158.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.628204107 -0.000601 0.03417 9.8 0 0 0.00017
1-2 processing imu...
it_last_IMU.time: 1664877158.618204
lastState: 1664877158.618204
currentState: 1664877158.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.638204098 -0.000593 0.03439 9.8 0 0 0.000172
1-2 processing imu...
it_last_IMU.time: 1664877158.628204
lastState: 1664877158.628204
currentState: 1664877158.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.648204088 -0.000586 0.03451 9.8 0 0 0.000173
1-2 processing imu...
it_last_IMU.time: 1664877158.638204
lastState: 1664877158.638204
currentState: 1664877158.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.658204079 -0.000574 0.03248 9.8 0 0 0.000175
1-2 processing imu...
it_last_IMU.time: 1664877158.648204
lastState: 1664877158.648204
currentState: 1664877158.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.668204069 -0.000562 0.03045 9.8 0 0 0.000176
1-2 processing imu...
it_last_IMU.time: 1664877158.658204
lastState: 1664877158.658204
currentState: 1664877158.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.678204060 -0.00055 0.02841 9.8 0 0 0.000178
1-2 processing imu...
it_last_IMU.time: 1664877158.668204
lastState: 1664877158.668204
currentState: 1664877158.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.688204050 -0.000538 0.02638 9.8 0 0 0.000179
1-2 processing imu...
it_last_IMU.time: 1664877158.678204
lastState: 1664877158.678204
currentState: 1664877158.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.698204041 -0.000526 0.02434 9.8 0 0 0.00018
1-2 processing imu...
it_last_IMU.time: 1664877158.688204
lastState: 1664877158.688204
currentState: 1664877158.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.708204031 -0.000514 0.02231 9.8 0 0 0.000182
1-2 processing imu...
it_last_IMU.time: 1664877158.698204
lastState: 1664877158.698204
currentState: 1664877158.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.718204021 -0.000502 0.02028 9.8 0 0 0.000183
1-2 processing imu...
it_last_IMU.time: 1664877158.708204
lastState: 1664877158.708204
currentState: 1664877158.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.728204012 -0.00049 0.01824 9.8 0 0 0.000184
1-2 processing imu...
it_last_IMU.time: 1664877158.718204
lastState: 1664877158.718204
currentState: 1664877158.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.738204002 -0.000478 0.01621 9.8 0 0 0.000185
1-2 processing imu...
it_last_IMU.time: 1664877158.728204
lastState: 1664877158.728204
currentState: 1664877158.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.748203993 -0.000466 0.01419 9.8 0 0 0.000186
1-2 processing imu...
it_last_IMU.time: 1664877158.738204
lastState: 1664877158.738204
currentState: 1664877158.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.758203983 -0.000454 0.01244 9.8 0 0 0.000187
1-2 processing imu...
it_last_IMU.time: 1664877158.748204
lastState: 1664877158.748204
currentState: 1664877158.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.768203974 -0.000443 0.0107 9.8 0 0 0.000189
1-2 processing imu...
it_last_IMU.time: 1664877158.758204
lastState: 1664877158.758204
currentState: 1664877158.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.778203964 -0.000431 0.008951 9.8 0 0 0.00019
1-2 processing imu...
it_last_IMU.time: 1664877158.768204
lastState: 1664877158.768204
currentState: 1664877158.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.788203955 -0.000419 0.007206 9.8 0 0 0.000191
1-2 processing imu...
it_last_IMU.time: 1664877158.778204
lastState: 1664877158.778204
currentState: 1664877158.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.798203945 -0.000408 0.005461 9.8 0 0 0.000192
1-2 processing imu...
it_last_IMU.time: 1664877158.788204
lastState: 1664877158.788204
currentState: 1664877158.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.808203936 -0.000396 0.003716 9.8 0 0 0.000192
1-2 processing imu...
it_last_IMU.time: 1664877158.798204
lastState: 1664877158.798204
currentState: 1664877158.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.818203926 -0.000384 0.001971 9.8 0 0 0.000193
1-2 processing imu...
it_last_IMU.time: 1664877158.808204
lastState: 1664877158.808204
currentState: 1664877158.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.828203917 -0.000373 0.000226 9.8 0 0 0.000194
1-2 processing imu...
it_last_IMU.time: 1664877158.818204
lastState: 1664877158.818204
currentState: 1664877158.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.838203907 -0.000361 -0.001519 9.8 0 0 0.000195
1-2 processing imu...
it_last_IMU.time: 1664877158.828204
lastState: 1664877158.828204
currentState: 1664877158.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.848203897 -0.00035 -0.003225 9.8 0 0 0.000196
1-2 processing imu...
it_last_IMU.time: 1664877158.838204
lastState: 1664877158.838204
currentState: 1664877158.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.858203888 -0.000341 -0.003303 9.8 0 0 0.000196
1-2 processing imu...
it_last_IMU.time: 1664877158.848204
lastState: 1664877158.848204
currentState: 1664877158.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.868204117 -0.000333 -0.003382 9.8 0 0 0.000197
1-2 processing imu...
it_last_IMU.time: 1664877158.858204
lastState: 1664877158.858204
currentState: 1664877158.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.878204107 -0.000324 -0.00346 9.8 0 0 0.000198
1-2 processing imu...
it_last_IMU.time: 1664877158.868204
lastState: 1664877158.868204
currentState: 1664877158.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.888204098 -0.000316 -0.003539 9.8 0 0 0.000198
1-2 processing imu...
it_last_IMU.time: 1664877158.878204
lastState: 1664877158.878204
currentState: 1664877158.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.898204088 -0.000307 -0.003617 9.8 0 0 0.000199
1-2 processing imu...
it_last_IMU.time: 1664877158.888204
lastState: 1664877158.888204
currentState: 1664877158.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.908204079 -0.000299 -0.003696 9.8 0 0 0.000199
1-2 processing imu...
it_last_IMU.time: 1664877158.898204
lastState: 1664877158.898204
currentState: 1664877158.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.918204069 -0.00029 -0.003774 9.8 0 0 0.0002
1-2 processing imu...
it_last_IMU.time: 1664877158.908204
lastState: 1664877158.908204
currentState: 1664877158.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.928204060 -0.000282 -0.003853 9.8 0 0 0.0002
1-2 processing imu...
it_last_IMU.time: 1664877158.918204
lastState: 1664877158.918204
currentState: 1664877158.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.938204050 -0.000273 -0.003931 9.8 0 0 0.000201
1-2 processing imu...
it_last_IMU.time: 1664877158.928204
lastState: 1664877158.928204
currentState: 1664877158.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877158.927239895 -0.09079 0.7799 0.0008224 0.0003383 0.00471 -0.9263 -0.3768
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877158.927240
time: 1664877158.927240
state->time: 1664877158.928204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675522.827688082]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675522.827814434]: the fixed q :[0.278, 0.244, 0.636, 0.677][0m
[0m[ INFO] [1670675522.827928386]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675522.828022974]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.09079 0.7799 0.0008224
p_wv: 18.52 -15.22 31
p: 18.59 -13.38 30.64
q: [0.278, 0.244, 0.636, 0.677]
l: 0.5144
residual in position: -0.1246 -0.1654 0.1865
q_err :[-0.999, -0.031, 0.0128, 0.00809]
residual in q: 0.06207 -0.02564 -0.01619
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877158.928204 it_next->second->time: 1664877158.938204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.35 -13.7 31
hc: publish state after update
1-1 IMUCallback(): 1664877158.948204041 -0.000265 -0.004011 9.8 0 0 0.000201
1-2 processing imu...
it_last_IMU.time: 1664877158.938204
lastState: 1664877158.938204
currentState: 1664877158.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.958204031 -0.000262 -0.004217 9.8 0 0 0.000201
1-2 processing imu...
it_last_IMU.time: 1664877158.948204
lastState: 1664877158.948204
currentState: 1664877158.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.968204021 -0.000259 -0.004422 9.8 0 0 0.000202
1-2 processing imu...
it_last_IMU.time: 1664877158.958204
lastState: 1664877158.958204
currentState: 1664877158.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.978204012 -0.000256 -0.004627 9.8 0 0 0.000202
1-2 processing imu...
it_last_IMU.time: 1664877158.968204
lastState: 1664877158.968204
currentState: 1664877158.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877158.988204002 -0.000254 -0.004832 9.8 0 0 0.000202
1-2 processing imu...
it_last_IMU.time: 1664877158.978204
lastState: 1664877158.978204
currentState: 1664877158.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877158.998203993 -0.000251 -0.005038 9.8 0 0 0.000202
1-2 processing imu...
it_last_IMU.time: 1664877158.988204
lastState: 1664877158.988204
currentState: 1664877158.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.008203983 -0.000248 -0.005243 9.8 0 0 0.000202
1-2 processing imu...
it_last_IMU.time: 1664877158.998204
lastState: 1664877158.998204
currentState: 1664877159.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.018203974 -0.000245 -0.005448 9.8 0 0 0.000202
1-2 processing imu...
it_last_IMU.time: 1664877159.008204
lastState: 1664877159.008204
currentState: 1664877159.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.028203964 -0.000242 -0.005654 9.8 0 0 0.000203
1-2 processing imu...
it_last_IMU.time: 1664877159.018204
lastState: 1664877159.018204
currentState: 1664877159.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.038203955 -0.000239 -0.005859 9.8 0 0 0.000202
1-2 processing imu...
it_last_IMU.time: 1664877159.028204
lastState: 1664877159.028204
currentState: 1664877159.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.048203945 -0.000237 -0.006069 9.8 0 0 0.000202
1-2 processing imu...
it_last_IMU.time: 1664877159.038204
lastState: 1664877159.038204
currentState: 1664877159.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.058203936 -0.000241 -0.00711 9.8 0 0 0.000202
1-2 processing imu...
it_last_IMU.time: 1664877159.048204
lastState: 1664877159.048204
currentState: 1664877159.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.068203926 -0.000246 -0.008152 9.8 0 0 0.000202
1-2 processing imu...
it_last_IMU.time: 1664877159.058204
lastState: 1664877159.058204
currentState: 1664877159.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.078203917 -0.00025 -0.009194 9.8 0 0 0.000202
1-2 processing imu...
it_last_IMU.time: 1664877159.068204
lastState: 1664877159.068204
currentState: 1664877159.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.088203907 -0.000255 -0.01023 9.8 0 0 0.000202
1-2 processing imu...
it_last_IMU.time: 1664877159.078204
lastState: 1664877159.078204
currentState: 1664877159.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.098203897 -0.000259 -0.01128 9.8 0 0 0.000201
1-2 processing imu...
it_last_IMU.time: 1664877159.088204
lastState: 1664877159.088204
currentState: 1664877159.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.108203888 -0.000264 -0.01232 9.8 0 0 0.000201
1-2 processing imu...
it_last_IMU.time: 1664877159.098204
lastState: 1664877159.098204
currentState: 1664877159.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.118204117 -0.000268 -0.01336 9.8 0 0 0.000201
1-2 processing imu...
it_last_IMU.time: 1664877159.108204
lastState: 1664877159.108204
currentState: 1664877159.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.128204107 -0.000273 -0.0144 9.8 0 0 0.0002
1-2 processing imu...
it_last_IMU.time: 1664877159.118204
lastState: 1664877159.118204
currentState: 1664877159.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.138204098 -0.000278 -0.01544 9.8 0 0 0.0002
1-2 processing imu...
it_last_IMU.time: 1664877159.128204
lastState: 1664877159.128204
currentState: 1664877159.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.148204088 -0.000282 -0.01649 9.8 0 0 0.000199
1-2 processing imu...
it_last_IMU.time: 1664877159.138204
lastState: 1664877159.138204
currentState: 1664877159.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.158204079 -0.000295 -0.0147 9.8 0 0 0.000199
1-2 processing imu...
it_last_IMU.time: 1664877159.148204
lastState: 1664877159.148204
currentState: 1664877159.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.168204069 -0.000308 -0.01291 9.8 0 0 0.000198
1-2 processing imu...
it_last_IMU.time: 1664877159.158204
lastState: 1664877159.158204
currentState: 1664877159.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.178204060 -0.000321 -0.01111 9.8 0 0 0.000197
1-2 processing imu...
it_last_IMU.time: 1664877159.168204
lastState: 1664877159.168204
currentState: 1664877159.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.188204050 -0.000333 -0.009319 9.8 0 0 0.000197
1-2 processing imu...
it_last_IMU.time: 1664877159.178204
lastState: 1664877159.178204
currentState: 1664877159.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.198204041 -0.000346 -0.007525 9.8 0 0 0.000196
1-2 processing imu...
it_last_IMU.time: 1664877159.188204
lastState: 1664877159.188204
currentState: 1664877159.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.208204031 -0.000359 -0.005731 9.8 0 0 0.000195
1-2 processing imu...
it_last_IMU.time: 1664877159.198204
lastState: 1664877159.198204
currentState: 1664877159.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.218204021 -0.000372 -0.003937 9.8 0 0 0.000194
1-2 processing imu...
it_last_IMU.time: 1664877159.208204
lastState: 1664877159.208204
currentState: 1664877159.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.228204012 -0.000385 -0.002143 9.8 0 0 0.000194
1-2 processing imu...
it_last_IMU.time: 1664877159.218204
lastState: 1664877159.218204
currentState: 1664877159.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.238204002 -0.000397 -0.000349 9.8 0 0 0.000193
1-2 processing imu...
it_last_IMU.time: 1664877159.228204
lastState: 1664877159.228204
currentState: 1664877159.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.248203993 -0.00041 0.001445 9.8 0 0 0.000192
1-2 processing imu...
it_last_IMU.time: 1664877159.238204
lastState: 1664877159.238204
currentState: 1664877159.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.258203983 -0.000431 -2.3e-05 9.8 0 0 0.000191
1-2 processing imu...
it_last_IMU.time: 1664877159.248204
lastState: 1664877159.248204
currentState: 1664877159.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.268203974 -0.000452 -0.001532 9.8 0 0 0.00019
1-2 processing imu...
it_last_IMU.time: 1664877159.258204
lastState: 1664877159.258204
currentState: 1664877159.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.278203964 -0.000473 -0.003041 9.8 0 0 0.000189
1-2 processing imu...
it_last_IMU.time: 1664877159.268204
lastState: 1664877159.268204
currentState: 1664877159.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.288203955 -0.000494 -0.00455 9.8 0 0 0.000187
1-2 processing imu...
it_last_IMU.time: 1664877159.278204
lastState: 1664877159.278204
currentState: 1664877159.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.298203945 -0.000515 -0.006059 9.8 0 0 0.000186
1-2 processing imu...
it_last_IMU.time: 1664877159.288204
lastState: 1664877159.288204
currentState: 1664877159.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.308203936 -0.000536 -0.007568 9.8 0 0 0.000185
1-2 processing imu...
it_last_IMU.time: 1664877159.298204
lastState: 1664877159.298204
currentState: 1664877159.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.318203926 -0.000557 -0.009077 9.8 0 0 0.000184
1-2 processing imu...
it_last_IMU.time: 1664877159.308204
lastState: 1664877159.308204
currentState: 1664877159.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.328203917 -0.000578 -0.01059 9.8 0 0 0.000183
1-2 processing imu...
it_last_IMU.time: 1664877159.318204
lastState: 1664877159.318204
currentState: 1664877159.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.338203907 -0.000599 -0.0121 9.8 0 0 0.000181
1-2 processing imu...
it_last_IMU.time: 1664877159.328204
lastState: 1664877159.328204
currentState: 1664877159.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.348203897 -0.00062 -0.01361 9.8 0 0 0.00018
1-2 processing imu...
it_last_IMU.time: 1664877159.338204
lastState: 1664877159.338204
currentState: 1664877159.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.358203888 -0.00065 -0.01399 9.8 0 0 0.000178
1-2 processing imu...
it_last_IMU.time: 1664877159.348204
lastState: 1664877159.348204
currentState: 1664877159.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877159.341170073 -0.1062 0.7942 0.0008612 -4.459e-05 0.004895 -0.9259 -0.3777
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877159.341170
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877159.341170
state->time: 1664877159.341170
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675523.693714185]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675523.693845145]: the fixed q :[0.278, 0.246, 0.637, 0.676][0m
[0m[ INFO] [1670675523.693897543]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675523.693970078]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.1062 0.7942 0.0008612
p_wv: 18.52 -15.22 31
p: 18.55 -13.37 30.65
q: [0.278, 0.246, 0.637, 0.676]
l: 0.5145
residual in position: -0.1193 -0.1592 0.1796
q_err :[-0.999, -0.0301, 0.0123, 0.00818]
residual in q: 0.06024 -0.02463 -0.01637
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877159.341170 it_next->second->time: 1664877159.348204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877159.348204 it_next->second->time: 1664877159.358204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.32 -13.67 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877159.368204117 -0.00068 -0.01435 9.8 0 0 0.000177
1-2 processing imu...
it_last_IMU.time: 1664877159.358204
lastState: 1664877159.358204
currentState: 1664877159.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.378204107 -0.00071 -0.01471 9.8 0 0 0.000176
1-2 processing imu...
it_last_IMU.time: 1664877159.368204
lastState: 1664877159.368204
currentState: 1664877159.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.388204098 -0.00074 -0.01507 9.8 0 0 0.000174
1-2 processing imu...
it_last_IMU.time: 1664877159.378204
lastState: 1664877159.378204
currentState: 1664877159.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.398204088 -0.00077 -0.01543 9.8 0 0 0.000173
1-2 processing imu...
it_last_IMU.time: 1664877159.388204
lastState: 1664877159.388204
currentState: 1664877159.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.408204079 -0.0008 -0.01579 9.8 0 0 0.000171
1-2 processing imu...
it_last_IMU.time: 1664877159.398204
lastState: 1664877159.398204
currentState: 1664877159.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.418204069 -0.00083 -0.01615 9.8 0 0 0.000169
1-2 processing imu...
it_last_IMU.time: 1664877159.408204
lastState: 1664877159.408204
currentState: 1664877159.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.428204060 -0.00086 -0.01651 9.8 0 0 0.000168
1-2 processing imu...
it_last_IMU.time: 1664877159.418204
lastState: 1664877159.418204
currentState: 1664877159.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.438204050 -0.00089 -0.01687 9.8 0 0 0.000166
1-2 processing imu...
it_last_IMU.time: 1664877159.428204
lastState: 1664877159.428204
currentState: 1664877159.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.448204041 -0.00092 -0.01723 9.8 0 0 0.000165
1-2 processing imu...
it_last_IMU.time: 1664877159.438204
lastState: 1664877159.438204
currentState: 1664877159.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.458204031 -0.000955 -0.01499 9.8 0 0 0.000163
1-2 processing imu...
it_last_IMU.time: 1664877159.448204
lastState: 1664877159.448204
currentState: 1664877159.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.468204021 -0.00099 -0.01266 9.8 0 0 0.000161
1-2 processing imu...
it_last_IMU.time: 1664877159.458204
lastState: 1664877159.458204
currentState: 1664877159.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.478204012 -0.001025 -0.01034 9.8 0 0 0.000159
1-2 processing imu...
it_last_IMU.time: 1664877159.468204
lastState: 1664877159.468204
currentState: 1664877159.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.488204002 -0.001061 -0.00802 9.8 0 0 0.000158
1-2 processing imu...
it_last_IMU.time: 1664877159.478204
lastState: 1664877159.478204
currentState: 1664877159.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.498203993 -0.001096 -0.005697 9.8 0 0 0.000156
1-2 processing imu...
it_last_IMU.time: 1664877159.488204
lastState: 1664877159.488204
currentState: 1664877159.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.508203983 -0.001131 -0.003375 9.8 0 0 0.000154
1-2 processing imu...
it_last_IMU.time: 1664877159.498204
lastState: 1664877159.498204
currentState: 1664877159.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.518203974 -0.001166 -0.001053 9.8 0 0 0.000153
1-2 processing imu...
it_last_IMU.time: 1664877159.508204
lastState: 1664877159.508204
currentState: 1664877159.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.528203964 -0.001201 0.00127 9.8 0 0 0.000151
1-2 processing imu...
it_last_IMU.time: 1664877159.518204
lastState: 1664877159.518204
currentState: 1664877159.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.538203955 -0.001236 0.003592 9.8 0 0 0.000149
1-2 processing imu...
it_last_IMU.time: 1664877159.528204
lastState: 1664877159.528204
currentState: 1664877159.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.548203945 -0.001271 0.005914 9.8 0 0 0.000147
1-2 processing imu...
it_last_IMU.time: 1664877159.538204
lastState: 1664877159.538204
currentState: 1664877159.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.558203936 -0.001308 0.006181 9.8 0 0 0.000145
1-2 processing imu...
it_last_IMU.time: 1664877159.548204
lastState: 1664877159.548204
currentState: 1664877159.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.568203926 -0.001345 0.006364 9.8 0 0 0.000144
1-2 processing imu...
it_last_IMU.time: 1664877159.558204
lastState: 1664877159.558204
currentState: 1664877159.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.578203917 -0.001382 0.006546 9.8 0 0 0.000142
1-2 processing imu...
it_last_IMU.time: 1664877159.568204
lastState: 1664877159.568204
currentState: 1664877159.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.588203907 -0.001419 0.006729 9.8 0 0 0.00014
1-2 processing imu...
it_last_IMU.time: 1664877159.578204
lastState: 1664877159.578204
currentState: 1664877159.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.598203897 -0.001456 0.006912 9.8 0 0 0.000139
1-2 processing imu...
it_last_IMU.time: 1664877159.588204
lastState: 1664877159.588204
currentState: 1664877159.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.608203888 -0.001493 0.007095 9.8 0 0 0.000137
1-2 processing imu...
it_last_IMU.time: 1664877159.598204
lastState: 1664877159.598204
currentState: 1664877159.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.618204117 -0.001529 0.007278 9.8 0 0 0.000135
1-2 processing imu...
it_last_IMU.time: 1664877159.608204
lastState: 1664877159.608204
currentState: 1664877159.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.628204107 -0.001566 0.00746 9.8 0 0 0.000134
1-2 processing imu...
it_last_IMU.time: 1664877159.618204
lastState: 1664877159.618204
currentState: 1664877159.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.638204098 -0.001603 0.007643 9.8 0 0 0.000132
1-2 processing imu...
it_last_IMU.time: 1664877159.628204
lastState: 1664877159.628204
currentState: 1664877159.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.648204088 -0.00164 0.007826 9.8 0 0 0.00013
1-2 processing imu...
it_last_IMU.time: 1664877159.638204
lastState: 1664877159.638204
currentState: 1664877159.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.658204079 -0.001671 0.008872 9.8 0 0 0.000129
1-2 processing imu...
it_last_IMU.time: 1664877159.648204
lastState: 1664877159.648204
currentState: 1664877159.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.668204069 -0.001701 0.009962 9.8 0 0 0.000127
1-2 processing imu...
it_last_IMU.time: 1664877159.658204
lastState: 1664877159.658204
currentState: 1664877159.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.678204060 -0.001731 0.01105 9.8 0 0 0.000126
1-2 processing imu...
it_last_IMU.time: 1664877159.668204
lastState: 1664877159.668204
currentState: 1664877159.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.688204050 -0.001761 0.01214 9.8 0 0 0.000124
1-2 processing imu...
it_last_IMU.time: 1664877159.678204
lastState: 1664877159.678204
currentState: 1664877159.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.698204041 -0.001791 0.01323 9.8 0 0 0.000123
1-2 processing imu...
it_last_IMU.time: 1664877159.688204
lastState: 1664877159.688204
currentState: 1664877159.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.708204031 -0.001821 0.01432 9.8 0 0 0.000122
1-2 processing imu...
it_last_IMU.time: 1664877159.698204
lastState: 1664877159.698204
currentState: 1664877159.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.718204021 -0.001852 0.01541 9.8 0 0 0.000121
1-2 processing imu...
it_last_IMU.time: 1664877159.708204
lastState: 1664877159.708204
currentState: 1664877159.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.728204012 -0.001882 0.0165 9.8 0 0 0.00012
1-2 processing imu...
it_last_IMU.time: 1664877159.718204
lastState: 1664877159.718204
currentState: 1664877159.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.738204002 -0.001912 0.01759 9.8 0 0 0.000119
1-2 processing imu...
it_last_IMU.time: 1664877159.728204
lastState: 1664877159.728204
currentState: 1664877159.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.748203993 -0.001942 0.01868 9.8 0 0 0.000118
1-2 processing imu...
it_last_IMU.time: 1664877159.738204
lastState: 1664877159.738204
currentState: 1664877159.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.758203983 -0.001959 0.01922 9.8 0 0 0.000117
1-2 processing imu...
it_last_IMU.time: 1664877159.748204
lastState: 1664877159.748204
currentState: 1664877159.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.768203974 -0.001976 0.01973 9.8 0 0 0.000116
1-2 processing imu...
it_last_IMU.time: 1664877159.758204
lastState: 1664877159.758204
currentState: 1664877159.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.778203964 -0.001993 0.02024 9.8 0 0 0.000116
1-2 processing imu...
it_last_IMU.time: 1664877159.768204
lastState: 1664877159.768204
currentState: 1664877159.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877159.762150049 -0.1222 0.8105 0.0007972 -0.0003995 0.005635 -0.9265 -0.3762
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877159.762150
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877159.762150
state->time: 1664877159.762150
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675524.595754735]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675524.595833433]: the fixed q :[0.278, 0.247, 0.636, 0.676][0m
[0m[ INFO] [1670675524.595853825]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675524.595869859]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.1222 0.8105 0.0007972
p_wv: 18.52 -15.22 31
p: 18.52 -13.34 30.65
q: [0.278, 0.247, 0.636, 0.676]
l: 0.5144
residual in position: -0.1233 -0.1564 0.1793
q_err :[-0.999, -0.0294, 0.0122, 0.00509]
residual in q: 0.05883 -0.02432 -0.01019
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877159.762150 it_next->second->time: 1664877159.768204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877159.768204 it_next->second->time: 1664877159.778204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.28 -13.64 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877159.788203955 -0.00201 0.02074 9.8 0 0 0.000115
1-2 processing imu...
it_last_IMU.time: 1664877159.778204
lastState: 1664877159.778204
currentState: 1664877159.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.798203945 -0.002026 0.02125 9.8 0 0 0.000115
1-2 processing imu...
it_last_IMU.time: 1664877159.788204
lastState: 1664877159.788204
currentState: 1664877159.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.808203936 -0.002043 0.02176 9.8 0 0 0.000115
1-2 processing imu...
it_last_IMU.time: 1664877159.798204
lastState: 1664877159.798204
currentState: 1664877159.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.818203926 -0.00206 0.02227 9.8 0 0 0.000115
1-2 processing imu...
it_last_IMU.time: 1664877159.808204
lastState: 1664877159.808204
currentState: 1664877159.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.828203917 -0.002076 0.02278 9.8 0 0 0.000115
1-2 processing imu...
it_last_IMU.time: 1664877159.818204
lastState: 1664877159.818204
currentState: 1664877159.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.838203907 -0.002093 0.02329 9.8 0 0 0.000115
1-2 processing imu...
it_last_IMU.time: 1664877159.828204
lastState: 1664877159.828204
currentState: 1664877159.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.848203897 -0.00211 0.0238 9.8 0 0 0.000115
1-2 processing imu...
it_last_IMU.time: 1664877159.838204
lastState: 1664877159.838204
currentState: 1664877159.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.858203888 -0.002118 0.02135 9.8 0 0 0.000116
1-2 processing imu...
it_last_IMU.time: 1664877159.848204
lastState: 1664877159.848204
currentState: 1664877159.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.868204117 -0.002125 0.0187 9.8 0 0 0.000117
1-2 processing imu...
it_last_IMU.time: 1664877159.858204
lastState: 1664877159.858204
currentState: 1664877159.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.878204107 -0.002132 0.01605 9.8 0 0 0.000118
1-2 processing imu...
it_last_IMU.time: 1664877159.868204
lastState: 1664877159.868204
currentState: 1664877159.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.888204098 -0.00214 0.01341 9.8 0 0 0.000119
1-2 processing imu...
it_last_IMU.time: 1664877159.878204
lastState: 1664877159.878204
currentState: 1664877159.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.898204088 -0.002147 0.01076 9.8 0 0 0.000121
1-2 processing imu...
it_last_IMU.time: 1664877159.888204
lastState: 1664877159.888204
currentState: 1664877159.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.908204079 -0.002154 0.008108 9.8 0 0 0.000123
1-2 processing imu...
it_last_IMU.time: 1664877159.898204
lastState: 1664877159.898204
currentState: 1664877159.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.918204069 -0.002161 0.005459 9.8 0 0 0.000125
1-2 processing imu...
it_last_IMU.time: 1664877159.908204
lastState: 1664877159.908204
currentState: 1664877159.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.928204060 -0.002169 0.00281 9.8 0 0 0.000128
1-2 processing imu...
it_last_IMU.time: 1664877159.918204
lastState: 1664877159.918204
currentState: 1664877159.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.938204050 -0.002176 0.00016 9.8 0 0 0.000131
1-2 processing imu...
it_last_IMU.time: 1664877159.928204
lastState: 1664877159.928204
currentState: 1664877159.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.948204041 -0.002183 -0.002489 9.8 0 0 0.000134
1-2 processing imu...
it_last_IMU.time: 1664877159.938204
lastState: 1664877159.938204
currentState: 1664877159.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.958204031 -0.002187 -0.004239 9.8 0 0 0.000137
1-2 processing imu...
it_last_IMU.time: 1664877159.948204
lastState: 1664877159.948204
currentState: 1664877159.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.968204021 -0.00219 -0.005916 9.8 0 0 0.000142
1-2 processing imu...
it_last_IMU.time: 1664877159.958204
lastState: 1664877159.958204
currentState: 1664877159.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.978204012 -0.002193 -0.007593 9.8 0 0 0.000146
1-2 processing imu...
it_last_IMU.time: 1664877159.968204
lastState: 1664877159.968204
currentState: 1664877159.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877159.988204002 -0.002196 -0.009271 9.8 0 0 0.000152
1-2 processing imu...
it_last_IMU.time: 1664877159.978204
lastState: 1664877159.978204
currentState: 1664877159.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877159.998203993 -0.002199 -0.01095 9.8 0 0 0.000157
1-2 processing imu...
it_last_IMU.time: 1664877159.988204
lastState: 1664877159.988204
currentState: 1664877159.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.008203983 -0.002202 -0.01263 9.8 0 0 0.000164
1-2 processing imu...
it_last_IMU.time: 1664877159.998204
lastState: 1664877159.998204
currentState: 1664877160.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.018203974 -0.002205 -0.0143 9.8 0 0 0.000171
1-2 processing imu...
it_last_IMU.time: 1664877160.008204
lastState: 1664877160.008204
currentState: 1664877160.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.028203964 -0.002208 -0.01598 9.8 0 0 0.000178
1-2 processing imu...
it_last_IMU.time: 1664877160.018204
lastState: 1664877160.018204
currentState: 1664877160.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.038203955 -0.002211 -0.01766 9.8 0 0 0.000186
1-2 processing imu...
it_last_IMU.time: 1664877160.028204
lastState: 1664877160.028204
currentState: 1664877160.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.048203945 -0.002214 -0.01934 9.8 0 0 0.000194
1-2 processing imu...
it_last_IMU.time: 1664877160.038204
lastState: 1664877160.038204
currentState: 1664877160.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.058203936 -0.002212 -0.01756 9.8 0 0 0.000204
1-2 processing imu...
it_last_IMU.time: 1664877160.048204
lastState: 1664877160.048204
currentState: 1664877160.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.068203926 -0.002209 -0.01546 9.8 0 0 0.000214
1-2 processing imu...
it_last_IMU.time: 1664877160.058204
lastState: 1664877160.058204
currentState: 1664877160.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.078203917 -0.002206 -0.01337 9.8 0 0 0.000225
1-2 processing imu...
it_last_IMU.time: 1664877160.068204
lastState: 1664877160.068204
currentState: 1664877160.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.088203907 -0.002203 -0.01127 9.8 0 0 0.000236
1-2 processing imu...
it_last_IMU.time: 1664877160.078204
lastState: 1664877160.078204
currentState: 1664877160.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.098203897 -0.0022 -0.009181 9.8 0 0 0.000249
1-2 processing imu...
it_last_IMU.time: 1664877160.088204
lastState: 1664877160.088204
currentState: 1664877160.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.108203888 -0.002197 -0.007087 9.8 0 0 0.000263
1-2 processing imu...
it_last_IMU.time: 1664877160.098204
lastState: 1664877160.098204
currentState: 1664877160.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.118204117 -0.002194 -0.004993 9.8 0 0 0.000277
1-2 processing imu...
it_last_IMU.time: 1664877160.108204
lastState: 1664877160.108204
currentState: 1664877160.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.128204107 -0.002191 -0.002899 9.8 0 0 0.000293
1-2 processing imu...
it_last_IMU.time: 1664877160.118204
lastState: 1664877160.118204
currentState: 1664877160.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.138204098 -0.002188 -0.000805 9.8 0 0 0.000309
1-2 processing imu...
it_last_IMU.time: 1664877160.128204
lastState: 1664877160.128204
currentState: 1664877160.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.148204088 -0.002185 0.001289 9.8 0 0 0.000326
1-2 processing imu...
it_last_IMU.time: 1664877160.138204
lastState: 1664877160.138204
currentState: 1664877160.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.158204079 -0.002173 0.004397 9.8 0 0 0.000344
1-2 processing imu...
it_last_IMU.time: 1664877160.148204
lastState: 1664877160.148204
currentState: 1664877160.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.168204069 -0.002159 0.007609 9.8 0 0 0.000364
1-2 processing imu...
it_last_IMU.time: 1664877160.158204
lastState: 1664877160.158204
currentState: 1664877160.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.178204060 -0.002145 0.01082 9.8 0 0 0.000384
1-2 processing imu...
it_last_IMU.time: 1664877160.168204
lastState: 1664877160.168204
currentState: 1664877160.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.188204050 -0.002132 0.01403 9.8 0 0 0.000406
1-2 processing imu...
it_last_IMU.time: 1664877160.178204
lastState: 1664877160.178204
currentState: 1664877160.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.198204041 -0.002118 0.01725 9.8 0 0 0.000429
1-2 processing imu...
it_last_IMU.time: 1664877160.188204
lastState: 1664877160.188204
currentState: 1664877160.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877160.179505110 -0.1367 0.8268 0.0003114 -0.001413 0.0057 -0.9274 -0.3739
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877160.179505
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877160.179505
state->time: 1664877160.179505
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675525.464040534]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675525.464101374]: the fixed q :[0.276, 0.247, 0.636, 0.676][0m
[0m[ INFO] [1670675525.464128087]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675525.464180300]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.1367 0.8268 0.0003114
p_wv: 18.52 -15.22 31
p: 18.48 -13.32 30.67
q: [0.276, 0.247, 0.636, 0.676]
l: 0.5144
residual in position: -0.118 -0.1515 0.1697
q_err :[-0.999, -0.0293, 0.0118, 0.00357]
residual in q: 0.05861 -0.02363 -0.007145
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877160.179505 it_next->second->time: 1664877160.188204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877160.188204 it_next->second->time: 1664877160.198204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.26 -13.6 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877160.208204031 -0.002104 0.02046 9.8 0 0 0.000454
1-2 processing imu...
it_last_IMU.time: 1664877160.198204
lastState: 1664877160.198204
currentState: 1664877160.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.218204021 -0.002091 0.02367 9.8 0 0 0.000479
1-2 processing imu...
it_last_IMU.time: 1664877160.208204
lastState: 1664877160.208204
currentState: 1664877160.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.228204012 -0.002077 0.02688 9.8 0 0 0.000506
1-2 processing imu...
it_last_IMU.time: 1664877160.218204
lastState: 1664877160.218204
currentState: 1664877160.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.238204002 -0.002063 0.03009 9.8 0 0 0.000534
1-2 processing imu...
it_last_IMU.time: 1664877160.228204
lastState: 1664877160.228204
currentState: 1664877160.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.248203993 -0.002049 0.03331 9.8 0 0 0.000563
1-2 processing imu...
it_last_IMU.time: 1664877160.238204
lastState: 1664877160.238204
currentState: 1664877160.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.258203983 -0.002011 0.03348 9.8 0 0 0.000593
1-2 processing imu...
it_last_IMU.time: 1664877160.248204
lastState: 1664877160.248204
currentState: 1664877160.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.268203974 -0.001969 0.0333 9.8 0 0 0.000626
1-2 processing imu...
it_last_IMU.time: 1664877160.258204
lastState: 1664877160.258204
currentState: 1664877160.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.278203964 -0.001928 0.03313 9.8 0 0 0.000659
1-2 processing imu...
it_last_IMU.time: 1664877160.268204
lastState: 1664877160.268204
currentState: 1664877160.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.288203955 -0.001887 0.03295 9.8 0 0 0.000695
1-2 processing imu...
it_last_IMU.time: 1664877160.278204
lastState: 1664877160.278204
currentState: 1664877160.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.298203945 -0.001846 0.03278 9.8 0 0 0.000732
1-2 processing imu...
it_last_IMU.time: 1664877160.288204
lastState: 1664877160.288204
currentState: 1664877160.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.308203936 -0.001804 0.03261 9.8 0 0 0.00077
1-2 processing imu...
it_last_IMU.time: 1664877160.298204
lastState: 1664877160.298204
currentState: 1664877160.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.318203926 -0.001763 0.03243 9.8 0 0 0.000811
1-2 processing imu...
it_last_IMU.time: 1664877160.308204
lastState: 1664877160.308204
currentState: 1664877160.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.328203917 -0.001722 0.03226 9.8 0 0 0.000852
1-2 processing imu...
it_last_IMU.time: 1664877160.318204
lastState: 1664877160.318204
currentState: 1664877160.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.338203907 -0.00168 0.03208 9.8 0 0 0.000896
1-2 processing imu...
it_last_IMU.time: 1664877160.328204
lastState: 1664877160.328204
currentState: 1664877160.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.348203897 -0.001639 0.03191 9.8 0 0 0.000941
1-2 processing imu...
it_last_IMU.time: 1664877160.338204
lastState: 1664877160.338204
currentState: 1664877160.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.358203888 -0.001562 0.0317 9.8 0 0 0.000988
1-2 processing imu...
it_last_IMU.time: 1664877160.348204
lastState: 1664877160.348204
currentState: 1664877160.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.368204117 -0.001481 0.03149 9.8 0 0 0.001037
1-2 processing imu...
it_last_IMU.time: 1664877160.358204
lastState: 1664877160.358204
currentState: 1664877160.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.378204107 -0.0014 0.03127 9.8 0 0 0.001088
1-2 processing imu...
it_last_IMU.time: 1664877160.368204
lastState: 1664877160.368204
currentState: 1664877160.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.388204098 -0.001319 0.03106 9.8 0 0 0.00114
1-2 processing imu...
it_last_IMU.time: 1664877160.378204
lastState: 1664877160.378204
currentState: 1664877160.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.398204088 -0.001238 0.03085 9.8 0 0 0.001195
1-2 processing imu...
it_last_IMU.time: 1664877160.388204
lastState: 1664877160.388204
currentState: 1664877160.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.408204079 -0.001156 0.03063 9.8 0 0 0.001251
1-2 processing imu...
it_last_IMU.time: 1664877160.398204
lastState: 1664877160.398204
currentState: 1664877160.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.418204069 -0.001075 0.03042 9.8 0 0 0.00131
1-2 processing imu...
it_last_IMU.time: 1664877160.408204
lastState: 1664877160.408204
currentState: 1664877160.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.428204060 -0.000994 0.03021 9.8 0 0 0.00137
1-2 processing imu...
it_last_IMU.time: 1664877160.418204
lastState: 1664877160.418204
currentState: 1664877160.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.438204050 -0.000913 0.03 9.8 0 0 0.001433
1-2 processing imu...
it_last_IMU.time: 1664877160.428204
lastState: 1664877160.428204
currentState: 1664877160.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.448204041 -0.000831 0.02978 9.8 0 0 0.001497
1-2 processing imu...
it_last_IMU.time: 1664877160.438204
lastState: 1664877160.438204
currentState: 1664877160.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.458204031 -0.000693 0.02705 9.8 0 0 0.001563
1-2 processing imu...
it_last_IMU.time: 1664877160.448204
lastState: 1664877160.448204
currentState: 1664877160.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.468204021 -0.000548 0.02397 9.8 0 0 0.001632
1-2 processing imu...
it_last_IMU.time: 1664877160.458204
lastState: 1664877160.458204
currentState: 1664877160.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.478204012 -0.000403 0.02089 9.8 0 0 0.001702
1-2 processing imu...
it_last_IMU.time: 1664877160.468204
lastState: 1664877160.468204
currentState: 1664877160.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.488204002 -0.000257 0.01782 9.8 0 0 0.001775
1-2 processing imu...
it_last_IMU.time: 1664877160.478204
lastState: 1664877160.478204
currentState: 1664877160.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.498203993 -0.000112 0.01474 9.8 0 0 0.001849
1-2 processing imu...
it_last_IMU.time: 1664877160.488204
lastState: 1664877160.488204
currentState: 1664877160.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.508203983 3.3e-05 0.01166 9.8 0 0 0.001926
1-2 processing imu...
it_last_IMU.time: 1664877160.498204
lastState: 1664877160.498204
currentState: 1664877160.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.518203974 0.000178 0.008587 9.8 0 0 0.002005
1-2 processing imu...
it_last_IMU.time: 1664877160.508204
lastState: 1664877160.508204
currentState: 1664877160.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.528203964 0.000323 0.005511 9.8 0 0 0.002085
1-2 processing imu...
it_last_IMU.time: 1664877160.518204
lastState: 1664877160.518204
currentState: 1664877160.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.538203955 0.000468 0.002434 9.8 0 0 0.002168
1-2 processing imu...
it_last_IMU.time: 1664877160.528204
lastState: 1664877160.528204
currentState: 1664877160.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.548203945 0.000612 -0.000642 9.8 0 0 0.002253
1-2 processing imu...
it_last_IMU.time: 1664877160.538204
lastState: 1664877160.538204
currentState: 1664877160.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.558203936 0.000833 -0.003166 9.8 0 0 0.00234
1-2 processing imu...
it_last_IMU.time: 1664877160.548204
lastState: 1664877160.548204
currentState: 1664877160.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.568203926 0.001065 -0.005609 9.8 0 0 0.002429
1-2 processing imu...
it_last_IMU.time: 1664877160.558204
lastState: 1664877160.558204
currentState: 1664877160.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.578203917 0.001297 -0.008051 9.8 0 0 0.00252
1-2 processing imu...
it_last_IMU.time: 1664877160.568204
lastState: 1664877160.568204
currentState: 1664877160.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.588203907 0.001529 -0.01049 9.8 0 0 0.002613
1-2 processing imu...
it_last_IMU.time: 1664877160.578204
lastState: 1664877160.578204
currentState: 1664877160.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.598203897 0.001761 -0.01294 9.8 0 0 0.002707
1-2 processing imu...
it_last_IMU.time: 1664877160.588204
lastState: 1664877160.588204
currentState: 1664877160.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.608203888 0.001993 -0.01538 9.8 0 0 0.002804
1-2 processing imu...
it_last_IMU.time: 1664877160.598204
lastState: 1664877160.598204
currentState: 1664877160.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877160.593527079 -0.1526 0.8417 0.0005776 -0.0009903 0.005397 -0.9274 -0.3739
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877160.593527
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877160.593527
state->time: 1664877160.593527
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675526.347872921]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675526.347905797]: the fixed q :[0.274, 0.248, 0.637, 0.677][0m
[0m[ INFO] [1670675526.347919751]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675526.347937314]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.1526 0.8417 0.0005776
p_wv: 18.52 -15.22 31
p: 18.45 -13.3 30.69
q: [0.274, 0.248, 0.637, 0.677]
l: 0.5144
residual in position: -0.1164 -0.145 0.1619
q_err :[-1, -0.0282, 0.00935, 0.00554]
residual in q: 0.05641 -0.01871 -0.01108
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877160.593527 it_next->second->time: 1664877160.598204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877160.598204 it_next->second->time: 1664877160.608204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.23 -13.58 31
hc: publish state after update
1-1 IMUCallback(): 1664877160.618204117 0.002224 -0.01782 9.8 0 0 0.002902
1-2 processing imu...
it_last_IMU.time: 1664877160.608204
lastState: 1664877160.608204
currentState: 1664877160.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.628204107 0.002455 -0.02026 9.8 0 0 0.003002
1-2 processing imu...
it_last_IMU.time: 1664877160.618204
lastState: 1664877160.618204
currentState: 1664877160.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.638204098 0.002687 -0.02271 9.8 0 0 0.003105
1-2 processing imu...
it_last_IMU.time: 1664877160.628204
lastState: 1664877160.628204
currentState: 1664877160.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.648204088 0.002918 -0.02515 9.8 0 0 0.003209
1-2 processing imu...
it_last_IMU.time: 1664877160.638204
lastState: 1664877160.638204
currentState: 1664877160.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.658204079 0.00324 -0.02634 9.8 0 0 0.003314
1-2 processing imu...
it_last_IMU.time: 1664877160.648204
lastState: 1664877160.648204
currentState: 1664877160.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.668204069 0.003577 -0.02732 9.8 0 0 0.003421
1-2 processing imu...
it_last_IMU.time: 1664877160.658204
lastState: 1664877160.658204
currentState: 1664877160.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.678204060 0.003914 -0.02831 9.8 0 0 0.003529
1-2 processing imu...
it_last_IMU.time: 1664877160.668204
lastState: 1664877160.668204
currentState: 1664877160.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.688204050 0.00425 -0.02929 9.8 0 0 0.003639
1-2 processing imu...
it_last_IMU.time: 1664877160.678204
lastState: 1664877160.678204
currentState: 1664877160.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.698204041 0.004587 -0.03028 9.8 0 0 0.003749
1-2 processing imu...
it_last_IMU.time: 1664877160.688204
lastState: 1664877160.688204
currentState: 1664877160.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.708204031 0.004923 -0.03127 9.8 0 0 0.003861
1-2 processing imu...
it_last_IMU.time: 1664877160.698204
lastState: 1664877160.698204
currentState: 1664877160.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.718204021 0.005259 -0.03225 9.8 0 0 0.003973
1-2 processing imu...
it_last_IMU.time: 1664877160.708204
lastState: 1664877160.708204
currentState: 1664877160.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.728204012 0.005596 -0.03324 9.8 0 0 0.004087
1-2 processing imu...
it_last_IMU.time: 1664877160.718204
lastState: 1664877160.718204
currentState: 1664877160.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.738204002 0.005932 -0.03422 9.8 0 0 0.004202
1-2 processing imu...
it_last_IMU.time: 1664877160.728204
lastState: 1664877160.728204
currentState: 1664877160.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.748203993 0.006268 -0.03521 9.8 0 0 0.004319
1-2 processing imu...
it_last_IMU.time: 1664877160.738204
lastState: 1664877160.738204
currentState: 1664877160.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.758203983 0.006702 -0.0364 9.8 0 0 0.004436
1-2 processing imu...
it_last_IMU.time: 1664877160.748204
lastState: 1664877160.748204
currentState: 1664877160.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.768203974 0.007153 -0.03763 9.8 0 0 0.004552
1-2 processing imu...
it_last_IMU.time: 1664877160.758204
lastState: 1664877160.758204
currentState: 1664877160.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.778203964 0.007603 -0.03886 9.8 0 0 0.004669
1-2 processing imu...
it_last_IMU.time: 1664877160.768204
lastState: 1664877160.768204
currentState: 1664877160.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.788203955 0.008054 -0.04009 9.8 0 0 0.004785
1-2 processing imu...
it_last_IMU.time: 1664877160.778204
lastState: 1664877160.778204
currentState: 1664877160.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.798203945 0.008504 -0.04132 9.8 0 0 0.004901
1-2 processing imu...
it_last_IMU.time: 1664877160.788204
lastState: 1664877160.788204
currentState: 1664877160.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.808203936 0.008954 -0.04255 9.8 0 0 0.005016
1-2 processing imu...
it_last_IMU.time: 1664877160.798204
lastState: 1664877160.798204
currentState: 1664877160.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.818203926 0.009404 -0.04378 9.8 0 0 0.005131
1-2 processing imu...
it_last_IMU.time: 1664877160.808204
lastState: 1664877160.808204
currentState: 1664877160.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.828203917 0.009854 -0.045 9.8 0 0 0.005246
1-2 processing imu...
it_last_IMU.time: 1664877160.818204
lastState: 1664877160.818204
currentState: 1664877160.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.838203907 0.0103 -0.04623 9.8 0 0 0.005361
1-2 processing imu...
it_last_IMU.time: 1664877160.828204
lastState: 1664877160.828204
currentState: 1664877160.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.848203897 0.01075 -0.04746 9.8 0 0 0.005475
1-2 processing imu...
it_last_IMU.time: 1664877160.838204
lastState: 1664877160.838204
currentState: 1664877160.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.858203888 0.01128 -0.04976 9.8 0 0 0.005588
1-2 processing imu...
it_last_IMU.time: 1664877160.848204
lastState: 1664877160.848204
currentState: 1664877160.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.868204117 0.01181 -0.05225 9.8 0 0 0.005699
1-2 processing imu...
it_last_IMU.time: 1664877160.858204
lastState: 1664877160.858204
currentState: 1664877160.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.878204107 0.01234 -0.05474 9.8 0 0 0.005806
1-2 processing imu...
it_last_IMU.time: 1664877160.868204
lastState: 1664877160.868204
currentState: 1664877160.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.888204098 0.01288 -0.05723 9.8 0 0 0.005911
1-2 processing imu...
it_last_IMU.time: 1664877160.878204
lastState: 1664877160.878204
currentState: 1664877160.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.898204088 0.01341 -0.05973 9.8 0 0 0.006013
1-2 processing imu...
it_last_IMU.time: 1664877160.888204
lastState: 1664877160.888204
currentState: 1664877160.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.908204079 0.01394 -0.06222 9.8 0 0 0.006112
1-2 processing imu...
it_last_IMU.time: 1664877160.898204
lastState: 1664877160.898204
currentState: 1664877160.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.918204069 0.01448 -0.06471 9.8 0 0 0.006209
1-2 processing imu...
it_last_IMU.time: 1664877160.908204
lastState: 1664877160.908204
currentState: 1664877160.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.928204060 0.01501 -0.0672 9.8 0 0 0.006302
1-2 processing imu...
it_last_IMU.time: 1664877160.918204
lastState: 1664877160.918204
currentState: 1664877160.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.938204050 0.01554 -0.06969 9.8 0 0 0.006393
1-2 processing imu...
it_last_IMU.time: 1664877160.928204
lastState: 1664877160.928204
currentState: 1664877160.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.948204041 0.01607 -0.07219 9.8 0 0 0.006481
1-2 processing imu...
it_last_IMU.time: 1664877160.938204
lastState: 1664877160.938204
currentState: 1664877160.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.958204031 0.01661 -0.07357 9.8 0 0 0.006565
1-2 processing imu...
it_last_IMU.time: 1664877160.948204
lastState: 1664877160.948204
currentState: 1664877160.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.968204021 0.01715 -0.07474 9.8 0 0 0.006643
1-2 processing imu...
it_last_IMU.time: 1664877160.958204
lastState: 1664877160.958204
currentState: 1664877160.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.978204012 0.01769 -0.07591 9.8 0 0 0.006714
1-2 processing imu...
it_last_IMU.time: 1664877160.968204
lastState: 1664877160.968204
currentState: 1664877160.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877160.988204002 0.01823 -0.07707 9.8 0 0 0.006779
1-2 processing imu...
it_last_IMU.time: 1664877160.978204
lastState: 1664877160.978204
currentState: 1664877160.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877160.998203993 0.01876 -0.07824 9.8 0 0 0.006838
1-2 processing imu...
it_last_IMU.time: 1664877160.988204
lastState: 1664877160.988204
currentState: 1664877160.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.008203983 0.0193 -0.07941 9.8 0 0 0.00689
1-2 processing imu...
it_last_IMU.time: 1664877160.998204
lastState: 1664877160.998204
currentState: 1664877161.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.018203974 0.01984 -0.08058 9.8 0 0 0.006936
1-2 processing imu...
it_last_IMU.time: 1664877161.008204
lastState: 1664877161.008204
currentState: 1664877161.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877161.007513046 -0.1688 0.857 0.0009556 -0.0005417 0.005079 -0.9271 -0.3748
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877161.007513
time: 1664877161.007513
state->time: 1664877161.008204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675527.256139129]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675527.256186546]: the fixed q :[0.273, 0.249, 0.637, 0.676][0m
[0m[ INFO] [1670675527.256196951]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675527.256216281]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.1688 0.857 0.0009556
p_wv: 18.52 -15.22 31
p: 18.41 -13.28 30.7
q: [0.273, 0.249, 0.637, 0.676]
l: 0.5144
residual in position: -0.1144 -0.1391 0.1574
q_err :[-1, -0.0275, 0.00802, 0.00598]
residual in q: 0.05511 -0.01604 -0.01196
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877161.008204 it_next->second->time: 1664877161.018204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.19 -13.55 31
hc: publish state after update
1-1 IMUCallback(): 1664877161.028203964 0.02038 -0.08174 9.8 0 0 0.006976
1-2 processing imu...
it_last_IMU.time: 1664877161.018204
lastState: 1664877161.018204
currentState: 1664877161.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.038203955 0.02091 -0.08291 9.8 0 0 0.007009
1-2 processing imu...
it_last_IMU.time: 1664877161.028204
lastState: 1664877161.028204
currentState: 1664877161.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.048203945 0.02145 -0.08408 9.8 0 0 0.007035
1-2 processing imu...
it_last_IMU.time: 1664877161.038204
lastState: 1664877161.038204
currentState: 1664877161.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.058203936 0.0219 -0.08399 9.8 0 0 0.007054
1-2 processing imu...
it_last_IMU.time: 1664877161.048204
lastState: 1664877161.048204
currentState: 1664877161.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.068203926 0.02233 -0.08364 9.8 0 0 0.007062
1-2 processing imu...
it_last_IMU.time: 1664877161.058204
lastState: 1664877161.058204
currentState: 1664877161.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.078203917 0.02276 -0.0833 9.8 0 0 0.007059
1-2 processing imu...
it_last_IMU.time: 1664877161.068204
lastState: 1664877161.068204
currentState: 1664877161.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.088203907 0.02318 -0.08295 9.8 0 0 0.007044
1-2 processing imu...
it_last_IMU.time: 1664877161.078204
lastState: 1664877161.078204
currentState: 1664877161.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.098203897 0.02361 -0.0826 9.8 0 0 0.007019
1-2 processing imu...
it_last_IMU.time: 1664877161.088204
lastState: 1664877161.088204
currentState: 1664877161.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.108203888 0.02404 -0.08225 9.8 0 0 0.006982
1-2 processing imu...
it_last_IMU.time: 1664877161.098204
lastState: 1664877161.098204
currentState: 1664877161.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.118204117 0.02447 -0.0819 9.8 0 0 0.006934
1-2 processing imu...
it_last_IMU.time: 1664877161.108204
lastState: 1664877161.108204
currentState: 1664877161.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.128204107 0.0249 -0.08155 9.8 0 0 0.006875
1-2 processing imu...
it_last_IMU.time: 1664877161.118204
lastState: 1664877161.118204
currentState: 1664877161.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.138204098 0.02533 -0.08121 9.8 0 0 0.006805
1-2 processing imu...
it_last_IMU.time: 1664877161.128204
lastState: 1664877161.128204
currentState: 1664877161.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.148204088 0.02576 -0.08086 9.8 0 0 0.006724
1-2 processing imu...
it_last_IMU.time: 1664877161.138204
lastState: 1664877161.138204
currentState: 1664877161.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.158204079 0.02596 -0.07997 9.8 0 0 0.00663
1-2 processing imu...
it_last_IMU.time: 1664877161.148204
lastState: 1664877161.148204
currentState: 1664877161.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.168204069 0.0261 -0.07897 9.8 0 0 0.006519
1-2 processing imu...
it_last_IMU.time: 1664877161.158204
lastState: 1664877161.158204
currentState: 1664877161.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.178204060 0.02625 -0.07796 9.8 0 0 0.00639
1-2 processing imu...
it_last_IMU.time: 1664877161.168204
lastState: 1664877161.168204
currentState: 1664877161.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.188204050 0.0264 -0.07696 9.8 0 0 0.006245
1-2 processing imu...
it_last_IMU.time: 1664877161.178204
lastState: 1664877161.178204
currentState: 1664877161.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.198204041 0.02655 -0.07595 9.8 0 0 0.006082
1-2 processing imu...
it_last_IMU.time: 1664877161.188204
lastState: 1664877161.188204
currentState: 1664877161.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.208204031 0.0267 -0.07494 9.8 0 0 0.005902
1-2 processing imu...
it_last_IMU.time: 1664877161.198204
lastState: 1664877161.198204
currentState: 1664877161.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.218204021 0.02685 -0.07394 9.8 0 0 0.005705
1-2 processing imu...
it_last_IMU.time: 1664877161.208204
lastState: 1664877161.208204
currentState: 1664877161.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.228204012 0.027 -0.07293 9.8 0 0 0.00549
1-2 processing imu...
it_last_IMU.time: 1664877161.218204
lastState: 1664877161.218204
currentState: 1664877161.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.238204002 0.02715 -0.07193 9.8 0 0 0.005259
1-2 processing imu...
it_last_IMU.time: 1664877161.228204
lastState: 1664877161.228204
currentState: 1664877161.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.248203993 0.0273 -0.07092 9.8 0 0 0.00501
1-2 processing imu...
it_last_IMU.time: 1664877161.238204
lastState: 1664877161.238204
currentState: 1664877161.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.258203983 0.02704 -0.06822 9.8 0 0 0.004742
1-2 processing imu...
it_last_IMU.time: 1664877161.248204
lastState: 1664877161.248204
currentState: 1664877161.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.268203974 0.02667 -0.06512 9.8 0 0 0.004449
1-2 processing imu...
it_last_IMU.time: 1664877161.258204
lastState: 1664877161.258204
currentState: 1664877161.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.278203964 0.02631 -0.06202 9.8 0 0 0.004132
1-2 processing imu...
it_last_IMU.time: 1664877161.268204
lastState: 1664877161.268204
currentState: 1664877161.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.288203955 0.02595 -0.05892 9.8 0 0 0.00379
1-2 processing imu...
it_last_IMU.time: 1664877161.278204
lastState: 1664877161.278204
currentState: 1664877161.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.298203945 0.02559 -0.05582 9.8 0 0 0.003423
1-2 processing imu...
it_last_IMU.time: 1664877161.288204
lastState: 1664877161.288204
currentState: 1664877161.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.308203936 0.02523 -0.05273 9.8 0 0 0.003032
1-2 processing imu...
it_last_IMU.time: 1664877161.298204
lastState: 1664877161.298204
currentState: 1664877161.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.318203926 0.02487 -0.04963 9.8 0 0 0.002617
1-2 processing imu...
it_last_IMU.time: 1664877161.308204
lastState: 1664877161.308204
currentState: 1664877161.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.328203917 0.02451 -0.04653 9.8 0 0 0.002177
1-2 processing imu...
it_last_IMU.time: 1664877161.318204
lastState: 1664877161.318204
currentState: 1664877161.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.338203907 0.02415 -0.04343 9.8 0 0 0.001712
1-2 processing imu...
it_last_IMU.time: 1664877161.328204
lastState: 1664877161.328204
currentState: 1664877161.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.348203897 0.02379 -0.04032 9.8 0 0 0.001223
1-2 processing imu...
it_last_IMU.time: 1664877161.338204
lastState: 1664877161.338204
currentState: 1664877161.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.358203888 0.02277 -0.03295 9.8 0 0 0.000707
1-2 processing imu...
it_last_IMU.time: 1664877161.348204
lastState: 1664877161.348204
currentState: 1664877161.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.368204117 0.02158 -0.0245 9.8 0 0 0.000159
1-2 processing imu...
it_last_IMU.time: 1664877161.358204
lastState: 1664877161.358204
currentState: 1664877161.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.378204107 0.0204 -0.01605 9.8 0 0 -0.000422
1-2 processing imu...
it_last_IMU.time: 1664877161.368204
lastState: 1664877161.368204
currentState: 1664877161.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.388204098 0.01921 -0.007608 9.8 0 0 -0.001035
1-2 processing imu...
it_last_IMU.time: 1664877161.378204
lastState: 1664877161.378204
currentState: 1664877161.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.398204088 0.01802 0.000839 9.8 0 0 -0.001681
1-2 processing imu...
it_last_IMU.time: 1664877161.388204
lastState: 1664877161.388204
currentState: 1664877161.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.408204079 0.01684 0.009285 9.8 0 0 -0.002358
1-2 processing imu...
it_last_IMU.time: 1664877161.398204
lastState: 1664877161.398204
currentState: 1664877161.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.418204069 0.01565 0.01773 9.8 0 0 -0.003068
1-2 processing imu...
it_last_IMU.time: 1664877161.408204
lastState: 1664877161.408204
currentState: 1664877161.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.428204060 0.01447 0.02618 9.8 0 0 -0.003811
1-2 processing imu...
it_last_IMU.time: 1664877161.418204
lastState: 1664877161.418204
currentState: 1664877161.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877161.422740936 -0.1854 0.8736 0.0007394 -0.001082 0.005531 -0.9273 -0.3742
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877161.422741
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877161.422741
state->time: 1664877161.422741
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675528.147809454]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675528.147906561]: the fixed q :[0.274, 0.25, 0.637, 0.675][0m
[0m[ INFO] [1670675528.147971701]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675528.148067366]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.1854 0.8736 0.0007394
p_wv: 18.52 -15.22 31
p: 18.38 -13.26 30.7
q: [0.274, 0.25, 0.637, 0.675]
l: 0.5144
residual in position: -0.1128 -0.1357 0.156
q_err :[-1, -0.0265, 0.00891, 0.00398]
residual in q: 0.05301 -0.01782 -0.007965
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877161.422741 it_next->second->time: 1664877161.428204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.16 -13.52 31
hc: publish state after update
1-1 IMUCallback(): 1664877161.438204050 0.01328 0.03462 9.8 0 0 -0.004586
1-2 processing imu...
it_last_IMU.time: 1664877161.428204
lastState: 1664877161.428204
currentState: 1664877161.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.448204041 0.01209 0.04307 9.8 0 0 -0.005393
1-2 processing imu...
it_last_IMU.time: 1664877161.438204
lastState: 1664877161.438204
currentState: 1664877161.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.458204031 0.01017 0.05202 9.8 0 0 -0.006234
1-2 processing imu...
it_last_IMU.time: 1664877161.448204
lastState: 1664877161.448204
currentState: 1664877161.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.468204021 0.008059 0.06109 9.8 0 0 -0.007114
1-2 processing imu...
it_last_IMU.time: 1664877161.458204
lastState: 1664877161.458204
currentState: 1664877161.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.478204012 0.005945 0.07017 9.8 0 0 -0.008031
1-2 processing imu...
it_last_IMU.time: 1664877161.468204
lastState: 1664877161.468204
currentState: 1664877161.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.488204002 0.00383 0.07925 9.8 0 0 -0.008986
1-2 processing imu...
it_last_IMU.time: 1664877161.478204
lastState: 1664877161.478204
currentState: 1664877161.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.498203993 0.001712 0.08833 9.8 0 0 -0.009979
1-2 processing imu...
it_last_IMU.time: 1664877161.488204
lastState: 1664877161.488204
currentState: 1664877161.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.508203983 -0.000409 0.0974 9.8 0 0 -0.01101
1-2 processing imu...
it_last_IMU.time: 1664877161.498204
lastState: 1664877161.498204
currentState: 1664877161.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.518203974 -0.002532 0.1065 9.8 0 0 -0.01208
1-2 processing imu...
it_last_IMU.time: 1664877161.508204
lastState: 1664877161.508204
currentState: 1664877161.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.528203964 -0.004659 0.1156 9.8 0 0 -0.01319
1-2 processing imu...
it_last_IMU.time: 1664877161.518204
lastState: 1664877161.518204
currentState: 1664877161.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.538203955 -0.00679 0.1246 9.8 0 0 -0.01433
1-2 processing imu...
it_last_IMU.time: 1664877161.528204
lastState: 1664877161.528204
currentState: 1664877161.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.548203945 -0.008925 0.1337 9.8 0 0 -0.01551
1-2 processing imu...
it_last_IMU.time: 1664877161.538204
lastState: 1664877161.538204
currentState: 1664877161.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.558203936 -0.01235 0.1379 9.8 0 0 -0.01674
1-2 processing imu...
it_last_IMU.time: 1664877161.548204
lastState: 1664877161.548204
currentState: 1664877161.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.568203926 -0.01614 0.1407 9.8 0 0 -0.018
1-2 processing imu...
it_last_IMU.time: 1664877161.558204
lastState: 1664877161.558204
currentState: 1664877161.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.578203917 -0.01994 0.1436 9.8 0 0 -0.0193
1-2 processing imu...
it_last_IMU.time: 1664877161.568204
lastState: 1664877161.568204
currentState: 1664877161.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.588203907 -0.02373 0.1464 9.8 0 0 -0.02065
1-2 processing imu...
it_last_IMU.time: 1664877161.578204
lastState: 1664877161.578204
currentState: 1664877161.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.598203897 -0.02753 0.1492 9.8 0 0 -0.02204
1-2 processing imu...
it_last_IMU.time: 1664877161.588204
lastState: 1664877161.588204
currentState: 1664877161.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.608203888 -0.03134 0.1521 9.8 0 0 -0.02347
1-2 processing imu...
it_last_IMU.time: 1664877161.598204
lastState: 1664877161.598204
currentState: 1664877161.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.618204117 -0.03514 0.1549 9.8 0 0 -0.02494
1-2 processing imu...
it_last_IMU.time: 1664877161.608204
lastState: 1664877161.608204
currentState: 1664877161.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.628204107 -0.03895 0.1577 9.8 0 0 -0.02646
1-2 processing imu...
it_last_IMU.time: 1664877161.618204
lastState: 1664877161.618204
currentState: 1664877161.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.638204098 -0.04277 0.1605 9.8 0 0 -0.02802
1-2 processing imu...
it_last_IMU.time: 1664877161.628204
lastState: 1664877161.628204
currentState: 1664877161.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.648204088 -0.04658 0.1634 9.8 0 0 -0.02961
1-2 processing imu...
it_last_IMU.time: 1664877161.638204
lastState: 1664877161.638204
currentState: 1664877161.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.658204079 -0.05185 0.1646 9.8 0 0 -0.03125
1-2 processing imu...
it_last_IMU.time: 1664877161.648204
lastState: 1664877161.648204
currentState: 1664877161.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.668204069 -0.05755 0.1654 9.8 0 0 -0.03293
1-2 processing imu...
it_last_IMU.time: 1664877161.658204
lastState: 1664877161.658204
currentState: 1664877161.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.678204060 -0.06325 0.1661 9.8 0 0 -0.03466
1-2 processing imu...
it_last_IMU.time: 1664877161.668204
lastState: 1664877161.668204
currentState: 1664877161.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.688204050 -0.06896 0.1669 9.8 0 0 -0.03642
1-2 processing imu...
it_last_IMU.time: 1664877161.678204
lastState: 1664877161.678204
currentState: 1664877161.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.698204041 -0.07466 0.1676 9.8 0 0 -0.03823
1-2 processing imu...
it_last_IMU.time: 1664877161.688204
lastState: 1664877161.688204
currentState: 1664877161.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.708204031 -0.08037 0.1684 9.8 0 0 -0.04008
1-2 processing imu...
it_last_IMU.time: 1664877161.698204
lastState: 1664877161.698204
currentState: 1664877161.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.718204021 -0.08609 0.1691 9.8 0 0 -0.04197
1-2 processing imu...
it_last_IMU.time: 1664877161.708204
lastState: 1664877161.708204
currentState: 1664877161.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.728204012 -0.09181 0.1698 9.8 0 0 -0.04391
1-2 processing imu...
it_last_IMU.time: 1664877161.718204
lastState: 1664877161.718204
currentState: 1664877161.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.738204002 -0.09753 0.1705 9.8 0 0 -0.04589
1-2 processing imu...
it_last_IMU.time: 1664877161.728204
lastState: 1664877161.728204
currentState: 1664877161.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.748203993 -0.1033 0.1713 9.8 0 0 -0.04791
1-2 processing imu...
it_last_IMU.time: 1664877161.738204
lastState: 1664877161.738204
currentState: 1664877161.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.758203983 -0.1108 0.1688 9.8 0 0 -0.04997
1-2 processing imu...
it_last_IMU.time: 1664877161.748204
lastState: 1664877161.748204
currentState: 1664877161.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.768203974 -0.1188 0.1653 9.8 0 0 -0.05208
1-2 processing imu...
it_last_IMU.time: 1664877161.758204
lastState: 1664877161.758204
currentState: 1664877161.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.778203964 -0.1268 0.1618 9.8 0 0 -0.05425
1-2 processing imu...
it_last_IMU.time: 1664877161.768204
lastState: 1664877161.768204
currentState: 1664877161.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.788203955 -0.1349 0.1583 9.8 0 0 -0.05647
1-2 processing imu...
it_last_IMU.time: 1664877161.778204
lastState: 1664877161.778204
currentState: 1664877161.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.798203945 -0.1429 0.1548 9.8 0 0 -0.05874
1-2 processing imu...
it_last_IMU.time: 1664877161.788204
lastState: 1664877161.788204
currentState: 1664877161.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.808203936 -0.1509 0.1512 9.8 0 0 -0.06106
1-2 processing imu...
it_last_IMU.time: 1664877161.798204
lastState: 1664877161.798204
currentState: 1664877161.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.818203926 -0.159 0.1477 9.8 0 0 -0.06344
1-2 processing imu...
it_last_IMU.time: 1664877161.808204
lastState: 1664877161.808204
currentState: 1664877161.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.828203917 -0.167 0.1441 9.8 0 0 -0.06586
1-2 processing imu...
it_last_IMU.time: 1664877161.818204
lastState: 1664877161.818204
currentState: 1664877161.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.838203907 -0.1751 0.1406 9.8 0 0 -0.06834
1-2 processing imu...
it_last_IMU.time: 1664877161.828204
lastState: 1664877161.828204
currentState: 1664877161.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.848203897 -0.1831 0.137 9.8 0 0 -0.07087
1-2 processing imu...
it_last_IMU.time: 1664877161.838204
lastState: 1664877161.838204
currentState: 1664877161.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.858203888 -0.193 0.1307 9.8 0 0 -0.07346
1-2 processing imu...
it_last_IMU.time: 1664877161.848204
lastState: 1664877161.848204
currentState: 1664877161.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.868204117 -0.2034 0.1236 9.8 0 0 -0.0761
1-2 processing imu...
it_last_IMU.time: 1664877161.858204
lastState: 1664877161.858204
currentState: 1664877161.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877161.857444048 -0.2022 0.8901 0.0001116 -0.002975 0.006223 -0.93 -0.3676
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877161.857444
time: 1664877161.857444
state->time: 1664877161.858204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675529.104164969]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675529.104256854]: the fixed q :[0.279, 0.245, 0.639, 0.674][0m
[0m[ INFO] [1670675529.104304645]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675529.104356589]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.2022 0.8901 0.0001116
p_wv: 18.52 -15.22 31
p: 18.36 -13.21 30.7
q: [0.279, 0.245, 0.639, 0.674]
l: 0.5144
residual in position: -0.1182 -0.1444 0.1526
q_err :[-0.999, -0.0273, 0.0183, -0.00282]
residual in q: 0.05467 -0.0366 0.005642
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877161.858204 it_next->second->time: 1664877161.868204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.13 -13.49 31
hc: publish state after update
1-1 IMUCallback(): 1664877161.878204107 -0.2138 0.1165 9.8 0 0 -0.0788
1-2 processing imu...
it_last_IMU.time: 1664877161.868204
lastState: 1664877161.868204
currentState: 1664877161.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.888204098 -0.2243 0.1093 9.8 0 0 -0.08156
1-2 processing imu...
it_last_IMU.time: 1664877161.878204
lastState: 1664877161.878204
currentState: 1664877161.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.898204088 -0.2347 0.1021 9.8 0 0 -0.08438
1-2 processing imu...
it_last_IMU.time: 1664877161.888204
lastState: 1664877161.888204
currentState: 1664877161.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.908204079 -0.2451 0.09494 9.8 0 0 -0.08726
1-2 processing imu...
it_last_IMU.time: 1664877161.898204
lastState: 1664877161.898204
currentState: 1664877161.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.918204069 -0.2555 0.08771 9.8 0 0 -0.0902
1-2 processing imu...
it_last_IMU.time: 1664877161.908204
lastState: 1664877161.908204
currentState: 1664877161.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.928204060 -0.2659 0.08046 9.8 0 0 -0.0932
1-2 processing imu...
it_last_IMU.time: 1664877161.918204
lastState: 1664877161.918204
currentState: 1664877161.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.938204050 -0.2763 0.07317 9.8 0 0 -0.09626
1-2 processing imu...
it_last_IMU.time: 1664877161.928204
lastState: 1664877161.928204
currentState: 1664877161.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.948204041 -0.2867 0.06586 9.8 0 0 -0.09937
1-2 processing imu...
it_last_IMU.time: 1664877161.938204
lastState: 1664877161.938204
currentState: 1664877161.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.958204031 -0.2988 0.06057 9.8 0 0 -0.1025
1-2 processing imu...
it_last_IMU.time: 1664877161.948204
lastState: 1664877161.948204
currentState: 1664877161.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.968204021 -0.3114 0.05594 9.8 0 0 -0.1058
1-2 processing imu...
it_last_IMU.time: 1664877161.958204
lastState: 1664877161.958204
currentState: 1664877161.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.978204012 -0.324 0.05128 9.8 0 0 -0.1091
1-2 processing imu...
it_last_IMU.time: 1664877161.968204
lastState: 1664877161.968204
currentState: 1664877161.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877161.988204002 -0.3366 0.04657 9.8 0 0 -0.1124
1-2 processing imu...
it_last_IMU.time: 1664877161.978204
lastState: 1664877161.978204
currentState: 1664877161.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877161.998203993 -0.3492 0.04182 9.8 0 0 -0.1158
1-2 processing imu...
it_last_IMU.time: 1664877161.988204
lastState: 1664877161.988204
currentState: 1664877161.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.008203983 -0.3618 0.03704 9.8 0 0 -0.1193
1-2 processing imu...
it_last_IMU.time: 1664877161.998204
lastState: 1664877161.998204
currentState: 1664877162.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.018203974 -0.3744 0.03221 9.8 0 0 -0.1229
1-2 processing imu...
it_last_IMU.time: 1664877162.008204
lastState: 1664877162.008204
currentState: 1664877162.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.028203964 -0.387 0.02733 9.8 0 0 -0.1264
1-2 processing imu...
it_last_IMU.time: 1664877162.018204
lastState: 1664877162.018204
currentState: 1664877162.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.038203955 -0.3996 0.02242 9.8 0 0 -0.1301
1-2 processing imu...
it_last_IMU.time: 1664877162.028204
lastState: 1664877162.028204
currentState: 1664877162.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.048203945 -0.4121 0.01745 9.8 0 0 -0.1338
1-2 processing imu...
it_last_IMU.time: 1664877162.038204
lastState: 1664877162.038204
currentState: 1664877162.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.058203936 -0.4253 0.013 9.8 0 0 -0.1376
1-2 processing imu...
it_last_IMU.time: 1664877162.048204
lastState: 1664877162.048204
currentState: 1664877162.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.068203926 -0.4386 0.008713 9.8 0 0 -0.1414
1-2 processing imu...
it_last_IMU.time: 1664877162.058204
lastState: 1664877162.058204
currentState: 1664877162.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.078203917 -0.4519 0.004366 9.8 0 0 -0.1452
1-2 processing imu...
it_last_IMU.time: 1664877162.068204
lastState: 1664877162.068204
currentState: 1664877162.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.088203907 -0.4653 -3.7e-05 9.8 0 0 -0.1492
1-2 processing imu...
it_last_IMU.time: 1664877162.078204
lastState: 1664877162.078204
currentState: 1664877162.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.098203897 -0.4786 -0.004498 9.8 0 0 -0.1531
1-2 processing imu...
it_last_IMU.time: 1664877162.088204
lastState: 1664877162.088204
currentState: 1664877162.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.108203888 -0.4918 -0.009018 9.8 0 0 -0.1571
1-2 processing imu...
it_last_IMU.time: 1664877162.098204
lastState: 1664877162.098204
currentState: 1664877162.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.118204117 -0.5051 -0.0136 9.8 0 0 -0.1611
1-2 processing imu...
it_last_IMU.time: 1664877162.108204
lastState: 1664877162.108204
currentState: 1664877162.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.128204107 -0.5184 -0.01825 9.8 0 0 -0.1652
1-2 processing imu...
it_last_IMU.time: 1664877162.118204
lastState: 1664877162.118204
currentState: 1664877162.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.138204098 -0.5316 -0.02296 9.8 0 0 -0.1693
1-2 processing imu...
it_last_IMU.time: 1664877162.128204
lastState: 1664877162.128204
currentState: 1664877162.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.148204088 -0.5448 -0.02773 9.8 0 0 -0.1735
1-2 processing imu...
it_last_IMU.time: 1664877162.138204
lastState: 1664877162.138204
currentState: 1664877162.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.158204079 -0.5581 -0.03587 9.8 0 0 -0.1777
1-2 processing imu...
it_last_IMU.time: 1664877162.148204
lastState: 1664877162.148204
currentState: 1664877162.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.168204069 -0.5714 -0.04529 9.8 0 0 -0.1819
1-2 processing imu...
it_last_IMU.time: 1664877162.158204
lastState: 1664877162.158204
currentState: 1664877162.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.178204060 -0.5846 -0.05479 9.8 0 0 -0.1862
1-2 processing imu...
it_last_IMU.time: 1664877162.168204
lastState: 1664877162.168204
currentState: 1664877162.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.188204050 -0.5979 -0.06435 9.8 0 0 -0.1904
1-2 processing imu...
it_last_IMU.time: 1664877162.178204
lastState: 1664877162.178204
currentState: 1664877162.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.198204041 -0.611 -0.074 9.8 0 0 -0.1947
1-2 processing imu...
it_last_IMU.time: 1664877162.188204
lastState: 1664877162.188204
currentState: 1664877162.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.208204031 -0.6242 -0.08372 9.8 0 0 -0.199
1-2 processing imu...
it_last_IMU.time: 1664877162.198204
lastState: 1664877162.198204
currentState: 1664877162.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.218204021 -0.6372 -0.09353 9.8 0 0 -0.2033
1-2 processing imu...
it_last_IMU.time: 1664877162.208204
lastState: 1664877162.208204
currentState: 1664877162.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.228204012 -0.6503 -0.1034 9.8 0 0 -0.2077
1-2 processing imu...
it_last_IMU.time: 1664877162.218204
lastState: 1664877162.218204
currentState: 1664877162.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.238204002 -0.6633 -0.1134 9.8 0 0 -0.212
1-2 processing imu...
it_last_IMU.time: 1664877162.228204
lastState: 1664877162.228204
currentState: 1664877162.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.248203993 -0.6763 -0.1234 9.8 0 0 -0.2164
1-2 processing imu...
it_last_IMU.time: 1664877162.238204
lastState: 1664877162.238204
currentState: 1664877162.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.258203983 -0.69 -0.1328 9.8 0 0 -0.2208
1-2 processing imu...
it_last_IMU.time: 1664877162.248204
lastState: 1664877162.248204
currentState: 1664877162.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.268203974 -0.704 -0.142 9.8 0 0 -0.2251
1-2 processing imu...
it_last_IMU.time: 1664877162.258204
lastState: 1664877162.258204
currentState: 1664877162.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.278203964 -0.7179 -0.1513 9.8 0 0 -0.2296
1-2 processing imu...
it_last_IMU.time: 1664877162.268204
lastState: 1664877162.268204
currentState: 1664877162.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.288203955 -0.7318 -0.1607 9.8 0 0 -0.234
1-2 processing imu...
it_last_IMU.time: 1664877162.278204
lastState: 1664877162.278204
currentState: 1664877162.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.298203945 -0.7457 -0.1702 9.8 0 0 -0.2384
1-2 processing imu...
it_last_IMU.time: 1664877162.288204
lastState: 1664877162.288204
currentState: 1664877162.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.308203936 -0.7595 -0.1797 9.8 0 0 -0.2428
1-2 processing imu...
it_last_IMU.time: 1664877162.298204
lastState: 1664877162.298204
currentState: 1664877162.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.318203926 -0.7733 -0.1894 9.8 0 0 -0.2472
1-2 processing imu...
it_last_IMU.time: 1664877162.308204
lastState: 1664877162.308204
currentState: 1664877162.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877162.301978111 -0.2182 0.9069 0.001578 0.0006363 0.005196 -0.9416 -0.3367
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877162.301978
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877162.301978
state->time: 1664877162.301978
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675530.050509228]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675530.050541947]: the fixed q :[0.29, 0.225, 0.646, 0.669][0m
[0m[ INFO] [1670675530.050556790]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675530.050573874]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.2182 0.9069 0.001578
p_wv: 18.52 -15.22 31
p: 18.33 -13.19 30.71
q: [0.29, 0.225, 0.646, 0.669]
l: 0.5144
residual in position: -0.1223 -0.1385 0.1515
q_err :[-0.998, -0.0255, 0.0391, -0.0292]
residual in q: 0.05115 -0.07839 0.0585
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877162.301978 it_next->second->time: 1664877162.308204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877162.308204 it_next->second->time: 1664877162.318204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.1 -13.45 31
hc: publish state after update
1-1 IMUCallback(): 1664877162.328203917 -0.787 -0.1992 9.8 0 0 -0.2517
1-2 processing imu...
it_last_IMU.time: 1664877162.318204
lastState: 1664877162.318204
currentState: 1664877162.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.338203907 -0.8006 -0.2091 9.8 0 0 -0.2561
1-2 processing imu...
it_last_IMU.time: 1664877162.328204
lastState: 1664877162.328204
currentState: 1664877162.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.348203897 -0.8142 -0.2191 9.8 0 0 -0.2606
1-2 processing imu...
it_last_IMU.time: 1664877162.338204
lastState: 1664877162.338204
currentState: 1664877162.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.358203888 -0.8273 -0.2288 9.8 0 0 -0.2651
1-2 processing imu...
it_last_IMU.time: 1664877162.348204
lastState: 1664877162.348204
currentState: 1664877162.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.368204117 -0.8401 -0.2385 9.8 0 0 -0.2695
1-2 processing imu...
it_last_IMU.time: 1664877162.358204
lastState: 1664877162.358204
currentState: 1664877162.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.378204107 -0.8529 -0.2482 9.8 0 0 -0.274
1-2 processing imu...
it_last_IMU.time: 1664877162.368204
lastState: 1664877162.368204
currentState: 1664877162.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.388204098 -0.8656 -0.2581 9.8 0 0 -0.2785
1-2 processing imu...
it_last_IMU.time: 1664877162.378204
lastState: 1664877162.378204
currentState: 1664877162.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.398204088 -0.8783 -0.2681 9.8 0 0 -0.2829
1-2 processing imu...
it_last_IMU.time: 1664877162.388204
lastState: 1664877162.388204
currentState: 1664877162.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.408204079 -0.8909 -0.2782 9.8 0 0 -0.2874
1-2 processing imu...
it_last_IMU.time: 1664877162.398204
lastState: 1664877162.398204
currentState: 1664877162.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.418204069 -0.9034 -0.2885 9.8 0 0 -0.2918
1-2 processing imu...
it_last_IMU.time: 1664877162.408204
lastState: 1664877162.408204
currentState: 1664877162.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.428204060 -0.9159 -0.2988 9.8 0 0 -0.2963
1-2 processing imu...
it_last_IMU.time: 1664877162.418204
lastState: 1664877162.418204
currentState: 1664877162.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.438204050 -0.9283 -0.3093 9.8 0 0 -0.3007
1-2 processing imu...
it_last_IMU.time: 1664877162.428204
lastState: 1664877162.428204
currentState: 1664877162.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.448204041 -0.9407 -0.3198 9.8 0 0 -0.3052
1-2 processing imu...
it_last_IMU.time: 1664877162.438204
lastState: 1664877162.438204
currentState: 1664877162.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.458204031 -0.9519 -0.3285 9.8 0 0 -0.3096
1-2 processing imu...
it_last_IMU.time: 1664877162.448204
lastState: 1664877162.448204
currentState: 1664877162.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.468204021 -0.9626 -0.3364 9.8 0 0 -0.314
1-2 processing imu...
it_last_IMU.time: 1664877162.458204
lastState: 1664877162.458204
currentState: 1664877162.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.478204012 -0.9733 -0.3444 9.8 0 0 -0.3185
1-2 processing imu...
it_last_IMU.time: 1664877162.468204
lastState: 1664877162.468204
currentState: 1664877162.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.488204002 -0.9839 -0.3525 9.8 0 0 -0.3229
1-2 processing imu...
it_last_IMU.time: 1664877162.478204
lastState: 1664877162.478204
currentState: 1664877162.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.498203993 -0.9944 -0.3607 9.8 0 0 -0.3272
1-2 processing imu...
it_last_IMU.time: 1664877162.488204
lastState: 1664877162.488204
currentState: 1664877162.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.508203983 -1.005 -0.3691 9.8 0 0 -0.3316
1-2 processing imu...
it_last_IMU.time: 1664877162.498204
lastState: 1664877162.498204
currentState: 1664877162.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.518203974 -1.015 -0.3775 9.8 0 0 -0.336
1-2 processing imu...
it_last_IMU.time: 1664877162.508204
lastState: 1664877162.508204
currentState: 1664877162.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.528203964 -1.026 -0.3861 9.8 0 0 -0.3403
1-2 processing imu...
it_last_IMU.time: 1664877162.518204
lastState: 1664877162.518204
currentState: 1664877162.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.538203955 -1.036 -0.3948 9.8 0 0 -0.3446
1-2 processing imu...
it_last_IMU.time: 1664877162.528204
lastState: 1664877162.528204
currentState: 1664877162.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.548203945 -1.046 -0.4036 9.8 0 0 -0.3489
1-2 processing imu...
it_last_IMU.time: 1664877162.538204
lastState: 1664877162.538204
currentState: 1664877162.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.558203936 -1.056 -0.4131 9.8 0 0 -0.3532
1-2 processing imu...
it_last_IMU.time: 1664877162.548204
lastState: 1664877162.548204
currentState: 1664877162.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.568203926 -1.066 -0.423 9.8 0 0 -0.3575
1-2 processing imu...
it_last_IMU.time: 1664877162.558204
lastState: 1664877162.558204
currentState: 1664877162.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.578203917 -1.076 -0.433 9.8 0 0 -0.3618
1-2 processing imu...
it_last_IMU.time: 1664877162.568204
lastState: 1664877162.568204
currentState: 1664877162.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.588203907 -1.085 -0.4431 9.8 0 0 -0.366
1-2 processing imu...
it_last_IMU.time: 1664877162.578204
lastState: 1664877162.578204
currentState: 1664877162.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.598203897 -1.095 -0.4533 9.8 0 0 -0.3703
1-2 processing imu...
it_last_IMU.time: 1664877162.588204
lastState: 1664877162.588204
currentState: 1664877162.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.608203888 -1.104 -0.4637 9.8 0 0 -0.3745
1-2 processing imu...
it_last_IMU.time: 1664877162.598204
lastState: 1664877162.598204
currentState: 1664877162.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.618204117 -1.114 -0.4742 9.8 0 0 -0.3787
1-2 processing imu...
it_last_IMU.time: 1664877162.608204
lastState: 1664877162.608204
currentState: 1664877162.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.628204107 -1.123 -0.4848 9.8 0 0 -0.3829
1-2 processing imu...
it_last_IMU.time: 1664877162.618204
lastState: 1664877162.618204
currentState: 1664877162.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.638204098 -1.132 -0.4955 9.8 0 0 -0.3871
1-2 processing imu...
it_last_IMU.time: 1664877162.628204
lastState: 1664877162.628204
currentState: 1664877162.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.648204088 -1.141 -0.5063 9.8 0 0 -0.3912
1-2 processing imu...
it_last_IMU.time: 1664877162.638204
lastState: 1664877162.638204
currentState: 1664877162.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.658204079 -1.149 -0.5184 9.8 0 0 -0.3954
1-2 processing imu...
it_last_IMU.time: 1664877162.648204
lastState: 1664877162.648204
currentState: 1664877162.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.668204069 -1.157 -0.5311 9.8 0 0 -0.3995
1-2 processing imu...
it_last_IMU.time: 1664877162.658204
lastState: 1664877162.658204
currentState: 1664877162.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.678204060 -1.165 -0.5439 9.8 0 0 -0.4036
1-2 processing imu...
it_last_IMU.time: 1664877162.668204
lastState: 1664877162.668204
currentState: 1664877162.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.688204050 -1.172 -0.5569 9.8 0 0 -0.4077
1-2 processing imu...
it_last_IMU.time: 1664877162.678204
lastState: 1664877162.678204
currentState: 1664877162.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.698204041 -1.179 -0.5699 9.8 0 0 -0.4117
1-2 processing imu...
it_last_IMU.time: 1664877162.688204
lastState: 1664877162.688204
currentState: 1664877162.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.708204031 -1.186 -0.5831 9.8 0 0 -0.4158
1-2 processing imu...
it_last_IMU.time: 1664877162.698204
lastState: 1664877162.698204
currentState: 1664877162.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.718204021 -1.193 -0.5964 9.8 0 0 -0.4198
1-2 processing imu...
it_last_IMU.time: 1664877162.708204
lastState: 1664877162.708204
currentState: 1664877162.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.728204012 -1.2 -0.6098 9.8 0 0 -0.4238
1-2 processing imu...
it_last_IMU.time: 1664877162.718204
lastState: 1664877162.718204
currentState: 1664877162.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877162.715980053 -0.2377 0.9204 -0.0005324 -0.004721 0.00766 -0.9624 -0.2716
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877162.715980
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877162.715980
state->time: 1664877162.715980
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675530.942470137]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675530.942527151]: the fixed q :[0.291, 0.178, 0.663, 0.667][0m
[0m[ INFO] [1670675530.942550062]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675530.942599482]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.2377 0.9204 -0.0005324
p_wv: 18.52 -15.22 31
p: 18.28 -13.2 30.71
q: [0.291, 0.178, 0.663, 0.667]
l: 0.5144
residual in position: -0.1136 -0.1196 0.1475
q_err :[-0.994, -0.0188, 0.0831, -0.0639]
residual in q: 0.03789 -0.1671 0.1285
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877162.715980 it_next->second->time: 1664877162.718204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877162.718204 it_next->second->time: 1664877162.728204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.06 -13.43 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877162.738204002 -1.207 -0.6233 9.8 0 0 -0.4278
1-2 processing imu...
it_last_IMU.time: 1664877162.728204
lastState: 1664877162.728204
currentState: 1664877162.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.748203993 -1.214 -0.6369 9.8 0 0 -0.4318
1-2 processing imu...
it_last_IMU.time: 1664877162.738204
lastState: 1664877162.738204
currentState: 1664877162.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.758203983 -1.219 -0.651 9.8 0 0 -0.4358
1-2 processing imu...
it_last_IMU.time: 1664877162.748204
lastState: 1664877162.748204
currentState: 1664877162.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.768203974 -1.223 -0.6654 9.8 0 0 -0.4397
1-2 processing imu...
it_last_IMU.time: 1664877162.758204
lastState: 1664877162.758204
currentState: 1664877162.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.778203964 -1.227 -0.6798 9.8 0 0 -0.4436
1-2 processing imu...
it_last_IMU.time: 1664877162.768204
lastState: 1664877162.768204
currentState: 1664877162.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.788203955 -1.23 -0.6944 9.8 0 0 -0.4475
1-2 processing imu...
it_last_IMU.time: 1664877162.778204
lastState: 1664877162.778204
currentState: 1664877162.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.798203945 -1.234 -0.709 9.8 0 0 -0.4514
1-2 processing imu...
it_last_IMU.time: 1664877162.788204
lastState: 1664877162.788204
currentState: 1664877162.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.808203936 -1.237 -0.7238 9.8 0 0 -0.4552
1-2 processing imu...
it_last_IMU.time: 1664877162.798204
lastState: 1664877162.798204
currentState: 1664877162.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.818203926 -1.24 -0.7386 9.8 0 0 -0.4591
1-2 processing imu...
it_last_IMU.time: 1664877162.808204
lastState: 1664877162.808204
currentState: 1664877162.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.828203917 -1.244 -0.7536 9.8 0 0 -0.4629
1-2 processing imu...
it_last_IMU.time: 1664877162.818204
lastState: 1664877162.818204
currentState: 1664877162.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.838203907 -1.246 -0.7686 9.8 0 0 -0.4667
1-2 processing imu...
it_last_IMU.time: 1664877162.828204
lastState: 1664877162.828204
currentState: 1664877162.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.848203897 -1.249 -0.7837 9.8 0 0 -0.4704
1-2 processing imu...
it_last_IMU.time: 1664877162.838204
lastState: 1664877162.838204
currentState: 1664877162.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.858203888 -1.251 -0.8008 9.8 0 0 -0.4742
1-2 processing imu...
it_last_IMU.time: 1664877162.848204
lastState: 1664877162.848204
currentState: 1664877162.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.868204117 -1.252 -0.819 9.8 0 0 -0.4779
1-2 processing imu...
it_last_IMU.time: 1664877162.858204
lastState: 1664877162.858204
currentState: 1664877162.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.878204107 -1.252 -0.8372 9.8 0 0 -0.4816
1-2 processing imu...
it_last_IMU.time: 1664877162.868204
lastState: 1664877162.868204
currentState: 1664877162.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.888204098 -1.253 -0.8555 9.8 0 0 -0.4853
1-2 processing imu...
it_last_IMU.time: 1664877162.878204
lastState: 1664877162.878204
currentState: 1664877162.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.898204088 -1.253 -0.8739 9.8 0 0 -0.489
1-2 processing imu...
it_last_IMU.time: 1664877162.888204
lastState: 1664877162.888204
currentState: 1664877162.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.908204079 -1.253 -0.8923 9.8 0 0 -0.4926
1-2 processing imu...
it_last_IMU.time: 1664877162.898204
lastState: 1664877162.898204
currentState: 1664877162.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.918204069 -1.253 -0.9108 9.8 0 0 -0.4962
1-2 processing imu...
it_last_IMU.time: 1664877162.908204
lastState: 1664877162.908204
currentState: 1664877162.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.928204060 -1.253 -0.9294 9.8 0 0 -0.4998
1-2 processing imu...
it_last_IMU.time: 1664877162.918204
lastState: 1664877162.918204
currentState: 1664877162.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.938204050 -1.252 -0.9481 9.8 0 0 -0.5034
1-2 processing imu...
it_last_IMU.time: 1664877162.928204
lastState: 1664877162.928204
currentState: 1664877162.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.948204041 -1.251 -0.9668 9.8 0 0 -0.5069
1-2 processing imu...
it_last_IMU.time: 1664877162.938204
lastState: 1664877162.938204
currentState: 1664877162.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.958204031 -1.249 -0.9868 9.8 0 0 -0.5104
1-2 processing imu...
it_last_IMU.time: 1664877162.948204
lastState: 1664877162.948204
currentState: 1664877162.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.968204021 -1.245 -1.008 9.8 0 0 -0.5139
1-2 processing imu...
it_last_IMU.time: 1664877162.958204
lastState: 1664877162.958204
currentState: 1664877162.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877162.978204012 -1.24 -1.028 9.8 0 0 -0.5174
1-2 processing imu...
it_last_IMU.time: 1664877162.968204
lastState: 1664877162.968204
currentState: 1664877162.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.988204002 -1.236 -1.049 9.8 0 0 -0.5208
1-2 processing imu...
it_last_IMU.time: 1664877162.978204
lastState: 1664877162.978204
currentState: 1664877162.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877162.998203993 -1.231 -1.07 9.8 0 0 -0.5242
1-2 processing imu...
it_last_IMU.time: 1664877162.988204
lastState: 1664877162.988204
currentState: 1664877162.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.008203983 -1.226 -1.091 9.8 0 0 -0.5275
1-2 processing imu...
it_last_IMU.time: 1664877162.998204
lastState: 1664877162.998204
currentState: 1664877163.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.018203974 -1.221 -1.112 9.8 0 0 -0.5309
1-2 processing imu...
it_last_IMU.time: 1664877163.008204
lastState: 1664877163.008204
currentState: 1664877163.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.028203964 -1.216 -1.132 9.8 0 0 -0.5342
1-2 processing imu...
it_last_IMU.time: 1664877163.018204
lastState: 1664877163.018204
currentState: 1664877163.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.038203955 -1.21 -1.153 9.8 0 0 -0.5375
1-2 processing imu...
it_last_IMU.time: 1664877163.028204
lastState: 1664877163.028204
currentState: 1664877163.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.048203945 -1.205 -1.174 9.8 0 0 -0.5407
1-2 processing imu...
it_last_IMU.time: 1664877163.038204
lastState: 1664877163.038204
currentState: 1664877163.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.058203936 -1.198 -1.194 9.8 0 0 -0.544
1-2 processing imu...
it_last_IMU.time: 1664877163.048204
lastState: 1664877163.048204
currentState: 1664877163.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.068203926 -1.19 -1.214 9.8 0 0 -0.5471
1-2 processing imu...
it_last_IMU.time: 1664877163.058204
lastState: 1664877163.058204
currentState: 1664877163.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.078203917 -1.182 -1.233 9.8 0 0 -0.5503
1-2 processing imu...
it_last_IMU.time: 1664877163.068204
lastState: 1664877163.068204
currentState: 1664877163.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.088203907 -1.173 -1.252 9.8 0 0 -0.5534
1-2 processing imu...
it_last_IMU.time: 1664877163.078204
lastState: 1664877163.078204
currentState: 1664877163.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.098203897 -1.165 -1.272 9.8 0 0 -0.5565
1-2 processing imu...
it_last_IMU.time: 1664877163.088204
lastState: 1664877163.088204
currentState: 1664877163.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.108203888 -1.156 -1.291 9.8 0 0 -0.5595
1-2 processing imu...
it_last_IMU.time: 1664877163.098204
lastState: 1664877163.098204
currentState: 1664877163.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.118204117 -1.147 -1.311 9.8 0 0 -0.5626
1-2 processing imu...
it_last_IMU.time: 1664877163.108204
lastState: 1664877163.108204
currentState: 1664877163.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.128204107 -1.138 -1.33 9.8 0 0 -0.5655
1-2 processing imu...
it_last_IMU.time: 1664877163.118204
lastState: 1664877163.118204
currentState: 1664877163.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.138204098 -1.128 -1.349 9.8 0 0 -0.5685
1-2 processing imu...
it_last_IMU.time: 1664877163.128204
lastState: 1664877163.128204
currentState: 1664877163.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.148204088 -1.119 -1.368 9.8 0 0 -0.5714
1-2 processing imu...
it_last_IMU.time: 1664877163.138204
lastState: 1664877163.138204
currentState: 1664877163.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877163.129844904 -0.2584 0.9303 -0.0004362 -0.004178 0.00819 -0.9852 -0.1711
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877163.129845
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877163.129845
state->time: 1664877163.129845
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675531.835526466]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675531.835678853]: the fixed q :[0.262, 0.114, 0.677, 0.679][0m
[0m[ INFO] [1670675531.835737318]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675531.835823437]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.2584 0.9303 -0.0004362
p_wv: 18.52 -15.22 31
p: 18.18 -13.15 30.66
q: [0.262, 0.114, 0.677, 0.679]
l: 0.5144
residual in position: -0.08292 -0.1342 0.1747
q_err :[-0.989, -0.0125, 0.109, -0.0965]
residual in q: 0.0252 -0.2204 0.1951
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877163.129845 it_next->second->time: 1664877163.138204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877163.138204 it_next->second->time: 1664877163.148204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.02 -13.4 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877163.158204079 -1.11 -1.387 9.8 0 0 -0.5743
1-2 processing imu...
it_last_IMU.time: 1664877163.148204
lastState: 1664877163.148204
currentState: 1664877163.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.168204069 -1.1 -1.405 9.8 0 0 -0.5771
1-2 processing imu...
it_last_IMU.time: 1664877163.158204
lastState: 1664877163.158204
currentState: 1664877163.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.178204060 -1.091 -1.423 9.8 0 0 -0.5799
1-2 processing imu...
it_last_IMU.time: 1664877163.168204
lastState: 1664877163.168204
currentState: 1664877163.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.188204050 -1.081 -1.441 9.8 0 0 -0.5827
1-2 processing imu...
it_last_IMU.time: 1664877163.178204
lastState: 1664877163.178204
currentState: 1664877163.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.198204041 -1.072 -1.459 9.8 0 0 -0.5854
1-2 processing imu...
it_last_IMU.time: 1664877163.188204
lastState: 1664877163.188204
currentState: 1664877163.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.208204031 -1.062 -1.477 9.8 0 0 -0.5881
1-2 processing imu...
it_last_IMU.time: 1664877163.198204
lastState: 1664877163.198204
currentState: 1664877163.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.218204021 -1.051 -1.495 9.8 0 0 -0.5908
1-2 processing imu...
it_last_IMU.time: 1664877163.208204
lastState: 1664877163.208204
currentState: 1664877163.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.228204012 -1.041 -1.513 9.8 0 0 -0.5934
1-2 processing imu...
it_last_IMU.time: 1664877163.218204
lastState: 1664877163.218204
currentState: 1664877163.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.238204002 -1.03 -1.531 9.8 0 0 -0.596
1-2 processing imu...
it_last_IMU.time: 1664877163.228204
lastState: 1664877163.228204
currentState: 1664877163.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.248203993 -1.019 -1.549 9.8 0 0 -0.5986
1-2 processing imu...
it_last_IMU.time: 1664877163.238204
lastState: 1664877163.238204
currentState: 1664877163.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.258203983 -1.005 -1.566 9.8 0 0 -0.6011
1-2 processing imu...
it_last_IMU.time: 1664877163.248204
lastState: 1664877163.248204
currentState: 1664877163.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.268203974 -0.9891 -1.584 9.8 0 0 -0.6036
1-2 processing imu...
it_last_IMU.time: 1664877163.258204
lastState: 1664877163.258204
currentState: 1664877163.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.278203964 -0.9728 -1.602 9.8 0 0 -0.6061
1-2 processing imu...
it_last_IMU.time: 1664877163.268204
lastState: 1664877163.268204
currentState: 1664877163.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.288203955 -0.9564 -1.619 9.8 0 0 -0.6085
1-2 processing imu...
it_last_IMU.time: 1664877163.278204
lastState: 1664877163.278204
currentState: 1664877163.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.298203945 -0.9397 -1.636 9.8 0 0 -0.6108
1-2 processing imu...
it_last_IMU.time: 1664877163.288204
lastState: 1664877163.288204
currentState: 1664877163.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.308203936 -0.9228 -1.653 9.8 0 0 -0.6131
1-2 processing imu...
it_last_IMU.time: 1664877163.298204
lastState: 1664877163.298204
currentState: 1664877163.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.318203926 -0.9057 -1.67 9.8 0 0 -0.6153
1-2 processing imu...
it_last_IMU.time: 1664877163.308204
lastState: 1664877163.308204
currentState: 1664877163.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.328203917 -0.8884 -1.687 9.8 0 0 -0.6175
1-2 processing imu...
it_last_IMU.time: 1664877163.318204
lastState: 1664877163.318204
currentState: 1664877163.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.338203907 -0.8709 -1.704 9.8 0 0 -0.6197
1-2 processing imu...
it_last_IMU.time: 1664877163.328204
lastState: 1664877163.328204
currentState: 1664877163.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.348203897 -0.8532 -1.721 9.8 0 0 -0.6218
1-2 processing imu...
it_last_IMU.time: 1664877163.338204
lastState: 1664877163.338204
currentState: 1664877163.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.358203888 -0.8333 -1.737 9.8 0 0 -0.6238
1-2 processing imu...
it_last_IMU.time: 1664877163.348204
lastState: 1664877163.348204
currentState: 1664877163.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.368204117 -0.812 -1.752 9.8 0 0 -0.6258
1-2 processing imu...
it_last_IMU.time: 1664877163.358204
lastState: 1664877163.358204
currentState: 1664877163.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.378204107 -0.7906 -1.767 9.8 0 0 -0.6277
1-2 processing imu...
it_last_IMU.time: 1664877163.368204
lastState: 1664877163.368204
currentState: 1664877163.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.388204098 -0.7689 -1.782 9.8 0 0 -0.6296
1-2 processing imu...
it_last_IMU.time: 1664877163.378204
lastState: 1664877163.378204
currentState: 1664877163.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.398204088 -0.7471 -1.797 9.8 0 0 -0.6314
1-2 processing imu...
it_last_IMU.time: 1664877163.388204
lastState: 1664877163.388204
currentState: 1664877163.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.408204079 -0.7251 -1.812 9.8 0 0 -0.6331
1-2 processing imu...
it_last_IMU.time: 1664877163.398204
lastState: 1664877163.398204
currentState: 1664877163.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.418204069 -0.7029 -1.826 9.8 0 0 -0.6348
1-2 processing imu...
it_last_IMU.time: 1664877163.408204
lastState: 1664877163.408204
currentState: 1664877163.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.428204060 -0.6805 -1.841 9.8 0 0 -0.6365
1-2 processing imu...
it_last_IMU.time: 1664877163.418204
lastState: 1664877163.418204
currentState: 1664877163.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.438204050 -0.6579 -1.855 9.8 0 0 -0.638
1-2 processing imu...
it_last_IMU.time: 1664877163.428204
lastState: 1664877163.428204
currentState: 1664877163.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.448204041 -0.6352 -1.869 9.8 0 0 -0.6395
1-2 processing imu...
it_last_IMU.time: 1664877163.438204
lastState: 1664877163.438204
currentState: 1664877163.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.458204031 -0.6138 -1.881 9.8 0 0 -0.641
1-2 processing imu...
it_last_IMU.time: 1664877163.448204
lastState: 1664877163.448204
currentState: 1664877163.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.468204021 -0.5934 -1.891 9.8 0 0 -0.6424
1-2 processing imu...
it_last_IMU.time: 1664877163.458204
lastState: 1664877163.458204
currentState: 1664877163.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.478204012 -0.5728 -1.901 9.8 0 0 -0.6437
1-2 processing imu...
it_last_IMU.time: 1664877163.468204
lastState: 1664877163.468204
currentState: 1664877163.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.488204002 -0.552 -1.912 9.8 0 0 -0.645
1-2 processing imu...
it_last_IMU.time: 1664877163.478204
lastState: 1664877163.478204
currentState: 1664877163.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.498203993 -0.5312 -1.922 9.8 0 0 -0.6462
1-2 processing imu...
it_last_IMU.time: 1664877163.488204
lastState: 1664877163.488204
currentState: 1664877163.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.508203983 -0.5102 -1.931 9.8 0 0 -0.6474
1-2 processing imu...
it_last_IMU.time: 1664877163.498204
lastState: 1664877163.498204
currentState: 1664877163.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.518203974 -0.489 -1.941 9.8 0 0 -0.6485
1-2 processing imu...
it_last_IMU.time: 1664877163.508204
lastState: 1664877163.508204
currentState: 1664877163.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.528203964 -0.4678 -1.95 9.8 0 0 -0.6495
1-2 processing imu...
it_last_IMU.time: 1664877163.518204
lastState: 1664877163.518204
currentState: 1664877163.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.538203955 -0.4464 -1.96 9.8 0 0 -0.6505
1-2 processing imu...
it_last_IMU.time: 1664877163.528204
lastState: 1664877163.528204
currentState: 1664877163.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.548203945 -0.4249 -1.969 9.8 0 0 -0.6514
1-2 processing imu...
it_last_IMU.time: 1664877163.538204
lastState: 1664877163.538204
currentState: 1664877163.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.558203936 -0.4016 -1.976 9.8 0 0 -0.6523
1-2 processing imu...
it_last_IMU.time: 1664877163.548204
lastState: 1664877163.548204
currentState: 1664877163.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.568203926 -0.377 -1.981 9.8 0 0 -0.6531
1-2 processing imu...
it_last_IMU.time: 1664877163.558204
lastState: 1664877163.558204
currentState: 1664877163.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877163.553869963 -0.2775 0.9335 -0.0002986 -0.003673 0.009887 -0.9989 -0.046
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877163.553870
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877163.553870
state->time: 1664877163.553870
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675532.738177404]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675532.738242454]: the fixed q :[0.205, 0.0231, 0.686, 0.698][0m
[0m[ INFO] [1670675532.738259937]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675532.738280560]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.2775 0.9335 -0.0002986
p_wv: 18.52 -15.22 31
p: 18.08 -13.09 30.56
q: [0.205, 0.0231, 0.686, 0.698]
l: 0.5143
residual in position: -0.04958 -0.1599 0.2281
q_err :[-0.984, -0.00556, 0.133, -0.115]
residual in q: 0.01129 -0.2705 0.233
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877163.553870 it_next->second->time: 1664877163.558204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877163.558204 it_next->second->time: 1664877163.568204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.98 -13.4 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877163.578203917 -0.3523 -1.987 9.8 0 0 -0.6539
1-2 processing imu...
it_last_IMU.time: 1664877163.568204
lastState: 1664877163.568204
currentState: 1664877163.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.588203907 -0.3276 -1.992 9.8 0 0 -0.6545
1-2 processing imu...
it_last_IMU.time: 1664877163.578204
lastState: 1664877163.578204
currentState: 1664877163.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.598203897 -0.3028 -1.997 9.8 0 0 -0.6551
1-2 processing imu...
it_last_IMU.time: 1664877163.588204
lastState: 1664877163.588204
currentState: 1664877163.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.608203888 -0.278 -2.002 9.8 0 0 -0.6557
1-2 processing imu...
it_last_IMU.time: 1664877163.598204
lastState: 1664877163.598204
currentState: 1664877163.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.618204117 -0.2531 -2.006 9.8 0 0 -0.6562
1-2 processing imu...
it_last_IMU.time: 1664877163.608204
lastState: 1664877163.608204
currentState: 1664877163.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.628204107 -0.2281 -2.01 9.8 0 0 -0.6566
1-2 processing imu...
it_last_IMU.time: 1664877163.618204
lastState: 1664877163.618204
currentState: 1664877163.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.638204098 -0.2031 -2.014 9.8 0 0 -0.6569
1-2 processing imu...
it_last_IMU.time: 1664877163.628204
lastState: 1664877163.628204
currentState: 1664877163.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.648204088 -0.178 -2.018 9.8 0 0 -0.6572
1-2 processing imu...
it_last_IMU.time: 1664877163.638204
lastState: 1664877163.638204
currentState: 1664877163.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.658204079 -0.1515 -2.021 9.8 0 0 -0.6575
1-2 processing imu...
it_last_IMU.time: 1664877163.648204
lastState: 1664877163.648204
currentState: 1664877163.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.668204069 -0.124 -2.022 9.8 0 0 -0.6576
1-2 processing imu...
it_last_IMU.time: 1664877163.658204
lastState: 1664877163.658204
currentState: 1664877163.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.678204060 -0.09646 -2.024 9.8 0 0 -0.6577
1-2 processing imu...
it_last_IMU.time: 1664877163.668204
lastState: 1664877163.668204
currentState: 1664877163.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.688204050 -0.06893 -2.025 9.8 0 0 -0.6577
1-2 processing imu...
it_last_IMU.time: 1664877163.678204
lastState: 1664877163.678204
currentState: 1664877163.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.698204041 -0.04138 -2.026 9.8 0 0 -0.6576
1-2 processing imu...
it_last_IMU.time: 1664877163.688204
lastState: 1664877163.688204
currentState: 1664877163.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.708204031 -0.01384 -2.026 9.8 0 0 -0.6575
1-2 processing imu...
it_last_IMU.time: 1664877163.698204
lastState: 1664877163.698204
currentState: 1664877163.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.718204021 0.01372 -2.027 9.8 0 0 -0.6573
1-2 processing imu...
it_last_IMU.time: 1664877163.708204
lastState: 1664877163.708204
currentState: 1664877163.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.728204012 0.04127 -2.027 9.8 0 0 -0.657
1-2 processing imu...
it_last_IMU.time: 1664877163.718204
lastState: 1664877163.718204
currentState: 1664877163.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.738204002 0.06881 -2.026 9.8 0 0 -0.6567
1-2 processing imu...
it_last_IMU.time: 1664877163.728204
lastState: 1664877163.728204
currentState: 1664877163.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.748203993 0.09634 -2.026 9.8 0 0 -0.6562
1-2 processing imu...
it_last_IMU.time: 1664877163.738204
lastState: 1664877163.738204
currentState: 1664877163.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.758203983 0.1217 -2.023 9.8 0 0 -0.6558
1-2 processing imu...
it_last_IMU.time: 1664877163.748204
lastState: 1664877163.748204
currentState: 1664877163.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.768203974 0.1456 -2.018 9.8 0 0 -0.6552
1-2 processing imu...
it_last_IMU.time: 1664877163.758204
lastState: 1664877163.758204
currentState: 1664877163.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.778203964 0.1694 -2.013 9.8 0 0 -0.6546
1-2 processing imu...
it_last_IMU.time: 1664877163.768204
lastState: 1664877163.768204
currentState: 1664877163.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.788203955 0.1931 -2.008 9.8 0 0 -0.6539
1-2 processing imu...
it_last_IMU.time: 1664877163.778204
lastState: 1664877163.778204
currentState: 1664877163.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.798203945 0.2168 -2.003 9.8 0 0 -0.6532
1-2 processing imu...
it_last_IMU.time: 1664877163.788204
lastState: 1664877163.788204
currentState: 1664877163.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.808203936 0.2404 -1.998 9.8 0 0 -0.6524
1-2 processing imu...
it_last_IMU.time: 1664877163.798204
lastState: 1664877163.798204
currentState: 1664877163.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.818203926 0.2639 -1.992 9.8 0 0 -0.6515
1-2 processing imu...
it_last_IMU.time: 1664877163.808204
lastState: 1664877163.808204
currentState: 1664877163.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.828203917 0.2873 -1.986 9.8 0 0 -0.6506
1-2 processing imu...
it_last_IMU.time: 1664877163.818204
lastState: 1664877163.818204
currentState: 1664877163.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.838203907 0.3106 -1.98 9.8 0 0 -0.6496
1-2 processing imu...
it_last_IMU.time: 1664877163.828204
lastState: 1664877163.828204
currentState: 1664877163.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.848203897 0.3339 -1.973 9.8 0 0 -0.6486
1-2 processing imu...
it_last_IMU.time: 1664877163.838204
lastState: 1664877163.838204
currentState: 1664877163.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.858203888 0.3564 -1.966 9.8 0 0 -0.6475
1-2 processing imu...
it_last_IMU.time: 1664877163.848204
lastState: 1664877163.848204
currentState: 1664877163.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.868204117 0.3785 -1.957 9.8 0 0 -0.6464
1-2 processing imu...
it_last_IMU.time: 1664877163.858204
lastState: 1664877163.858204
currentState: 1664877163.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.878204107 0.4004 -1.948 9.8 0 0 -0.6451
1-2 processing imu...
it_last_IMU.time: 1664877163.868204
lastState: 1664877163.868204
currentState: 1664877163.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.888204098 0.4222 -1.939 9.8 0 0 -0.6439
1-2 processing imu...
it_last_IMU.time: 1664877163.878204
lastState: 1664877163.878204
currentState: 1664877163.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.898204088 0.4438 -1.93 9.8 0 0 -0.6426
1-2 processing imu...
it_last_IMU.time: 1664877163.888204
lastState: 1664877163.888204
currentState: 1664877163.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.908204079 0.4653 -1.92 9.8 0 0 -0.6412
1-2 processing imu...
it_last_IMU.time: 1664877163.898204
lastState: 1664877163.898204
currentState: 1664877163.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.918204069 0.4867 -1.91 9.8 0 0 -0.6397
1-2 processing imu...
it_last_IMU.time: 1664877163.908204
lastState: 1664877163.908204
currentState: 1664877163.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.928204060 0.508 -1.9 9.8 0 0 -0.6382
1-2 processing imu...
it_last_IMU.time: 1664877163.918204
lastState: 1664877163.918204
currentState: 1664877163.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.938204050 0.5291 -1.89 9.8 0 0 -0.6367
1-2 processing imu...
it_last_IMU.time: 1664877163.928204
lastState: 1664877163.928204
currentState: 1664877163.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877163.948204041 0.5501 -1.88 9.8 0 0 -0.6351
1-2 processing imu...
it_last_IMU.time: 1664877163.938204
lastState: 1664877163.938204
currentState: 1664877163.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.958204031 0.5724 -1.868 9.8 0 0 -0.6334
1-2 processing imu...
it_last_IMU.time: 1664877163.948204
lastState: 1664877163.948204
currentState: 1664877163.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.968204021 0.5957 -1.854 9.8 0 0 -0.6317
1-2 processing imu...
it_last_IMU.time: 1664877163.958204
lastState: 1664877163.958204
currentState: 1664877163.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.978204012 0.6187 -1.84 9.8 0 0 -0.63
1-2 processing imu...
it_last_IMU.time: 1664877163.968204
lastState: 1664877163.968204
currentState: 1664877163.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877163.968655109 -0.299 0.932 0.0004 -0.0004453 0.007778 -0.9958 0.0915
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877163.968655
time: 1664877163.968655
state->time: 1664877163.968204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675533.636294430]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675533.636347002]: the fixed q :[0.113, -0.0665, 0.682, 0.719][0m
[0m[ INFO] [1670675533.636364721]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675533.636381115]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.299 0.932 0.0004
p_wv: 18.52 -15.22 31
p: 17.88 -13.07 30.48
q: [0.113, -0.0665, 0.682, 0.719]
l: 0.5142
residual in position: 0.02946 -0.1743 0.27
q_err :[-0.984, -0.00649, 0.129, -0.122]
residual in q: 0.01319 -0.2627 0.2483
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877163.968204 it_next->second->time: 1664877163.978204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.93 -13.4 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877163.988204002 0.6416 -1.826 9.8 0 0 -0.6281
1-2 processing imu...
it_last_IMU.time: 1664877163.978204
lastState: 1664877163.978204
currentState: 1664877163.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877163.998203993 0.6642 -1.812 9.8 0 0 -0.6262
1-2 processing imu...
it_last_IMU.time: 1664877163.988204
lastState: 1664877163.988204
currentState: 1664877163.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.008203983 0.6867 -1.798 9.8 0 0 -0.6243
1-2 processing imu...
it_last_IMU.time: 1664877163.998204
lastState: 1664877163.998204
currentState: 1664877164.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.018203974 0.709 -1.783 9.8 0 0 -0.6223
1-2 processing imu...
it_last_IMU.time: 1664877164.008204
lastState: 1664877164.008204
currentState: 1664877164.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.028203964 0.7311 -1.768 9.8 0 0 -0.6202
1-2 processing imu...
it_last_IMU.time: 1664877164.018204
lastState: 1664877164.018204
currentState: 1664877164.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.038203955 0.753 -1.753 9.8 0 0 -0.6181
1-2 processing imu...
it_last_IMU.time: 1664877164.028204
lastState: 1664877164.028204
currentState: 1664877164.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.048203945 0.7748 -1.738 9.8 0 0 -0.616
1-2 processing imu...
it_last_IMU.time: 1664877164.038204
lastState: 1664877164.038204
currentState: 1664877164.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.058203936 0.7939 -1.722 9.8 0 0 -0.6138
1-2 processing imu...
it_last_IMU.time: 1664877164.048204
lastState: 1664877164.048204
currentState: 1664877164.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.068203926 0.811 -1.705 9.8 0 0 -0.6115
1-2 processing imu...
it_last_IMU.time: 1664877164.058204
lastState: 1664877164.058204
currentState: 1664877164.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.078203917 0.8278 -1.688 9.8 0 0 -0.6092
1-2 processing imu...
it_last_IMU.time: 1664877164.068204
lastState: 1664877164.068204
currentState: 1664877164.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.088203907 0.8445 -1.67 9.8 0 0 -0.6068
1-2 processing imu...
it_last_IMU.time: 1664877164.078204
lastState: 1664877164.078204
currentState: 1664877164.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.098203897 0.8609 -1.653 9.8 0 0 -0.6045
1-2 processing imu...
it_last_IMU.time: 1664877164.088204
lastState: 1664877164.088204
currentState: 1664877164.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.108203888 0.8771 -1.635 9.8 0 0 -0.602
1-2 processing imu...
it_last_IMU.time: 1664877164.098204
lastState: 1664877164.098204
currentState: 1664877164.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.118204117 0.8931 -1.618 9.8 0 0 -0.5996
1-2 processing imu...
it_last_IMU.time: 1664877164.108204
lastState: 1664877164.108204
currentState: 1664877164.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.128204107 0.9088 -1.6 9.8 0 0 -0.5971
1-2 processing imu...
it_last_IMU.time: 1664877164.118204
lastState: 1664877164.118204
currentState: 1664877164.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.138204098 0.9244 -1.582 9.8 0 0 -0.5945
1-2 processing imu...
it_last_IMU.time: 1664877164.128204
lastState: 1664877164.128204
currentState: 1664877164.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.148204088 0.9397 -1.564 9.8 0 0 -0.5919
1-2 processing imu...
it_last_IMU.time: 1664877164.138204
lastState: 1664877164.138204
currentState: 1664877164.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.158204079 0.9526 -1.547 9.8 0 0 -0.5893
1-2 processing imu...
it_last_IMU.time: 1664877164.148204
lastState: 1664877164.148204
currentState: 1664877164.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.168204069 0.9636 -1.531 9.8 0 0 -0.5867
1-2 processing imu...
it_last_IMU.time: 1664877164.158204
lastState: 1664877164.158204
currentState: 1664877164.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.178204060 0.9743 -1.515 9.8 0 0 -0.584
1-2 processing imu...
it_last_IMU.time: 1664877164.168204
lastState: 1664877164.168204
currentState: 1664877164.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.188204050 0.9848 -1.499 9.8 0 0 -0.5813
1-2 processing imu...
it_last_IMU.time: 1664877164.178204
lastState: 1664877164.178204
currentState: 1664877164.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.198204041 0.9952 -1.483 9.8 0 0 -0.5786
1-2 processing imu...
it_last_IMU.time: 1664877164.188204
lastState: 1664877164.188204
currentState: 1664877164.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.208204031 1.005 -1.467 9.8 0 0 -0.5758
1-2 processing imu...
it_last_IMU.time: 1664877164.198204
lastState: 1664877164.198204
currentState: 1664877164.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.218204021 1.015 -1.451 9.8 0 0 -0.573
1-2 processing imu...
it_last_IMU.time: 1664877164.208204
lastState: 1664877164.208204
currentState: 1664877164.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.228204012 1.025 -1.434 9.8 0 0 -0.5702
1-2 processing imu...
it_last_IMU.time: 1664877164.218204
lastState: 1664877164.218204
currentState: 1664877164.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.238204002 1.035 -1.418 9.8 0 0 -0.5674
1-2 processing imu...
it_last_IMU.time: 1664877164.228204
lastState: 1664877164.228204
currentState: 1664877164.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.248203993 1.044 -1.402 9.8 0 0 -0.5645
1-2 processing imu...
it_last_IMU.time: 1664877164.238204
lastState: 1664877164.238204
currentState: 1664877164.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.258203983 1.054 -1.383 9.8 0 0 -0.5616
1-2 processing imu...
it_last_IMU.time: 1664877164.248204
lastState: 1664877164.248204
currentState: 1664877164.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.268203974 1.064 -1.363 9.8 0 0 -0.5587
1-2 processing imu...
it_last_IMU.time: 1664877164.258204
lastState: 1664877164.258204
currentState: 1664877164.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.278203964 1.074 -1.343 9.8 0 0 -0.5558
1-2 processing imu...
it_last_IMU.time: 1664877164.268204
lastState: 1664877164.268204
currentState: 1664877164.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.288203955 1.084 -1.323 9.8 0 0 -0.5528
1-2 processing imu...
it_last_IMU.time: 1664877164.278204
lastState: 1664877164.278204
currentState: 1664877164.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.298203945 1.093 -1.302 9.8 0 0 -0.5498
1-2 processing imu...
it_last_IMU.time: 1664877164.288204
lastState: 1664877164.288204
currentState: 1664877164.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.308203936 1.102 -1.282 9.8 0 0 -0.5468
1-2 processing imu...
it_last_IMU.time: 1664877164.298204
lastState: 1664877164.298204
currentState: 1664877164.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.318203926 1.111 -1.262 9.8 0 0 -0.5438
1-2 processing imu...
it_last_IMU.time: 1664877164.308204
lastState: 1664877164.308204
currentState: 1664877164.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.328203917 1.12 -1.242 9.8 0 0 -0.5407
1-2 processing imu...
it_last_IMU.time: 1664877164.318204
lastState: 1664877164.318204
currentState: 1664877164.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.338203907 1.128 -1.221 9.8 0 0 -0.5376
1-2 processing imu...
it_last_IMU.time: 1664877164.328204
lastState: 1664877164.328204
currentState: 1664877164.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.348203897 1.137 -1.201 9.8 0 0 -0.5345
1-2 processing imu...
it_last_IMU.time: 1664877164.338204
lastState: 1664877164.338204
currentState: 1664877164.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.358203888 1.144 -1.181 9.8 0 0 -0.5314
1-2 processing imu...
it_last_IMU.time: 1664877164.348204
lastState: 1664877164.348204
currentState: 1664877164.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.368204117 1.15 -1.161 9.8 0 0 -0.5282
1-2 processing imu...
it_last_IMU.time: 1664877164.358204
lastState: 1664877164.358204
currentState: 1664877164.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.378204107 1.155 -1.141 9.8 0 0 -0.5251
1-2 processing imu...
it_last_IMU.time: 1664877164.368204
lastState: 1664877164.368204
currentState: 1664877164.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.388204098 1.161 -1.122 9.8 0 0 -0.5219
1-2 processing imu...
it_last_IMU.time: 1664877164.378204
lastState: 1664877164.378204
currentState: 1664877164.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.398204088 1.166 -1.102 9.8 0 0 -0.5187
1-2 processing imu...
it_last_IMU.time: 1664877164.388204
lastState: 1664877164.388204
currentState: 1664877164.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877164.382653952 -0.3199 0.925 0.001032 0.002475 0.00549 -0.9776 0.2102
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877164.382654
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877164.382654
state->time: 1664877164.382654
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675534.563527275]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675534.563574930]: the fixed q :[-0.000921, -0.153, 0.671, 0.726][0m
[0m[ INFO] [1670675534.563585922]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675534.563619963]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.3199 0.925 0.001032
p_wv: 18.52 -15.22 31
p: 17.66 -13.13 30.5
q: [-0.000921, -0.153, 0.671, 0.726]
l: 0.5142
residual in position: 0.123 -0.1489 0.2599
q_err :[-0.989, -0.0104, 0.111, -0.1]
residual in q: 0.02099 -0.2237 0.203
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877164.382654 it_next->second->time: 1664877164.388204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877164.388204 it_next->second->time: 1664877164.398204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.89 -13.42 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877164.408204079 1.171 -1.082 9.8 0 0 -0.5155
1-2 processing imu...
it_last_IMU.time: 1664877164.398204
lastState: 1664877164.398204
currentState: 1664877164.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.418204069 1.175 -1.062 9.8 0 0 -0.5122
1-2 processing imu...
it_last_IMU.time: 1664877164.408204
lastState: 1664877164.408204
currentState: 1664877164.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.428204060 1.18 -1.043 9.8 0 0 -0.509
1-2 processing imu...
it_last_IMU.time: 1664877164.418204
lastState: 1664877164.418204
currentState: 1664877164.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.438204050 1.184 -1.023 9.8 0 0 -0.5057
1-2 processing imu...
it_last_IMU.time: 1664877164.428204
lastState: 1664877164.428204
currentState: 1664877164.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.448204041 1.188 -1.003 9.8 0 0 -0.5025
1-2 processing imu...
it_last_IMU.time: 1664877164.438204
lastState: 1664877164.438204
currentState: 1664877164.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.458204031 1.191 -0.9852 9.8 0 0 -0.4992
1-2 processing imu...
it_last_IMU.time: 1664877164.448204
lastState: 1664877164.448204
currentState: 1664877164.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.468204021 1.193 -0.9684 9.8 0 0 -0.4959
1-2 processing imu...
it_last_IMU.time: 1664877164.458204
lastState: 1664877164.458204
currentState: 1664877164.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.478204012 1.194 -0.9517 9.8 0 0 -0.4926
1-2 processing imu...
it_last_IMU.time: 1664877164.468204
lastState: 1664877164.468204
currentState: 1664877164.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.488204002 1.196 -0.935 9.8 0 0 -0.4892
1-2 processing imu...
it_last_IMU.time: 1664877164.478204
lastState: 1664877164.478204
currentState: 1664877164.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.498203993 1.197 -0.9184 9.8 0 0 -0.4859
1-2 processing imu...
it_last_IMU.time: 1664877164.488204
lastState: 1664877164.488204
currentState: 1664877164.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.508203983 1.198 -0.9019 9.8 0 0 -0.4826
1-2 processing imu...
it_last_IMU.time: 1664877164.498204
lastState: 1664877164.498204
currentState: 1664877164.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.518203974 1.199 -0.8853 9.8 0 0 -0.4792
1-2 processing imu...
it_last_IMU.time: 1664877164.508204
lastState: 1664877164.508204
currentState: 1664877164.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.528203964 1.199 -0.8689 9.8 0 0 -0.4759
1-2 processing imu...
it_last_IMU.time: 1664877164.518204
lastState: 1664877164.518204
currentState: 1664877164.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.538203955 1.2 -0.8525 9.8 0 0 -0.4725
1-2 processing imu...
it_last_IMU.time: 1664877164.528204
lastState: 1664877164.528204
currentState: 1664877164.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.548203945 1.2 -0.8361 9.8 0 0 -0.4691
1-2 processing imu...
it_last_IMU.time: 1664877164.538204
lastState: 1664877164.538204
currentState: 1664877164.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.558203936 1.2 -0.8189 9.8 0 0 -0.4657
1-2 processing imu...
it_last_IMU.time: 1664877164.548204
lastState: 1664877164.548204
currentState: 1664877164.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.568203926 1.198 -0.801 9.8 0 0 -0.4623
1-2 processing imu...
it_last_IMU.time: 1664877164.558204
lastState: 1664877164.558204
currentState: 1664877164.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.578203917 1.197 -0.7832 9.8 0 0 -0.459
1-2 processing imu...
it_last_IMU.time: 1664877164.568204
lastState: 1664877164.568204
currentState: 1664877164.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.588203907 1.196 -0.7654 9.8 0 0 -0.4555
1-2 processing imu...
it_last_IMU.time: 1664877164.578204
lastState: 1664877164.578204
currentState: 1664877164.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.598203897 1.194 -0.7477 9.8 0 0 -0.4521
1-2 processing imu...
it_last_IMU.time: 1664877164.588204
lastState: 1664877164.588204
currentState: 1664877164.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.608203888 1.192 -0.7301 9.8 0 0 -0.4487
1-2 processing imu...
it_last_IMU.time: 1664877164.598204
lastState: 1664877164.598204
currentState: 1664877164.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.618204117 1.19 -0.7125 9.8 0 0 -0.4453
1-2 processing imu...
it_last_IMU.time: 1664877164.608204
lastState: 1664877164.608204
currentState: 1664877164.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.628204107 1.188 -0.695 9.8 0 0 -0.4419
1-2 processing imu...
it_last_IMU.time: 1664877164.618204
lastState: 1664877164.618204
currentState: 1664877164.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.638204098 1.186 -0.6776 9.8 0 0 -0.4384
1-2 processing imu...
it_last_IMU.time: 1664877164.628204
lastState: 1664877164.628204
currentState: 1664877164.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.648204088 1.184 -0.6603 9.8 0 0 -0.435
1-2 processing imu...
it_last_IMU.time: 1664877164.638204
lastState: 1664877164.638204
currentState: 1664877164.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.658204079 1.181 -0.6436 9.8 0 0 -0.4315
1-2 processing imu...
it_last_IMU.time: 1664877164.648204
lastState: 1664877164.648204
currentState: 1664877164.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.668204069 1.178 -0.6276 9.8 0 0 -0.428
1-2 processing imu...
it_last_IMU.time: 1664877164.658204
lastState: 1664877164.658204
currentState: 1664877164.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.678204060 1.175 -0.6117 9.8 0 0 -0.4246
1-2 processing imu...
it_last_IMU.time: 1664877164.668204
lastState: 1664877164.668204
currentState: 1664877164.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.688204050 1.171 -0.5958 9.8 0 0 -0.4211
1-2 processing imu...
it_last_IMU.time: 1664877164.678204
lastState: 1664877164.678204
currentState: 1664877164.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.698204041 1.168 -0.58 9.8 0 0 -0.4176
1-2 processing imu...
it_last_IMU.time: 1664877164.688204
lastState: 1664877164.688204
currentState: 1664877164.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.708204031 1.164 -0.5643 9.8 0 0 -0.4141
1-2 processing imu...
it_last_IMU.time: 1664877164.698204
lastState: 1664877164.698204
currentState: 1664877164.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.718204021 1.16 -0.5487 9.8 0 0 -0.4106
1-2 processing imu...
it_last_IMU.time: 1664877164.708204
lastState: 1664877164.708204
currentState: 1664877164.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.728204012 1.157 -0.5332 9.8 0 0 -0.4071
1-2 processing imu...
it_last_IMU.time: 1664877164.718204
lastState: 1664877164.718204
currentState: 1664877164.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.738204002 1.153 -0.5178 9.8 0 0 -0.4035
1-2 processing imu...
it_last_IMU.time: 1664877164.728204
lastState: 1664877164.728204
currentState: 1664877164.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.748203993 1.148 -0.5024 9.8 0 0 -0.4
1-2 processing imu...
it_last_IMU.time: 1664877164.738204
lastState: 1664877164.738204
currentState: 1664877164.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.758203983 1.143 -0.4889 9.8 0 0 -0.3964
1-2 processing imu...
it_last_IMU.time: 1664877164.748204
lastState: 1664877164.748204
currentState: 1664877164.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.768203974 1.137 -0.4772 9.8 0 0 -0.3929
1-2 processing imu...
it_last_IMU.time: 1664877164.758204
lastState: 1664877164.758204
currentState: 1664877164.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.778203964 1.131 -0.4657 9.8 0 0 -0.3893
1-2 processing imu...
it_last_IMU.time: 1664877164.768204
lastState: 1664877164.768204
currentState: 1664877164.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.788203955 1.125 -0.4543 9.8 0 0 -0.3857
1-2 processing imu...
it_last_IMU.time: 1664877164.778204
lastState: 1664877164.778204
currentState: 1664877164.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.798203945 1.119 -0.4429 9.8 0 0 -0.3821
1-2 processing imu...
it_last_IMU.time: 1664877164.788204
lastState: 1664877164.788204
currentState: 1664877164.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.808203936 1.112 -0.4317 9.8 0 0 -0.3785
1-2 processing imu...
it_last_IMU.time: 1664877164.798204
lastState: 1664877164.798204
currentState: 1664877164.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877164.796621084 -0.3381 0.9142 0.0006413 0.001942 0.006233 -0.9538 0.3005
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877164.796621
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877164.796621
state->time: 1664877164.796621
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675535.503236946]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675535.503346311]: the fixed q :[-0.109, -0.218, 0.655, 0.715][0m
[0m[ INFO] [1670675535.503398624]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675535.503489167]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.3381 0.9142 0.0006413
p_wv: 18.52 -15.22 31
p: 17.57 -13.28 30.61
q: [-0.109, -0.218, 0.655, 0.715]
l: 0.5144
residual in position: 0.1488 -0.08501 0.2014
q_err :[-0.994, -0.012, 0.0827, -0.07]
residual in q: 0.02406 -0.1664 0.1409
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877164.796621 it_next->second->time: 1664877164.798204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877164.798204 it_next->second->time: 1664877164.808204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.86 -13.44 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877164.818203926 1.106 -0.4205 9.8 0 0 -0.3749
1-2 processing imu...
it_last_IMU.time: 1664877164.808204
lastState: 1664877164.808204
currentState: 1664877164.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.828203917 1.099 -0.4095 9.8 0 0 -0.3713
1-2 processing imu...
it_last_IMU.time: 1664877164.818204
lastState: 1664877164.818204
currentState: 1664877164.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.838203907 1.093 -0.3985 9.8 0 0 -0.3677
1-2 processing imu...
it_last_IMU.time: 1664877164.828204
lastState: 1664877164.828204
currentState: 1664877164.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.848203897 1.086 -0.3876 9.8 0 0 -0.3641
1-2 processing imu...
it_last_IMU.time: 1664877164.838204
lastState: 1664877164.838204
currentState: 1664877164.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.858203888 1.078 -0.3781 9.8 0 0 -0.3604
1-2 processing imu...
it_last_IMU.time: 1664877164.848204
lastState: 1664877164.848204
currentState: 1664877164.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.868204117 1.068 -0.37 9.8 0 0 -0.3568
1-2 processing imu...
it_last_IMU.time: 1664877164.858204
lastState: 1664877164.858204
currentState: 1664877164.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.878204107 1.059 -0.3621 9.8 0 0 -0.3531
1-2 processing imu...
it_last_IMU.time: 1664877164.868204
lastState: 1664877164.868204
currentState: 1664877164.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.888204098 1.049 -0.3542 9.8 0 0 -0.3495
1-2 processing imu...
it_last_IMU.time: 1664877164.878204
lastState: 1664877164.878204
currentState: 1664877164.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.898204088 1.04 -0.3465 9.8 0 0 -0.3458
1-2 processing imu...
it_last_IMU.time: 1664877164.888204
lastState: 1664877164.888204
currentState: 1664877164.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.908204079 1.03 -0.3388 9.8 0 0 -0.3422
1-2 processing imu...
it_last_IMU.time: 1664877164.898204
lastState: 1664877164.898204
currentState: 1664877164.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.918204069 1.02 -0.3313 9.8 0 0 -0.3385
1-2 processing imu...
it_last_IMU.time: 1664877164.908204
lastState: 1664877164.908204
currentState: 1664877164.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.928204060 1.01 -0.3239 9.8 0 0 -0.3348
1-2 processing imu...
it_last_IMU.time: 1664877164.918204
lastState: 1664877164.918204
currentState: 1664877164.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.938204050 1 -0.3166 9.8 0 0 -0.3311
1-2 processing imu...
it_last_IMU.time: 1664877164.928204
lastState: 1664877164.928204
currentState: 1664877164.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.948204041 0.9906 -0.3093 9.8 0 0 -0.3274
1-2 processing imu...
it_last_IMU.time: 1664877164.938204
lastState: 1664877164.938204
currentState: 1664877164.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.958204031 0.9811 -0.3006 9.8 0 0 -0.3237
1-2 processing imu...
it_last_IMU.time: 1664877164.948204
lastState: 1664877164.948204
currentState: 1664877164.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.968204021 0.9722 -0.2901 9.8 0 0 -0.32
1-2 processing imu...
it_last_IMU.time: 1664877164.958204
lastState: 1664877164.958204
currentState: 1664877164.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.978204012 0.9631 -0.2798 9.8 0 0 -0.3163
1-2 processing imu...
it_last_IMU.time: 1664877164.968204
lastState: 1664877164.968204
currentState: 1664877164.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877164.988204002 0.954 -0.2695 9.8 0 0 -0.3125
1-2 processing imu...
it_last_IMU.time: 1664877164.978204
lastState: 1664877164.978204
currentState: 1664877164.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877164.998203993 0.9449 -0.2594 9.8 0 0 -0.3088
1-2 processing imu...
it_last_IMU.time: 1664877164.988204
lastState: 1664877164.988204
currentState: 1664877164.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.008203983 0.9357 -0.2493 9.8 0 0 -0.305
1-2 processing imu...
it_last_IMU.time: 1664877164.998204
lastState: 1664877164.998204
currentState: 1664877165.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.018203974 0.9264 -0.2393 9.8 0 0 -0.3012
1-2 processing imu...
it_last_IMU.time: 1664877165.008204
lastState: 1664877165.008204
currentState: 1664877165.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.028203964 0.917 -0.2295 9.8 0 0 -0.2974
1-2 processing imu...
it_last_IMU.time: 1664877165.018204
lastState: 1664877165.018204
currentState: 1664877165.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.038203955 0.9076 -0.2197 9.8 0 0 -0.2936
1-2 processing imu...
it_last_IMU.time: 1664877165.028204
lastState: 1664877165.028204
currentState: 1664877165.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.048203945 0.8982 -0.21 9.8 0 0 -0.2898
1-2 processing imu...
it_last_IMU.time: 1664877165.038204
lastState: 1664877165.038204
currentState: 1664877165.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.058203936 0.8884 -0.2008 9.8 0 0 -0.2859
1-2 processing imu...
it_last_IMU.time: 1664877165.048204
lastState: 1664877165.048204
currentState: 1664877165.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.068203926 0.8782 -0.1921 9.8 0 0 -0.2821
1-2 processing imu...
it_last_IMU.time: 1664877165.058204
lastState: 1664877165.058204
currentState: 1664877165.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.078203917 0.868 -0.1835 9.8 0 0 -0.2782
1-2 processing imu...
it_last_IMU.time: 1664877165.068204
lastState: 1664877165.068204
currentState: 1664877165.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.088203907 0.8577 -0.175 9.8 0 0 -0.2744
1-2 processing imu...
it_last_IMU.time: 1664877165.078204
lastState: 1664877165.078204
currentState: 1664877165.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.098203897 0.8474 -0.1666 9.8 0 0 -0.2705
1-2 processing imu...
it_last_IMU.time: 1664877165.088204
lastState: 1664877165.088204
currentState: 1664877165.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.108203888 0.8371 -0.1583 9.8 0 0 -0.2666
1-2 processing imu...
it_last_IMU.time: 1664877165.098204
lastState: 1664877165.098204
currentState: 1664877165.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.118204117 0.8267 -0.1501 9.8 0 0 -0.2627
1-2 processing imu...
it_last_IMU.time: 1664877165.108204
lastState: 1664877165.108204
currentState: 1664877165.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.128204107 0.8162 -0.142 9.8 0 0 -0.2588
1-2 processing imu...
it_last_IMU.time: 1664877165.118204
lastState: 1664877165.118204
currentState: 1664877165.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.138204098 0.8058 -0.134 9.8 0 0 -0.2549
1-2 processing imu...
it_last_IMU.time: 1664877165.128204
lastState: 1664877165.128204
currentState: 1664877165.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.148204088 0.7952 -0.126 9.8 0 0 -0.2509
1-2 processing imu...
it_last_IMU.time: 1664877165.138204
lastState: 1664877165.138204
currentState: 1664877165.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.158204079 0.7836 -0.1199 9.8 0 0 -0.247
1-2 processing imu...
it_last_IMU.time: 1664877165.148204
lastState: 1664877165.148204
currentState: 1664877165.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.168204069 0.7706 -0.116 9.8 0 0 -0.243
1-2 processing imu...
it_last_IMU.time: 1664877165.158204
lastState: 1664877165.158204
currentState: 1664877165.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.178204060 0.7576 -0.1122 9.8 0 0 -0.2391
1-2 processing imu...
it_last_IMU.time: 1664877165.168204
lastState: 1664877165.168204
currentState: 1664877165.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.188204050 0.7446 -0.1085 9.8 0 0 -0.2352
1-2 processing imu...
it_last_IMU.time: 1664877165.178204
lastState: 1664877165.178204
currentState: 1664877165.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.198204041 0.7315 -0.1049 9.8 0 0 -0.2312
1-2 processing imu...
it_last_IMU.time: 1664877165.188204
lastState: 1664877165.188204
currentState: 1664877165.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.208204031 0.7185 -0.1014 9.8 0 0 -0.2273
1-2 processing imu...
it_last_IMU.time: 1664877165.198204
lastState: 1664877165.198204
currentState: 1664877165.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.218204021 0.7054 -0.09793 9.8 0 0 -0.2234
1-2 processing imu...
it_last_IMU.time: 1664877165.208204
lastState: 1664877165.208204
currentState: 1664877165.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.228204012 0.6923 -0.09458 9.8 0 0 -0.2195
1-2 processing imu...
it_last_IMU.time: 1664877165.218204
lastState: 1664877165.218204
currentState: 1664877165.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.238204002 0.6792 -0.09131 9.8 0 0 -0.2156
1-2 processing imu...
it_last_IMU.time: 1664877165.228204
lastState: 1664877165.228204
currentState: 1664877165.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877165.221014023 -0.3546 0.9006 9.938e-05 0.001501 0.006539 -0.9321 0.3622
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877165.221014
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877165.221014
state->time: 1664877165.221014
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675536.396980397]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675536.397028918]: the fixed q :[-0.201, -0.259, 0.639, 0.696][0m
[0m[ INFO] [1670675536.397051162]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675536.397097615]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.3546 0.9006 9.938e-05
p_wv: 18.52 -15.22 31
p: 17.57 -13.39 30.72
q: [-0.201, -0.259, 0.639, 0.696]
l: 0.5146
residual in position: 0.1335 -0.04087 0.1434
q_err :[-0.998, -0.0172, 0.0494, -0.0391]
residual in q: 0.0344 -0.09903 0.07839
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877165.221014 it_next->second->time: 1664877165.228204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877165.228204 it_next->second->time: 1664877165.238204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.83 -13.47 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877165.248203993 0.6661 -0.08813 9.8 0 0 -0.2117
1-2 processing imu...
it_last_IMU.time: 1664877165.238204
lastState: 1664877165.238204
currentState: 1664877165.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.258203983 0.6531 -0.08442 9.8 0 0 -0.2077
1-2 processing imu...
it_last_IMU.time: 1664877165.248204
lastState: 1664877165.248204
currentState: 1664877165.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.268203974 0.6402 -0.08006 9.8 0 0 -0.2038
1-2 processing imu...
it_last_IMU.time: 1664877165.258204
lastState: 1664877165.258204
currentState: 1664877165.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.278203964 0.6272 -0.07578 9.8 0 0 -0.2
1-2 processing imu...
it_last_IMU.time: 1664877165.268204
lastState: 1664877165.268204
currentState: 1664877165.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.288203955 0.6143 -0.07157 9.8 0 0 -0.1961
1-2 processing imu...
it_last_IMU.time: 1664877165.278204
lastState: 1664877165.278204
currentState: 1664877165.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.298203945 0.6013 -0.06744 9.8 0 0 -0.1922
1-2 processing imu...
it_last_IMU.time: 1664877165.288204
lastState: 1664877165.288204
currentState: 1664877165.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.308203936 0.5883 -0.06339 9.8 0 0 -0.1884
1-2 processing imu...
it_last_IMU.time: 1664877165.298204
lastState: 1664877165.298204
currentState: 1664877165.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.318203926 0.5753 -0.0594 9.8 0 0 -0.1845
1-2 processing imu...
it_last_IMU.time: 1664877165.308204
lastState: 1664877165.308204
currentState: 1664877165.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.328203917 0.5623 -0.05549 9.8 0 0 -0.1807
1-2 processing imu...
it_last_IMU.time: 1664877165.318204
lastState: 1664877165.318204
currentState: 1664877165.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.338203907 0.5493 -0.05164 9.8 0 0 -0.1768
1-2 processing imu...
it_last_IMU.time: 1664877165.328204
lastState: 1664877165.328204
currentState: 1664877165.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.348203897 0.5362 -0.04786 9.8 0 0 -0.173
1-2 processing imu...
it_last_IMU.time: 1664877165.338204
lastState: 1664877165.338204
currentState: 1664877165.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.358203888 0.5236 -0.04412 9.8 0 0 -0.1692
1-2 processing imu...
it_last_IMU.time: 1664877165.348204
lastState: 1664877165.348204
currentState: 1664877165.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.368204117 0.5115 -0.0404 9.8 0 0 -0.1654
1-2 processing imu...
it_last_IMU.time: 1664877165.358204
lastState: 1664877165.358204
currentState: 1664877165.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.378204107 0.4993 -0.03674 9.8 0 0 -0.1616
1-2 processing imu...
it_last_IMU.time: 1664877165.368204
lastState: 1664877165.368204
currentState: 1664877165.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.388204098 0.4871 -0.03314 9.8 0 0 -0.1579
1-2 processing imu...
it_last_IMU.time: 1664877165.378204
lastState: 1664877165.378204
currentState: 1664877165.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.398204088 0.475 -0.02959 9.8 0 0 -0.1541
1-2 processing imu...
it_last_IMU.time: 1664877165.388204
lastState: 1664877165.388204
currentState: 1664877165.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.408204079 0.4628 -0.0261 9.8 0 0 -0.1504
1-2 processing imu...
it_last_IMU.time: 1664877165.398204
lastState: 1664877165.398204
currentState: 1664877165.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.418204069 0.4506 -0.02267 9.8 0 0 -0.1467
1-2 processing imu...
it_last_IMU.time: 1664877165.408204
lastState: 1664877165.408204
currentState: 1664877165.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.428204060 0.4384 -0.01929 9.8 0 0 -0.143
1-2 processing imu...
it_last_IMU.time: 1664877165.418204
lastState: 1664877165.418204
currentState: 1664877165.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.438204050 0.4262 -0.01596 9.8 0 0 -0.1393
1-2 processing imu...
it_last_IMU.time: 1664877165.428204
lastState: 1664877165.428204
currentState: 1664877165.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.448204041 0.4139 -0.01267 9.8 0 0 -0.1356
1-2 processing imu...
it_last_IMU.time: 1664877165.438204
lastState: 1664877165.438204
currentState: 1664877165.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.458204031 0.4019 -0.01005 9.8 0 0 -0.132
1-2 processing imu...
it_last_IMU.time: 1664877165.448204
lastState: 1664877165.448204
currentState: 1664877165.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.468204021 0.3902 -0.008278 9.8 0 0 -0.1284
1-2 processing imu...
it_last_IMU.time: 1664877165.458204
lastState: 1664877165.458204
currentState: 1664877165.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.478204012 0.3785 -0.006546 9.8 0 0 -0.1248
1-2 processing imu...
it_last_IMU.time: 1664877165.468204
lastState: 1664877165.468204
currentState: 1664877165.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.488204002 0.3668 -0.004856 9.8 0 0 -0.1213
1-2 processing imu...
it_last_IMU.time: 1664877165.478204
lastState: 1664877165.478204
currentState: 1664877165.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.498203993 0.3551 -0.003207 9.8 0 0 -0.1178
1-2 processing imu...
it_last_IMU.time: 1664877165.488204
lastState: 1664877165.488204
currentState: 1664877165.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.508203983 0.3434 -0.001599 9.8 0 0 -0.1144
1-2 processing imu...
it_last_IMU.time: 1664877165.498204
lastState: 1664877165.498204
currentState: 1664877165.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.518203974 0.3317 -2.9e-05 9.8 0 0 -0.1109
1-2 processing imu...
it_last_IMU.time: 1664877165.508204
lastState: 1664877165.508204
currentState: 1664877165.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.528203964 0.32 0.001504 9.8 0 0 -0.1076
1-2 processing imu...
it_last_IMU.time: 1664877165.518204
lastState: 1664877165.518204
currentState: 1664877165.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.538203955 0.3083 0.003001 9.8 0 0 -0.1042
1-2 processing imu...
it_last_IMU.time: 1664877165.528204
lastState: 1664877165.528204
currentState: 1664877165.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.548203945 0.2966 0.004463 9.8 0 0 -0.1009
1-2 processing imu...
it_last_IMU.time: 1664877165.538204
lastState: 1664877165.538204
currentState: 1664877165.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.558203936 0.2853 0.005878 9.8 0 0 -0.09763
1-2 processing imu...
it_last_IMU.time: 1664877165.548204
lastState: 1664877165.548204
currentState: 1664877165.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.568203926 0.2747 0.007244 9.8 0 0 -0.09441
1-2 processing imu...
it_last_IMU.time: 1664877165.558204
lastState: 1664877165.558204
currentState: 1664877165.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.578203917 0.264 0.008581 9.8 0 0 -0.09123
1-2 processing imu...
it_last_IMU.time: 1664877165.568204
lastState: 1664877165.568204
currentState: 1664877165.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.588203907 0.2534 0.009891 9.8 0 0 -0.08811
1-2 processing imu...
it_last_IMU.time: 1664877165.578204
lastState: 1664877165.578204
currentState: 1664877165.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.598203897 0.2427 0.01117 9.8 0 0 -0.08503
1-2 processing imu...
it_last_IMU.time: 1664877165.588204
lastState: 1664877165.588204
currentState: 1664877165.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.608203888 0.2321 0.01243 9.8 0 0 -0.082
1-2 processing imu...
it_last_IMU.time: 1664877165.598204
lastState: 1664877165.598204
currentState: 1664877165.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.618204117 0.2214 0.01366 9.8 0 0 -0.07902
1-2 processing imu...
it_last_IMU.time: 1664877165.608204
lastState: 1664877165.608204
currentState: 1664877165.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.628204107 0.2108 0.01487 9.8 0 0 -0.07608
1-2 processing imu...
it_last_IMU.time: 1664877165.618204
lastState: 1664877165.618204
currentState: 1664877165.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.638204098 0.2001 0.01606 9.8 0 0 -0.0732
1-2 processing imu...
it_last_IMU.time: 1664877165.628204
lastState: 1664877165.628204
currentState: 1664877165.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.648204088 0.1895 0.01723 9.8 0 0 -0.07036
1-2 processing imu...
it_last_IMU.time: 1664877165.638204
lastState: 1664877165.638204
currentState: 1664877165.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877165.634983063 -0.3711 0.8849 -0.0003372 0.001502 0.005306 -0.9209 0.3898
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877165.634983
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877165.634983
state->time: 1664877165.634983
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675537.323091940]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675537.323122314]: the fixed q :[-0.27, -0.277, 0.631, 0.672][0m
[0m[ INFO] [1670675537.323133236]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675537.323173348]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.3711 0.8849 -0.0003372
p_wv: 18.52 -15.22 31
p: 17.6 -13.43 30.81
q: [-0.27, -0.277, 0.631, 0.672]
l: 0.5146
residual in position: 0.1028 -0.03878 0.09572
q_err :[-1, -0.021, 0.0125, -0.00248]
residual in q: 0.04197 -0.02507 0.004957
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877165.634983 it_next->second->time: 1664877165.638204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877165.638204 it_next->second->time: 1664877165.648204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.8 -13.5 31
hc: publish state after update
1-1 IMUCallback(): 1664877165.658204079 0.1796 0.01866 9.8 0 0 -0.06757
1-2 processing imu...
it_last_IMU.time: 1664877165.648204
lastState: 1664877165.648204
currentState: 1664877165.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.668204069 0.171 0.02047 9.8 0 0 -0.06484
1-2 processing imu...
it_last_IMU.time: 1664877165.658204
lastState: 1664877165.658204
currentState: 1664877165.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.678204060 0.1623 0.02226 9.8 0 0 -0.06215
1-2 processing imu...
it_last_IMU.time: 1664877165.668204
lastState: 1664877165.668204
currentState: 1664877165.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.688204050 0.1536 0.02404 9.8 0 0 -0.05951
1-2 processing imu...
it_last_IMU.time: 1664877165.678204
lastState: 1664877165.678204
currentState: 1664877165.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.698204041 0.145 0.02581 9.8 0 0 -0.05692
1-2 processing imu...
it_last_IMU.time: 1664877165.688204
lastState: 1664877165.688204
currentState: 1664877165.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.708204031 0.1363 0.02756 9.8 0 0 -0.05438
1-2 processing imu...
it_last_IMU.time: 1664877165.698204
lastState: 1664877165.698204
currentState: 1664877165.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.718204021 0.1276 0.0293 9.8 0 0 -0.05189
1-2 processing imu...
it_last_IMU.time: 1664877165.708204
lastState: 1664877165.708204
currentState: 1664877165.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.728204012 0.119 0.03102 9.8 0 0 -0.04945
1-2 processing imu...
it_last_IMU.time: 1664877165.718204
lastState: 1664877165.718204
currentState: 1664877165.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.738204002 0.1103 0.03274 9.8 0 0 -0.04707
1-2 processing imu...
it_last_IMU.time: 1664877165.728204
lastState: 1664877165.728204
currentState: 1664877165.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.748203993 0.1016 0.03444 9.8 0 0 -0.04473
1-2 processing imu...
it_last_IMU.time: 1664877165.738204
lastState: 1664877165.738204
currentState: 1664877165.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.758203983 0.09388 0.0351 9.8 0 0 -0.04244
1-2 processing imu...
it_last_IMU.time: 1664877165.748204
lastState: 1664877165.748204
currentState: 1664877165.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.768203974 0.0875 0.03426 9.8 0 0 -0.0402
1-2 processing imu...
it_last_IMU.time: 1664877165.758204
lastState: 1664877165.758204
currentState: 1664877165.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.778203964 0.08111 0.03341 9.8 0 0 -0.03801
1-2 processing imu...
it_last_IMU.time: 1664877165.768204
lastState: 1664877165.768204
currentState: 1664877165.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.788203955 0.07473 0.03255 9.8 0 0 -0.03587
1-2 processing imu...
it_last_IMU.time: 1664877165.778204
lastState: 1664877165.778204
currentState: 1664877165.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.798203945 0.06835 0.03169 9.8 0 0 -0.03378
1-2 processing imu...
it_last_IMU.time: 1664877165.788204
lastState: 1664877165.788204
currentState: 1664877165.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.808203936 0.06197 0.03082 9.8 0 0 -0.03174
1-2 processing imu...
it_last_IMU.time: 1664877165.798204
lastState: 1664877165.798204
currentState: 1664877165.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.818203926 0.05559 0.02995 9.8 0 0 -0.02975
1-2 processing imu...
it_last_IMU.time: 1664877165.808204
lastState: 1664877165.808204
currentState: 1664877165.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.828203917 0.04921 0.02907 9.8 0 0 -0.02781
1-2 processing imu...
it_last_IMU.time: 1664877165.818204
lastState: 1664877165.818204
currentState: 1664877165.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.838203907 0.04284 0.02818 9.8 0 0 -0.02592
1-2 processing imu...
it_last_IMU.time: 1664877165.828204
lastState: 1664877165.828204
currentState: 1664877165.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.848203897 0.03646 0.0273 9.8 0 0 -0.02408
1-2 processing imu...
it_last_IMU.time: 1664877165.838204
lastState: 1664877165.838204
currentState: 1664877165.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.858203888 0.03088 0.02618 9.8 0 0 -0.02228
1-2 processing imu...
it_last_IMU.time: 1664877165.848204
lastState: 1664877165.848204
currentState: 1664877165.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.868204117 0.02651 0.02473 9.8 0 0 -0.02054
1-2 processing imu...
it_last_IMU.time: 1664877165.858204
lastState: 1664877165.858204
currentState: 1664877165.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.878204107 0.02213 0.02328 9.8 0 0 -0.01885
1-2 processing imu...
it_last_IMU.time: 1664877165.868204
lastState: 1664877165.868204
currentState: 1664877165.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.888204098 0.01775 0.02182 9.8 0 0 -0.01721
1-2 processing imu...
it_last_IMU.time: 1664877165.878204
lastState: 1664877165.878204
currentState: 1664877165.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.898204088 0.01337 0.02036 9.8 0 0 -0.01562
1-2 processing imu...
it_last_IMU.time: 1664877165.888204
lastState: 1664877165.888204
currentState: 1664877165.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.908204079 0.008996 0.0189 9.8 0 0 -0.01407
1-2 processing imu...
it_last_IMU.time: 1664877165.898204
lastState: 1664877165.898204
currentState: 1664877165.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.918204069 0.004621 0.01744 9.8 0 0 -0.01258
1-2 processing imu...
it_last_IMU.time: 1664877165.908204
lastState: 1664877165.908204
currentState: 1664877165.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.928204060 0.000246 0.01598 9.8 0 0 -0.01114
1-2 processing imu...
it_last_IMU.time: 1664877165.918204
lastState: 1664877165.918204
currentState: 1664877165.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.938204050 -0.004128 0.01452 9.8 0 0 -0.009743
1-2 processing imu...
it_last_IMU.time: 1664877165.928204
lastState: 1664877165.928204
currentState: 1664877165.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.948204041 -0.008502 0.01305 9.8 0 0 -0.0084
1-2 processing imu...
it_last_IMU.time: 1664877165.938204
lastState: 1664877165.938204
currentState: 1664877165.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.958204031 -0.0122 0.01246 9.8 0 0 -0.007106
1-2 processing imu...
it_last_IMU.time: 1664877165.948204
lastState: 1664877165.948204
currentState: 1664877165.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.968204021 -0.01485 0.01321 9.8 0 0 -0.005858
1-2 processing imu...
it_last_IMU.time: 1664877165.958204
lastState: 1664877165.958204
currentState: 1664877165.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.978204012 -0.0175 0.01396 9.8 0 0 -0.004654
1-2 processing imu...
it_last_IMU.time: 1664877165.968204
lastState: 1664877165.968204
currentState: 1664877165.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877165.988204002 -0.02015 0.01472 9.8 0 0 -0.003496
1-2 processing imu...
it_last_IMU.time: 1664877165.978204
lastState: 1664877165.978204
currentState: 1664877165.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877165.998203993 -0.0228 0.01547 9.8 0 0 -0.002382
1-2 processing imu...
it_last_IMU.time: 1664877165.988204
lastState: 1664877165.988204
currentState: 1664877165.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.008203983 -0.02545 0.01623 9.8 0 0 -0.001312
1-2 processing imu...
it_last_IMU.time: 1664877165.998204
lastState: 1664877165.998204
currentState: 1664877166.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.018203974 -0.0281 0.01698 9.8 0 0 -0.000287
1-2 processing imu...
it_last_IMU.time: 1664877166.008204
lastState: 1664877166.008204
currentState: 1664877166.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.028203964 -0.03074 0.01774 9.8 0 0 0.000692
1-2 processing imu...
it_last_IMU.time: 1664877166.018204
lastState: 1664877166.018204
currentState: 1664877166.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.038203955 -0.03339 0.01849 9.8 0 0 0.001628
1-2 processing imu...
it_last_IMU.time: 1664877166.028204
lastState: 1664877166.028204
currentState: 1664877166.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.048203945 -0.03604 0.01925 9.8 0 0 0.002518
1-2 processing imu...
it_last_IMU.time: 1664877166.038204
lastState: 1664877166.038204
currentState: 1664877166.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.058203936 -0.03818 0.01948 9.8 0 0 0.003365
1-2 processing imu...
it_last_IMU.time: 1664877166.048204
lastState: 1664877166.048204
currentState: 1664877166.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.068203926 -0.0395 0.01886 9.8 0 0 0.004173
1-2 processing imu...
it_last_IMU.time: 1664877166.058204
lastState: 1664877166.058204
currentState: 1664877166.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877166.049905062 -0.3855 0.8692 -0.0007498 0.0004825 0.007594 -0.9197 0.3924
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877166.049905
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877166.049905
state->time: 1664877166.049905
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675538.224980294]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675538.225031789]: the fixed q :[-0.307, -0.28, 0.63, 0.656][0m
[0m[ INFO] [1670675538.225040766]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675538.225057262]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.3855 0.8692 -0.0007498
p_wv: 18.52 -15.22 31
p: 17.58 -13.39 30.85
q: [-0.307, -0.28, 0.63, 0.656]
l: 0.5146
residual in position: 0.1002 -0.07356 0.07715
q_err :[-0.999, -0.0176, -0.0136, 0.0249]
residual in q: 0.03523 0.0273 -0.04992
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877166.049905 it_next->second->time: 1664877166.058204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877166.058204 it_next->second->time: 1664877166.068204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.76 -13.53 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877166.078203917 -0.04082 0.01823 9.8 0 0 0.004945
1-2 processing imu...
it_last_IMU.time: 1664877166.068204
lastState: 1664877166.068204
currentState: 1664877166.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.088203907 -0.04214 0.01761 9.8 0 0 0.005681
1-2 processing imu...
it_last_IMU.time: 1664877166.078204
lastState: 1664877166.078204
currentState: 1664877166.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.098203897 -0.04346 0.01699 9.8 0 0 0.00638
1-2 processing imu...
it_last_IMU.time: 1664877166.088204
lastState: 1664877166.088204
currentState: 1664877166.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.108203888 -0.04477 0.01637 9.8 0 0 0.007042
1-2 processing imu...
it_last_IMU.time: 1664877166.098204
lastState: 1664877166.098204
currentState: 1664877166.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.118204117 -0.04609 0.01575 9.8 0 0 0.007669
1-2 processing imu...
it_last_IMU.time: 1664877166.108204
lastState: 1664877166.108204
currentState: 1664877166.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.128204107 -0.04741 0.01513 9.8 0 0 0.008259
1-2 processing imu...
it_last_IMU.time: 1664877166.118204
lastState: 1664877166.118204
currentState: 1664877166.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.138204098 -0.04873 0.01452 9.8 0 0 0.008812
1-2 processing imu...
it_last_IMU.time: 1664877166.128204
lastState: 1664877166.128204
currentState: 1664877166.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.148204088 -0.05005 0.0139 9.8 0 0 0.009329
1-2 processing imu...
it_last_IMU.time: 1664877166.138204
lastState: 1664877166.138204
currentState: 1664877166.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.158204079 -0.05103 0.0134 9.8 0 0 0.00981
1-2 processing imu...
it_last_IMU.time: 1664877166.148204
lastState: 1664877166.148204
currentState: 1664877166.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.168204069 -0.05146 0.01308 9.8 0 0 0.01026
1-2 processing imu...
it_last_IMU.time: 1664877166.158204
lastState: 1664877166.158204
currentState: 1664877166.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.178204060 -0.05188 0.01278 9.8 0 0 0.01069
1-2 processing imu...
it_last_IMU.time: 1664877166.168204
lastState: 1664877166.168204
currentState: 1664877166.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.188204050 -0.05231 0.01247 9.8 0 0 0.01108
1-2 processing imu...
it_last_IMU.time: 1664877166.178204
lastState: 1664877166.178204
currentState: 1664877166.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.198204041 -0.05273 0.01216 9.8 0 0 0.01145
1-2 processing imu...
it_last_IMU.time: 1664877166.188204
lastState: 1664877166.188204
currentState: 1664877166.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.208204031 -0.05316 0.01185 9.8 0 0 0.01179
1-2 processing imu...
it_last_IMU.time: 1664877166.198204
lastState: 1664877166.198204
currentState: 1664877166.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.218204021 -0.05359 0.01154 9.8 0 0 0.01211
1-2 processing imu...
it_last_IMU.time: 1664877166.208204
lastState: 1664877166.208204
currentState: 1664877166.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.228204012 -0.05401 0.01123 9.8 0 0 0.01239
1-2 processing imu...
it_last_IMU.time: 1664877166.218204
lastState: 1664877166.218204
currentState: 1664877166.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.238204002 -0.05444 0.01092 9.8 0 0 0.01265
1-2 processing imu...
it_last_IMU.time: 1664877166.228204
lastState: 1664877166.228204
currentState: 1664877166.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.248203993 -0.05486 0.01062 9.8 0 0 0.01288
1-2 processing imu...
it_last_IMU.time: 1664877166.238204
lastState: 1664877166.238204
currentState: 1664877166.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.258203983 -0.05503 0.009891 9.8 0 0 0.01308
1-2 processing imu...
it_last_IMU.time: 1664877166.248204
lastState: 1664877166.248204
currentState: 1664877166.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.268203974 -0.05475 0.008439 9.8 0 0 0.01327
1-2 processing imu...
it_last_IMU.time: 1664877166.258204
lastState: 1664877166.258204
currentState: 1664877166.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.278203964 -0.05447 0.006986 9.8 0 0 0.01343
1-2 processing imu...
it_last_IMU.time: 1664877166.268204
lastState: 1664877166.268204
currentState: 1664877166.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.288203955 -0.05418 0.005534 9.8 0 0 0.01358
1-2 processing imu...
it_last_IMU.time: 1664877166.278204
lastState: 1664877166.278204
currentState: 1664877166.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.298203945 -0.0539 0.004082 9.8 0 0 0.0137
1-2 processing imu...
it_last_IMU.time: 1664877166.288204
lastState: 1664877166.288204
currentState: 1664877166.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.308203936 -0.05362 0.002629 9.8 0 0 0.01381
1-2 processing imu...
it_last_IMU.time: 1664877166.298204
lastState: 1664877166.298204
currentState: 1664877166.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.318203926 -0.05334 0.001177 9.8 0 0 0.0139
1-2 processing imu...
it_last_IMU.time: 1664877166.308204
lastState: 1664877166.308204
currentState: 1664877166.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.328203917 -0.05306 -0.000275 9.8 0 0 0.01397
1-2 processing imu...
it_last_IMU.time: 1664877166.318204
lastState: 1664877166.318204
currentState: 1664877166.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.338203907 -0.05278 -0.001728 9.8 0 0 0.01402
1-2 processing imu...
it_last_IMU.time: 1664877166.328204
lastState: 1664877166.328204
currentState: 1664877166.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.348203897 -0.0525 -0.00318 9.8 0 0 0.01406
1-2 processing imu...
it_last_IMU.time: 1664877166.338204
lastState: 1664877166.338204
currentState: 1664877166.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.358203888 -0.05211 -0.004077 9.8 0 0 0.01407
1-2 processing imu...
it_last_IMU.time: 1664877166.348204
lastState: 1664877166.348204
currentState: 1664877166.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.368204117 -0.05153 -0.003965 9.8 0 0 0.01407
1-2 processing imu...
it_last_IMU.time: 1664877166.358204
lastState: 1664877166.358204
currentState: 1664877166.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.378204107 -0.05095 -0.003853 9.8 0 0 0.01406
1-2 processing imu...
it_last_IMU.time: 1664877166.368204
lastState: 1664877166.368204
currentState: 1664877166.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.388204098 -0.05036 -0.003742 9.8 0 0 0.01404
1-2 processing imu...
it_last_IMU.time: 1664877166.378204
lastState: 1664877166.378204
currentState: 1664877166.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.398204088 -0.04978 -0.00363 9.8 0 0 0.014
1-2 processing imu...
it_last_IMU.time: 1664877166.388204
lastState: 1664877166.388204
currentState: 1664877166.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.408204079 -0.0492 -0.003519 9.8 0 0 0.01396
1-2 processing imu...
it_last_IMU.time: 1664877166.398204
lastState: 1664877166.398204
currentState: 1664877166.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.418204069 -0.04861 -0.003408 9.8 0 0 0.01389
1-2 processing imu...
it_last_IMU.time: 1664877166.408204
lastState: 1664877166.408204
currentState: 1664877166.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.428204060 -0.04803 -0.003297 9.8 0 0 0.01382
1-2 processing imu...
it_last_IMU.time: 1664877166.418204
lastState: 1664877166.418204
currentState: 1664877166.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.438204050 -0.04745 -0.003187 9.8 0 0 0.01374
1-2 processing imu...
it_last_IMU.time: 1664877166.428204
lastState: 1664877166.428204
currentState: 1664877166.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.448204041 -0.04687 -0.003076 9.8 0 0 0.01364
1-2 processing imu...
it_last_IMU.time: 1664877166.438204
lastState: 1664877166.438204
currentState: 1664877166.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.458204031 -0.04624 -0.002492 9.8 0 0 0.01353
1-2 processing imu...
it_last_IMU.time: 1664877166.448204
lastState: 1664877166.448204
currentState: 1664877166.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.468204021 -0.04555 -0.001014 9.8 0 0 0.01342
1-2 processing imu...
it_last_IMU.time: 1664877166.458204
lastState: 1664877166.458204
currentState: 1664877166.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.478204012 -0.04486 0.000464 9.8 0 0 0.01329
1-2 processing imu...
it_last_IMU.time: 1664877166.468204
lastState: 1664877166.468204
currentState: 1664877166.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877166.464119911 -0.4009 0.8535 -0.0005426 0.001299 0.007072 -0.9201 0.3916
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877166.464120
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877166.464120
state->time: 1664877166.464120
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675539.108579439]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675539.108632181]: the fixed q :[-0.314, -0.276, 0.63, 0.654][0m
[0m[ INFO] [1670675539.108691932]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675539.108734772]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.4009 0.8535 -0.0005426
p_wv: 18.52 -15.22 31
p: 17.53 -13.35 30.85
q: [-0.314, -0.276, 0.63, 0.654]
l: 0.5145
residual in position: 0.108 -0.1073 0.07663
q_err :[-0.999, -0.0205, -0.0221, 0.0281]
residual in q: 0.04109 0.04416 -0.05625
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877166.464120 it_next->second->time: 1664877166.468204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877166.468204 it_next->second->time: 1664877166.478204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.74 -13.56 31
hc: publish state after update
1-1 IMUCallback(): 1664877166.488204002 -0.04416 0.001941 9.8 0 0 0.01316
1-2 processing imu...
it_last_IMU.time: 1664877166.478204
lastState: 1664877166.478204
currentState: 1664877166.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.498203993 -0.04347 0.003419 9.8 0 0 0.01303
1-2 processing imu...
it_last_IMU.time: 1664877166.488204
lastState: 1664877166.488204
currentState: 1664877166.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.508203983 -0.04277 0.004896 9.8 0 0 0.01288
1-2 processing imu...
it_last_IMU.time: 1664877166.498204
lastState: 1664877166.498204
currentState: 1664877166.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.518203974 -0.04208 0.006372 9.8 0 0 0.01273
1-2 processing imu...
it_last_IMU.time: 1664877166.508204
lastState: 1664877166.508204
currentState: 1664877166.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.528203964 -0.04138 0.007849 9.8 0 0 0.01258
1-2 processing imu...
it_last_IMU.time: 1664877166.518204
lastState: 1664877166.518204
currentState: 1664877166.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.538203955 -0.04068 0.009325 9.8 0 0 0.01241
1-2 processing imu...
it_last_IMU.time: 1664877166.528204
lastState: 1664877166.528204
currentState: 1664877166.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.548203945 -0.03999 0.0108 9.8 0 0 0.01224
1-2 processing imu...
it_last_IMU.time: 1664877166.538204
lastState: 1664877166.538204
currentState: 1664877166.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.558203936 -0.03929 0.01126 9.8 0 0 0.01207
1-2 processing imu...
it_last_IMU.time: 1664877166.548204
lastState: 1664877166.548204
currentState: 1664877166.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.568203926 -0.03858 0.009724 9.8 0 0 0.01189
1-2 processing imu...
it_last_IMU.time: 1664877166.558204
lastState: 1664877166.558204
currentState: 1664877166.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.578203917 -0.03787 0.008188 9.8 0 0 0.0117
1-2 processing imu...
it_last_IMU.time: 1664877166.568204
lastState: 1664877166.568204
currentState: 1664877166.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.588203907 -0.03716 0.006652 9.8 0 0 0.01152
1-2 processing imu...
it_last_IMU.time: 1664877166.578204
lastState: 1664877166.578204
currentState: 1664877166.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.598203897 -0.03645 0.005115 9.8 0 0 0.01133
1-2 processing imu...
it_last_IMU.time: 1664877166.588204
lastState: 1664877166.588204
currentState: 1664877166.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.608203888 -0.03575 0.003578 9.8 0 0 0.01114
1-2 processing imu...
it_last_IMU.time: 1664877166.598204
lastState: 1664877166.598204
currentState: 1664877166.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.618204117 -0.03504 0.002041 9.8 0 0 0.01094
1-2 processing imu...
it_last_IMU.time: 1664877166.608204
lastState: 1664877166.608204
currentState: 1664877166.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.628204107 -0.03433 0.000504 9.8 0 0 0.01074
1-2 processing imu...
it_last_IMU.time: 1664877166.618204
lastState: 1664877166.618204
currentState: 1664877166.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.638204098 -0.03363 -0.001034 9.8 0 0 0.01054
1-2 processing imu...
it_last_IMU.time: 1664877166.628204
lastState: 1664877166.628204
currentState: 1664877166.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.648204088 -0.03292 -0.002572 9.8 0 0 0.01034
1-2 processing imu...
it_last_IMU.time: 1664877166.638204
lastState: 1664877166.638204
currentState: 1664877166.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.658204079 -0.03223 -0.003559 9.8 0 0 0.01013
1-2 processing imu...
it_last_IMU.time: 1664877166.648204
lastState: 1664877166.648204
currentState: 1664877166.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.668204069 -0.03156 -0.003422 9.8 0 0 0.009926
1-2 processing imu...
it_last_IMU.time: 1664877166.658204
lastState: 1664877166.658204
currentState: 1664877166.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.678204060 -0.03089 -0.003286 9.8 0 0 0.009718
1-2 processing imu...
it_last_IMU.time: 1664877166.668204
lastState: 1664877166.668204
currentState: 1664877166.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.688204050 -0.03023 -0.00315 9.8 0 0 0.009509
1-2 processing imu...
it_last_IMU.time: 1664877166.678204
lastState: 1664877166.678204
currentState: 1664877166.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.698204041 -0.02956 -0.003013 9.8 0 0 0.009299
1-2 processing imu...
it_last_IMU.time: 1664877166.688204
lastState: 1664877166.688204
currentState: 1664877166.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.708204031 -0.02889 -0.002877 9.8 0 0 0.009089
1-2 processing imu...
it_last_IMU.time: 1664877166.698204
lastState: 1664877166.698204
currentState: 1664877166.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.718204021 -0.02823 -0.002742 9.8 0 0 0.008879
1-2 processing imu...
it_last_IMU.time: 1664877166.708204
lastState: 1664877166.708204
currentState: 1664877166.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.728204012 -0.02756 -0.002606 9.8 0 0 0.008667
1-2 processing imu...
it_last_IMU.time: 1664877166.718204
lastState: 1664877166.718204
currentState: 1664877166.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.738204002 -0.02689 -0.002471 9.8 0 0 0.008455
1-2 processing imu...
it_last_IMU.time: 1664877166.728204
lastState: 1664877166.728204
currentState: 1664877166.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.748203993 -0.02623 -0.002335 9.8 0 0 0.008243
1-2 processing imu...
it_last_IMU.time: 1664877166.738204
lastState: 1664877166.738204
currentState: 1664877166.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.758203983 -0.02558 -0.002663 9.8 0 0 0.00803
1-2 processing imu...
it_last_IMU.time: 1664877166.748204
lastState: 1664877166.748204
currentState: 1664877166.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.768203974 -0.02498 -0.003975 9.8 0 0 0.007817
1-2 processing imu...
it_last_IMU.time: 1664877166.758204
lastState: 1664877166.758204
currentState: 1664877166.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.778203964 -0.02439 -0.005287 9.8 0 0 0.007606
1-2 processing imu...
it_last_IMU.time: 1664877166.768204
lastState: 1664877166.768204
currentState: 1664877166.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.788203955 -0.02379 -0.0066 9.8 0 0 0.007395
1-2 processing imu...
it_last_IMU.time: 1664877166.778204
lastState: 1664877166.778204
currentState: 1664877166.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.798203945 -0.02319 -0.007912 9.8 0 0 0.007186
1-2 processing imu...
it_last_IMU.time: 1664877166.788204
lastState: 1664877166.788204
currentState: 1664877166.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.808203936 -0.02259 -0.009225 9.8 0 0 0.006978
1-2 processing imu...
it_last_IMU.time: 1664877166.798204
lastState: 1664877166.798204
currentState: 1664877166.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.818203926 -0.02199 -0.01054 9.8 0 0 0.006771
1-2 processing imu...
it_last_IMU.time: 1664877166.808204
lastState: 1664877166.808204
currentState: 1664877166.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.828203917 -0.0214 -0.01185 9.8 0 0 0.006565
1-2 processing imu...
it_last_IMU.time: 1664877166.818204
lastState: 1664877166.818204
currentState: 1664877166.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.838203907 -0.0208 -0.01316 9.8 0 0 0.00636
1-2 processing imu...
it_last_IMU.time: 1664877166.828204
lastState: 1664877166.828204
currentState: 1664877166.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.848203897 -0.0202 -0.01448 9.8 0 0 0.006156
1-2 processing imu...
it_last_IMU.time: 1664877166.838204
lastState: 1664877166.838204
currentState: 1664877166.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.858203888 -0.01964 -0.01596 9.8 0 0 0.005954
1-2 processing imu...
it_last_IMU.time: 1664877166.848204
lastState: 1664877166.848204
currentState: 1664877166.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.868204117 -0.01917 -0.01781 9.8 0 0 0.005753
1-2 processing imu...
it_last_IMU.time: 1664877166.858204
lastState: 1664877166.858204
currentState: 1664877166.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.878204107 -0.01869 -0.01965 9.8 0 0 0.005553
1-2 processing imu...
it_last_IMU.time: 1664877166.868204
lastState: 1664877166.868204
currentState: 1664877166.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.888204098 -0.01821 -0.0215 9.8 0 0 0.005356
1-2 processing imu...
it_last_IMU.time: 1664877166.878204
lastState: 1664877166.878204
currentState: 1664877166.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.898204088 -0.01774 -0.02335 9.8 0 0 0.00516
1-2 processing imu...
it_last_IMU.time: 1664877166.888204
lastState: 1664877166.888204
currentState: 1664877166.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877166.883766890 -0.4171 0.838 -0.0007482 0.001115 0.006615 -0.9203 0.3912
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877166.883767
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877166.883767
state->time: 1664877166.883767
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675539.989415140]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675539.989460619]: the fixed q :[-0.311, -0.277, 0.631, 0.655][0m
[0m[ INFO] [1670675539.989469200]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675539.989485591]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.4171 0.838 -0.0007482
p_wv: 18.52 -15.22 31
p: 17.49 -13.38 30.85
q: [-0.311, -0.277, 0.631, 0.655]
l: 0.5145
residual in position: 0.1111 -0.1093 0.07521
q_err :[-0.999, -0.02, -0.0196, 0.0267]
residual in q: 0.04007 0.03922 -0.05341
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877166.883767 it_next->second->time: 1664877166.888204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877166.888204 it_next->second->time: 1664877166.898204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.7 -13.59 31
hc: publish state after update
1-1 IMUCallback(): 1664877166.908204079 -0.01726 -0.0252 9.8 0 0 0.004966
1-2 processing imu...
it_last_IMU.time: 1664877166.898204
lastState: 1664877166.898204
currentState: 1664877166.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.918204069 -0.01678 -0.02705 9.8 0 0 0.004774
1-2 processing imu...
it_last_IMU.time: 1664877166.908204
lastState: 1664877166.908204
currentState: 1664877166.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.928204060 -0.01631 -0.0289 9.8 0 0 0.004584
1-2 processing imu...
it_last_IMU.time: 1664877166.918204
lastState: 1664877166.918204
currentState: 1664877166.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.938204050 -0.01583 -0.03075 9.8 0 0 0.004395
1-2 processing imu...
it_last_IMU.time: 1664877166.928204
lastState: 1664877166.928204
currentState: 1664877166.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.948204041 -0.01536 -0.0326 9.8 0 0 0.004208
1-2 processing imu...
it_last_IMU.time: 1664877166.938204
lastState: 1664877166.938204
currentState: 1664877166.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
[33m[ WARN] [1670675540.097516652]: Pose measurement throttling is on, dropping messagesto be below 2.500000 Hz[0m
1-1 IMUCallback(): 1664877166.958204031 -0.01492 -0.03387 9.8 0 0 0.004023
1-2 processing imu...
it_last_IMU.time: 1664877166.948204
lastState: 1664877166.948204
currentState: 1664877166.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.968204021 -0.01457 -0.03379 9.8 0 0 0.00384
1-2 processing imu...
it_last_IMU.time: 1664877166.958204
lastState: 1664877166.958204
currentState: 1664877166.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.978204012 -0.01423 -0.03371 9.8 0 0 0.00366
1-2 processing imu...
it_last_IMU.time: 1664877166.968204
lastState: 1664877166.968204
currentState: 1664877166.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877166.988204002 -0.01388 -0.03364 9.8 0 0 0.003481
1-2 processing imu...
it_last_IMU.time: 1664877166.978204
lastState: 1664877166.978204
currentState: 1664877166.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877166.998203993 -0.01354 -0.03356 9.8 0 0 0.003305
1-2 processing imu...
it_last_IMU.time: 1664877166.988204
lastState: 1664877166.988204
currentState: 1664877166.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.008203983 -0.01319 -0.03348 9.8 0 0 0.003131
1-2 processing imu...
it_last_IMU.time: 1664877166.998204
lastState: 1664877166.998204
currentState: 1664877167.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.018203974 -0.01285 -0.03341 9.8 0 0 0.002959
1-2 processing imu...
it_last_IMU.time: 1664877167.008204
lastState: 1664877167.008204
currentState: 1664877167.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.028203964 -0.0125 -0.03333 9.8 0 0 0.002789
1-2 processing imu...
it_last_IMU.time: 1664877167.018204
lastState: 1664877167.018204
currentState: 1664877167.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.038203955 -0.01215 -0.03325 9.8 0 0 0.002622
1-2 processing imu...
it_last_IMU.time: 1664877167.028204
lastState: 1664877167.028204
currentState: 1664877167.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.048203945 -0.01181 -0.03318 9.8 0 0 0.002457
1-2 processing imu...
it_last_IMU.time: 1664877167.038204
lastState: 1664877167.038204
currentState: 1664877167.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.058203936 -0.01149 -0.03221 9.8 0 0 0.002294
1-2 processing imu...
it_last_IMU.time: 1664877167.048204
lastState: 1664877167.048204
currentState: 1664877167.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.068203926 -0.01124 -0.02909 9.8 0 0 0.002134
1-2 processing imu...
it_last_IMU.time: 1664877167.058204
lastState: 1664877167.058204
currentState: 1664877167.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.078203917 -0.011 -0.02598 9.8 0 0 0.001977
1-2 processing imu...
it_last_IMU.time: 1664877167.068204
lastState: 1664877167.068204
currentState: 1664877167.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.088203907 -0.01075 -0.02286 9.8 0 0 0.001823
1-2 processing imu...
it_last_IMU.time: 1664877167.078204
lastState: 1664877167.078204
currentState: 1664877167.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.098203897 -0.01051 -0.01974 9.8 0 0 0.001671
1-2 processing imu...
it_last_IMU.time: 1664877167.088204
lastState: 1664877167.088204
currentState: 1664877167.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.108203888 -0.01026 -0.01663 9.8 0 0 0.001523
1-2 processing imu...
it_last_IMU.time: 1664877167.098204
lastState: 1664877167.098204
currentState: 1664877167.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.118204117 -0.01001 -0.01351 9.8 0 0 0.001377
1-2 processing imu...
it_last_IMU.time: 1664877167.108204
lastState: 1664877167.108204
currentState: 1664877167.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.128204107 -0.009768 -0.01039 9.8 0 0 0.001235
1-2 processing imu...
it_last_IMU.time: 1664877167.118204
lastState: 1664877167.118204
currentState: 1664877167.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.138204098 -0.009521 -0.007278 9.8 0 0 0.001095
1-2 processing imu...
it_last_IMU.time: 1664877167.128204
lastState: 1664877167.128204
currentState: 1664877167.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.148204088 -0.009274 -0.004162 9.8 0 0 0.000959
1-2 processing imu...
it_last_IMU.time: 1664877167.138204
lastState: 1664877167.138204
currentState: 1664877167.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.158204079 -0.009041 -0.001393 9.8 0 0 0.000825
1-2 processing imu...
it_last_IMU.time: 1664877167.148204
lastState: 1664877167.148204
currentState: 1664877167.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.168204069 -0.008843 0.0005 9.8 0 0 0.000694
1-2 processing imu...
it_last_IMU.time: 1664877167.158204
lastState: 1664877167.158204
currentState: 1664877167.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.178204060 -0.008645 0.002393 9.8 0 0 0.000568
1-2 processing imu...
it_last_IMU.time: 1664877167.168204
lastState: 1664877167.168204
currentState: 1664877167.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.188204050 -0.008446 0.004286 9.8 0 0 0.000444
1-2 processing imu...
it_last_IMU.time: 1664877167.178204
lastState: 1664877167.178204
currentState: 1664877167.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.198204041 -0.008248 0.006179 9.8 0 0 0.000325
1-2 processing imu...
it_last_IMU.time: 1664877167.188204
lastState: 1664877167.188204
currentState: 1664877167.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.208204031 -0.00805 0.008072 9.8 0 0 0.000209
1-2 processing imu...
it_last_IMU.time: 1664877167.198204
lastState: 1664877167.198204
currentState: 1664877167.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.218204021 -0.007852 0.009965 9.8 0 0 9.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877167.208204
lastState: 1664877167.208204
currentState: 1664877167.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.228204012 -0.007653 0.01186 9.8 0 0 -1.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877167.218204
lastState: 1664877167.218204
currentState: 1664877167.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.238204002 -0.007455 0.01375 9.8 0 0 -0.000119
1-2 processing imu...
it_last_IMU.time: 1664877167.228204
lastState: 1664877167.228204
currentState: 1664877167.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.248203993 -0.007257 0.01564 9.8 0 0 -0.00022
1-2 processing imu...
it_last_IMU.time: 1664877167.238204
lastState: 1664877167.238204
currentState: 1664877167.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.258203983 -0.007069 0.01712 9.8 0 0 -0.000319
1-2 processing imu...
it_last_IMU.time: 1664877167.248204
lastState: 1664877167.248204
currentState: 1664877167.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.268203974 -0.006911 0.01751 9.8 0 0 -0.000414
1-2 processing imu...
it_last_IMU.time: 1664877167.258204
lastState: 1664877167.258204
currentState: 1664877167.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.278203964 -0.006753 0.0179 9.8 0 0 -0.000505
1-2 processing imu...
it_last_IMU.time: 1664877167.268204
lastState: 1664877167.268204
currentState: 1664877167.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.288203955 -0.006594 0.01828 9.8 0 0 -0.000593
1-2 processing imu...
it_last_IMU.time: 1664877167.278204
lastState: 1664877167.278204
currentState: 1664877167.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.298203945 -0.006436 0.01867 9.8 0 0 -0.000677
1-2 processing imu...
it_last_IMU.time: 1664877167.288204
lastState: 1664877167.288204
currentState: 1664877167.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.308203936 -0.006278 0.01906 9.8 0 0 -0.000758
1-2 processing imu...
it_last_IMU.time: 1664877167.298204
lastState: 1664877167.298204
currentState: 1664877167.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877167.307833910 -0.4323 0.8232 -0.001435 0.0002495 0.007322 -0.9201 0.3917
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877167.307834
time: 1664877167.307834
state->time: 1664877167.308204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675540.886383843]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675540.886467545]: the fixed q :[-0.308, -0.278, 0.631, 0.656][0m
[0m[ INFO] [1670675540.886515639]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675540.886569296]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.4323 0.8232 -0.001435
p_wv: 18.52 -15.22 31
p: 17.47 -13.42 30.85
q: [-0.308, -0.278, 0.631, 0.656]
l: 0.5146
residual in position: 0.11 -0.105 0.0756
q_err :[-0.999, -0.0185, -0.0163, 0.0247]
residual in q: 0.03709 0.03264 -0.0494
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
mesurement 0 finished
prop P to state
prop P finished
PublishStateAfterUpdate...
msgState: 17.68 -13.62 31
hc: publish state after update
1-1 IMUCallback(): 1664877167.318203926 -0.006119 0.01945 9.8 0 0 -0.000835
1-2 processing imu...
it_last_IMU.time: 1664877167.308204
lastState: 1664877167.308204
currentState: 1664877167.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.328203917 -0.005961 0.01983 9.8 0 0 -0.000909
1-2 processing imu...
it_last_IMU.time: 1664877167.318204
lastState: 1664877167.318204
currentState: 1664877167.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.338203907 -0.005803 0.02022 9.8 0 0 -0.000979
1-2 processing imu...
it_last_IMU.time: 1664877167.328204
lastState: 1664877167.328204
currentState: 1664877167.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.348203897 -0.005644 0.02061 9.8 0 0 -0.001046
1-2 processing imu...
it_last_IMU.time: 1664877167.338204
lastState: 1664877167.338204
currentState: 1664877167.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.358203888 -0.0055 0.02077 9.8 0 0 -0.001109
1-2 processing imu...
it_last_IMU.time: 1664877167.348204
lastState: 1664877167.348204
currentState: 1664877167.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.368204117 -0.005395 0.02032 9.8 0 0 -0.001169
1-2 processing imu...
it_last_IMU.time: 1664877167.358204
lastState: 1664877167.358204
currentState: 1664877167.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.378204107 -0.00529 0.01986 9.8 0 0 -0.001226
1-2 processing imu...
it_last_IMU.time: 1664877167.368204
lastState: 1664877167.368204
currentState: 1664877167.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.388204098 -0.005185 0.0194 9.8 0 0 -0.00128
1-2 processing imu...
it_last_IMU.time: 1664877167.378204
lastState: 1664877167.378204
currentState: 1664877167.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.398204088 -0.00508 0.01895 9.8 0 0 -0.00133
1-2 processing imu...
it_last_IMU.time: 1664877167.388204
lastState: 1664877167.388204
currentState: 1664877167.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.408204079 -0.004974 0.01849 9.8 0 0 -0.001378
1-2 processing imu...
it_last_IMU.time: 1664877167.398204
lastState: 1664877167.398204
currentState: 1664877167.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.418204069 -0.004869 0.01803 9.8 0 0 -0.001423
1-2 processing imu...
it_last_IMU.time: 1664877167.408204
lastState: 1664877167.408204
currentState: 1664877167.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.428204060 -0.004764 0.01758 9.8 0 0 -0.001464
1-2 processing imu...
it_last_IMU.time: 1664877167.418204
lastState: 1664877167.418204
currentState: 1664877167.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.438204050 -0.004659 0.01712 9.8 0 0 -0.001502
1-2 processing imu...
it_last_IMU.time: 1664877167.428204
lastState: 1664877167.428204
currentState: 1664877167.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.448204041 -0.004554 0.01666 9.8 0 0 -0.001537
1-2 processing imu...
it_last_IMU.time: 1664877167.438204
lastState: 1664877167.438204
currentState: 1664877167.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.458204031 -0.004457 0.01572 9.8 0 0 -0.001569
1-2 processing imu...
it_last_IMU.time: 1664877167.448204
lastState: 1664877167.448204
currentState: 1664877167.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.468204021 -0.004387 0.0134 9.8 0 0 -0.001599
1-2 processing imu...
it_last_IMU.time: 1664877167.458204
lastState: 1664877167.458204
currentState: 1664877167.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.478204012 -0.004316 0.01107 9.8 0 0 -0.001626
1-2 processing imu...
it_last_IMU.time: 1664877167.468204
lastState: 1664877167.468204
currentState: 1664877167.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.488204002 -0.004246 0.008749 9.8 0 0 -0.00165
1-2 processing imu...
it_last_IMU.time: 1664877167.478204
lastState: 1664877167.478204
currentState: 1664877167.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.498203993 -0.004175 0.006424 9.8 0 0 -0.001671
1-2 processing imu...
it_last_IMU.time: 1664877167.488204
lastState: 1664877167.488204
currentState: 1664877167.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.508203983 -0.004104 0.004098 9.8 0 0 -0.00169
1-2 processing imu...
it_last_IMU.time: 1664877167.498204
lastState: 1664877167.498204
currentState: 1664877167.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.518203974 -0.004034 0.001773 9.8 0 0 -0.001707
1-2 processing imu...
it_last_IMU.time: 1664877167.508204
lastState: 1664877167.508204
currentState: 1664877167.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.528203964 -0.003963 -0.000552 9.8 0 0 -0.00172
1-2 processing imu...
it_last_IMU.time: 1664877167.518204
lastState: 1664877167.518204
currentState: 1664877167.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.538203955 -0.003892 -0.002877 9.8 0 0 -0.001731
1-2 processing imu...
it_last_IMU.time: 1664877167.528204
lastState: 1664877167.528204
currentState: 1664877167.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.548203945 -0.003821 -0.005202 9.8 0 0 -0.00174
1-2 processing imu...
it_last_IMU.time: 1664877167.538204
lastState: 1664877167.538204
currentState: 1664877167.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.558203936 -0.003753 -0.007417 9.8 0 0 -0.001746
1-2 processing imu...
it_last_IMU.time: 1664877167.548204
lastState: 1664877167.548204
currentState: 1664877167.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.568203926 -0.003696 -0.0093 9.8 0 0 -0.00175
1-2 processing imu...
it_last_IMU.time: 1664877167.558204
lastState: 1664877167.558204
currentState: 1664877167.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.578203917 -0.003639 -0.01118 9.8 0 0 -0.001752
1-2 processing imu...
it_last_IMU.time: 1664877167.568204
lastState: 1664877167.568204
currentState: 1664877167.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.588203907 -0.003581 -0.01307 9.8 0 0 -0.001752
1-2 processing imu...
it_last_IMU.time: 1664877167.578204
lastState: 1664877167.578204
currentState: 1664877167.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.598203897 -0.003524 -0.01495 9.8 0 0 -0.00175
1-2 processing imu...
it_last_IMU.time: 1664877167.588204
lastState: 1664877167.588204
currentState: 1664877167.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.608203888 -0.003467 -0.01683 9.8 0 0 -0.001746
1-2 processing imu...
it_last_IMU.time: 1664877167.598204
lastState: 1664877167.598204
currentState: 1664877167.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.618204117 -0.003409 -0.01871 9.8 0 0 -0.001741
1-2 processing imu...
it_last_IMU.time: 1664877167.608204
lastState: 1664877167.608204
currentState: 1664877167.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.628204107 -0.003352 -0.0206 9.8 0 0 -0.001733
1-2 processing imu...
it_last_IMU.time: 1664877167.618204
lastState: 1664877167.618204
currentState: 1664877167.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.638204098 -0.003294 -0.02248 9.8 0 0 -0.001724
1-2 processing imu...
it_last_IMU.time: 1664877167.628204
lastState: 1664877167.628204
currentState: 1664877167.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.648204088 -0.003236 -0.02437 9.8 0 0 -0.001713
1-2 processing imu...
it_last_IMU.time: 1664877167.638204
lastState: 1664877167.638204
currentState: 1664877167.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.658204079 -0.003176 -0.0263 9.8 0 0 -0.001699
1-2 processing imu...
it_last_IMU.time: 1664877167.648204
lastState: 1664877167.648204
currentState: 1664877167.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.668204069 -0.00311 -0.02842 9.8 0 0 -0.001685
1-2 processing imu...
it_last_IMU.time: 1664877167.658204
lastState: 1664877167.658204
currentState: 1664877167.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.678204060 -0.003044 -0.03053 9.8 0 0 -0.001669
1-2 processing imu...
it_last_IMU.time: 1664877167.668204
lastState: 1664877167.668204
currentState: 1664877167.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.688204050 -0.002978 -0.03265 9.8 0 0 -0.001652
1-2 processing imu...
it_last_IMU.time: 1664877167.678204
lastState: 1664877167.678204
currentState: 1664877167.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.698204041 -0.002912 -0.03476 9.8 0 0 -0.001633
1-2 processing imu...
it_last_IMU.time: 1664877167.688204
lastState: 1664877167.688204
currentState: 1664877167.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.708204031 -0.002846 -0.03687 9.8 0 0 -0.001613
1-2 processing imu...
it_last_IMU.time: 1664877167.698204
lastState: 1664877167.698204
currentState: 1664877167.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.718204021 -0.00278 -0.03899 9.8 0 0 -0.001592
1-2 processing imu...
it_last_IMU.time: 1664877167.708204
lastState: 1664877167.708204
currentState: 1664877167.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.728204012 -0.002713 -0.0411 9.8 0 0 -0.00157
1-2 processing imu...
it_last_IMU.time: 1664877167.718204
lastState: 1664877167.718204
currentState: 1664877167.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.738204002 -0.002647 -0.04322 9.8 0 0 -0.001546
1-2 processing imu...
it_last_IMU.time: 1664877167.728204
lastState: 1664877167.728204
currentState: 1664877167.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.748203993 -0.00258 -0.04533 9.8 0 0 -0.001521
1-2 processing imu...
it_last_IMU.time: 1664877167.738204
lastState: 1664877167.738204
currentState: 1664877167.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877167.742206097 -0.4477 0.8077 -0.001601 9.777e-05 0.007775 -0.92 0.3918
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877167.742206
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877167.742206
state->time: 1664877167.742206
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675541.864382118]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675541.864503857]: the fixed q :[-0.308, -0.278, 0.63, 0.657][0m
[0m[ INFO] [1670675541.864528266]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675541.864547535]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.4477 0.8077 -0.001601
p_wv: 18.52 -15.22 31
p: 17.44 -13.45 30.85
q: [-0.308, -0.278, 0.63, 0.657]
l: 0.5146
residual in position: 0.1064 -0.1048 0.07454
q_err :[-0.999, -0.0191, -0.0149, 0.0243]
residual in q: 0.03823 0.02989 -0.0487
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877167.742206 it_next->second->time: 1664877167.748204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.65 -13.65 31
hc: publish state after update
1-1 IMUCallback(): 1664877167.758203983 -0.002512 -0.04605 9.8 0 0 -0.001495
1-2 processing imu...
it_last_IMU.time: 1664877167.748204
lastState: 1664877167.748204
currentState: 1664877167.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.768203974 -0.00244 -0.04212 9.8 0 0 -0.001468
1-2 processing imu...
it_last_IMU.time: 1664877167.758204
lastState: 1664877167.758204
currentState: 1664877167.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.778203964 -0.002367 -0.03818 9.8 0 0 -0.00144
1-2 processing imu...
it_last_IMU.time: 1664877167.768204
lastState: 1664877167.768204
currentState: 1664877167.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.788203955 -0.002295 -0.03425 9.8 0 0 -0.001411
1-2 processing imu...
it_last_IMU.time: 1664877167.778204
lastState: 1664877167.778204
currentState: 1664877167.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.798203945 -0.002223 -0.03032 9.8 0 0 -0.001382
1-2 processing imu...
it_last_IMU.time: 1664877167.788204
lastState: 1664877167.788204
currentState: 1664877167.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.808203936 -0.00215 -0.02638 9.8 0 0 -0.001351
1-2 processing imu...
it_last_IMU.time: 1664877167.798204
lastState: 1664877167.798204
currentState: 1664877167.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.818203926 -0.002078 -0.02245 9.8 0 0 -0.00132
1-2 processing imu...
it_last_IMU.time: 1664877167.808204
lastState: 1664877167.808204
currentState: 1664877167.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.828203917 -0.002006 -0.01852 9.8 0 0 -0.001288
1-2 processing imu...
it_last_IMU.time: 1664877167.818204
lastState: 1664877167.818204
currentState: 1664877167.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.838203907 -0.001934 -0.01458 9.8 0 0 -0.001256
1-2 processing imu...
it_last_IMU.time: 1664877167.828204
lastState: 1664877167.828204
currentState: 1664877167.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.848203897 -0.001863 -0.01065 9.8 0 0 -0.001222
1-2 processing imu...
it_last_IMU.time: 1664877167.838204
lastState: 1664877167.838204
currentState: 1664877167.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.858203888 -0.001791 -0.007276 9.8 0 0 -0.001188
1-2 processing imu...
it_last_IMU.time: 1664877167.848204
lastState: 1664877167.848204
currentState: 1664877167.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.868204117 -0.001722 -0.005866 9.8 0 0 -0.001153
1-2 processing imu...
it_last_IMU.time: 1664877167.858204
lastState: 1664877167.858204
currentState: 1664877167.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.878204107 -0.001652 -0.004455 9.8 0 0 -0.001118
1-2 processing imu...
it_last_IMU.time: 1664877167.868204
lastState: 1664877167.868204
currentState: 1664877167.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.888204098 -0.001582 -0.003045 9.8 0 0 -0.001083
1-2 processing imu...
it_last_IMU.time: 1664877167.878204
lastState: 1664877167.878204
currentState: 1664877167.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.898204088 -0.001513 -0.001635 9.8 0 0 -0.001047
1-2 processing imu...
it_last_IMU.time: 1664877167.888204
lastState: 1664877167.888204
currentState: 1664877167.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.908204079 -0.001443 -0.000225 9.8 0 0 -0.00101
1-2 processing imu...
it_last_IMU.time: 1664877167.898204
lastState: 1664877167.898204
currentState: 1664877167.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.918204069 -0.001374 0.001185 9.8 0 0 -0.000973
1-2 processing imu...
it_last_IMU.time: 1664877167.908204
lastState: 1664877167.908204
currentState: 1664877167.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.928204060 -0.001304 0.002595 9.8 0 0 -0.000936
1-2 processing imu...
it_last_IMU.time: 1664877167.918204
lastState: 1664877167.918204
currentState: 1664877167.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.938204050 -0.001235 0.004005 9.8 0 0 -0.000898
1-2 processing imu...
it_last_IMU.time: 1664877167.928204
lastState: 1664877167.928204
currentState: 1664877167.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.948204041 -0.001165 0.005415 9.8 0 0 -0.00086
1-2 processing imu...
it_last_IMU.time: 1664877167.938204
lastState: 1664877167.938204
currentState: 1664877167.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.958204031 -0.001096 0.006622 9.8 0 0 -0.000822
1-2 processing imu...
it_last_IMU.time: 1664877167.948204
lastState: 1664877167.948204
currentState: 1664877167.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.968204021 -0.001027 0.007078 9.8 0 0 -0.000783
1-2 processing imu...
it_last_IMU.time: 1664877167.958204
lastState: 1664877167.958204
currentState: 1664877167.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877167.978204012 -0.000959 0.007535 9.8 0 0 -0.000744
1-2 processing imu...
it_last_IMU.time: 1664877167.968204
lastState: 1664877167.968204
currentState: 1664877167.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.988204002 -0.00089 0.007991 9.8 0 0 -0.000705
1-2 processing imu...
it_last_IMU.time: 1664877167.978204
lastState: 1664877167.978204
currentState: 1664877167.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877167.998203993 -0.000821 0.008447 9.8 0 0 -0.000665
1-2 processing imu...
it_last_IMU.time: 1664877167.988204
lastState: 1664877167.988204
currentState: 1664877167.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.008203983 -0.000752 0.008903 9.8 0 0 -0.000625
1-2 processing imu...
it_last_IMU.time: 1664877167.998204
lastState: 1664877167.998204
currentState: 1664877168.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.018203974 -0.000683 0.009359 9.8 0 0 -0.000586
1-2 processing imu...
it_last_IMU.time: 1664877168.008204
lastState: 1664877168.008204
currentState: 1664877168.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.028203964 -0.000615 0.009816 9.8 0 0 -0.000546
1-2 processing imu...
it_last_IMU.time: 1664877168.018204
lastState: 1664877168.018204
currentState: 1664877168.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.038203955 -0.000546 0.01027 9.8 0 0 -0.000505
1-2 processing imu...
it_last_IMU.time: 1664877168.028204
lastState: 1664877168.028204
currentState: 1664877168.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.048203945 -0.000477 0.01073 9.8 0 0 -0.000465
1-2 processing imu...
it_last_IMU.time: 1664877168.038204
lastState: 1664877168.038204
currentState: 1664877168.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.058203936 -0.000408 0.01096 9.8 0 0 -0.000424
1-2 processing imu...
it_last_IMU.time: 1664877168.048204
lastState: 1664877168.048204
currentState: 1664877168.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.068203926 -0.000337 0.01034 9.8 0 0 -0.000383
1-2 processing imu...
it_last_IMU.time: 1664877168.058204
lastState: 1664877168.058204
currentState: 1664877168.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.078203917 -0.000266 0.009717 9.8 0 0 -0.000343
1-2 processing imu...
it_last_IMU.time: 1664877168.068204
lastState: 1664877168.068204
currentState: 1664877168.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.088203907 -0.000194 0.009094 9.8 0 0 -0.000302
1-2 processing imu...
it_last_IMU.time: 1664877168.078204
lastState: 1664877168.078204
currentState: 1664877168.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.098203897 -0.000123 0.00847 9.8 0 0 -0.000262
1-2 processing imu...
it_last_IMU.time: 1664877168.088204
lastState: 1664877168.088204
currentState: 1664877168.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.108203888 -5.2e-05 0.007847 9.8 0 0 -0.000221
1-2 processing imu...
it_last_IMU.time: 1664877168.098204
lastState: 1664877168.098204
currentState: 1664877168.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.118204117 1.9e-05 0.007223 9.8 0 0 -0.000181
1-2 processing imu...
it_last_IMU.time: 1664877168.108204
lastState: 1664877168.108204
currentState: 1664877168.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.128204107 9e-05 0.0066 9.8 0 0 -0.000141
1-2 processing imu...
it_last_IMU.time: 1664877168.118204
lastState: 1664877168.118204
currentState: 1664877168.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.138204098 0.000161 0.005976 9.8 0 0 -0.0001
1-2 processing imu...
it_last_IMU.time: 1664877168.128204
lastState: 1664877168.128204
currentState: 1664877168.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.148204088 0.000233 0.005353 9.8 0 0 -6e-05
1-2 processing imu...
it_last_IMU.time: 1664877168.138204
lastState: 1664877168.138204
currentState: 1664877168.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.158204079 0.000305 0.004888 9.8 0 0 -2e-05
1-2 processing imu...
it_last_IMU.time: 1664877168.148204
lastState: 1664877168.148204
currentState: 1664877168.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.168204069 0.000383 0.005077 9.8 0 0 2e-05
1-2 processing imu...
it_last_IMU.time: 1664877168.158204
lastState: 1664877168.158204
currentState: 1664877168.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.178204060 0.000461 0.005265 9.8 0 0 5.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877168.168204
lastState: 1664877168.168204
currentState: 1664877168.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.188204050 0.00054 0.005454 9.8 0 0 9.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877168.178204
lastState: 1664877168.178204
currentState: 1664877168.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.198204041 0.000618 0.005643 9.8 0 0 0.000137
1-2 processing imu...
it_last_IMU.time: 1664877168.188204
lastState: 1664877168.188204
currentState: 1664877168.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877168.180633068 -0.4649 0.7907 -0.002319 -0.0005989 0.00757 -0.9197 0.3926
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877168.180633
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877168.180633
state->time: 1664877168.180633
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675542.821633245]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675542.821724421]: the fixed q :[-0.306, -0.278, 0.629, 0.658][0m
[0m[ INFO] [1670675542.821801743]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675542.821858383]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.4649 0.7907 -0.002319
p_wv: 18.52 -15.22 31
p: 17.42 -13.48 30.85
q: [-0.306, -0.278, 0.629, 0.658]
l: 0.5146
residual in position: 0.1014 -0.1025 0.07361
q_err :[-0.999, -0.0193, -0.0131, 0.0226]
residual in q: 0.03858 0.02613 -0.04521
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877168.180633 it_next->second->time: 1664877168.188204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877168.188204 it_next->second->time: 1664877168.198204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.61 -13.68 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877168.208204031 0.000696 0.005832 9.8 0 0 0.000176
1-2 processing imu...
it_last_IMU.time: 1664877168.198204
lastState: 1664877168.198204
currentState: 1664877168.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.218204021 0.000774 0.006021 9.8 0 0 0.000214
1-2 processing imu...
it_last_IMU.time: 1664877168.208204
lastState: 1664877168.208204
currentState: 1664877168.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.228204012 0.000852 0.006209 9.8 0 0 0.000252
1-2 processing imu...
it_last_IMU.time: 1664877168.218204
lastState: 1664877168.218204
currentState: 1664877168.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.238204002 0.00093 0.006398 9.8 0 0 0.000289
1-2 processing imu...
it_last_IMU.time: 1664877168.228204
lastState: 1664877168.228204
currentState: 1664877168.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.248203993 0.001008 0.006587 9.8 0 0 0.000326
1-2 processing imu...
it_last_IMU.time: 1664877168.238204
lastState: 1664877168.238204
currentState: 1664877168.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.258203983 0.001088 0.00666 9.8 0 0 0.000363
1-2 processing imu...
it_last_IMU.time: 1664877168.248204
lastState: 1664877168.248204
currentState: 1664877168.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.268203974 0.001176 0.006229 9.8 0 0 0.000399
1-2 processing imu...
it_last_IMU.time: 1664877168.258204
lastState: 1664877168.258204
currentState: 1664877168.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.278203964 0.001264 0.005798 9.8 0 0 0.000435
1-2 processing imu...
it_last_IMU.time: 1664877168.268204
lastState: 1664877168.268204
currentState: 1664877168.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.288203955 0.001352 0.005367 9.8 0 0 0.00047
1-2 processing imu...
it_last_IMU.time: 1664877168.278204
lastState: 1664877168.278204
currentState: 1664877168.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.298203945 0.00144 0.004935 9.8 0 0 0.000505
1-2 processing imu...
it_last_IMU.time: 1664877168.288204
lastState: 1664877168.288204
currentState: 1664877168.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.308203936 0.001528 0.004504 9.8 0 0 0.000539
1-2 processing imu...
it_last_IMU.time: 1664877168.298204
lastState: 1664877168.298204
currentState: 1664877168.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.318203926 0.001615 0.004073 9.8 0 0 0.000573
1-2 processing imu...
it_last_IMU.time: 1664877168.308204
lastState: 1664877168.308204
currentState: 1664877168.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.328203917 0.001703 0.003642 9.8 0 0 0.000606
1-2 processing imu...
it_last_IMU.time: 1664877168.318204
lastState: 1664877168.318204
currentState: 1664877168.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.338203907 0.001791 0.003211 9.8 0 0 0.000639
1-2 processing imu...
it_last_IMU.time: 1664877168.328204
lastState: 1664877168.328204
currentState: 1664877168.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.348203897 0.001879 0.002779 9.8 0 0 0.000671
1-2 processing imu...
it_last_IMU.time: 1664877168.338204
lastState: 1664877168.338204
currentState: 1664877168.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.358203888 0.001969 0.003134 9.8 0 0 0.000703
1-2 processing imu...
it_last_IMU.time: 1664877168.348204
lastState: 1664877168.348204
currentState: 1664877168.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.368204117 0.002068 0.007137 9.8 0 0 0.000734
1-2 processing imu...
it_last_IMU.time: 1664877168.358204
lastState: 1664877168.358204
currentState: 1664877168.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.378204107 0.002168 0.01114 9.8 0 0 0.000764
1-2 processing imu...
it_last_IMU.time: 1664877168.368204
lastState: 1664877168.368204
currentState: 1664877168.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.388204098 0.002267 0.01514 9.8 0 0 0.000794
1-2 processing imu...
it_last_IMU.time: 1664877168.378204
lastState: 1664877168.378204
currentState: 1664877168.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.398204088 0.002367 0.01914 9.8 0 0 0.000823
1-2 processing imu...
it_last_IMU.time: 1664877168.388204
lastState: 1664877168.388204
currentState: 1664877168.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.408204079 0.002467 0.02315 9.8 0 0 0.000851
1-2 processing imu...
it_last_IMU.time: 1664877168.398204
lastState: 1664877168.398204
currentState: 1664877168.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.418204069 0.002566 0.02715 9.8 0 0 0.000879
1-2 processing imu...
it_last_IMU.time: 1664877168.408204
lastState: 1664877168.408204
currentState: 1664877168.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.428204060 0.002666 0.03115 9.8 0 0 0.000905
1-2 processing imu...
it_last_IMU.time: 1664877168.418204
lastState: 1664877168.418204
currentState: 1664877168.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.438204050 0.002766 0.03515 9.8 0 0 0.000932
1-2 processing imu...
it_last_IMU.time: 1664877168.428204
lastState: 1664877168.428204
currentState: 1664877168.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.448204041 0.002866 0.03916 9.8 0 0 0.000957
1-2 processing imu...
it_last_IMU.time: 1664877168.438204
lastState: 1664877168.438204
currentState: 1664877168.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.458204031 0.002968 0.04276 9.8 0 0 0.000982
1-2 processing imu...
it_last_IMU.time: 1664877168.448204
lastState: 1664877168.448204
currentState: 1664877168.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.468204021 0.003076 0.04437 9.8 0 0 0.001006
1-2 processing imu...
it_last_IMU.time: 1664877168.458204
lastState: 1664877168.458204
currentState: 1664877168.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.478204012 0.003184 0.04599 9.8 0 0 0.001029
1-2 processing imu...
it_last_IMU.time: 1664877168.468204
lastState: 1664877168.468204
currentState: 1664877168.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.488204002 0.003292 0.04761 9.8 0 0 0.001052
1-2 processing imu...
it_last_IMU.time: 1664877168.478204
lastState: 1664877168.478204
currentState: 1664877168.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.498203993 0.0034 0.04923 9.8 0 0 0.001073
1-2 processing imu...
it_last_IMU.time: 1664877168.488204
lastState: 1664877168.488204
currentState: 1664877168.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.508203983 0.003509 0.05084 9.8 0 0 0.001094
1-2 processing imu...
it_last_IMU.time: 1664877168.498204
lastState: 1664877168.498204
currentState: 1664877168.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.518203974 0.003617 0.05246 9.8 0 0 0.001114
1-2 processing imu...
it_last_IMU.time: 1664877168.508204
lastState: 1664877168.508204
currentState: 1664877168.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.528203964 0.003725 0.05408 9.8 0 0 0.001133
1-2 processing imu...
it_last_IMU.time: 1664877168.518204
lastState: 1664877168.518204
currentState: 1664877168.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.538203955 0.003834 0.0557 9.8 0 0 0.001151
1-2 processing imu...
it_last_IMU.time: 1664877168.528204
lastState: 1664877168.528204
currentState: 1664877168.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.548203945 0.003942 0.05731 9.8 0 0 0.001168
1-2 processing imu...
it_last_IMU.time: 1664877168.538204
lastState: 1664877168.538204
currentState: 1664877168.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.558203936 0.00405 0.05852 9.8 0 0 0.001184
1-2 processing imu...
it_last_IMU.time: 1664877168.548204
lastState: 1664877168.548204
currentState: 1664877168.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.568203926 0.004151 0.05757 9.8 0 0 0.001199
1-2 processing imu...
it_last_IMU.time: 1664877168.558204
lastState: 1664877168.558204
currentState: 1664877168.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.578203917 0.004253 0.05662 9.8 0 0 0.001213
1-2 processing imu...
it_last_IMU.time: 1664877168.568204
lastState: 1664877168.568204
currentState: 1664877168.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.588203907 0.004355 0.05567 9.8 0 0 0.001226
1-2 processing imu...
it_last_IMU.time: 1664877168.578204
lastState: 1664877168.578204
currentState: 1664877168.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.598203897 0.004456 0.05472 9.8 0 0 0.001238
1-2 processing imu...
it_last_IMU.time: 1664877168.588204
lastState: 1664877168.588204
currentState: 1664877168.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.608203888 0.004558 0.05377 9.8 0 0 0.001248
1-2 processing imu...
it_last_IMU.time: 1664877168.598204
lastState: 1664877168.598204
currentState: 1664877168.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877168.593040943 -0.4802 0.7754 -0.002809 -0.001694 0.008437 -0.9193 0.3934
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877168.593041
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877168.593041
state->time: 1664877168.593041
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675543.708059586]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675543.708109711]: the fixed q :[-0.304, -0.278, 0.631, 0.658][0m
[0m[ INFO] [1670675543.708119600]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675543.708138201]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.4802 0.7754 -0.002809
p_wv: 18.52 -15.22 31
p: 17.41 -13.54 30.87
q: [-0.304, -0.278, 0.631, 0.658]
l: 0.5146
residual in position: 0.08976 -0.08733 0.06263
q_err :[-1, -0.0166, -0.0115, 0.0202]
residual in q: 0.03318 0.02298 -0.04047
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877168.593041 it_next->second->time: 1664877168.598204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877168.598204 it_next->second->time: 1664877168.608204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.58 -13.71 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877168.618204117 0.004659 0.05282 9.8 0 0 0.001258
1-2 processing imu...
it_last_IMU.time: 1664877168.608204
lastState: 1664877168.608204
currentState: 1664877168.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.628204107 0.004761 0.05187 9.8 0 0 0.001266
1-2 processing imu...
it_last_IMU.time: 1664877168.618204
lastState: 1664877168.618204
currentState: 1664877168.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.638204098 0.004863 0.05092 9.8 0 0 0.001273
1-2 processing imu...
it_last_IMU.time: 1664877168.628204
lastState: 1664877168.628204
currentState: 1664877168.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.648204088 0.004964 0.04997 9.8 0 0 0.001279
1-2 processing imu...
it_last_IMU.time: 1664877168.638204
lastState: 1664877168.638204
currentState: 1664877168.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.658204079 0.005064 0.04881 9.8 0 0 0.001284
1-2 processing imu...
it_last_IMU.time: 1664877168.648204
lastState: 1664877168.648204
currentState: 1664877168.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.668204069 0.005154 0.04644 9.8 0 0 0.001287
1-2 processing imu...
it_last_IMU.time: 1664877168.658204
lastState: 1664877168.658204
currentState: 1664877168.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.678204060 0.005244 0.04408 9.8 0 0 0.001289
1-2 processing imu...
it_last_IMU.time: 1664877168.668204
lastState: 1664877168.668204
currentState: 1664877168.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.688204050 0.005334 0.04171 9.8 0 0 0.00129
1-2 processing imu...
it_last_IMU.time: 1664877168.678204
lastState: 1664877168.678204
currentState: 1664877168.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.698204041 0.005424 0.03935 9.8 0 0 0.001289
1-2 processing imu...
it_last_IMU.time: 1664877168.688204
lastState: 1664877168.688204
currentState: 1664877168.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.708204031 0.005514 0.03699 9.8 0 0 0.001286
1-2 processing imu...
it_last_IMU.time: 1664877168.698204
lastState: 1664877168.698204
currentState: 1664877168.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.718204021 0.005604 0.03462 9.8 0 0 0.001282
1-2 processing imu...
it_last_IMU.time: 1664877168.708204
lastState: 1664877168.708204
currentState: 1664877168.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.728204012 0.005694 0.03226 9.8 0 0 0.001277
1-2 processing imu...
it_last_IMU.time: 1664877168.718204
lastState: 1664877168.718204
currentState: 1664877168.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.738204002 0.005784 0.0299 9.8 0 0 0.00127
1-2 processing imu...
it_last_IMU.time: 1664877168.728204
lastState: 1664877168.728204
currentState: 1664877168.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.748203993 0.005873 0.02753 9.8 0 0 0.001262
1-2 processing imu...
it_last_IMU.time: 1664877168.738204
lastState: 1664877168.738204
currentState: 1664877168.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.758203983 0.005964 0.02508 9.8 0 0 0.001252
1-2 processing imu...
it_last_IMU.time: 1664877168.748204
lastState: 1664877168.748204
currentState: 1664877168.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.768203974 0.006058 0.02208 9.8 0 0 0.001241
1-2 processing imu...
it_last_IMU.time: 1664877168.758204
lastState: 1664877168.758204
currentState: 1664877168.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.778203964 0.006152 0.01909 9.8 0 0 0.001228
1-2 processing imu...
it_last_IMU.time: 1664877168.768204
lastState: 1664877168.768204
currentState: 1664877168.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.788203955 0.006246 0.01609 9.8 0 0 0.001213
1-2 processing imu...
it_last_IMU.time: 1664877168.778204
lastState: 1664877168.778204
currentState: 1664877168.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.798203945 0.006339 0.0131 9.8 0 0 0.001197
1-2 processing imu...
it_last_IMU.time: 1664877168.788204
lastState: 1664877168.788204
currentState: 1664877168.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.808203936 0.006433 0.0101 9.8 0 0 0.001179
1-2 processing imu...
it_last_IMU.time: 1664877168.798204
lastState: 1664877168.798204
currentState: 1664877168.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.818203926 0.006527 0.007105 9.8 0 0 0.001159
1-2 processing imu...
it_last_IMU.time: 1664877168.808204
lastState: 1664877168.808204
currentState: 1664877168.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.828203917 0.00662 0.004109 9.8 0 0 0.001138
1-2 processing imu...
it_last_IMU.time: 1664877168.818204
lastState: 1664877168.818204
currentState: 1664877168.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.838203907 0.006714 0.001114 9.8 0 0 0.001116
1-2 processing imu...
it_last_IMU.time: 1664877168.828204
lastState: 1664877168.828204
currentState: 1664877168.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.848203897 0.006807 -0.001882 9.8 0 0 0.001091
1-2 processing imu...
it_last_IMU.time: 1664877168.838204
lastState: 1664877168.838204
currentState: 1664877168.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.858203888 0.006902 -0.00504 9.8 0 0 0.001066
1-2 processing imu...
it_last_IMU.time: 1664877168.848204
lastState: 1664877168.848204
currentState: 1664877168.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.868204117 0.007 -0.009264 9.8 0 0 0.001038
1-2 processing imu...
it_last_IMU.time: 1664877168.858204
lastState: 1664877168.858204
currentState: 1664877168.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.878204107 0.007098 -0.01349 9.8 0 0 0.001009
1-2 processing imu...
it_last_IMU.time: 1664877168.868204
lastState: 1664877168.868204
currentState: 1664877168.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.888204098 0.007197 -0.01771 9.8 0 0 0.000979
1-2 processing imu...
it_last_IMU.time: 1664877168.878204
lastState: 1664877168.878204
currentState: 1664877168.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.898204088 0.007295 -0.02194 9.8 0 0 0.000947
1-2 processing imu...
it_last_IMU.time: 1664877168.888204
lastState: 1664877168.888204
currentState: 1664877168.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.908204079 0.007393 -0.02616 9.8 0 0 0.000913
1-2 processing imu...
it_last_IMU.time: 1664877168.898204
lastState: 1664877168.898204
currentState: 1664877168.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.918204069 0.007491 -0.03038 9.8 0 0 0.000878
1-2 processing imu...
it_last_IMU.time: 1664877168.908204
lastState: 1664877168.908204
currentState: 1664877168.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.928204060 0.007589 -0.03461 9.8 0 0 0.000842
1-2 processing imu...
it_last_IMU.time: 1664877168.918204
lastState: 1664877168.918204
currentState: 1664877168.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.938204050 0.007687 -0.03883 9.8 0 0 0.000804
1-2 processing imu...
it_last_IMU.time: 1664877168.928204
lastState: 1664877168.928204
currentState: 1664877168.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.948204041 0.007785 -0.04306 9.8 0 0 0.000764
1-2 processing imu...
it_last_IMU.time: 1664877168.938204
lastState: 1664877168.938204
currentState: 1664877168.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.958204031 0.007882 -0.04713 9.8 0 0 0.000723
1-2 processing imu...
it_last_IMU.time: 1664877168.948204
lastState: 1664877168.948204
currentState: 1664877168.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.968204021 0.007972 -0.05017 9.8 0 0 0.000681
1-2 processing imu...
it_last_IMU.time: 1664877168.958204
lastState: 1664877168.958204
currentState: 1664877168.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.978204012 0.008062 -0.0532 9.8 0 0 0.000637
1-2 processing imu...
it_last_IMU.time: 1664877168.968204
lastState: 1664877168.968204
currentState: 1664877168.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877168.988204002 0.008152 -0.05624 9.8 0 0 0.000593
1-2 processing imu...
it_last_IMU.time: 1664877168.978204
lastState: 1664877168.978204
currentState: 1664877168.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877168.998203993 0.008242 -0.05928 9.8 0 0 0.000547
1-2 processing imu...
it_last_IMU.time: 1664877168.988204
lastState: 1664877168.988204
currentState: 1664877168.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.008203983 0.008332 -0.06231 9.8 0 0 0.0005
1-2 processing imu...
it_last_IMU.time: 1664877168.998204
lastState: 1664877168.998204
currentState: 1664877169.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.018203974 0.008422 -0.06535 9.8 0 0 0.000451
1-2 processing imu...
it_last_IMU.time: 1664877169.008204
lastState: 1664877169.008204
currentState: 1664877169.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.028203964 0.008512 -0.06838 9.8 0 0 0.000402
1-2 processing imu...
it_last_IMU.time: 1664877169.018204
lastState: 1664877169.018204
currentState: 1664877169.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877169.011760950 -0.4954 0.7589 -0.002635 -0.001294 0.009064 -0.9197 0.3925
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877169.011761
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877169.011761
state->time: 1664877169.011761
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675544.577460371]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675544.577510079]: the fixed q :[-0.305, -0.278, 0.63, 0.658][0m
[0m[ INFO] [1670675544.577522923]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675544.577542170]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.4954 0.7589 -0.002635
p_wv: 18.52 -15.22 31
p: 17.39 -13.57 30.88
q: [-0.305, -0.278, 0.63, 0.658]
l: 0.5146
residual in position: 0.08565 -0.08787 0.05947
q_err :[-1, -0.0173, -0.012, 0.0212]
residual in q: 0.03458 0.02401 -0.04246
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877169.011761 it_next->second->time: 1664877169.018204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877169.018204 it_next->second->time: 1664877169.028204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.55 -13.74 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877169.038203955 0.008602 -0.07142 9.8 0 0 0.000352
1-2 processing imu...
it_last_IMU.time: 1664877169.028204
lastState: 1664877169.028204
currentState: 1664877169.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.048203945 0.008692 -0.07445 9.8 0 0 0.0003
1-2 processing imu...
it_last_IMU.time: 1664877169.038204
lastState: 1664877169.038204
currentState: 1664877169.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.058203936 0.008777 -0.07722 9.8 0 0 0.000247
1-2 processing imu...
it_last_IMU.time: 1664877169.048204
lastState: 1664877169.048204
currentState: 1664877169.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.068203926 0.00882 -0.07792 9.8 0 0 0.000193
1-2 processing imu...
it_last_IMU.time: 1664877169.058204
lastState: 1664877169.058204
currentState: 1664877169.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.078203917 0.008863 -0.07862 9.8 0 0 0.000139
1-2 processing imu...
it_last_IMU.time: 1664877169.068204
lastState: 1664877169.068204
currentState: 1664877169.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.088203907 0.008907 -0.07932 9.8 0 0 8.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877169.078204
lastState: 1664877169.078204
currentState: 1664877169.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.098203897 0.00895 -0.08002 9.8 0 0 3e-05
1-2 processing imu...
it_last_IMU.time: 1664877169.088204
lastState: 1664877169.088204
currentState: 1664877169.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.108203888 0.008994 -0.08071 9.8 0 0 -2.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877169.098204
lastState: 1664877169.098204
currentState: 1664877169.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.118204117 0.009038 -0.08141 9.8 0 0 -8.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877169.108204
lastState: 1664877169.108204
currentState: 1664877169.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.128204107 0.009081 -0.08211 9.8 0 0 -0.000137
1-2 processing imu...
it_last_IMU.time: 1664877169.118204
lastState: 1664877169.118204
currentState: 1664877169.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.138204098 0.009125 -0.08281 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877169.128204
lastState: 1664877169.128204
currentState: 1664877169.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.148204088 0.009169 -0.08351 9.8 0 0 -0.00025
1-2 processing imu...
it_last_IMU.time: 1664877169.138204
lastState: 1664877169.138204
currentState: 1664877169.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.158204079 0.009207 -0.08406 9.8 0 0 -0.000308
1-2 processing imu...
it_last_IMU.time: 1664877169.148204
lastState: 1664877169.148204
currentState: 1664877169.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.168204069 0.009194 -0.08335 9.8 0 0 -0.000364
1-2 processing imu...
it_last_IMU.time: 1664877169.158204
lastState: 1664877169.158204
currentState: 1664877169.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.178204060 0.009182 -0.08265 9.8 0 0 -0.000421
1-2 processing imu...
it_last_IMU.time: 1664877169.168204
lastState: 1664877169.168204
currentState: 1664877169.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.188204050 0.00917 -0.08194 9.8 0 0 -0.000476
1-2 processing imu...
it_last_IMU.time: 1664877169.178204
lastState: 1664877169.178204
currentState: 1664877169.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.198204041 0.009158 -0.08124 9.8 0 0 -0.00053
1-2 processing imu...
it_last_IMU.time: 1664877169.188204
lastState: 1664877169.188204
currentState: 1664877169.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.208204031 0.009146 -0.08053 9.8 0 0 -0.000584
1-2 processing imu...
it_last_IMU.time: 1664877169.198204
lastState: 1664877169.198204
currentState: 1664877169.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.218204021 0.009133 -0.07982 9.8 0 0 -0.000637
1-2 processing imu...
it_last_IMU.time: 1664877169.208204
lastState: 1664877169.208204
currentState: 1664877169.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.228204012 0.009121 -0.07912 9.8 0 0 -0.000689
1-2 processing imu...
it_last_IMU.time: 1664877169.218204
lastState: 1664877169.218204
currentState: 1664877169.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.238204002 0.009109 -0.07841 9.8 0 0 -0.00074
1-2 processing imu...
it_last_IMU.time: 1664877169.228204
lastState: 1664877169.228204
currentState: 1664877169.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.248203993 0.009097 -0.0777 9.8 0 0 -0.00079
1-2 processing imu...
it_last_IMU.time: 1664877169.238204
lastState: 1664877169.238204
currentState: 1664877169.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.258203983 0.009082 -0.07653 9.8 0 0 -0.00084
1-2 processing imu...
it_last_IMU.time: 1664877169.248204
lastState: 1664877169.248204
currentState: 1664877169.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.268203974 0.009037 -0.07108 9.8 0 0 -0.000888
1-2 processing imu...
it_last_IMU.time: 1664877169.258204
lastState: 1664877169.258204
currentState: 1664877169.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.278203964 0.008993 -0.06562 9.8 0 0 -0.000935
1-2 processing imu...
it_last_IMU.time: 1664877169.268204
lastState: 1664877169.268204
currentState: 1664877169.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.288203955 0.008948 -0.06017 9.8 0 0 -0.00098
1-2 processing imu...
it_last_IMU.time: 1664877169.278204
lastState: 1664877169.278204
currentState: 1664877169.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.298203945 0.008903 -0.05471 9.8 0 0 -0.001024
1-2 processing imu...
it_last_IMU.time: 1664877169.288204
lastState: 1664877169.288204
currentState: 1664877169.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.308203936 0.008858 -0.04925 9.8 0 0 -0.001066
1-2 processing imu...
it_last_IMU.time: 1664877169.298204
lastState: 1664877169.298204
currentState: 1664877169.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.318203926 0.008813 -0.0438 9.8 0 0 -0.001106
1-2 processing imu...
it_last_IMU.time: 1664877169.308204
lastState: 1664877169.308204
currentState: 1664877169.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.328203917 0.008768 -0.03834 9.8 0 0 -0.001145
1-2 processing imu...
it_last_IMU.time: 1664877169.318204
lastState: 1664877169.318204
currentState: 1664877169.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.338203907 0.008723 -0.03288 9.8 0 0 -0.001182
1-2 processing imu...
it_last_IMU.time: 1664877169.328204
lastState: 1664877169.328204
currentState: 1664877169.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.348203897 0.008678 -0.02743 9.8 0 0 -0.001218
1-2 processing imu...
it_last_IMU.time: 1664877169.338204
lastState: 1664877169.338204
currentState: 1664877169.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.358203888 0.00863 -0.02185 9.8 0 0 -0.001252
1-2 processing imu...
it_last_IMU.time: 1664877169.348204
lastState: 1664877169.348204
currentState: 1664877169.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.368204117 0.008555 -0.01497 9.8 0 0 -0.001284
1-2 processing imu...
it_last_IMU.time: 1664877169.358204
lastState: 1664877169.358204
currentState: 1664877169.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.378204107 0.008479 -0.008096 9.8 0 0 -0.001315
1-2 processing imu...
it_last_IMU.time: 1664877169.368204
lastState: 1664877169.368204
currentState: 1664877169.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.388204098 0.008404 -0.001221 9.8 0 0 -0.001345
1-2 processing imu...
it_last_IMU.time: 1664877169.378204
lastState: 1664877169.378204
currentState: 1664877169.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.398204088 0.008328 0.005655 9.8 0 0 -0.001373
1-2 processing imu...
it_last_IMU.time: 1664877169.388204
lastState: 1664877169.388204
currentState: 1664877169.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.408204079 0.008253 0.01253 9.8 0 0 -0.001399
1-2 processing imu...
it_last_IMU.time: 1664877169.398204
lastState: 1664877169.398204
currentState: 1664877169.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.418204069 0.008177 0.01941 9.8 0 0 -0.001423
1-2 processing imu...
it_last_IMU.time: 1664877169.408204
lastState: 1664877169.408204
currentState: 1664877169.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.428204060 0.0081 0.02628 9.8 0 0 -0.001447
1-2 processing imu...
it_last_IMU.time: 1664877169.418204
lastState: 1664877169.418204
currentState: 1664877169.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877169.420089960 -0.5096 0.7441 -0.002784 -0.001187 0.008204 -0.919 0.3943
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877169.420090
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877169.420090
state->time: 1664877169.420090
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675545.426166364]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675545.426266443]: the fixed q :[-0.302, -0.278, 0.63, 0.659][0m
[0m[ INFO] [1670675545.426283674]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675545.426299357]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.5096 0.7441 -0.002784
p_wv: 18.52 -15.22 31
p: 17.37 -13.62 30.88
q: [-0.302, -0.278, 0.63, 0.659]
l: 0.5145
residual in position: 0.08099 -0.07862 0.06068
q_err :[-1, -0.0177, -0.00947, 0.0169]
residual in q: 0.03545 0.01895 -0.03381
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877169.420090 it_next->second->time: 1664877169.428204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.53 -13.77 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877169.438204050 0.008024 0.03316 9.8 0 0 -0.001468
1-2 processing imu...
it_last_IMU.time: 1664877169.428204
lastState: 1664877169.428204
currentState: 1664877169.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.448204041 0.007947 0.04003 9.8 0 0 -0.001488
1-2 processing imu...
it_last_IMU.time: 1664877169.438204
lastState: 1664877169.438204
currentState: 1664877169.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.458204031 0.007868 0.04656 9.8 0 0 -0.001506
1-2 processing imu...
it_last_IMU.time: 1664877169.448204
lastState: 1664877169.448204
currentState: 1664877169.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.468204021 0.007755 0.0491 9.8 0 0 -0.001524
1-2 processing imu...
it_last_IMU.time: 1664877169.458204
lastState: 1664877169.458204
currentState: 1664877169.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.478204012 0.007642 0.05164 9.8 0 0 -0.00154
1-2 processing imu...
it_last_IMU.time: 1664877169.468204
lastState: 1664877169.468204
currentState: 1664877169.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.488204002 0.00753 0.05417 9.8 0 0 -0.001555
1-2 processing imu...
it_last_IMU.time: 1664877169.478204
lastState: 1664877169.478204
currentState: 1664877169.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.498203993 0.007417 0.05671 9.8 0 0 -0.00157
1-2 processing imu...
it_last_IMU.time: 1664877169.488204
lastState: 1664877169.488204
currentState: 1664877169.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.508203983 0.007304 0.05925 9.8 0 0 -0.001583
1-2 processing imu...
it_last_IMU.time: 1664877169.498204
lastState: 1664877169.498204
currentState: 1664877169.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.518203974 0.007191 0.06178 9.8 0 0 -0.001596
1-2 processing imu...
it_last_IMU.time: 1664877169.508204
lastState: 1664877169.508204
currentState: 1664877169.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.528203964 0.007077 0.06432 9.8 0 0 -0.001608
1-2 processing imu...
it_last_IMU.time: 1664877169.518204
lastState: 1664877169.518204
currentState: 1664877169.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.538203955 0.006964 0.06686 9.8 0 0 -0.001619
1-2 processing imu...
it_last_IMU.time: 1664877169.528204
lastState: 1664877169.528204
currentState: 1664877169.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.548203945 0.006851 0.0694 9.8 0 0 -0.001628
1-2 processing imu...
it_last_IMU.time: 1664877169.538204
lastState: 1664877169.538204
currentState: 1664877169.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.558203936 0.006733 0.07171 9.8 0 0 -0.001637
1-2 processing imu...
it_last_IMU.time: 1664877169.548204
lastState: 1664877169.548204
currentState: 1664877169.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.568203926 0.006556 0.07102 9.8 0 0 -0.001646
1-2 processing imu...
it_last_IMU.time: 1664877169.558204
lastState: 1664877169.558204
currentState: 1664877169.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.578203917 0.006379 0.07034 9.8 0 0 -0.001655
1-2 processing imu...
it_last_IMU.time: 1664877169.568204
lastState: 1664877169.568204
currentState: 1664877169.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.588203907 0.006201 0.06966 9.8 0 0 -0.001665
1-2 processing imu...
it_last_IMU.time: 1664877169.578204
lastState: 1664877169.578204
currentState: 1664877169.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.598203897 0.006024 0.06898 9.8 0 0 -0.001675
1-2 processing imu...
it_last_IMU.time: 1664877169.588204
lastState: 1664877169.588204
currentState: 1664877169.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.608203888 0.005847 0.06829 9.8 0 0 -0.001685
1-2 processing imu...
it_last_IMU.time: 1664877169.598204
lastState: 1664877169.598204
currentState: 1664877169.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.618204117 0.00567 0.06761 9.8 0 0 -0.001695
1-2 processing imu...
it_last_IMU.time: 1664877169.608204
lastState: 1664877169.608204
currentState: 1664877169.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.628204107 0.005493 0.06693 9.8 0 0 -0.001706
1-2 processing imu...
it_last_IMU.time: 1664877169.618204
lastState: 1664877169.618204
currentState: 1664877169.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.638204098 0.005316 0.06625 9.8 0 0 -0.001717
1-2 processing imu...
it_last_IMU.time: 1664877169.628204
lastState: 1664877169.628204
currentState: 1664877169.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.648204088 0.005139 0.06557 9.8 0 0 -0.001728
1-2 processing imu...
it_last_IMU.time: 1664877169.638204
lastState: 1664877169.638204
currentState: 1664877169.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.658204079 0.004963 0.06476 9.8 0 0 -0.00174
1-2 processing imu...
it_last_IMU.time: 1664877169.648204
lastState: 1664877169.648204
currentState: 1664877169.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.668204069 0.004797 0.06199 9.8 0 0 -0.001753
1-2 processing imu...
it_last_IMU.time: 1664877169.658204
lastState: 1664877169.658204
currentState: 1664877169.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.678204060 0.004631 0.05923 9.8 0 0 -0.001768
1-2 processing imu...
it_last_IMU.time: 1664877169.668204
lastState: 1664877169.668204
currentState: 1664877169.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.688204050 0.004465 0.05647 9.8 0 0 -0.001787
1-2 processing imu...
it_last_IMU.time: 1664877169.678204
lastState: 1664877169.678204
currentState: 1664877169.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.698204041 0.004299 0.05371 9.8 0 0 -0.001807
1-2 processing imu...
it_last_IMU.time: 1664877169.688204
lastState: 1664877169.688204
currentState: 1664877169.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.708204031 0.004134 0.05094 9.8 0 0 -0.001831
1-2 processing imu...
it_last_IMU.time: 1664877169.698204
lastState: 1664877169.698204
currentState: 1664877169.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.718204021 0.003968 0.04818 9.8 0 0 -0.001856
1-2 processing imu...
it_last_IMU.time: 1664877169.708204
lastState: 1664877169.708204
currentState: 1664877169.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.728204012 0.003803 0.04542 9.8 0 0 -0.001885
1-2 processing imu...
it_last_IMU.time: 1664877169.718204
lastState: 1664877169.718204
currentState: 1664877169.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.738204002 0.003637 0.04265 9.8 0 0 -0.001915
1-2 processing imu...
it_last_IMU.time: 1664877169.728204
lastState: 1664877169.728204
currentState: 1664877169.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.748203993 0.003472 0.03989 9.8 0 0 -0.001949
1-2 processing imu...
it_last_IMU.time: 1664877169.738204
lastState: 1664877169.738204
currentState: 1664877169.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.758203983 0.003312 0.03709 9.8 0 0 -0.001985
1-2 processing imu...
it_last_IMU.time: 1664877169.748204
lastState: 1664877169.748204
currentState: 1664877169.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.768203974 0.003252 0.0336 9.8 0 0 -0.002025
1-2 processing imu...
it_last_IMU.time: 1664877169.758204
lastState: 1664877169.758204
currentState: 1664877169.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.778203964 0.003191 0.03011 9.8 0 0 -0.002071
1-2 processing imu...
it_last_IMU.time: 1664877169.768204
lastState: 1664877169.768204
currentState: 1664877169.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.788203955 0.003131 0.02662 9.8 0 0 -0.002122
1-2 processing imu...
it_last_IMU.time: 1664877169.778204
lastState: 1664877169.778204
currentState: 1664877169.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.798203945 0.00307 0.02313 9.8 0 0 -0.002179
1-2 processing imu...
it_last_IMU.time: 1664877169.788204
lastState: 1664877169.788204
currentState: 1664877169.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.808203936 0.00301 0.01964 9.8 0 0 -0.002242
1-2 processing imu...
it_last_IMU.time: 1664877169.798204
lastState: 1664877169.798204
currentState: 1664877169.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.818203926 0.00295 0.01615 9.8 0 0 -0.00231
1-2 processing imu...
it_last_IMU.time: 1664877169.808204
lastState: 1664877169.808204
currentState: 1664877169.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.828203917 0.002891 0.01266 9.8 0 0 -0.002384
1-2 processing imu...
it_last_IMU.time: 1664877169.818204
lastState: 1664877169.818204
currentState: 1664877169.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.838203907 0.002831 0.00917 9.8 0 0 -0.002464
1-2 processing imu...
it_last_IMU.time: 1664877169.828204
lastState: 1664877169.828204
currentState: 1664877169.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.848203897 0.002771 0.00568 9.8 0 0 -0.002549
1-2 processing imu...
it_last_IMU.time: 1664877169.838204
lastState: 1664877169.838204
currentState: 1664877169.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.858203888 0.002721 0.00227 9.8 0 0 -0.00264
1-2 processing imu...
it_last_IMU.time: 1664877169.848204
lastState: 1664877169.848204
currentState: 1664877169.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.868204117 0.002869 0.000609 9.8 0 0 -0.002739
1-2 processing imu...
it_last_IMU.time: 1664877169.858204
lastState: 1664877169.858204
currentState: 1664877169.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877169.848853111 -0.5252 0.7276 -0.002684 -0.0005959 0.008153 -0.9187 0.3949
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877169.848853
time: 1664877169.848853
state->time: 1664877169.848204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675546.333905001]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675546.333976901]: the fixed q :[-0.302, -0.28, 0.63, 0.659][0m
[0m[ INFO] [1670675546.333988117]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675546.334007887]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.5252 0.7276 -0.002684
p_wv: 18.52 -15.22 31
p: 17.35 -13.65 30.88
q: [-0.302, -0.28, 0.63, 0.659]
l: 0.5145
residual in position: 0.07894 -0.08258 0.05713
q_err :[-1, -0.0175, -0.00952, 0.018]
residual in q: 0.0351 0.01904 -0.03607
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877169.848204 it_next->second->time: 1664877169.858204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877169.858204 it_next->second->time: 1664877169.868204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.49 -13.8 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877169.878204107 0.003016 -0.001052 9.8 0 0 -0.002849
1-2 processing imu...
it_last_IMU.time: 1664877169.868204
lastState: 1664877169.868204
currentState: 1664877169.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.888204098 0.003164 -0.002713 9.8 0 0 -0.002968
1-2 processing imu...
it_last_IMU.time: 1664877169.878204
lastState: 1664877169.878204
currentState: 1664877169.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.898204088 0.003312 -0.004374 9.8 0 0 -0.003097
1-2 processing imu...
it_last_IMU.time: 1664877169.888204
lastState: 1664877169.888204
currentState: 1664877169.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.908204079 0.00346 -0.006035 9.8 0 0 -0.003236
1-2 processing imu...
it_last_IMU.time: 1664877169.898204
lastState: 1664877169.898204
currentState: 1664877169.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.918204069 0.003608 -0.007696 9.8 0 0 -0.003385
1-2 processing imu...
it_last_IMU.time: 1664877169.908204
lastState: 1664877169.908204
currentState: 1664877169.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.928204060 0.003756 -0.009357 9.8 0 0 -0.003544
1-2 processing imu...
it_last_IMU.time: 1664877169.918204
lastState: 1664877169.918204
currentState: 1664877169.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.938204050 0.003904 -0.01102 9.8 0 0 -0.003714
1-2 processing imu...
it_last_IMU.time: 1664877169.928204
lastState: 1664877169.928204
currentState: 1664877169.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.948204041 0.004053 -0.01268 9.8 0 0 -0.003893
1-2 processing imu...
it_last_IMU.time: 1664877169.938204
lastState: 1664877169.938204
currentState: 1664877169.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.958204031 0.004211 -0.01438 9.8 0 0 -0.004082
1-2 processing imu...
it_last_IMU.time: 1664877169.948204
lastState: 1664877169.948204
currentState: 1664877169.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.968204021 0.004635 -0.01709 9.8 0 0 -0.004284
1-2 processing imu...
it_last_IMU.time: 1664877169.958204
lastState: 1664877169.958204
currentState: 1664877169.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.978204012 0.00506 -0.0198 9.8 0 0 -0.004501
1-2 processing imu...
it_last_IMU.time: 1664877169.968204
lastState: 1664877169.968204
currentState: 1664877169.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877169.988204002 0.005485 -0.02251 9.8 0 0 -0.004733
1-2 processing imu...
it_last_IMU.time: 1664877169.978204
lastState: 1664877169.978204
currentState: 1664877169.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877169.998203993 0.00591 -0.02522 9.8 0 0 -0.00498
1-2 processing imu...
it_last_IMU.time: 1664877169.988204
lastState: 1664877169.988204
currentState: 1664877169.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.008203983 0.006335 -0.02793 9.8 0 0 -0.005242
1-2 processing imu...
it_last_IMU.time: 1664877169.998204
lastState: 1664877169.998204
currentState: 1664877170.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.018203974 0.006761 -0.03064 9.8 0 0 -0.005519
1-2 processing imu...
it_last_IMU.time: 1664877170.008204
lastState: 1664877170.008204
currentState: 1664877170.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.028203964 0.007188 -0.03335 9.8 0 0 -0.005811
1-2 processing imu...
it_last_IMU.time: 1664877170.018204
lastState: 1664877170.018204
currentState: 1664877170.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.038203955 0.007614 -0.03606 9.8 0 0 -0.006117
1-2 processing imu...
it_last_IMU.time: 1664877170.028204
lastState: 1664877170.028204
currentState: 1664877170.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.048203945 0.008041 -0.03877 9.8 0 0 -0.006439
1-2 processing imu...
it_last_IMU.time: 1664877170.038204
lastState: 1664877170.038204
currentState: 1664877170.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.058203936 0.008481 -0.0414 9.8 0 0 -0.006776
1-2 processing imu...
it_last_IMU.time: 1664877170.048204
lastState: 1664877170.048204
currentState: 1664877170.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.068203926 0.009355 -0.04081 9.8 0 0 -0.00713
1-2 processing imu...
it_last_IMU.time: 1664877170.058204
lastState: 1664877170.058204
currentState: 1664877170.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.078203917 0.01023 -0.04022 9.8 0 0 -0.007505
1-2 processing imu...
it_last_IMU.time: 1664877170.068204
lastState: 1664877170.068204
currentState: 1664877170.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.088203907 0.01111 -0.03962 9.8 0 0 -0.007901
1-2 processing imu...
it_last_IMU.time: 1664877170.078204
lastState: 1664877170.078204
currentState: 1664877170.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.098203897 0.01198 -0.03903 9.8 0 0 -0.008316
1-2 processing imu...
it_last_IMU.time: 1664877170.088204
lastState: 1664877170.088204
currentState: 1664877170.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.108203888 0.01286 -0.03844 9.8 0 0 -0.008753
1-2 processing imu...
it_last_IMU.time: 1664877170.098204
lastState: 1664877170.098204
currentState: 1664877170.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.118204117 0.01373 -0.03785 9.8 0 0 -0.00921
1-2 processing imu...
it_last_IMU.time: 1664877170.108204
lastState: 1664877170.108204
currentState: 1664877170.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.128204107 0.0146 -0.03725 9.8 0 0 -0.009687
1-2 processing imu...
it_last_IMU.time: 1664877170.118204
lastState: 1664877170.118204
currentState: 1664877170.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.138204098 0.01548 -0.03666 9.8 0 0 -0.01018
1-2 processing imu...
it_last_IMU.time: 1664877170.128204
lastState: 1664877170.128204
currentState: 1664877170.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.148204088 0.01636 -0.03607 9.8 0 0 -0.0107
1-2 processing imu...
it_last_IMU.time: 1664877170.138204
lastState: 1664877170.138204
currentState: 1664877170.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.158204079 0.01724 -0.03548 9.8 0 0 -0.01124
1-2 processing imu...
it_last_IMU.time: 1664877170.148204
lastState: 1664877170.148204
currentState: 1664877170.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.168204069 0.01887 -0.03527 9.8 0 0 -0.0118
1-2 processing imu...
it_last_IMU.time: 1664877170.158204
lastState: 1664877170.158204
currentState: 1664877170.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.178204060 0.0205 -0.03507 9.8 0 0 -0.01239
1-2 processing imu...
it_last_IMU.time: 1664877170.168204
lastState: 1664877170.168204
currentState: 1664877170.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.188204050 0.02214 -0.03486 9.8 0 0 -0.01301
1-2 processing imu...
it_last_IMU.time: 1664877170.178204
lastState: 1664877170.178204
currentState: 1664877170.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.198204041 0.02377 -0.03465 9.8 0 0 -0.01365
1-2 processing imu...
it_last_IMU.time: 1664877170.188204
lastState: 1664877170.188204
currentState: 1664877170.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.208204031 0.0254 -0.03444 9.8 0 0 -0.01432
1-2 processing imu...
it_last_IMU.time: 1664877170.198204
lastState: 1664877170.198204
currentState: 1664877170.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.218204021 0.02703 -0.03423 9.8 0 0 -0.01502
1-2 processing imu...
it_last_IMU.time: 1664877170.208204
lastState: 1664877170.208204
currentState: 1664877170.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.228204012 0.02866 -0.03402 9.8 0 0 -0.01574
1-2 processing imu...
it_last_IMU.time: 1664877170.218204
lastState: 1664877170.218204
currentState: 1664877170.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.238204002 0.03029 -0.03381 9.8 0 0 -0.01649
1-2 processing imu...
it_last_IMU.time: 1664877170.228204
lastState: 1664877170.228204
currentState: 1664877170.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.248203993 0.03193 -0.0336 9.8 0 0 -0.01726
1-2 processing imu...
it_last_IMU.time: 1664877170.238204
lastState: 1664877170.238204
currentState: 1664877170.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.258203983 0.03357 -0.03334 9.8 0 0 -0.01806
1-2 processing imu...
it_last_IMU.time: 1664877170.248204
lastState: 1664877170.248204
currentState: 1664877170.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.268203974 0.03618 -0.02798 9.8 0 0 -0.01889
1-2 processing imu...
it_last_IMU.time: 1664877170.258204
lastState: 1664877170.258204
currentState: 1664877170.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.278203964 0.0388 -0.02261 9.8 0 0 -0.01976
1-2 processing imu...
it_last_IMU.time: 1664877170.268204
lastState: 1664877170.268204
currentState: 1664877170.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.288203955 0.04141 -0.01724 9.8 0 0 -0.02065
1-2 processing imu...
it_last_IMU.time: 1664877170.278204
lastState: 1664877170.278204
currentState: 1664877170.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877170.272039890 -0.5399 0.7122 -0.002562 0.0003515 0.007534 -0.9176 0.3973
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877170.272040
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877170.272040
state->time: 1664877170.272040
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675547.220787707]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675547.220833477]: the fixed q :[-0.3, -0.281, 0.63, 0.659][0m
[0m[ INFO] [1670675547.220843477]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675547.220858732]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.5399 0.7122 -0.002562
p_wv: 18.52 -15.22 31
p: 17.31 -13.68 30.89
q: [-0.3, -0.281, 0.63, 0.659]
l: 0.5145
residual in position: 0.08063 -0.07844 0.05513
q_err :[-1, -0.0176, -0.00727, 0.015]
residual in q: 0.03515 0.01455 -0.0301
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877170.272040 it_next->second->time: 1664877170.278204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877170.278204 it_next->second->time: 1664877170.288204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.47 -13.83 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877170.298203945 0.04403 -0.01187 9.8 0 0 -0.02158
1-2 processing imu...
it_last_IMU.time: 1664877170.288204
lastState: 1664877170.288204
currentState: 1664877170.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.308203936 0.04664 -0.006499 9.8 0 0 -0.02253
1-2 processing imu...
it_last_IMU.time: 1664877170.298204
lastState: 1664877170.298204
currentState: 1664877170.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.318203926 0.04924 -0.001125 9.8 0 0 -0.02352
1-2 processing imu...
it_last_IMU.time: 1664877170.308204
lastState: 1664877170.308204
currentState: 1664877170.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.328203917 0.05185 0.00425 9.8 0 0 -0.02454
1-2 processing imu...
it_last_IMU.time: 1664877170.318204
lastState: 1664877170.318204
currentState: 1664877170.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.338203907 0.05445 0.009627 9.8 0 0 -0.02559
1-2 processing imu...
it_last_IMU.time: 1664877170.328204
lastState: 1664877170.328204
currentState: 1664877170.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.348203897 0.05705 0.01501 9.8 0 0 -0.02667
1-2 processing imu...
it_last_IMU.time: 1664877170.338204
lastState: 1664877170.338204
currentState: 1664877170.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.358203888 0.05964 0.02039 9.8 0 0 -0.02779
1-2 processing imu...
it_last_IMU.time: 1664877170.348204
lastState: 1664877170.348204
currentState: 1664877170.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.368204117 0.06361 0.02325 9.8 0 0 -0.02893
1-2 processing imu...
it_last_IMU.time: 1664877170.358204
lastState: 1664877170.358204
currentState: 1664877170.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.378204107 0.06758 0.02612 9.8 0 0 -0.03011
1-2 processing imu...
it_last_IMU.time: 1664877170.368204
lastState: 1664877170.368204
currentState: 1664877170.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.388204098 0.07154 0.02899 9.8 0 0 -0.03132
1-2 processing imu...
it_last_IMU.time: 1664877170.378204
lastState: 1664877170.378204
currentState: 1664877170.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.398204088 0.07551 0.03186 9.8 0 0 -0.03257
1-2 processing imu...
it_last_IMU.time: 1664877170.388204
lastState: 1664877170.388204
currentState: 1664877170.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.408204079 0.07946 0.03474 9.8 0 0 -0.03385
1-2 processing imu...
it_last_IMU.time: 1664877170.398204
lastState: 1664877170.398204
currentState: 1664877170.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.418204069 0.08342 0.03762 9.8 0 0 -0.03517
1-2 processing imu...
it_last_IMU.time: 1664877170.408204
lastState: 1664877170.408204
currentState: 1664877170.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.428204060 0.08738 0.04051 9.8 0 0 -0.03651
1-2 processing imu...
it_last_IMU.time: 1664877170.418204
lastState: 1664877170.418204
currentState: 1664877170.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.438204050 0.09133 0.0434 9.8 0 0 -0.0379
1-2 processing imu...
it_last_IMU.time: 1664877170.428204
lastState: 1664877170.428204
currentState: 1664877170.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.448204041 0.09528 0.04629 9.8 0 0 -0.03931
1-2 processing imu...
it_last_IMU.time: 1664877170.438204
lastState: 1664877170.438204
currentState: 1664877170.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.458204031 0.09923 0.04919 9.8 0 0 -0.04076
1-2 processing imu...
it_last_IMU.time: 1664877170.448204
lastState: 1664877170.448204
currentState: 1664877170.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.468204021 0.1045 0.04991 9.8 0 0 -0.04225
1-2 processing imu...
it_last_IMU.time: 1664877170.458204
lastState: 1664877170.458204
currentState: 1664877170.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.478204012 0.1097 0.05062 9.8 0 0 -0.04376
1-2 processing imu...
it_last_IMU.time: 1664877170.468204
lastState: 1664877170.468204
currentState: 1664877170.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.488204002 0.115 0.05133 9.8 0 0 -0.04532
1-2 processing imu...
it_last_IMU.time: 1664877170.478204
lastState: 1664877170.478204
currentState: 1664877170.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.498203993 0.1203 0.05206 9.8 0 0 -0.0469
1-2 processing imu...
it_last_IMU.time: 1664877170.488204
lastState: 1664877170.488204
currentState: 1664877170.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.508203983 0.1255 0.05278 9.8 0 0 -0.04852
1-2 processing imu...
it_last_IMU.time: 1664877170.498204
lastState: 1664877170.498204
currentState: 1664877170.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.518203974 0.1308 0.05352 9.8 0 0 -0.05017
1-2 processing imu...
it_last_IMU.time: 1664877170.508204
lastState: 1664877170.508204
currentState: 1664877170.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.528203964 0.136 0.05426 9.8 0 0 -0.05185
1-2 processing imu...
it_last_IMU.time: 1664877170.518204
lastState: 1664877170.518204
currentState: 1664877170.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.538203955 0.1413 0.05502 9.8 0 0 -0.05357
1-2 processing imu...
it_last_IMU.time: 1664877170.528204
lastState: 1664877170.528204
currentState: 1664877170.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.548203945 0.1465 0.05577 9.8 0 0 -0.05532
1-2 processing imu...
it_last_IMU.time: 1664877170.538204
lastState: 1664877170.538204
currentState: 1664877170.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.558203936 0.1518 0.05654 9.8 0 0 -0.05711
1-2 processing imu...
it_last_IMU.time: 1664877170.548204
lastState: 1664877170.548204
currentState: 1664877170.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.568203926 0.1586 0.05602 9.8 0 0 -0.05893
1-2 processing imu...
it_last_IMU.time: 1664877170.558204
lastState: 1664877170.558204
currentState: 1664877170.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.578203917 0.1655 0.05548 9.8 0 0 -0.06078
1-2 processing imu...
it_last_IMU.time: 1664877170.568204
lastState: 1664877170.568204
currentState: 1664877170.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.588203907 0.1724 0.05496 9.8 0 0 -0.06267
1-2 processing imu...
it_last_IMU.time: 1664877170.578204
lastState: 1664877170.578204
currentState: 1664877170.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.598203897 0.1792 0.05445 9.8 0 0 -0.0646
1-2 processing imu...
it_last_IMU.time: 1664877170.588204
lastState: 1664877170.588204
currentState: 1664877170.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.608203888 0.1861 0.05395 9.8 0 0 -0.06656
1-2 processing imu...
it_last_IMU.time: 1664877170.598204
lastState: 1664877170.598204
currentState: 1664877170.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.618204117 0.1929 0.05346 9.8 0 0 -0.06856
1-2 processing imu...
it_last_IMU.time: 1664877170.608204
lastState: 1664877170.608204
currentState: 1664877170.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.628204107 0.1998 0.05298 9.8 0 0 -0.07059
1-2 processing imu...
it_last_IMU.time: 1664877170.618204
lastState: 1664877170.618204
currentState: 1664877170.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.638204098 0.2067 0.05252 9.8 0 0 -0.07265
1-2 processing imu...
it_last_IMU.time: 1664877170.628204
lastState: 1664877170.628204
currentState: 1664877170.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.648204088 0.2135 0.05208 9.8 0 0 -0.07475
1-2 processing imu...
it_last_IMU.time: 1664877170.638204
lastState: 1664877170.638204
currentState: 1664877170.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.658204079 0.2204 0.05165 9.8 0 0 -0.07689
1-2 processing imu...
it_last_IMU.time: 1664877170.648204
lastState: 1664877170.648204
currentState: 1664877170.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.668204069 0.2286 0.04966 9.8 0 0 -0.07906
1-2 processing imu...
it_last_IMU.time: 1664877170.658204
lastState: 1664877170.658204
currentState: 1664877170.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.678204060 0.2368 0.04764 9.8 0 0 -0.08126
1-2 processing imu...
it_last_IMU.time: 1664877170.668204
lastState: 1664877170.668204
currentState: 1664877170.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.688204050 0.245 0.04564 9.8 0 0 -0.0835
1-2 processing imu...
it_last_IMU.time: 1664877170.678204
lastState: 1664877170.678204
currentState: 1664877170.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877170.674542904 -0.5563 0.6954 -0.002551 0.000775 0.007326 -0.9145 0.4046
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877170.674543
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877170.674543
state->time: 1664877170.674543
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675548.110818459]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675548.110941499]: the fixed q :[-0.294, -0.288, 0.628, 0.66][0m
[0m[ INFO] [1670675548.111004031]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675548.111086131]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.5563 0.6954 -0.002551
p_wv: 18.52 -15.22 31
p: 17.3 -13.74 30.9
q: [-0.294, -0.288, 0.628, 0.66]
l: 0.5145
residual in position: 0.07127 -0.06784 0.04986
q_err :[-1, -0.0157, 0.00169, 0.00809]
residual in q: 0.0314 -0.003374 -0.01618
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877170.674543 it_next->second->time: 1664877170.678204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877170.678204 it_next->second->time: 1664877170.688204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.44 -13.87 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877170.698204041 0.2532 0.04367 9.8 0 0 -0.08578
1-2 processing imu...
it_last_IMU.time: 1664877170.688204
lastState: 1664877170.688204
currentState: 1664877170.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.708204031 0.2614 0.04171 9.8 0 0 -0.08808
1-2 processing imu...
it_last_IMU.time: 1664877170.698204
lastState: 1664877170.698204
currentState: 1664877170.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.718204021 0.2697 0.03977 9.8 0 0 -0.09042
1-2 processing imu...
it_last_IMU.time: 1664877170.708204
lastState: 1664877170.708204
currentState: 1664877170.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.728204012 0.2779 0.03785 9.8 0 0 -0.0928
1-2 processing imu...
it_last_IMU.time: 1664877170.718204
lastState: 1664877170.718204
currentState: 1664877170.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.738204002 0.2861 0.03596 9.8 0 0 -0.09521
1-2 processing imu...
it_last_IMU.time: 1664877170.728204
lastState: 1664877170.728204
currentState: 1664877170.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.748203993 0.2943 0.03409 9.8 0 0 -0.09765
1-2 processing imu...
it_last_IMU.time: 1664877170.738204
lastState: 1664877170.738204
currentState: 1664877170.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.758203983 0.3026 0.03224 9.8 0 0 -0.1001
1-2 processing imu...
it_last_IMU.time: 1664877170.748204
lastState: 1664877170.748204
currentState: 1664877170.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.768203974 0.3113 0.03008 9.8 0 0 -0.1026
1-2 processing imu...
it_last_IMU.time: 1664877170.758204
lastState: 1664877170.758204
currentState: 1664877170.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.778203964 0.3201 0.02793 9.8 0 0 -0.1052
1-2 processing imu...
it_last_IMU.time: 1664877170.768204
lastState: 1664877170.768204
currentState: 1664877170.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.788203955 0.3289 0.02581 9.8 0 0 -0.1077
1-2 processing imu...
it_last_IMU.time: 1664877170.778204
lastState: 1664877170.778204
currentState: 1664877170.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.798203945 0.3377 0.02372 9.8 0 0 -0.1103
1-2 processing imu...
it_last_IMU.time: 1664877170.788204
lastState: 1664877170.788204
currentState: 1664877170.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.808203936 0.3465 0.02166 9.8 0 0 -0.1129
1-2 processing imu...
it_last_IMU.time: 1664877170.798204
lastState: 1664877170.798204
currentState: 1664877170.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.818203926 0.3553 0.01962 9.8 0 0 -0.1155
1-2 processing imu...
it_last_IMU.time: 1664877170.808204
lastState: 1664877170.808204
currentState: 1664877170.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.828203917 0.3641 0.01761 9.8 0 0 -0.1182
1-2 processing imu...
it_last_IMU.time: 1664877170.818204
lastState: 1664877170.818204
currentState: 1664877170.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.838203907 0.3729 0.01564 9.8 0 0 -0.1209
1-2 processing imu...
it_last_IMU.time: 1664877170.828204
lastState: 1664877170.828204
currentState: 1664877170.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.848203897 0.3818 0.0137 9.8 0 0 -0.1236
1-2 processing imu...
it_last_IMU.time: 1664877170.838204
lastState: 1664877170.838204
currentState: 1664877170.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.858203888 0.3906 0.01179 9.8 0 0 -0.1263
1-2 processing imu...
it_last_IMU.time: 1664877170.848204
lastState: 1664877170.848204
currentState: 1664877170.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.868204117 0.3999 0.01075 9.8 0 0 -0.129
1-2 processing imu...
it_last_IMU.time: 1664877170.858204
lastState: 1664877170.858204
currentState: 1664877170.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.878204107 0.4092 0.00979 9.8 0 0 -0.1318
1-2 processing imu...
it_last_IMU.time: 1664877170.868204
lastState: 1664877170.868204
currentState: 1664877170.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.888204098 0.4185 0.008865 9.8 0 0 -0.1346
1-2 processing imu...
it_last_IMU.time: 1664877170.878204
lastState: 1664877170.878204
currentState: 1664877170.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.898204088 0.4278 0.007977 9.8 0 0 -0.1374
1-2 processing imu...
it_last_IMU.time: 1664877170.888204
lastState: 1664877170.888204
currentState: 1664877170.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.908204079 0.4371 0.007127 9.8 0 0 -0.1402
1-2 processing imu...
it_last_IMU.time: 1664877170.898204
lastState: 1664877170.898204
currentState: 1664877170.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.918204069 0.4464 0.006315 9.8 0 0 -0.143
1-2 processing imu...
it_last_IMU.time: 1664877170.908204
lastState: 1664877170.908204
currentState: 1664877170.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.928204060 0.4557 0.005542 9.8 0 0 -0.1458
1-2 processing imu...
it_last_IMU.time: 1664877170.918204
lastState: 1664877170.918204
currentState: 1664877170.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.938204050 0.465 0.00481 9.8 0 0 -0.1487
1-2 processing imu...
it_last_IMU.time: 1664877170.928204
lastState: 1664877170.928204
currentState: 1664877170.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.948204041 0.4743 0.004119 9.8 0 0 -0.1516
1-2 processing imu...
it_last_IMU.time: 1664877170.938204
lastState: 1664877170.938204
currentState: 1664877170.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.958204031 0.4837 0.003469 9.8 0 0 -0.1544
1-2 processing imu...
it_last_IMU.time: 1664877170.948204
lastState: 1664877170.948204
currentState: 1664877170.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.968204021 0.4938 0.004316 9.8 0 0 -0.1573
1-2 processing imu...
it_last_IMU.time: 1664877170.958204
lastState: 1664877170.958204
currentState: 1664877170.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.978204012 0.5039 0.005291 9.8 0 0 -0.1602
1-2 processing imu...
it_last_IMU.time: 1664877170.968204
lastState: 1664877170.968204
currentState: 1664877170.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877170.988204002 0.514 0.006315 9.8 0 0 -0.1632
1-2 processing imu...
it_last_IMU.time: 1664877170.978204
lastState: 1664877170.978204
currentState: 1664877170.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877170.998203993 0.5242 0.007386 9.8 0 0 -0.1661
1-2 processing imu...
it_last_IMU.time: 1664877170.988204
lastState: 1664877170.988204
currentState: 1664877170.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.008203983 0.5343 0.008506 9.8 0 0 -0.1691
1-2 processing imu...
it_last_IMU.time: 1664877170.998204
lastState: 1664877170.998204
currentState: 1664877171.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.018203974 0.5444 0.009677 9.8 0 0 -0.172
1-2 processing imu...
it_last_IMU.time: 1664877171.008204
lastState: 1664877171.008204
currentState: 1664877171.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.028203964 0.5545 0.0109 9.8 0 0 -0.175
1-2 processing imu...
it_last_IMU.time: 1664877171.018204
lastState: 1664877171.018204
currentState: 1664877171.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.038203955 0.5647 0.01217 9.8 0 0 -0.178
1-2 processing imu...
it_last_IMU.time: 1664877171.028204
lastState: 1664877171.028204
currentState: 1664877171.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.048203945 0.5748 0.0135 9.8 0 0 -0.181
1-2 processing imu...
it_last_IMU.time: 1664877171.038204
lastState: 1664877171.038204
currentState: 1664877171.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.058203936 0.5849 0.01488 9.8 0 0 -0.184
1-2 processing imu...
it_last_IMU.time: 1664877171.048204
lastState: 1664877171.048204
currentState: 1664877171.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.068203926 0.5946 0.01784 9.8 0 0 -0.187
1-2 processing imu...
it_last_IMU.time: 1664877171.058204
lastState: 1664877171.058204
currentState: 1664877171.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.078203917 0.6043 0.02096 9.8 0 0 -0.1901
1-2 processing imu...
it_last_IMU.time: 1664877171.068204
lastState: 1664877171.068204
currentState: 1664877171.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.088203907 0.614 0.02414 9.8 0 0 -0.1931
1-2 processing imu...
it_last_IMU.time: 1664877171.078204
lastState: 1664877171.078204
currentState: 1664877171.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.098203897 0.6237 0.02737 9.8 0 0 -0.1962
1-2 processing imu...
it_last_IMU.time: 1664877171.088204
lastState: 1664877171.088204
currentState: 1664877171.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.108203888 0.6334 0.03066 9.8 0 0 -0.1992
1-2 processing imu...
it_last_IMU.time: 1664877171.098204
lastState: 1664877171.098204
currentState: 1664877171.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877171.096935987 -0.5708 0.6783 -0.003414 -0.0006663 0.007791 -0.9035 0.4285
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877171.096936
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877171.096936
state->time: 1664877171.096936
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675549.013749021]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675549.013848420]: the fixed q :[-0.286, -0.306, 0.62, 0.663][0m
[0m[ INFO] [1670675549.013905126]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675549.013958216]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.5708 0.6783 -0.003414
p_wv: 18.52 -15.22 31
p: 17.24 -13.82 30.9
q: [-0.286, -0.306, 0.62, 0.663]
l: 0.5145
residual in position: 0.08633 -0.04081 0.04674
q_err :[-1, -0.014, 0.0231, -0.0101]
residual in q: 0.02807 -0.0463 0.02017
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877171.096936 it_next->second->time: 1664877171.098204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877171.098204 it_next->second->time: 1664877171.108204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.41 -13.9 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877171.118204117 0.6431 0.034 9.8 0 0 -0.2023
1-2 processing imu...
it_last_IMU.time: 1664877171.108204
lastState: 1664877171.108204
currentState: 1664877171.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.128204107 0.6527 0.03741 9.8 0 0 -0.2054
1-2 processing imu...
it_last_IMU.time: 1664877171.118204
lastState: 1664877171.118204
currentState: 1664877171.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.138204098 0.6624 0.04088 9.8 0 0 -0.2085
1-2 processing imu...
it_last_IMU.time: 1664877171.128204
lastState: 1664877171.128204
currentState: 1664877171.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.148204088 0.672 0.0444 9.8 0 0 -0.2115
1-2 processing imu...
it_last_IMU.time: 1664877171.138204
lastState: 1664877171.138204
currentState: 1664877171.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.158204079 0.6816 0.04799 9.8 0 0 -0.2146
1-2 processing imu...
it_last_IMU.time: 1664877171.148204
lastState: 1664877171.148204
currentState: 1664877171.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.168204069 0.6896 0.05509 9.8 0 0 -0.2178
1-2 processing imu...
it_last_IMU.time: 1664877171.158204
lastState: 1664877171.158204
currentState: 1664877171.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.178204060 0.6974 0.06251 9.8 0 0 -0.2209
1-2 processing imu...
it_last_IMU.time: 1664877171.168204
lastState: 1664877171.168204
currentState: 1664877171.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.188204050 0.7052 0.07 9.8 0 0 -0.224
1-2 processing imu...
it_last_IMU.time: 1664877171.178204
lastState: 1664877171.178204
currentState: 1664877171.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.198204041 0.713 0.07753 9.8 0 0 -0.2271
1-2 processing imu...
it_last_IMU.time: 1664877171.188204
lastState: 1664877171.188204
currentState: 1664877171.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.208204031 0.7207 0.08513 9.8 0 0 -0.2302
1-2 processing imu...
it_last_IMU.time: 1664877171.198204
lastState: 1664877171.198204
currentState: 1664877171.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.218204021 0.7284 0.09278 9.8 0 0 -0.2333
1-2 processing imu...
it_last_IMU.time: 1664877171.208204
lastState: 1664877171.208204
currentState: 1664877171.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.228204012 0.7361 0.1005 9.8 0 0 -0.2364
1-2 processing imu...
it_last_IMU.time: 1664877171.218204
lastState: 1664877171.218204
currentState: 1664877171.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.238204002 0.7437 0.1083 9.8 0 0 -0.2395
1-2 processing imu...
it_last_IMU.time: 1664877171.228204
lastState: 1664877171.228204
currentState: 1664877171.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.248203993 0.7513 0.1161 9.8 0 0 -0.2426
1-2 processing imu...
it_last_IMU.time: 1664877171.238204
lastState: 1664877171.238204
currentState: 1664877171.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.258203983 0.7588 0.124 9.8 0 0 -0.2457
1-2 processing imu...
it_last_IMU.time: 1664877171.248204
lastState: 1664877171.248204
currentState: 1664877171.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.268203974 0.7663 0.1347 9.8 0 0 -0.2489
1-2 processing imu...
it_last_IMU.time: 1664877171.258204
lastState: 1664877171.258204
currentState: 1664877171.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.278203964 0.7737 0.1458 9.8 0 0 -0.252
1-2 processing imu...
it_last_IMU.time: 1664877171.268204
lastState: 1664877171.268204
currentState: 1664877171.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.288203955 0.781 0.1569 9.8 0 0 -0.2551
1-2 processing imu...
it_last_IMU.time: 1664877171.278204
lastState: 1664877171.278204
currentState: 1664877171.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.298203945 0.7883 0.1681 9.8 0 0 -0.2582
1-2 processing imu...
it_last_IMU.time: 1664877171.288204
lastState: 1664877171.288204
currentState: 1664877171.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.308203936 0.7955 0.1793 9.8 0 0 -0.2613
1-2 processing imu...
it_last_IMU.time: 1664877171.298204
lastState: 1664877171.298204
currentState: 1664877171.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.318203926 0.8026 0.1906 9.8 0 0 -0.2644
1-2 processing imu...
it_last_IMU.time: 1664877171.308204
lastState: 1664877171.308204
currentState: 1664877171.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.328203917 0.8097 0.2019 9.8 0 0 -0.2676
1-2 processing imu...
it_last_IMU.time: 1664877171.318204
lastState: 1664877171.318204
currentState: 1664877171.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.338203907 0.8168 0.2134 9.8 0 0 -0.2707
1-2 processing imu...
it_last_IMU.time: 1664877171.328204
lastState: 1664877171.328204
currentState: 1664877171.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.348203897 0.8237 0.2249 9.8 0 0 -0.2738
1-2 processing imu...
it_last_IMU.time: 1664877171.338204
lastState: 1664877171.338204
currentState: 1664877171.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.358203888 0.8306 0.2364 9.8 0 0 -0.2769
1-2 processing imu...
it_last_IMU.time: 1664877171.348204
lastState: 1664877171.348204
currentState: 1664877171.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.368204117 0.8374 0.2488 9.8 0 0 -0.28
1-2 processing imu...
it_last_IMU.time: 1664877171.358204
lastState: 1664877171.358204
currentState: 1664877171.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.378204107 0.844 0.2614 9.8 0 0 -0.2832
1-2 processing imu...
it_last_IMU.time: 1664877171.368204
lastState: 1664877171.368204
currentState: 1664877171.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.388204098 0.8505 0.274 9.8 0 0 -0.2863
1-2 processing imu...
it_last_IMU.time: 1664877171.378204
lastState: 1664877171.378204
currentState: 1664877171.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.398204088 0.857 0.2867 9.8 0 0 -0.2895
1-2 processing imu...
it_last_IMU.time: 1664877171.388204
lastState: 1664877171.388204
currentState: 1664877171.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.408204079 0.8634 0.2995 9.8 0 0 -0.2926
1-2 processing imu...
it_last_IMU.time: 1664877171.398204
lastState: 1664877171.398204
currentState: 1664877171.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.418204069 0.8698 0.3123 9.8 0 0 -0.2957
1-2 processing imu...
it_last_IMU.time: 1664877171.408204
lastState: 1664877171.408204
currentState: 1664877171.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.428204060 0.876 0.3252 9.8 0 0 -0.2989
1-2 processing imu...
it_last_IMU.time: 1664877171.418204
lastState: 1664877171.418204
currentState: 1664877171.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.438204050 0.8822 0.3382 9.8 0 0 -0.3021
1-2 processing imu...
it_last_IMU.time: 1664877171.428204
lastState: 1664877171.428204
currentState: 1664877171.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.448204041 0.8883 0.3512 9.8 0 0 -0.3052
1-2 processing imu...
it_last_IMU.time: 1664877171.438204
lastState: 1664877171.438204
currentState: 1664877171.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.458204031 0.8943 0.3643 9.8 0 0 -0.3084
1-2 processing imu...
it_last_IMU.time: 1664877171.448204
lastState: 1664877171.448204
currentState: 1664877171.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.468204021 0.9005 0.3749 9.8 0 0 -0.3116
1-2 processing imu...
it_last_IMU.time: 1664877171.458204
lastState: 1664877171.458204
currentState: 1664877171.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.478204012 0.9066 0.3853 9.8 0 0 -0.3147
1-2 processing imu...
it_last_IMU.time: 1664877171.468204
lastState: 1664877171.468204
currentState: 1664877171.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.488204002 0.9127 0.3958 9.8 0 0 -0.3179
1-2 processing imu...
it_last_IMU.time: 1664877171.478204
lastState: 1664877171.478204
currentState: 1664877171.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.498203993 0.9187 0.4063 9.8 0 0 -0.3211
1-2 processing imu...
it_last_IMU.time: 1664877171.488204
lastState: 1664877171.488204
currentState: 1664877171.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.508203983 0.9247 0.4169 9.8 0 0 -0.3243
1-2 processing imu...
it_last_IMU.time: 1664877171.498204
lastState: 1664877171.498204
currentState: 1664877171.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.518203974 0.9305 0.4276 9.8 0 0 -0.3276
1-2 processing imu...
it_last_IMU.time: 1664877171.508204
lastState: 1664877171.508204
currentState: 1664877171.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877171.506256104 -0.5838 0.6607 -0.004027 -0.001378 0.006853 -0.878 0.4787
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877171.506256
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877171.506256
state->time: 1664877171.506256
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675549.872963502]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675549.873022533]: the fixed q :[-0.288, -0.337, 0.604, 0.662][0m
[0m[ INFO] [1670675549.873133023]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675549.873189249]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.5838 0.6607 -0.004027
p_wv: 18.52 -15.22 31
p: 17.23 -13.95 30.9
q: [-0.288, -0.337, 0.604, 0.662]
l: 0.5145
residual in position: 0.07797 0.008266 0.04608
q_err :[-0.998, -0.0126, 0.0483, -0.0407]
residual in q: 0.02517 -0.09682 0.08159
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877171.506256 it_next->second->time: 1664877171.508204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877171.508204 it_next->second->time: 1664877171.518204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.39 -13.94 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877171.528203964 0.9363 0.4383 9.8 0 0 -0.3308
1-2 processing imu...
it_last_IMU.time: 1664877171.518204
lastState: 1664877171.518204
currentState: 1664877171.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.538203955 0.942 0.4492 9.8 0 0 -0.334
1-2 processing imu...
it_last_IMU.time: 1664877171.528204
lastState: 1664877171.528204
currentState: 1664877171.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.548203945 0.9477 0.4601 9.8 0 0 -0.3373
1-2 processing imu...
it_last_IMU.time: 1664877171.538204
lastState: 1664877171.538204
currentState: 1664877171.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.558203936 0.9532 0.471 9.8 0 0 -0.3405
1-2 processing imu...
it_last_IMU.time: 1664877171.548204
lastState: 1664877171.548204
currentState: 1664877171.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.568203926 0.9602 0.4809 9.8 0 0 -0.3438
1-2 processing imu...
it_last_IMU.time: 1664877171.558204
lastState: 1664877171.558204
currentState: 1664877171.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.578203917 0.9673 0.4907 9.8 0 0 -0.3471
1-2 processing imu...
it_last_IMU.time: 1664877171.568204
lastState: 1664877171.568204
currentState: 1664877171.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.588203907 0.9743 0.5007 9.8 0 0 -0.3504
1-2 processing imu...
it_last_IMU.time: 1664877171.578204
lastState: 1664877171.578204
currentState: 1664877171.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.598203897 0.9812 0.5107 9.8 0 0 -0.3537
1-2 processing imu...
it_last_IMU.time: 1664877171.588204
lastState: 1664877171.588204
currentState: 1664877171.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.608203888 0.9881 0.5207 9.8 0 0 -0.357
1-2 processing imu...
it_last_IMU.time: 1664877171.598204
lastState: 1664877171.598204
currentState: 1664877171.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.618204117 0.9949 0.5309 9.8 0 0 -0.3604
1-2 processing imu...
it_last_IMU.time: 1664877171.608204
lastState: 1664877171.608204
currentState: 1664877171.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.628204107 1.002 0.5412 9.8 0 0 -0.3638
1-2 processing imu...
it_last_IMU.time: 1664877171.618204
lastState: 1664877171.618204
currentState: 1664877171.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.638204098 1.008 0.5515 9.8 0 0 -0.3672
1-2 processing imu...
it_last_IMU.time: 1664877171.628204
lastState: 1664877171.628204
currentState: 1664877171.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.648204088 1.015 0.562 9.8 0 0 -0.3706
1-2 processing imu...
it_last_IMU.time: 1664877171.638204
lastState: 1664877171.638204
currentState: 1664877171.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.658204079 1.021 0.5725 9.8 0 0 -0.374
1-2 processing imu...
it_last_IMU.time: 1664877171.648204
lastState: 1664877171.648204
currentState: 1664877171.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.668204069 1.027 0.584 9.8 0 0 -0.3774
1-2 processing imu...
it_last_IMU.time: 1664877171.658204
lastState: 1664877171.658204
currentState: 1664877171.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.678204060 1.034 0.5958 9.8 0 0 -0.3809
1-2 processing imu...
it_last_IMU.time: 1664877171.668204
lastState: 1664877171.668204
currentState: 1664877171.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.688204050 1.04 0.6076 9.8 0 0 -0.3844
1-2 processing imu...
it_last_IMU.time: 1664877171.678204
lastState: 1664877171.678204
currentState: 1664877171.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.698204041 1.045 0.6195 9.8 0 0 -0.3878
1-2 processing imu...
it_last_IMU.time: 1664877171.688204
lastState: 1664877171.688204
currentState: 1664877171.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.708204031 1.051 0.6315 9.8 0 0 -0.3914
1-2 processing imu...
it_last_IMU.time: 1664877171.698204
lastState: 1664877171.698204
currentState: 1664877171.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.718204021 1.057 0.6436 9.8 0 0 -0.3949
1-2 processing imu...
it_last_IMU.time: 1664877171.708204
lastState: 1664877171.708204
currentState: 1664877171.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.728204012 1.063 0.6558 9.8 0 0 -0.3984
1-2 processing imu...
it_last_IMU.time: 1664877171.718204
lastState: 1664877171.718204
currentState: 1664877171.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.738204002 1.068 0.6681 9.8 0 0 -0.402
1-2 processing imu...
it_last_IMU.time: 1664877171.728204
lastState: 1664877171.728204
currentState: 1664877171.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.748203993 1.073 0.6805 9.8 0 0 -0.4056
1-2 processing imu...
it_last_IMU.time: 1664877171.738204
lastState: 1664877171.738204
currentState: 1664877171.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.758203983 1.079 0.693 9.8 0 0 -0.4092
1-2 processing imu...
it_last_IMU.time: 1664877171.748204
lastState: 1664877171.748204
currentState: 1664877171.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.768203974 1.083 0.7062 9.8 0 0 -0.4128
1-2 processing imu...
it_last_IMU.time: 1664877171.758204
lastState: 1664877171.758204
currentState: 1664877171.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.778203964 1.087 0.7197 9.8 0 0 -0.4164
1-2 processing imu...
it_last_IMU.time: 1664877171.768204
lastState: 1664877171.768204
currentState: 1664877171.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.788203955 1.09 0.7332 9.8 0 0 -0.42
1-2 processing imu...
it_last_IMU.time: 1664877171.778204
lastState: 1664877171.778204
currentState: 1664877171.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.798203945 1.094 0.7468 9.8 0 0 -0.4237
1-2 processing imu...
it_last_IMU.time: 1664877171.788204
lastState: 1664877171.788204
currentState: 1664877171.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.808203936 1.097 0.7605 9.8 0 0 -0.4274
1-2 processing imu...
it_last_IMU.time: 1664877171.798204
lastState: 1664877171.798204
currentState: 1664877171.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.818203926 1.101 0.7743 9.8 0 0 -0.431
1-2 processing imu...
it_last_IMU.time: 1664877171.808204
lastState: 1664877171.808204
currentState: 1664877171.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.828203917 1.104 0.7882 9.8 0 0 -0.4347
1-2 processing imu...
it_last_IMU.time: 1664877171.818204
lastState: 1664877171.818204
currentState: 1664877171.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.838203907 1.107 0.8021 9.8 0 0 -0.4384
1-2 processing imu...
it_last_IMU.time: 1664877171.828204
lastState: 1664877171.828204
currentState: 1664877171.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.848203897 1.11 0.8161 9.8 0 0 -0.4422
1-2 processing imu...
it_last_IMU.time: 1664877171.838204
lastState: 1664877171.838204
currentState: 1664877171.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.858203888 1.113 0.8302 9.8 0 0 -0.4459
1-2 processing imu...
it_last_IMU.time: 1664877171.848204
lastState: 1664877171.848204
currentState: 1664877171.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.868204117 1.114 0.8469 9.8 0 0 -0.4496
1-2 processing imu...
it_last_IMU.time: 1664877171.858204
lastState: 1664877171.858204
currentState: 1664877171.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.878204107 1.116 0.864 9.8 0 0 -0.4534
1-2 processing imu...
it_last_IMU.time: 1664877171.868204
lastState: 1664877171.868204
currentState: 1664877171.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.888204098 1.117 0.8811 9.8 0 0 -0.4571
1-2 processing imu...
it_last_IMU.time: 1664877171.878204
lastState: 1664877171.878204
currentState: 1664877171.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.898204088 1.119 0.8984 9.8 0 0 -0.4609
1-2 processing imu...
it_last_IMU.time: 1664877171.888204
lastState: 1664877171.888204
currentState: 1664877171.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.908204079 1.12 0.9157 9.8 0 0 -0.4647
1-2 processing imu...
it_last_IMU.time: 1664877171.898204
lastState: 1664877171.898204
currentState: 1664877171.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.918204069 1.12 0.9331 9.8 0 0 -0.4685
1-2 processing imu...
it_last_IMU.time: 1664877171.908204
lastState: 1664877171.908204
currentState: 1664877171.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.928204060 1.121 0.9505 9.8 0 0 -0.4723
1-2 processing imu...
it_last_IMU.time: 1664877171.918204
lastState: 1664877171.918204
currentState: 1664877171.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.938204050 1.122 0.9681 9.8 0 0 -0.4761
1-2 processing imu...
it_last_IMU.time: 1664877171.928204
lastState: 1664877171.928204
currentState: 1664877171.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.948204041 1.122 0.9857 9.8 0 0 -0.4799
1-2 processing imu...
it_last_IMU.time: 1664877171.938204
lastState: 1664877171.938204
currentState: 1664877171.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877171.929804087 -0.5946 0.6418 -0.00345 0.001102 0.00716 -0.8356 0.5493
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877171.929804
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877171.929804
state->time: 1664877171.929804
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675550.799299658]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675550.799395110]: the fixed q :[-0.307, -0.388, 0.574, 0.653][0m
[0m[ INFO] [1670675550.799446423]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675550.799499214]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.5946 0.6418 -0.00345
p_wv: 18.52 -15.22 31
p: 17.24 -14.12 30.94
q: [-0.307, -0.388, 0.574, 0.653]
l: 0.5145
residual in position: 0.0644 0.07395 0.02494
q_err :[-0.995, -0.00928, 0.0745, -0.0653]
residual in q: 0.01865 -0.1497 0.1312
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877171.929804 it_next->second->time: 1664877171.938204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877171.938204 it_next->second->time: 1664877171.948204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.37 -13.98 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877171.958204031 1.122 1.003 9.8 0 0 -0.4837
1-2 processing imu...
it_last_IMU.time: 1664877171.948204
lastState: 1664877171.948204
currentState: 1664877171.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.968204021 1.121 1.021 9.8 0 0 -0.4875
1-2 processing imu...
it_last_IMU.time: 1664877171.958204
lastState: 1664877171.958204
currentState: 1664877171.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.978204012 1.12 1.038 9.8 0 0 -0.4914
1-2 processing imu...
it_last_IMU.time: 1664877171.968204
lastState: 1664877171.968204
currentState: 1664877171.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877171.988204002 1.119 1.056 9.8 0 0 -0.4952
1-2 processing imu...
it_last_IMU.time: 1664877171.978204
lastState: 1664877171.978204
currentState: 1664877171.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877171.998203993 1.118 1.074 9.8 0 0 -0.499
1-2 processing imu...
it_last_IMU.time: 1664877171.988204
lastState: 1664877171.988204
currentState: 1664877171.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.008203983 1.116 1.091 9.8 0 0 -0.5029
1-2 processing imu...
it_last_IMU.time: 1664877171.998204
lastState: 1664877171.998204
currentState: 1664877172.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.018203974 1.114 1.109 9.8 0 0 -0.5067
1-2 processing imu...
it_last_IMU.time: 1664877172.008204
lastState: 1664877172.008204
currentState: 1664877172.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.028203964 1.112 1.127 9.8 0 0 -0.5105
1-2 processing imu...
it_last_IMU.time: 1664877172.018204
lastState: 1664877172.018204
currentState: 1664877172.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.038203955 1.11 1.145 9.8 0 0 -0.5143
1-2 processing imu...
it_last_IMU.time: 1664877172.028204
lastState: 1664877172.028204
currentState: 1664877172.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.048203945 1.108 1.162 9.8 0 0 -0.5182
1-2 processing imu...
it_last_IMU.time: 1664877172.038204
lastState: 1664877172.038204
currentState: 1664877172.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.058203936 1.105 1.18 9.8 0 0 -0.522
1-2 processing imu...
it_last_IMU.time: 1664877172.048204
lastState: 1664877172.048204
currentState: 1664877172.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.068203926 1.098 1.201 9.8 0 0 -0.5258
1-2 processing imu...
it_last_IMU.time: 1664877172.058204
lastState: 1664877172.058204
currentState: 1664877172.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.078203917 1.091 1.221 9.8 0 0 -0.5297
1-2 processing imu...
it_last_IMU.time: 1664877172.068204
lastState: 1664877172.068204
currentState: 1664877172.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.088203907 1.083 1.242 9.8 0 0 -0.5334
1-2 processing imu...
it_last_IMU.time: 1664877172.078204
lastState: 1664877172.078204
currentState: 1664877172.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.098203897 1.075 1.262 9.8 0 0 -0.5372
1-2 processing imu...
it_last_IMU.time: 1664877172.088204
lastState: 1664877172.088204
currentState: 1664877172.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.108203888 1.066 1.283 9.8 0 0 -0.541
1-2 processing imu...
it_last_IMU.time: 1664877172.098204
lastState: 1664877172.098204
currentState: 1664877172.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.118204117 1.058 1.303 9.8 0 0 -0.5447
1-2 processing imu...
it_last_IMU.time: 1664877172.108204
lastState: 1664877172.108204
currentState: 1664877172.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.128204107 1.049 1.324 9.8 0 0 -0.5485
1-2 processing imu...
it_last_IMU.time: 1664877172.118204
lastState: 1664877172.118204
currentState: 1664877172.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.138204098 1.04 1.344 9.8 0 0 -0.5522
1-2 processing imu...
it_last_IMU.time: 1664877172.128204
lastState: 1664877172.128204
currentState: 1664877172.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.148204088 1.031 1.365 9.8 0 0 -0.5559
1-2 processing imu...
it_last_IMU.time: 1664877172.138204
lastState: 1664877172.138204
currentState: 1664877172.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.158204079 1.021 1.385 9.8 0 0 -0.5595
1-2 processing imu...
it_last_IMU.time: 1664877172.148204
lastState: 1664877172.148204
currentState: 1664877172.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.168204069 1.006 1.409 9.8 0 0 -0.5632
1-2 processing imu...
it_last_IMU.time: 1664877172.158204
lastState: 1664877172.158204
currentState: 1664877172.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.178204060 0.9894 1.434 9.8 0 0 -0.5668
1-2 processing imu...
it_last_IMU.time: 1664877172.168204
lastState: 1664877172.168204
currentState: 1664877172.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.188204050 0.9726 1.458 9.8 0 0 -0.5704
1-2 processing imu...
it_last_IMU.time: 1664877172.178204
lastState: 1664877172.178204
currentState: 1664877172.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.198204041 0.9555 1.482 9.8 0 0 -0.5739
1-2 processing imu...
it_last_IMU.time: 1664877172.188204
lastState: 1664877172.188204
currentState: 1664877172.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.208204031 0.9381 1.506 9.8 0 0 -0.5774
1-2 processing imu...
it_last_IMU.time: 1664877172.198204
lastState: 1664877172.198204
currentState: 1664877172.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.218204021 0.9204 1.53 9.8 0 0 -0.5809
1-2 processing imu...
it_last_IMU.time: 1664877172.208204
lastState: 1664877172.208204
currentState: 1664877172.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.228204012 0.9024 1.554 9.8 0 0 -0.5843
1-2 processing imu...
it_last_IMU.time: 1664877172.218204
lastState: 1664877172.218204
currentState: 1664877172.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.238204002 0.8842 1.577 9.8 0 0 -0.5877
1-2 processing imu...
it_last_IMU.time: 1664877172.228204
lastState: 1664877172.228204
currentState: 1664877172.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.248203993 0.8656 1.601 9.8 0 0 -0.591
1-2 processing imu...
it_last_IMU.time: 1664877172.238204
lastState: 1664877172.238204
currentState: 1664877172.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.258203983 0.8467 1.624 9.8 0 0 -0.5943
1-2 processing imu...
it_last_IMU.time: 1664877172.248204
lastState: 1664877172.248204
currentState: 1664877172.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.268203974 0.8274 1.645 9.8 0 0 -0.5975
1-2 processing imu...
it_last_IMU.time: 1664877172.258204
lastState: 1664877172.258204
currentState: 1664877172.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.278203964 0.8077 1.664 9.8 0 0 -0.6007
1-2 processing imu...
it_last_IMU.time: 1664877172.268204
lastState: 1664877172.268204
currentState: 1664877172.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.288203955 0.7879 1.683 9.8 0 0 -0.6039
1-2 processing imu...
it_last_IMU.time: 1664877172.278204
lastState: 1664877172.278204
currentState: 1664877172.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.298203945 0.7677 1.703 9.8 0 0 -0.607
1-2 processing imu...
it_last_IMU.time: 1664877172.288204
lastState: 1664877172.288204
currentState: 1664877172.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.308203936 0.7473 1.722 9.8 0 0 -0.61
1-2 processing imu...
it_last_IMU.time: 1664877172.298204
lastState: 1664877172.298204
currentState: 1664877172.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.318203926 0.7267 1.741 9.8 0 0 -0.613
1-2 processing imu...
it_last_IMU.time: 1664877172.308204
lastState: 1664877172.308204
currentState: 1664877172.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.328203917 0.7058 1.759 9.8 0 0 -0.616
1-2 processing imu...
it_last_IMU.time: 1664877172.318204
lastState: 1664877172.318204
currentState: 1664877172.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.338203907 0.6846 1.778 9.8 0 0 -0.6189
1-2 processing imu...
it_last_IMU.time: 1664877172.328204
lastState: 1664877172.328204
currentState: 1664877172.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.348203897 0.6632 1.796 9.8 0 0 -0.6217
1-2 processing imu...
it_last_IMU.time: 1664877172.338204
lastState: 1664877172.338204
currentState: 1664877172.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.358203888 0.6415 1.815 9.8 0 0 -0.6245
1-2 processing imu...
it_last_IMU.time: 1664877172.348204
lastState: 1664877172.348204
currentState: 1664877172.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877172.338228941 -0.6001 0.6217 -0.003839 0.0009905 0.006964 -0.7697 0.6384
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877172.338229
time: 1664877172.338229
state->time: 1664877172.338204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675551.684275664]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675551.684326058]: the fixed q :[-0.342, -0.452, 0.528, 0.632][0m
[0m[ INFO] [1670675551.684353250]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675551.684383189]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.6001 0.6217 -0.003839
p_wv: 18.52 -15.22 31
p: 17.32 -14.29 31.01
q: [-0.342, -0.452, 0.528, 0.632]
l: 0.5145
residual in position: 0.01696 0.1457 -0.006464
q_err :[-0.991, -0.00173, 0.103, -0.0915]
residual in q: 0.00349 -0.2071 0.1847
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877172.338204 it_next->second->time: 1664877172.348204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877172.348204 it_next->second->time: 1664877172.358204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.37 -14.03 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877172.368204117 0.6212 1.831 9.8 0 0 -0.6272
1-2 processing imu...
it_last_IMU.time: 1664877172.358204
lastState: 1664877172.358204
currentState: 1664877172.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.378204107 0.6011 1.847 9.8 0 0 -0.6299
1-2 processing imu...
it_last_IMU.time: 1664877172.368204
lastState: 1664877172.368204
currentState: 1664877172.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.388204098 0.5807 1.862 9.8 0 0 -0.6325
1-2 processing imu...
it_last_IMU.time: 1664877172.378204
lastState: 1664877172.378204
currentState: 1664877172.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.398204088 0.5601 1.878 9.8 0 0 -0.6351
1-2 processing imu...
it_last_IMU.time: 1664877172.388204
lastState: 1664877172.388204
currentState: 1664877172.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.408204079 0.5392 1.893 9.8 0 0 -0.6376
1-2 processing imu...
it_last_IMU.time: 1664877172.398204
lastState: 1664877172.398204
currentState: 1664877172.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.418204069 0.5182 1.908 9.8 0 0 -0.64
1-2 processing imu...
it_last_IMU.time: 1664877172.408204
lastState: 1664877172.408204
currentState: 1664877172.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.428204060 0.4969 1.923 9.8 0 0 -0.6424
1-2 processing imu...
it_last_IMU.time: 1664877172.418204
lastState: 1664877172.418204
currentState: 1664877172.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.438204050 0.4754 1.937 9.8 0 0 -0.6447
1-2 processing imu...
it_last_IMU.time: 1664877172.428204
lastState: 1664877172.428204
currentState: 1664877172.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.448204041 0.4537 1.952 9.8 0 0 -0.647
1-2 processing imu...
it_last_IMU.time: 1664877172.438204
lastState: 1664877172.438204
currentState: 1664877172.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.458204031 0.4318 1.966 9.8 0 0 -0.6492
1-2 processing imu...
it_last_IMU.time: 1664877172.448204
lastState: 1664877172.448204
currentState: 1664877172.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.468204021 0.4102 1.977 9.8 0 0 -0.6514
1-2 processing imu...
it_last_IMU.time: 1664877172.458204
lastState: 1664877172.458204
currentState: 1664877172.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.478204012 0.3885 1.988 9.8 0 0 -0.6535
1-2 processing imu...
it_last_IMU.time: 1664877172.468204
lastState: 1664877172.468204
currentState: 1664877172.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.488204002 0.3666 1.998 9.8 0 0 -0.6555
1-2 processing imu...
it_last_IMU.time: 1664877172.478204
lastState: 1664877172.478204
currentState: 1664877172.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.498203993 0.3446 2.008 9.8 0 0 -0.6575
1-2 processing imu...
it_last_IMU.time: 1664877172.488204
lastState: 1664877172.488204
currentState: 1664877172.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.508203983 0.3224 2.018 9.8 0 0 -0.6594
1-2 processing imu...
it_last_IMU.time: 1664877172.498204
lastState: 1664877172.498204
currentState: 1664877172.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.518203974 0.3 2.028 9.8 0 0 -0.6613
1-2 processing imu...
it_last_IMU.time: 1664877172.508204
lastState: 1664877172.508204
currentState: 1664877172.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.528203964 0.2775 2.037 9.8 0 0 -0.6631
1-2 processing imu...
it_last_IMU.time: 1664877172.518204
lastState: 1664877172.518204
currentState: 1664877172.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.538203955 0.2549 2.046 9.8 0 0 -0.6648
1-2 processing imu...
it_last_IMU.time: 1664877172.528204
lastState: 1664877172.528204
currentState: 1664877172.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.548203945 0.2321 2.056 9.8 0 0 -0.6664
1-2 processing imu...
it_last_IMU.time: 1664877172.538204
lastState: 1664877172.538204
currentState: 1664877172.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.558203936 0.2092 2.064 9.8 0 0 -0.668
1-2 processing imu...
it_last_IMU.time: 1664877172.548204
lastState: 1664877172.548204
currentState: 1664877172.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.568203926 0.1855 2.07 9.8 0 0 -0.6696
1-2 processing imu...
it_last_IMU.time: 1664877172.558204
lastState: 1664877172.558204
currentState: 1664877172.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.578203917 0.1614 2.076 9.8 0 0 -0.671
1-2 processing imu...
it_last_IMU.time: 1664877172.568204
lastState: 1664877172.568204
currentState: 1664877172.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.588203907 0.1373 2.081 9.8 0 0 -0.6724
1-2 processing imu...
it_last_IMU.time: 1664877172.578204
lastState: 1664877172.578204
currentState: 1664877172.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.598203897 0.1132 2.086 9.8 0 0 -0.6737
1-2 processing imu...
it_last_IMU.time: 1664877172.588204
lastState: 1664877172.588204
currentState: 1664877172.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.608203888 0.08888 2.09 9.8 0 0 -0.675
1-2 processing imu...
it_last_IMU.time: 1664877172.598204
lastState: 1664877172.598204
currentState: 1664877172.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.618204117 0.06452 2.094 9.8 0 0 -0.6761
1-2 processing imu...
it_last_IMU.time: 1664877172.608204
lastState: 1664877172.608204
currentState: 1664877172.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.628204107 0.04009 2.099 9.8 0 0 -0.6772
1-2 processing imu...
it_last_IMU.time: 1664877172.618204
lastState: 1664877172.618204
currentState: 1664877172.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.638204098 0.01558 2.102 9.8 0 0 -0.6782
1-2 processing imu...
it_last_IMU.time: 1664877172.628204
lastState: 1664877172.628204
currentState: 1664877172.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.648204088 -0.008992 2.106 9.8 0 0 -0.6792
1-2 processing imu...
it_last_IMU.time: 1664877172.638204
lastState: 1664877172.638204
currentState: 1664877172.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.658204079 -0.03364 2.109 9.8 0 0 -0.6801
1-2 processing imu...
it_last_IMU.time: 1664877172.648204
lastState: 1664877172.648204
currentState: 1664877172.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.668204069 -0.05936 2.111 9.8 0 0 -0.6809
1-2 processing imu...
it_last_IMU.time: 1664877172.658204
lastState: 1664877172.658204
currentState: 1664877172.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.678204060 -0.08538 2.111 9.8 0 0 -0.6816
1-2 processing imu...
it_last_IMU.time: 1664877172.668204
lastState: 1664877172.668204
currentState: 1664877172.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.688204050 -0.1114 2.112 9.8 0 0 -0.6822
1-2 processing imu...
it_last_IMU.time: 1664877172.678204
lastState: 1664877172.678204
currentState: 1664877172.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.698204041 -0.1375 2.112 9.8 0 0 -0.6828
1-2 processing imu...
it_last_IMU.time: 1664877172.688204
lastState: 1664877172.688204
currentState: 1664877172.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.708204031 -0.1636 2.111 9.8 0 0 -0.6833
1-2 processing imu...
it_last_IMU.time: 1664877172.698204
lastState: 1664877172.698204
currentState: 1664877172.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.718204021 -0.1896 2.111 9.8 0 0 -0.6837
1-2 processing imu...
it_last_IMU.time: 1664877172.708204
lastState: 1664877172.708204
currentState: 1664877172.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.728204012 -0.2157 2.11 9.8 0 0 -0.684
1-2 processing imu...
it_last_IMU.time: 1664877172.718204
lastState: 1664877172.718204
currentState: 1664877172.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.738204002 -0.2418 2.109 9.8 0 0 -0.6843
1-2 processing imu...
it_last_IMU.time: 1664877172.728204
lastState: 1664877172.728204
currentState: 1664877172.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.748203993 -0.268 2.108 9.8 0 0 -0.6844
1-2 processing imu...
it_last_IMU.time: 1664877172.738204
lastState: 1664877172.738204
currentState: 1664877172.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.758203983 -0.294 2.106 9.8 0 0 -0.6845
1-2 processing imu...
it_last_IMU.time: 1664877172.748204
lastState: 1664877172.748204
currentState: 1664877172.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.768203974 -0.3197 2.101 9.8 0 0 -0.6845
1-2 processing imu...
it_last_IMU.time: 1664877172.758204
lastState: 1664877172.758204
currentState: 1664877172.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877172.760621071 -0.6019 0.6003 -0.004217 0.001848 0.007407 -0.6721 0.7404
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877172.760621
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877172.760621
state->time: 1664877172.760621
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675552.556172084]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675552.556260866]: the fixed q :[-0.398, -0.522, 0.462, 0.597][0m
[0m[ INFO] [1670675552.556315617]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675552.556366371]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.6019 0.6003 -0.004217
p_wv: 18.52 -15.22 31
p: 17.52 -14.48 31.09
q: [-0.398, -0.522, 0.462, 0.597]
l: 0.5144
residual in position: -0.08605 0.2209 -0.04988
q_err :[-0.985, 0.00536, 0.123, -0.117]
residual in q: -0.01089 -0.2498 0.237
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877172.760621 it_next->second->time: 1664877172.768204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.36 -14.07 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877172.778203964 -0.3451 2.095 9.8 0 0 -0.6845
1-2 processing imu...
it_last_IMU.time: 1664877172.768204
lastState: 1664877172.768204
currentState: 1664877172.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.788203955 -0.3704 2.088 9.8 0 0 -0.6843
1-2 processing imu...
it_last_IMU.time: 1664877172.778204
lastState: 1664877172.778204
currentState: 1664877172.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.798203945 -0.3957 2.081 9.8 0 0 -0.6841
1-2 processing imu...
it_last_IMU.time: 1664877172.788204
lastState: 1664877172.788204
currentState: 1664877172.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.808203936 -0.4208 2.074 9.8 0 0 -0.6838
1-2 processing imu...
it_last_IMU.time: 1664877172.798204
lastState: 1664877172.798204
currentState: 1664877172.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.818203926 -0.4459 2.067 9.8 0 0 -0.6834
1-2 processing imu...
it_last_IMU.time: 1664877172.808204
lastState: 1664877172.808204
currentState: 1664877172.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.828203917 -0.4709 2.059 9.8 0 0 -0.683
1-2 processing imu...
it_last_IMU.time: 1664877172.818204
lastState: 1664877172.818204
currentState: 1664877172.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.838203907 -0.4958 2.051 9.8 0 0 -0.6824
1-2 processing imu...
it_last_IMU.time: 1664877172.828204
lastState: 1664877172.828204
currentState: 1664877172.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.848203897 -0.5206 2.043 9.8 0 0 -0.6818
1-2 processing imu...
it_last_IMU.time: 1664877172.838204
lastState: 1664877172.838204
currentState: 1664877172.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.858203888 -0.5453 2.034 9.8 0 0 -0.6811
1-2 processing imu...
it_last_IMU.time: 1664877172.848204
lastState: 1664877172.848204
currentState: 1664877172.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.868204117 -0.571 2.024 9.8 0 0 -0.6803
1-2 processing imu...
it_last_IMU.time: 1664877172.858204
lastState: 1664877172.858204
currentState: 1664877172.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.878204107 -0.5968 2.012 9.8 0 0 -0.6795
1-2 processing imu...
it_last_IMU.time: 1664877172.868204
lastState: 1664877172.868204
currentState: 1664877172.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.888204098 -0.6224 2.001 9.8 0 0 -0.6785
1-2 processing imu...
it_last_IMU.time: 1664877172.878204
lastState: 1664877172.878204
currentState: 1664877172.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.898204088 -0.6479 1.989 9.8 0 0 -0.6775
1-2 processing imu...
it_last_IMU.time: 1664877172.888204
lastState: 1664877172.888204
currentState: 1664877172.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.908204079 -0.6732 1.977 9.8 0 0 -0.6764
1-2 processing imu...
it_last_IMU.time: 1664877172.898204
lastState: 1664877172.898204
currentState: 1664877172.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.918204069 -0.6984 1.964 9.8 0 0 -0.6752
1-2 processing imu...
it_last_IMU.time: 1664877172.908204
lastState: 1664877172.908204
currentState: 1664877172.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.928204060 -0.7234 1.951 9.8 0 0 -0.6739
1-2 processing imu...
it_last_IMU.time: 1664877172.918204
lastState: 1664877172.918204
currentState: 1664877172.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.938204050 -0.7483 1.938 9.8 0 0 -0.6726
1-2 processing imu...
it_last_IMU.time: 1664877172.928204
lastState: 1664877172.928204
currentState: 1664877172.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.948204041 -0.773 1.925 9.8 0 0 -0.6711
1-2 processing imu...
it_last_IMU.time: 1664877172.938204
lastState: 1664877172.938204
currentState: 1664877172.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.958204031 -0.7975 1.912 9.8 0 0 -0.6696
1-2 processing imu...
it_last_IMU.time: 1664877172.948204
lastState: 1664877172.948204
currentState: 1664877172.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.968204021 -0.8192 1.896 9.8 0 0 -0.668
1-2 processing imu...
it_last_IMU.time: 1664877172.958204
lastState: 1664877172.958204
currentState: 1664877172.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.978204012 -0.84 1.88 9.8 0 0 -0.6663
1-2 processing imu...
it_last_IMU.time: 1664877172.968204
lastState: 1664877172.968204
currentState: 1664877172.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877172.988204002 -0.8606 1.863 9.8 0 0 -0.6646
1-2 processing imu...
it_last_IMU.time: 1664877172.978204
lastState: 1664877172.978204
currentState: 1664877172.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877172.998203993 -0.8809 1.846 9.8 0 0 -0.6628
1-2 processing imu...
it_last_IMU.time: 1664877172.988204
lastState: 1664877172.988204
currentState: 1664877172.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.008203983 -0.9011 1.829 9.8 0 0 -0.6609
1-2 processing imu...
it_last_IMU.time: 1664877172.998204
lastState: 1664877172.998204
currentState: 1664877173.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.018203974 -0.921 1.812 9.8 0 0 -0.659
1-2 processing imu...
it_last_IMU.time: 1664877173.008204
lastState: 1664877173.008204
currentState: 1664877173.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.028203964 -0.9406 1.794 9.8 0 0 -0.6569
1-2 processing imu...
it_last_IMU.time: 1664877173.018204
lastState: 1664877173.018204
currentState: 1664877173.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.038203955 -0.9601 1.777 9.8 0 0 -0.6549
1-2 processing imu...
it_last_IMU.time: 1664877173.028204
lastState: 1664877173.028204
currentState: 1664877173.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.048203945 -0.9793 1.759 9.8 0 0 -0.6527
1-2 processing imu...
it_last_IMU.time: 1664877173.038204
lastState: 1664877173.038204
currentState: 1664877173.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.058203936 -0.9983 1.741 9.8 0 0 -0.6505
1-2 processing imu...
it_last_IMU.time: 1664877173.048204
lastState: 1664877173.048204
currentState: 1664877173.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.068203926 -1.016 1.721 9.8 0 0 -0.6482
1-2 processing imu...
it_last_IMU.time: 1664877173.058204
lastState: 1664877173.058204
currentState: 1664877173.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.078203917 -1.034 1.701 9.8 0 0 -0.6458
1-2 processing imu...
it_last_IMU.time: 1664877173.068204
lastState: 1664877173.068204
currentState: 1664877173.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.088203907 -1.051 1.68 9.8 0 0 -0.6434
1-2 processing imu...
it_last_IMU.time: 1664877173.078204
lastState: 1664877173.078204
currentState: 1664877173.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.098203897 -1.068 1.659 9.8 0 0 -0.6409
1-2 processing imu...
it_last_IMU.time: 1664877173.088204
lastState: 1664877173.088204
currentState: 1664877173.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.108203888 -1.085 1.638 9.8 0 0 -0.6383
1-2 processing imu...
it_last_IMU.time: 1664877173.098204
lastState: 1664877173.098204
currentState: 1664877173.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.118204117 -1.101 1.617 9.8 0 0 -0.6356
1-2 processing imu...
it_last_IMU.time: 1664877173.108204
lastState: 1664877173.108204
currentState: 1664877173.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.128204107 -1.117 1.596 9.8 0 0 -0.633
1-2 processing imu...
it_last_IMU.time: 1664877173.118204
lastState: 1664877173.118204
currentState: 1664877173.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.138204098 -1.133 1.575 9.8 0 0 -0.6302
1-2 processing imu...
it_last_IMU.time: 1664877173.128204
lastState: 1664877173.128204
currentState: 1664877173.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.148204088 -1.149 1.554 9.8 0 0 -0.6274
1-2 processing imu...
it_last_IMU.time: 1664877173.138204
lastState: 1664877173.138204
currentState: 1664877173.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.158204079 -1.164 1.532 9.8 0 0 -0.6245
1-2 processing imu...
it_last_IMU.time: 1664877173.148204
lastState: 1664877173.148204
currentState: 1664877173.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.168204069 -1.18 1.508 9.8 0 0 -0.6215
1-2 processing imu...
it_last_IMU.time: 1664877173.158204
lastState: 1664877173.158204
currentState: 1664877173.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.178204060 -1.196 1.483 9.8 0 0 -0.6185
1-2 processing imu...
it_last_IMU.time: 1664877173.168204
lastState: 1664877173.168204
currentState: 1664877173.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.188204050 -1.211 1.458 9.8 0 0 -0.6154
1-2 processing imu...
it_last_IMU.time: 1664877173.178204
lastState: 1664877173.178204
currentState: 1664877173.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.198204041 -1.227 1.433 9.8 0 0 -0.6122
1-2 processing imu...
it_last_IMU.time: 1664877173.188204
lastState: 1664877173.188204
currentState: 1664877173.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877173.183564901 -0.5949 0.5807 -0.004214 0.003822 0.006639 -0.5649 0.8251
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877173.183565
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877173.183565
state->time: 1664877173.183565
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675553.490304200]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675553.490366485]: the fixed q :[-0.483, -0.584, 0.386, 0.527][0m
[0m[ INFO] [1670675553.490382855]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675553.490408441]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.5949 0.5807 -0.004214
p_wv: 18.52 -15.22 31
p: 17.71 -14.56 31.13
q: [-0.483, -0.584, 0.386, 0.527]
l: 0.5143
residual in position: -0.1775 0.2437 -0.07163
q_err :[-0.988, 0.00402, 0.115, -0.106]
residual in q: -0.008146 -0.2332 0.2155
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877173.183565 it_next->second->time: 1664877173.188204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877173.188204 it_next->second->time: 1664877173.198204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.38 -14.11 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877173.208204031 -1.241 1.408 9.8 0 0 -0.609
1-2 processing imu...
it_last_IMU.time: 1664877173.198204
lastState: 1664877173.198204
currentState: 1664877173.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.218204021 -1.256 1.383 9.8 0 0 -0.6057
1-2 processing imu...
it_last_IMU.time: 1664877173.208204
lastState: 1664877173.208204
currentState: 1664877173.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.228204012 -1.27 1.357 9.8 0 0 -0.6023
1-2 processing imu...
it_last_IMU.time: 1664877173.218204
lastState: 1664877173.218204
currentState: 1664877173.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.238204002 -1.284 1.332 9.8 0 0 -0.5989
1-2 processing imu...
it_last_IMU.time: 1664877173.228204
lastState: 1664877173.228204
currentState: 1664877173.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.248203993 -1.298 1.306 9.8 0 0 -0.5954
1-2 processing imu...
it_last_IMU.time: 1664877173.238204
lastState: 1664877173.238204
currentState: 1664877173.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.258203983 -1.311 1.28 9.8 0 0 -0.5919
1-2 processing imu...
it_last_IMU.time: 1664877173.248204
lastState: 1664877173.248204
currentState: 1664877173.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.268203974 -1.32 1.256 9.8 0 0 -0.5883
1-2 processing imu...
it_last_IMU.time: 1664877173.258204
lastState: 1664877173.258204
currentState: 1664877173.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.278203964 -1.326 1.232 9.8 0 0 -0.5846
1-2 processing imu...
it_last_IMU.time: 1664877173.268204
lastState: 1664877173.268204
currentState: 1664877173.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.288203955 -1.332 1.208 9.8 0 0 -0.5809
1-2 processing imu...
it_last_IMU.time: 1664877173.278204
lastState: 1664877173.278204
currentState: 1664877173.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.298203945 -1.338 1.183 9.8 0 0 -0.5772
1-2 processing imu...
it_last_IMU.time: 1664877173.288204
lastState: 1664877173.288204
currentState: 1664877173.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.308203936 -1.344 1.159 9.8 0 0 -0.5734
1-2 processing imu...
it_last_IMU.time: 1664877173.298204
lastState: 1664877173.298204
currentState: 1664877173.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.318203926 -1.349 1.135 9.8 0 0 -0.5695
1-2 processing imu...
it_last_IMU.time: 1664877173.308204
lastState: 1664877173.308204
currentState: 1664877173.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.328203917 -1.354 1.111 9.8 0 0 -0.5656
1-2 processing imu...
it_last_IMU.time: 1664877173.318204
lastState: 1664877173.318204
currentState: 1664877173.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.338203907 -1.359 1.087 9.8 0 0 -0.5617
1-2 processing imu...
it_last_IMU.time: 1664877173.328204
lastState: 1664877173.328204
currentState: 1664877173.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.348203897 -1.364 1.063 9.8 0 0 -0.5577
1-2 processing imu...
it_last_IMU.time: 1664877173.338204
lastState: 1664877173.338204
currentState: 1664877173.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.358203888 -1.368 1.039 9.8 0 0 -0.5537
1-2 processing imu...
it_last_IMU.time: 1664877173.348204
lastState: 1664877173.348204
currentState: 1664877173.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.368204117 -1.37 1.017 9.8 0 0 -0.5496
1-2 processing imu...
it_last_IMU.time: 1664877173.358204
lastState: 1664877173.358204
currentState: 1664877173.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.378204107 -1.372 0.9955 9.8 0 0 -0.5455
1-2 processing imu...
it_last_IMU.time: 1664877173.368204
lastState: 1664877173.368204
currentState: 1664877173.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.388204098 -1.373 0.9741 9.8 0 0 -0.5413
1-2 processing imu...
it_last_IMU.time: 1664877173.378204
lastState: 1664877173.378204
currentState: 1664877173.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.398204088 -1.374 0.9528 9.8 0 0 -0.5372
1-2 processing imu...
it_last_IMU.time: 1664877173.388204
lastState: 1664877173.388204
currentState: 1664877173.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.408204079 -1.374 0.9316 9.8 0 0 -0.5329
1-2 processing imu...
it_last_IMU.time: 1664877173.398204
lastState: 1664877173.398204
currentState: 1664877173.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.418204069 -1.375 0.9104 9.8 0 0 -0.5287
1-2 processing imu...
it_last_IMU.time: 1664877173.408204
lastState: 1664877173.408204
currentState: 1664877173.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.428204060 -1.375 0.8893 9.8 0 0 -0.5243
1-2 processing imu...
it_last_IMU.time: 1664877173.418204
lastState: 1664877173.418204
currentState: 1664877173.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.438204050 -1.375 0.8684 9.8 0 0 -0.52
1-2 processing imu...
it_last_IMU.time: 1664877173.428204
lastState: 1664877173.428204
currentState: 1664877173.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.448204041 -1.374 0.8475 9.8 0 0 -0.5156
1-2 processing imu...
it_last_IMU.time: 1664877173.438204
lastState: 1664877173.438204
currentState: 1664877173.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.458204031 -1.374 0.8266 9.8 0 0 -0.5112
1-2 processing imu...
it_last_IMU.time: 1664877173.448204
lastState: 1664877173.448204
currentState: 1664877173.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.468204021 -1.371 0.8078 9.8 0 0 -0.5067
1-2 processing imu...
it_last_IMU.time: 1664877173.458204
lastState: 1664877173.458204
currentState: 1664877173.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.478204012 -1.366 0.7898 9.8 0 0 -0.5023
1-2 processing imu...
it_last_IMU.time: 1664877173.468204
lastState: 1664877173.468204
currentState: 1664877173.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.488204002 -1.361 0.7719 9.8 0 0 -0.4977
1-2 processing imu...
it_last_IMU.time: 1664877173.478204
lastState: 1664877173.478204
currentState: 1664877173.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.498203993 -1.356 0.7542 9.8 0 0 -0.4932
1-2 processing imu...
it_last_IMU.time: 1664877173.488204
lastState: 1664877173.488204
currentState: 1664877173.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.508203983 -1.351 0.7366 9.8 0 0 -0.4886
1-2 processing imu...
it_last_IMU.time: 1664877173.498204
lastState: 1664877173.498204
currentState: 1664877173.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.518203974 -1.346 0.7191 9.8 0 0 -0.484
1-2 processing imu...
it_last_IMU.time: 1664877173.508204
lastState: 1664877173.508204
currentState: 1664877173.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.528203964 -1.34 0.7017 9.8 0 0 -0.4794
1-2 processing imu...
it_last_IMU.time: 1664877173.518204
lastState: 1664877173.518204
currentState: 1664877173.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.538203955 -1.335 0.6845 9.8 0 0 -0.4747
1-2 processing imu...
it_last_IMU.time: 1664877173.528204
lastState: 1664877173.528204
currentState: 1664877173.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.548203945 -1.329 0.6674 9.8 0 0 -0.4701
1-2 processing imu...
it_last_IMU.time: 1664877173.538204
lastState: 1664877173.538204
currentState: 1664877173.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.558203936 -1.323 0.6505 9.8 0 0 -0.4653
1-2 processing imu...
it_last_IMU.time: 1664877173.548204
lastState: 1664877173.548204
currentState: 1664877173.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.568203926 -1.314 0.6346 9.8 0 0 -0.4606
1-2 processing imu...
it_last_IMU.time: 1664877173.558204
lastState: 1664877173.558204
currentState: 1664877173.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.578203917 -1.305 0.6193 9.8 0 0 -0.4558
1-2 processing imu...
it_last_IMU.time: 1664877173.568204
lastState: 1664877173.568204
currentState: 1664877173.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.588203907 -1.296 0.6041 9.8 0 0 -0.4511
1-2 processing imu...
it_last_IMU.time: 1664877173.578204
lastState: 1664877173.578204
currentState: 1664877173.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.598203897 -1.286 0.5892 9.8 0 0 -0.4463
1-2 processing imu...
it_last_IMU.time: 1664877173.588204
lastState: 1664877173.588204
currentState: 1664877173.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.608203888 -1.276 0.5743 9.8 0 0 -0.4415
1-2 processing imu...
it_last_IMU.time: 1664877173.598204
lastState: 1664877173.598204
currentState: 1664877173.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877173.591737986 -0.5857 0.5609 -0.004878 0.003399 0.006274 -0.4682 0.8836
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877173.591738
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877173.591738
state->time: 1664877173.591738
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675554.422735605]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675554.422832794]: the fixed q :[-0.565, -0.624, 0.324, 0.431][0m
[0m[ INFO] [1670675554.422885714]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675554.422936289]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.5857 0.5609 -0.004878
p_wv: 18.52 -15.22 31
p: 17.63 -14.41 31.08
q: [-0.565, -0.624, 0.324, 0.431]
l: 0.5145
residual in position: -0.1273 0.1442 -0.0465
q_err :[-0.994, 0.0016, 0.0791, -0.0787]
residual in q: -0.003217 -0.1592 0.1584
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877173.591738 it_next->second->time: 1664877173.598204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877173.598204 it_next->second->time: 1664877173.608204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.39 -14.14 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877173.618204117 -1.266 0.5597 9.8 0 0 -0.4366
1-2 processing imu...
it_last_IMU.time: 1664877173.608204
lastState: 1664877173.608204
currentState: 1664877173.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.628204107 -1.256 0.5452 9.8 0 0 -0.4318
1-2 processing imu...
it_last_IMU.time: 1664877173.618204
lastState: 1664877173.618204
currentState: 1664877173.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.638204098 -1.246 0.5308 9.8 0 0 -0.4269
1-2 processing imu...
it_last_IMU.time: 1664877173.628204
lastState: 1664877173.628204
currentState: 1664877173.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.648204088 -1.236 0.5166 9.8 0 0 -0.422
1-2 processing imu...
it_last_IMU.time: 1664877173.638204
lastState: 1664877173.638204
currentState: 1664877173.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.658204079 -1.226 0.5026 9.8 0 0 -0.4171
1-2 processing imu...
it_last_IMU.time: 1664877173.648204
lastState: 1664877173.648204
currentState: 1664877173.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.668204069 -1.215 0.4901 9.8 0 0 -0.4122
1-2 processing imu...
it_last_IMU.time: 1664877173.658204
lastState: 1664877173.658204
currentState: 1664877173.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.678204060 -1.203 0.4783 9.8 0 0 -0.4072
1-2 processing imu...
it_last_IMU.time: 1664877173.668204
lastState: 1664877173.668204
currentState: 1664877173.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.688204050 -1.192 0.4668 9.8 0 0 -0.4023
1-2 processing imu...
it_last_IMU.time: 1664877173.678204
lastState: 1664877173.678204
currentState: 1664877173.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.698204041 -1.18 0.4553 9.8 0 0 -0.3973
1-2 processing imu...
it_last_IMU.time: 1664877173.688204
lastState: 1664877173.688204
currentState: 1664877173.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.708204031 -1.169 0.444 9.8 0 0 -0.3923
1-2 processing imu...
it_last_IMU.time: 1664877173.698204
lastState: 1664877173.698204
currentState: 1664877173.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.718204021 -1.157 0.4329 9.8 0 0 -0.3873
1-2 processing imu...
it_last_IMU.time: 1664877173.708204
lastState: 1664877173.708204
currentState: 1664877173.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.728204012 -1.146 0.422 9.8 0 0 -0.3823
1-2 processing imu...
it_last_IMU.time: 1664877173.718204
lastState: 1664877173.718204
currentState: 1664877173.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.738204002 -1.134 0.4112 9.8 0 0 -0.3773
1-2 processing imu...
it_last_IMU.time: 1664877173.728204
lastState: 1664877173.728204
currentState: 1664877173.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.748203993 -1.122 0.4005 9.8 0 0 -0.3722
1-2 processing imu...
it_last_IMU.time: 1664877173.738204
lastState: 1664877173.738204
currentState: 1664877173.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.758203983 -1.11 0.39 9.8 0 0 -0.3671
1-2 processing imu...
it_last_IMU.time: 1664877173.748204
lastState: 1664877173.748204
currentState: 1664877173.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.768203974 -1.097 0.3796 9.8 0 0 -0.3621
1-2 processing imu...
it_last_IMU.time: 1664877173.758204
lastState: 1664877173.758204
currentState: 1664877173.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.778203964 -1.083 0.3693 9.8 0 0 -0.357
1-2 processing imu...
it_last_IMU.time: 1664877173.768204
lastState: 1664877173.768204
currentState: 1664877173.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.788203955 -1.069 0.3592 9.8 0 0 -0.3519
1-2 processing imu...
it_last_IMU.time: 1664877173.778204
lastState: 1664877173.778204
currentState: 1664877173.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.798203945 -1.056 0.3493 9.8 0 0 -0.3468
1-2 processing imu...
it_last_IMU.time: 1664877173.788204
lastState: 1664877173.788204
currentState: 1664877173.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.808203936 -1.042 0.3395 9.8 0 0 -0.3417
1-2 processing imu...
it_last_IMU.time: 1664877173.798204
lastState: 1664877173.798204
currentState: 1664877173.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.818203926 -1.028 0.3298 9.8 0 0 -0.3367
1-2 processing imu...
it_last_IMU.time: 1664877173.808204
lastState: 1664877173.808204
currentState: 1664877173.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.828203917 -1.014 0.3203 9.8 0 0 -0.3316
1-2 processing imu...
it_last_IMU.time: 1664877173.818204
lastState: 1664877173.818204
currentState: 1664877173.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.838203907 -0.9997 0.311 9.8 0 0 -0.3265
1-2 processing imu...
it_last_IMU.time: 1664877173.828204
lastState: 1664877173.828204
currentState: 1664877173.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.848203897 -0.9856 0.3018 9.8 0 0 -0.3214
1-2 processing imu...
it_last_IMU.time: 1664877173.838204
lastState: 1664877173.838204
currentState: 1664877173.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.858203888 -0.9714 0.2927 9.8 0 0 -0.3163
1-2 processing imu...
it_last_IMU.time: 1664877173.848204
lastState: 1664877173.848204
currentState: 1664877173.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.868204117 -0.9559 0.2842 9.8 0 0 -0.3112
1-2 processing imu...
it_last_IMU.time: 1664877173.858204
lastState: 1664877173.858204
currentState: 1664877173.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.878204107 -0.9397 0.2759 9.8 0 0 -0.3061
1-2 processing imu...
it_last_IMU.time: 1664877173.868204
lastState: 1664877173.868204
currentState: 1664877173.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.888204098 -0.9235 0.2679 9.8 0 0 -0.3011
1-2 processing imu...
it_last_IMU.time: 1664877173.878204
lastState: 1664877173.878204
currentState: 1664877173.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.898204088 -0.9073 0.2599 9.8 0 0 -0.296
1-2 processing imu...
it_last_IMU.time: 1664877173.888204
lastState: 1664877173.888204
currentState: 1664877173.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.908204079 -0.891 0.2521 9.8 0 0 -0.291
1-2 processing imu...
it_last_IMU.time: 1664877173.898204
lastState: 1664877173.898204
currentState: 1664877173.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.918204069 -0.8746 0.2445 9.8 0 0 -0.286
1-2 processing imu...
it_last_IMU.time: 1664877173.908204
lastState: 1664877173.908204
currentState: 1664877173.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.928204060 -0.8582 0.237 9.8 0 0 -0.281
1-2 processing imu...
it_last_IMU.time: 1664877173.918204
lastState: 1664877173.918204
currentState: 1664877173.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.938204050 -0.8418 0.2296 9.8 0 0 -0.276
1-2 processing imu...
it_last_IMU.time: 1664877173.928204
lastState: 1664877173.928204
currentState: 1664877173.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.948204041 -0.8253 0.2224 9.8 0 0 -0.271
1-2 processing imu...
it_last_IMU.time: 1664877173.938204
lastState: 1664877173.938204
currentState: 1664877173.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.958204031 -0.8087 0.2153 9.8 0 0 -0.266
1-2 processing imu...
it_last_IMU.time: 1664877173.948204
lastState: 1664877173.948204
currentState: 1664877173.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.968204021 -0.7928 0.2078 9.8 0 0 -0.2611
1-2 processing imu...
it_last_IMU.time: 1664877173.958204
lastState: 1664877173.958204
currentState: 1664877173.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.978204012 -0.7771 0.2003 9.8 0 0 -0.2562
1-2 processing imu...
it_last_IMU.time: 1664877173.968204
lastState: 1664877173.968204
currentState: 1664877173.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877173.988204002 -0.7614 0.1929 9.8 0 0 -0.2513
1-2 processing imu...
it_last_IMU.time: 1664877173.978204
lastState: 1664877173.978204
currentState: 1664877173.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877173.998203993 -0.7456 0.1856 9.8 0 0 -0.2464
1-2 processing imu...
it_last_IMU.time: 1664877173.988204
lastState: 1664877173.988204
currentState: 1664877173.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.008203983 -0.7298 0.1785 9.8 0 0 -0.2415
1-2 processing imu...
it_last_IMU.time: 1664877173.998204
lastState: 1664877173.998204
currentState: 1664877174.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.018203974 -0.714 0.1714 9.8 0 0 -0.2367
1-2 processing imu...
it_last_IMU.time: 1664877174.008204
lastState: 1664877174.008204
currentState: 1664877174.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.028203964 -0.6981 0.1645 9.8 0 0 -0.2319
1-2 processing imu...
it_last_IMU.time: 1664877174.018204
lastState: 1664877174.018204
currentState: 1664877174.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877174.017230034 -0.5725 0.5448 -0.005035 0.004045 0.005973 -0.4028 0.9152
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877174.017230
time: 1664877174.017230
state->time: 1664877174.018204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675555.364579033]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675555.364629259]: the fixed q :[-0.628, -0.646, 0.278, 0.334][0m
[0m[ INFO] [1670675555.364641878]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675555.364656655]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.5725 0.5448 -0.005035
p_wv: 18.52 -15.22 31
p: 17.33 -14.26 30.98
q: [-0.628, -0.646, 0.278, 0.334]
l: 0.5152
residual in position: 0.03944 0.04805 0.005624
q_err :[-0.999, -0.00508, 0.0344, -0.033]
residual in q: 0.01017 -0.06886 0.06616
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877174.018204 it_next->second->time: 1664877174.028204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.41 -14.16 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877174.038203955 -0.6822 0.1577 9.8 0 0 -0.2271
1-2 processing imu...
it_last_IMU.time: 1664877174.028204
lastState: 1664877174.028204
currentState: 1664877174.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.048203945 -0.6663 0.1509 9.8 0 0 -0.2224
1-2 processing imu...
it_last_IMU.time: 1664877174.038204
lastState: 1664877174.038204
currentState: 1664877174.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.058203936 -0.6503 0.1443 9.8 0 0 -0.2176
1-2 processing imu...
it_last_IMU.time: 1664877174.048204
lastState: 1664877174.048204
currentState: 1664877174.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.068203926 -0.6352 0.1361 9.8 0 0 -0.2129
1-2 processing imu...
it_last_IMU.time: 1664877174.058204
lastState: 1664877174.058204
currentState: 1664877174.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.078203917 -0.6206 0.1272 9.8 0 0 -0.2082
1-2 processing imu...
it_last_IMU.time: 1664877174.068204
lastState: 1664877174.068204
currentState: 1664877174.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.088203907 -0.6059 0.1183 9.8 0 0 -0.2036
1-2 processing imu...
it_last_IMU.time: 1664877174.078204
lastState: 1664877174.078204
currentState: 1664877174.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.098203897 -0.5911 0.1096 9.8 0 0 -0.1989
1-2 processing imu...
it_last_IMU.time: 1664877174.088204
lastState: 1664877174.088204
currentState: 1664877174.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.108203888 -0.5764 0.1009 9.8 0 0 -0.1944
1-2 processing imu...
it_last_IMU.time: 1664877174.098204
lastState: 1664877174.098204
currentState: 1664877174.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.118204117 -0.5615 0.09231 9.8 0 0 -0.1898
1-2 processing imu...
it_last_IMU.time: 1664877174.108204
lastState: 1664877174.108204
currentState: 1664877174.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.128204107 -0.5467 0.0838 9.8 0 0 -0.1853
1-2 processing imu...
it_last_IMU.time: 1664877174.118204
lastState: 1664877174.118204
currentState: 1664877174.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.138204098 -0.5318 0.07538 9.8 0 0 -0.1808
1-2 processing imu...
it_last_IMU.time: 1664877174.128204
lastState: 1664877174.128204
currentState: 1664877174.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.148204088 -0.5169 0.06703 9.8 0 0 -0.1764
1-2 processing imu...
it_last_IMU.time: 1664877174.138204
lastState: 1664877174.138204
currentState: 1664877174.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.158204079 -0.502 0.05876 9.8 0 0 -0.1719
1-2 processing imu...
it_last_IMU.time: 1664877174.148204
lastState: 1664877174.148204
currentState: 1664877174.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.168204069 -0.4876 0.0497 9.8 0 0 -0.1676
1-2 processing imu...
it_last_IMU.time: 1664877174.158204
lastState: 1664877174.158204
currentState: 1664877174.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.178204060 -0.4736 0.04026 9.8 0 0 -0.1632
1-2 processing imu...
it_last_IMU.time: 1664877174.168204
lastState: 1664877174.168204
currentState: 1664877174.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.188204050 -0.4595 0.03089 9.8 0 0 -0.159
1-2 processing imu...
it_last_IMU.time: 1664877174.178204
lastState: 1664877174.178204
currentState: 1664877174.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.198204041 -0.4454 0.02159 9.8 0 0 -0.1548
1-2 processing imu...
it_last_IMU.time: 1664877174.188204
lastState: 1664877174.188204
currentState: 1664877174.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.208204031 -0.4313 0.01234 9.8 0 0 -0.1506
1-2 processing imu...
it_last_IMU.time: 1664877174.198204
lastState: 1664877174.198204
currentState: 1664877174.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.218204021 -0.4171 0.003161 9.8 0 0 -0.1465
1-2 processing imu...
it_last_IMU.time: 1664877174.208204
lastState: 1664877174.208204
currentState: 1664877174.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.228204012 -0.403 -0.005963 9.8 0 0 -0.1425
1-2 processing imu...
it_last_IMU.time: 1664877174.218204
lastState: 1664877174.218204
currentState: 1664877174.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.238204002 -0.3887 -0.01503 9.8 0 0 -0.1385
1-2 processing imu...
it_last_IMU.time: 1664877174.228204
lastState: 1664877174.228204
currentState: 1664877174.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.248203993 -0.3745 -0.02405 9.8 0 0 -0.1345
1-2 processing imu...
it_last_IMU.time: 1664877174.238204
lastState: 1664877174.238204
currentState: 1664877174.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.258203983 -0.3603 -0.033 9.8 0 0 -0.1306
1-2 processing imu...
it_last_IMU.time: 1664877174.248204
lastState: 1664877174.248204
currentState: 1664877174.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.268203974 -0.3473 -0.03897 9.8 0 0 -0.1268
1-2 processing imu...
it_last_IMU.time: 1664877174.258204
lastState: 1664877174.258204
currentState: 1664877174.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.278203964 -0.3349 -0.04332 9.8 0 0 -0.123
1-2 processing imu...
it_last_IMU.time: 1664877174.268204
lastState: 1664877174.268204
currentState: 1664877174.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.288203955 -0.3226 -0.04762 9.8 0 0 -0.1193
1-2 processing imu...
it_last_IMU.time: 1664877174.278204
lastState: 1664877174.278204
currentState: 1664877174.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.298203945 -0.3102 -0.05189 9.8 0 0 -0.1157
1-2 processing imu...
it_last_IMU.time: 1664877174.288204
lastState: 1664877174.288204
currentState: 1664877174.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.308203936 -0.2978 -0.05611 9.8 0 0 -0.1121
1-2 processing imu...
it_last_IMU.time: 1664877174.298204
lastState: 1664877174.298204
currentState: 1664877174.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.318203926 -0.2854 -0.0603 9.8 0 0 -0.1086
1-2 processing imu...
it_last_IMU.time: 1664877174.308204
lastState: 1664877174.308204
currentState: 1664877174.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.328203917 -0.2731 -0.06445 9.8 0 0 -0.1051
1-2 processing imu...
it_last_IMU.time: 1664877174.318204
lastState: 1664877174.318204
currentState: 1664877174.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.338203907 -0.2607 -0.06856 9.8 0 0 -0.1017
1-2 processing imu...
it_last_IMU.time: 1664877174.328204
lastState: 1664877174.328204
currentState: 1664877174.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.348203897 -0.2483 -0.07264 9.8 0 0 -0.09841
1-2 processing imu...
it_last_IMU.time: 1664877174.338204
lastState: 1664877174.338204
currentState: 1664877174.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.358203888 -0.2359 -0.07669 9.8 0 0 -0.09513
1-2 processing imu...
it_last_IMU.time: 1664877174.348204
lastState: 1664877174.348204
currentState: 1664877174.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.368204117 -0.2251 -0.07799 9.8 0 0 -0.09192
1-2 processing imu...
it_last_IMU.time: 1664877174.358204
lastState: 1664877174.358204
currentState: 1664877174.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.378204107 -0.2152 -0.07777 9.8 0 0 -0.08877
1-2 processing imu...
it_last_IMU.time: 1664877174.368204
lastState: 1664877174.368204
currentState: 1664877174.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.388204098 -0.2053 -0.07753 9.8 0 0 -0.08568
1-2 processing imu...
it_last_IMU.time: 1664877174.378204
lastState: 1664877174.378204
currentState: 1664877174.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.398204088 -0.1954 -0.07726 9.8 0 0 -0.08264
1-2 processing imu...
it_last_IMU.time: 1664877174.388204
lastState: 1664877174.388204
currentState: 1664877174.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.408204079 -0.1855 -0.07697 9.8 0 0 -0.07967
1-2 processing imu...
it_last_IMU.time: 1664877174.398204
lastState: 1664877174.398204
currentState: 1664877174.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.418204069 -0.1756 -0.07665 9.8 0 0 -0.07675
1-2 processing imu...
it_last_IMU.time: 1664877174.408204
lastState: 1664877174.408204
currentState: 1664877174.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.428204060 -0.1657 -0.07632 9.8 0 0 -0.07389
1-2 processing imu...
it_last_IMU.time: 1664877174.418204
lastState: 1664877174.418204
currentState: 1664877174.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.438204050 -0.1559 -0.07597 9.8 0 0 -0.07109
1-2 processing imu...
it_last_IMU.time: 1664877174.428204
lastState: 1664877174.428204
currentState: 1664877174.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877174.423114061 -0.557 0.5289 -0.005598 0.004575 0.005403 -0.3773 0.9261
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877174.423114
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877174.423114
state->time: 1664877174.423114
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675556.212008570]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675556.212106669]: the fixed q :[-0.662, -0.654, 0.259, 0.259][0m
[0m[ INFO] [1670675556.212163260]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675556.212255425]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.557 0.5289 -0.005598
p_wv: 18.52 -15.22 31
p: 17.21 -14.24 30.9
q: [-0.662, -0.654, 0.259, 0.259]
l: 0.5152
residual in position: 0.1158 0.02455 0.04618
q_err :[-1, -0.00758, -0.0093, 0.012]
residual in q: 0.01516 0.01861 -0.02398
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877174.423114 it_next->second->time: 1664877174.428204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877174.428204 it_next->second->time: 1664877174.438204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.43 -14.2 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877174.448204041 -0.146 -0.0756 9.8 0 0 -0.06835
1-2 processing imu...
it_last_IMU.time: 1664877174.438204
lastState: 1664877174.438204
currentState: 1664877174.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.458204031 -0.1361 -0.07521 9.8 0 0 -0.06567
1-2 processing imu...
it_last_IMU.time: 1664877174.448204
lastState: 1664877174.448204
currentState: 1664877174.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.468204021 -0.1279 -0.07397 9.8 0 0 -0.06304
1-2 processing imu...
it_last_IMU.time: 1664877174.458204
lastState: 1664877174.458204
currentState: 1664877174.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.478204012 -0.1206 -0.07223 9.8 0 0 -0.06047
1-2 processing imu...
it_last_IMU.time: 1664877174.468204
lastState: 1664877174.468204
currentState: 1664877174.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.488204002 -0.1134 -0.07048 9.8 0 0 -0.05795
1-2 processing imu...
it_last_IMU.time: 1664877174.478204
lastState: 1664877174.478204
currentState: 1664877174.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.498203993 -0.1061 -0.06872 9.8 0 0 -0.05548
1-2 processing imu...
it_last_IMU.time: 1664877174.488204
lastState: 1664877174.488204
currentState: 1664877174.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.508203983 -0.0989 -0.06695 9.8 0 0 -0.05307
1-2 processing imu...
it_last_IMU.time: 1664877174.498204
lastState: 1664877174.498204
currentState: 1664877174.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.518203974 -0.09166 -0.06517 9.8 0 0 -0.05071
1-2 processing imu...
it_last_IMU.time: 1664877174.508204
lastState: 1664877174.508204
currentState: 1664877174.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.528203964 -0.08443 -0.06338 9.8 0 0 -0.04841
1-2 processing imu...
it_last_IMU.time: 1664877174.518204
lastState: 1664877174.518204
currentState: 1664877174.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.538203955 -0.07719 -0.06158 9.8 0 0 -0.04616
1-2 processing imu...
it_last_IMU.time: 1664877174.528204
lastState: 1664877174.528204
currentState: 1664877174.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.548203945 -0.06996 -0.05977 9.8 0 0 -0.04396
1-2 processing imu...
it_last_IMU.time: 1664877174.538204
lastState: 1664877174.538204
currentState: 1664877174.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.558203936 -0.06274 -0.05795 9.8 0 0 -0.04181
1-2 processing imu...
it_last_IMU.time: 1664877174.548204
lastState: 1664877174.548204
currentState: 1664877174.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.568203926 -0.057 -0.05513 9.8 0 0 -0.03972
1-2 processing imu...
it_last_IMU.time: 1664877174.558204
lastState: 1664877174.558204
currentState: 1664877174.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.578203917 -0.05216 -0.05169 9.8 0 0 -0.03768
1-2 processing imu...
it_last_IMU.time: 1664877174.568204
lastState: 1664877174.568204
currentState: 1664877174.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.588203907 -0.04732 -0.04825 9.8 0 0 -0.03569
1-2 processing imu...
it_last_IMU.time: 1664877174.578204
lastState: 1664877174.578204
currentState: 1664877174.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.598203897 -0.04249 -0.04481 9.8 0 0 -0.03376
1-2 processing imu...
it_last_IMU.time: 1664877174.588204
lastState: 1664877174.588204
currentState: 1664877174.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.608203888 -0.03766 -0.04137 9.8 0 0 -0.03189
1-2 processing imu...
it_last_IMU.time: 1664877174.598204
lastState: 1664877174.598204
currentState: 1664877174.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.618204117 -0.03283 -0.03792 9.8 0 0 -0.03006
1-2 processing imu...
it_last_IMU.time: 1664877174.608204
lastState: 1664877174.608204
currentState: 1664877174.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.628204107 -0.02801 -0.03446 9.8 0 0 -0.02829
1-2 processing imu...
it_last_IMU.time: 1664877174.618204
lastState: 1664877174.618204
currentState: 1664877174.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.638204098 -0.02318 -0.03101 9.8 0 0 -0.02658
1-2 processing imu...
it_last_IMU.time: 1664877174.628204
lastState: 1664877174.628204
currentState: 1664877174.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.648204088 -0.01836 -0.02755 9.8 0 0 -0.02491
1-2 processing imu...
it_last_IMU.time: 1664877174.638204
lastState: 1664877174.638204
currentState: 1664877174.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.658204079 -0.01354 -0.02408 9.8 0 0 -0.0233
1-2 processing imu...
it_last_IMU.time: 1664877174.648204
lastState: 1664877174.648204
currentState: 1664877174.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.668204069 -0.009891 -0.02072 9.8 0 0 -0.02175
1-2 processing imu...
it_last_IMU.time: 1664877174.658204
lastState: 1664877174.658204
currentState: 1664877174.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.678204060 -0.006963 -0.01742 9.8 0 0 -0.02024
1-2 processing imu...
it_last_IMU.time: 1664877174.668204
lastState: 1664877174.668204
currentState: 1664877174.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.688204050 -0.004036 -0.01412 9.8 0 0 -0.01878
1-2 processing imu...
it_last_IMU.time: 1664877174.678204
lastState: 1664877174.678204
currentState: 1664877174.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.698204041 -0.00111 -0.01082 9.8 0 0 -0.01738
1-2 processing imu...
it_last_IMU.time: 1664877174.688204
lastState: 1664877174.688204
currentState: 1664877174.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.708204031 0.001814 -0.007515 9.8 0 0 -0.01602
1-2 processing imu...
it_last_IMU.time: 1664877174.698204
lastState: 1664877174.698204
currentState: 1664877174.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.718204021 0.004737 -0.004211 9.8 0 0 -0.01471
1-2 processing imu...
it_last_IMU.time: 1664877174.708204
lastState: 1664877174.708204
currentState: 1664877174.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.728204012 0.007658 -0.000907 9.8 0 0 -0.01345
1-2 processing imu...
it_last_IMU.time: 1664877174.718204
lastState: 1664877174.718204
currentState: 1664877174.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.738204002 0.01058 0.002399 9.8 0 0 -0.01224
1-2 processing imu...
it_last_IMU.time: 1664877174.728204
lastState: 1664877174.728204
currentState: 1664877174.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.748203993 0.0135 0.005705 9.8 0 0 -0.01108
1-2 processing imu...
it_last_IMU.time: 1664877174.738204
lastState: 1664877174.738204
currentState: 1664877174.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.758203983 0.01642 0.009011 9.8 0 0 -0.009966
1-2 processing imu...
it_last_IMU.time: 1664877174.748204
lastState: 1664877174.748204
currentState: 1664877174.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.768203974 0.01845 0.01202 9.8 0 0 -0.008902
1-2 processing imu...
it_last_IMU.time: 1664877174.758204
lastState: 1664877174.758204
currentState: 1664877174.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.778203964 0.01992 0.01484 9.8 0 0 -0.00788
1-2 processing imu...
it_last_IMU.time: 1664877174.768204
lastState: 1664877174.768204
currentState: 1664877174.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.788203955 0.02138 0.01766 9.8 0 0 -0.006898
1-2 processing imu...
it_last_IMU.time: 1664877174.778204
lastState: 1664877174.778204
currentState: 1664877174.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.798203945 0.02284 0.02048 9.8 0 0 -0.005957
1-2 processing imu...
it_last_IMU.time: 1664877174.788204
lastState: 1664877174.788204
currentState: 1664877174.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.808203936 0.0243 0.02329 9.8 0 0 -0.005056
1-2 processing imu...
it_last_IMU.time: 1664877174.798204
lastState: 1664877174.798204
currentState: 1664877174.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.818203926 0.02576 0.02611 9.8 0 0 -0.004196
1-2 processing imu...
it_last_IMU.time: 1664877174.808204
lastState: 1664877174.808204
currentState: 1664877174.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.828203917 0.02722 0.02893 9.8 0 0 -0.003377
1-2 processing imu...
it_last_IMU.time: 1664877174.818204
lastState: 1664877174.818204
currentState: 1664877174.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.838203907 0.02869 0.03175 9.8 0 0 -0.002599
1-2 processing imu...
it_last_IMU.time: 1664877174.828204
lastState: 1664877174.828204
currentState: 1664877174.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.848203897 0.03015 0.03456 9.8 0 0 -0.001861
1-2 processing imu...
it_last_IMU.time: 1664877174.838204
lastState: 1664877174.838204
currentState: 1664877174.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.858203888 0.03161 0.03738 9.8 0 0 -0.001164
1-2 processing imu...
it_last_IMU.time: 1664877174.848204
lastState: 1664877174.848204
currentState: 1664877174.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877174.845488071 -0.5414 0.5139 -0.006117 0.003996 0.005068 -0.3752 0.9269
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877174.845488
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877174.845488
state->time: 1664877174.845488
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675557.085959942]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675557.086105973]: the fixed q :[-0.676, -0.654, 0.257, 0.221][0m
[0m[ INFO] [1670675557.086222733]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675557.086293080]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.5414 0.5139 -0.006117
p_wv: 18.52 -15.22 31
p: 17.19 -14.29 30.85
q: [-0.676, -0.654, 0.257, 0.221]
l: 0.5153
residual in position: 0.1425 0.03247 0.06998
q_err :[-0.999, -0.00678, -0.0354, 0.0394]
residual in q: 0.01357 0.07086 -0.07901
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877174.845488 it_next->second->time: 1664877174.848204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877174.848204 it_next->second->time: 1664877174.858204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.46 -14.22 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877174.868204117 0.03249 0.03899 9.8 0 0 -0.000506
1-2 processing imu...
it_last_IMU.time: 1664877174.858204
lastState: 1664877174.858204
currentState: 1664877174.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.878204107 0.03298 0.03979 9.8 0 0 0.00012
1-2 processing imu...
it_last_IMU.time: 1664877174.868204
lastState: 1664877174.868204
currentState: 1664877174.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.888204098 0.03347 0.0406 9.8 0 0 0.000714
1-2 processing imu...
it_last_IMU.time: 1664877174.878204
lastState: 1664877174.878204
currentState: 1664877174.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.898204088 0.03397 0.0414 9.8 0 0 0.001278
1-2 processing imu...
it_last_IMU.time: 1664877174.888204
lastState: 1664877174.888204
currentState: 1664877174.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.908204079 0.03446 0.0422 9.8 0 0 0.00181
1-2 processing imu...
it_last_IMU.time: 1664877174.898204
lastState: 1664877174.898204
currentState: 1664877174.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.918204069 0.03495 0.043 9.8 0 0 0.00231
1-2 processing imu...
it_last_IMU.time: 1664877174.908204
lastState: 1664877174.908204
currentState: 1664877174.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.928204060 0.03545 0.0438 9.8 0 0 0.002779
1-2 processing imu...
it_last_IMU.time: 1664877174.918204
lastState: 1664877174.918204
currentState: 1664877174.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.938204050 0.03594 0.0446 9.8 0 0 0.003217
1-2 processing imu...
it_last_IMU.time: 1664877174.928204
lastState: 1664877174.928204
currentState: 1664877174.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.948204041 0.03643 0.0454 9.8 0 0 0.003623
1-2 processing imu...
it_last_IMU.time: 1664877174.938204
lastState: 1664877174.938204
currentState: 1664877174.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.958204031 0.03693 0.0462 9.8 0 0 0.003998
1-2 processing imu...
it_last_IMU.time: 1664877174.948204
lastState: 1664877174.948204
currentState: 1664877174.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.968204021 0.03703 0.04614 9.8 0 0 0.004344
1-2 processing imu...
it_last_IMU.time: 1664877174.958204
lastState: 1664877174.958204
currentState: 1664877174.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.978204012 0.03687 0.04548 9.8 0 0 0.004666
1-2 processing imu...
it_last_IMU.time: 1664877174.968204
lastState: 1664877174.968204
currentState: 1664877174.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877174.988204002 0.03671 0.04482 9.8 0 0 0.004968
1-2 processing imu...
it_last_IMU.time: 1664877174.978204
lastState: 1664877174.978204
currentState: 1664877174.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877174.998203993 0.03654 0.04417 9.8 0 0 0.005247
1-2 processing imu...
it_last_IMU.time: 1664877174.988204
lastState: 1664877174.988204
currentState: 1664877174.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.008203983 0.03638 0.04351 9.8 0 0 0.005505
1-2 processing imu...
it_last_IMU.time: 1664877174.998204
lastState: 1664877174.998204
currentState: 1664877175.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.018203974 0.03622 0.04285 9.8 0 0 0.005741
1-2 processing imu...
it_last_IMU.time: 1664877175.008204
lastState: 1664877175.008204
currentState: 1664877175.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.028203964 0.03605 0.04219 9.8 0 0 0.005955
1-2 processing imu...
it_last_IMU.time: 1664877175.018204
lastState: 1664877175.018204
currentState: 1664877175.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.038203955 0.03589 0.04154 9.8 0 0 0.006148
1-2 processing imu...
it_last_IMU.time: 1664877175.028204
lastState: 1664877175.028204
currentState: 1664877175.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.048203945 0.03573 0.04088 9.8 0 0 0.006319
1-2 processing imu...
it_last_IMU.time: 1664877175.038204
lastState: 1664877175.038204
currentState: 1664877175.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.058203936 0.03557 0.04022 9.8 0 0 0.006468
1-2 processing imu...
it_last_IMU.time: 1664877175.048204
lastState: 1664877175.048204
currentState: 1664877175.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.068203926 0.03521 0.03895 9.8 0 0 0.006597
1-2 processing imu...
it_last_IMU.time: 1664877175.058204
lastState: 1664877175.058204
currentState: 1664877175.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.078203917 0.03472 0.03723 9.8 0 0 0.006711
1-2 processing imu...
it_last_IMU.time: 1664877175.068204
lastState: 1664877175.068204
currentState: 1664877175.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.088203907 0.03424 0.0355 9.8 0 0 0.00681
1-2 processing imu...
it_last_IMU.time: 1664877175.078204
lastState: 1664877175.078204
currentState: 1664877175.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.098203897 0.03375 0.03378 9.8 0 0 0.006895
1-2 processing imu...
it_last_IMU.time: 1664877175.088204
lastState: 1664877175.088204
currentState: 1664877175.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.108203888 0.03326 0.03206 9.8 0 0 0.006966
1-2 processing imu...
it_last_IMU.time: 1664877175.098204
lastState: 1664877175.098204
currentState: 1664877175.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.118204117 0.03277 0.03034 9.8 0 0 0.007022
1-2 processing imu...
it_last_IMU.time: 1664877175.108204
lastState: 1664877175.108204
currentState: 1664877175.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.128204107 0.03228 0.02862 9.8 0 0 0.007063
1-2 processing imu...
it_last_IMU.time: 1664877175.118204
lastState: 1664877175.118204
currentState: 1664877175.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.138204098 0.03179 0.0269 9.8 0 0 0.007091
1-2 processing imu...
it_last_IMU.time: 1664877175.128204
lastState: 1664877175.128204
currentState: 1664877175.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.148204088 0.0313 0.02518 9.8 0 0 0.007103
1-2 processing imu...
it_last_IMU.time: 1664877175.138204
lastState: 1664877175.138204
currentState: 1664877175.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.158204079 0.03081 0.02346 9.8 0 0 0.007102
1-2 processing imu...
it_last_IMU.time: 1664877175.148204
lastState: 1664877175.148204
currentState: 1664877175.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.168204069 0.03024 0.01965 9.8 0 0 0.007087
1-2 processing imu...
it_last_IMU.time: 1664877175.158204
lastState: 1664877175.158204
currentState: 1664877175.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.178204060 0.02962 0.01428 9.8 0 0 0.007063
1-2 processing imu...
it_last_IMU.time: 1664877175.168204
lastState: 1664877175.168204
currentState: 1664877175.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.188204050 0.02899 0.008916 9.8 0 0 0.007032
1-2 processing imu...
it_last_IMU.time: 1664877175.178204
lastState: 1664877175.178204
currentState: 1664877175.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.198204041 0.02837 0.003549 9.8 0 0 0.006993
1-2 processing imu...
it_last_IMU.time: 1664877175.188204
lastState: 1664877175.188204
currentState: 1664877175.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.208204031 0.02774 -0.001818 9.8 0 0 0.006946
1-2 processing imu...
it_last_IMU.time: 1664877175.198204
lastState: 1664877175.198204
currentState: 1664877175.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.218204021 0.02711 -0.007185 9.8 0 0 0.006892
1-2 processing imu...
it_last_IMU.time: 1664877175.208204
lastState: 1664877175.208204
currentState: 1664877175.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.228204012 0.02648 -0.01255 9.8 0 0 0.006829
1-2 processing imu...
it_last_IMU.time: 1664877175.218204
lastState: 1664877175.218204
currentState: 1664877175.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.238204002 0.02585 -0.01792 9.8 0 0 0.006759
1-2 processing imu...
it_last_IMU.time: 1664877175.228204
lastState: 1664877175.228204
currentState: 1664877175.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.248203993 0.02523 -0.02329 9.8 0 0 0.006681
1-2 processing imu...
it_last_IMU.time: 1664877175.238204
lastState: 1664877175.238204
currentState: 1664877175.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.258203983 0.02459 -0.02865 9.8 0 0 0.006595
1-2 processing imu...
it_last_IMU.time: 1664877175.248204
lastState: 1664877175.248204
currentState: 1664877175.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.268203974 0.02395 -0.03151 9.8 0 0 0.006502
1-2 processing imu...
it_last_IMU.time: 1664877175.258204
lastState: 1664877175.258204
currentState: 1664877175.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.278203964 0.0233 -0.03241 9.8 0 0 0.006405
1-2 processing imu...
it_last_IMU.time: 1664877175.268204
lastState: 1664877175.268204
currentState: 1664877175.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877175.253886938 -0.5266 0.4992 -0.006643 0.004094 0.00441 -0.375 0.927
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877175.253887
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877175.253887
state->time: 1664877175.253887
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675558.012236556]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675558.012379200]: the fixed q :[-0.677, -0.652, 0.261, 0.218][0m
[0m[ INFO] [1670675558.012464708]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675558.012542924]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.5266 0.4992 -0.006643
p_wv: 18.52 -15.22 31
p: 17.21 -14.3 30.87
q: [-0.677, -0.652, 0.261, 0.218]
l: 0.5154
residual in position: 0.1463 0.02484 0.06026
q_err :[-0.998, -0.00729, -0.0408, 0.0387]
residual in q: 0.0146 0.08171 -0.07744
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877175.253887 it_next->second->time: 1664877175.258204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877175.258204 it_next->second->time: 1664877175.268204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877175.268204 it_next->second->time: 1664877175.278204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.49 -14.25 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877175.288203955 0.02265 -0.03331 9.8 0 0 0.006305
1-2 processing imu...
it_last_IMU.time: 1664877175.278204
lastState: 1664877175.278204
currentState: 1664877175.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.298203945 0.022 -0.03422 9.8 0 0 0.006202
1-2 processing imu...
it_last_IMU.time: 1664877175.288204
lastState: 1664877175.288204
currentState: 1664877175.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.308203936 0.02135 -0.03512 9.8 0 0 0.006096
1-2 processing imu...
it_last_IMU.time: 1664877175.298204
lastState: 1664877175.298204
currentState: 1664877175.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.318203926 0.0207 -0.03602 9.8 0 0 0.005986
1-2 processing imu...
it_last_IMU.time: 1664877175.308204
lastState: 1664877175.308204
currentState: 1664877175.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.328203917 0.02004 -0.03693 9.8 0 0 0.005874
1-2 processing imu...
it_last_IMU.time: 1664877175.318204
lastState: 1664877175.318204
currentState: 1664877175.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.338203907 0.01939 -0.03783 9.8 0 0 0.005758
1-2 processing imu...
it_last_IMU.time: 1664877175.328204
lastState: 1664877175.328204
currentState: 1664877175.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.348203897 0.01874 -0.03873 9.8 0 0 0.005639
1-2 processing imu...
it_last_IMU.time: 1664877175.338204
lastState: 1664877175.338204
currentState: 1664877175.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.358203888 0.01809 -0.03963 9.8 0 0 0.005516
1-2 processing imu...
it_last_IMU.time: 1664877175.348204
lastState: 1664877175.348204
currentState: 1664877175.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.368204117 0.01748 -0.0395 9.8 0 0 0.005391
1-2 processing imu...
it_last_IMU.time: 1664877175.358204
lastState: 1664877175.358204
currentState: 1664877175.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.378204107 0.0169 -0.03854 9.8 0 0 0.005265
1-2 processing imu...
it_last_IMU.time: 1664877175.368204
lastState: 1664877175.368204
currentState: 1664877175.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.388204098 0.01632 -0.03758 9.8 0 0 0.005139
1-2 processing imu...
it_last_IMU.time: 1664877175.378204
lastState: 1664877175.378204
currentState: 1664877175.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.398204088 0.01574 -0.03662 9.8 0 0 0.005012
1-2 processing imu...
it_last_IMU.time: 1664877175.388204
lastState: 1664877175.388204
currentState: 1664877175.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.408204079 0.01516 -0.03566 9.8 0 0 0.004885
1-2 processing imu...
it_last_IMU.time: 1664877175.398204
lastState: 1664877175.398204
currentState: 1664877175.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.418204069 0.01458 -0.0347 9.8 0 0 0.004758
1-2 processing imu...
it_last_IMU.time: 1664877175.408204
lastState: 1664877175.408204
currentState: 1664877175.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.428204060 0.014 -0.03374 9.8 0 0 0.00463
1-2 processing imu...
it_last_IMU.time: 1664877175.418204
lastState: 1664877175.418204
currentState: 1664877175.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.438204050 0.01343 -0.03277 9.8 0 0 0.004501
1-2 processing imu...
it_last_IMU.time: 1664877175.428204
lastState: 1664877175.428204
currentState: 1664877175.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.448204041 0.01285 -0.03181 9.8 0 0 0.004373
1-2 processing imu...
it_last_IMU.time: 1664877175.438204
lastState: 1664877175.438204
currentState: 1664877175.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.458204031 0.01227 -0.03085 9.8 0 0 0.004243
1-2 processing imu...
it_last_IMU.time: 1664877175.448204
lastState: 1664877175.448204
currentState: 1664877175.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.468204021 0.01175 -0.02914 9.8 0 0 0.004114
1-2 processing imu...
it_last_IMU.time: 1664877175.458204
lastState: 1664877175.458204
currentState: 1664877175.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.478204012 0.01128 -0.02681 9.8 0 0 0.003986
1-2 processing imu...
it_last_IMU.time: 1664877175.468204
lastState: 1664877175.468204
currentState: 1664877175.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.488204002 0.01081 -0.02447 9.8 0 0 0.003859
1-2 processing imu...
it_last_IMU.time: 1664877175.478204
lastState: 1664877175.478204
currentState: 1664877175.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.498203993 0.01034 -0.02214 9.8 0 0 0.003733
1-2 processing imu...
it_last_IMU.time: 1664877175.488204
lastState: 1664877175.488204
currentState: 1664877175.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.508203983 0.009871 -0.01981 9.8 0 0 0.003609
1-2 processing imu...
it_last_IMU.time: 1664877175.498204
lastState: 1664877175.498204
currentState: 1664877175.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.518203974 0.009401 -0.01747 9.8 0 0 0.003486
1-2 processing imu...
it_last_IMU.time: 1664877175.508204
lastState: 1664877175.508204
currentState: 1664877175.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.528203964 0.008932 -0.01514 9.8 0 0 0.003364
1-2 processing imu...
it_last_IMU.time: 1664877175.518204
lastState: 1664877175.518204
currentState: 1664877175.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.538203955 0.008463 -0.01281 9.8 0 0 0.003244
1-2 processing imu...
it_last_IMU.time: 1664877175.528204
lastState: 1664877175.528204
currentState: 1664877175.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.548203945 0.007994 -0.01047 9.8 0 0 0.003124
1-2 processing imu...
it_last_IMU.time: 1664877175.538204
lastState: 1664877175.538204
currentState: 1664877175.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.558203936 0.007526 -0.00814 9.8 0 0 0.003007
1-2 processing imu...
it_last_IMU.time: 1664877175.548204
lastState: 1664877175.548204
currentState: 1664877175.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.568203926 0.007119 -0.005931 9.8 0 0 0.00289
1-2 processing imu...
it_last_IMU.time: 1664877175.558204
lastState: 1664877175.558204
currentState: 1664877175.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.578203917 0.006767 -0.00383 9.8 0 0 0.002776
1-2 processing imu...
it_last_IMU.time: 1664877175.568204
lastState: 1664877175.568204
currentState: 1664877175.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.588203907 0.006414 -0.001729 9.8 0 0 0.002664
1-2 processing imu...
it_last_IMU.time: 1664877175.578204
lastState: 1664877175.578204
currentState: 1664877175.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.598203897 0.006062 0.000372 9.8 0 0 0.002553
1-2 processing imu...
it_last_IMU.time: 1664877175.588204
lastState: 1664877175.588204
currentState: 1664877175.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.608203888 0.00571 0.002472 9.8 0 0 0.002445
1-2 processing imu...
it_last_IMU.time: 1664877175.598204
lastState: 1664877175.598204
currentState: 1664877175.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.618204117 0.005358 0.004573 9.8 0 0 0.00234
1-2 processing imu...
it_last_IMU.time: 1664877175.608204
lastState: 1664877175.608204
currentState: 1664877175.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.628204107 0.005006 0.006674 9.8 0 0 0.002236
1-2 processing imu...
it_last_IMU.time: 1664877175.618204
lastState: 1664877175.618204
currentState: 1664877175.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.638204098 0.004654 0.008775 9.8 0 0 0.002134
1-2 processing imu...
it_last_IMU.time: 1664877175.628204
lastState: 1664877175.628204
currentState: 1664877175.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.648204088 0.004302 0.01088 9.8 0 0 0.002035
1-2 processing imu...
it_last_IMU.time: 1664877175.638204
lastState: 1664877175.638204
currentState: 1664877175.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.658204079 0.003951 0.01298 9.8 0 0 0.001937
1-2 processing imu...
it_last_IMU.time: 1664877175.648204
lastState: 1664877175.648204
currentState: 1664877175.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.668204069 0.003656 0.01479 9.8 0 0 0.001842
1-2 processing imu...
it_last_IMU.time: 1664877175.658204
lastState: 1664877175.658204
currentState: 1664877175.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.678204060 0.003411 0.01634 9.8 0 0 0.001749
1-2 processing imu...
it_last_IMU.time: 1664877175.668204
lastState: 1664877175.668204
currentState: 1664877175.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.688204050 0.003167 0.01789 9.8 0 0 0.001658
1-2 processing imu...
it_last_IMU.time: 1664877175.678204
lastState: 1664877175.678204
currentState: 1664877175.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.698204041 0.002923 0.01945 9.8 0 0 0.00157
1-2 processing imu...
it_last_IMU.time: 1664877175.688204
lastState: 1664877175.688204
currentState: 1664877175.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877175.679799080 -0.5117 0.4852 -0.006989 0.003456 0.003991 -0.3749 0.9271
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877175.679799
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877175.679799
state->time: 1664877175.679799
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675558.912529888]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675558.912662016]: the fixed q :[-0.678, -0.652, 0.262, 0.217][0m
[0m[ INFO] [1670675558.912714147]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675558.912768153]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.5117 0.4852 -0.006989
p_wv: 18.52 -15.22 31
p: 17.23 -14.32 30.86
q: [-0.678, -0.652, 0.262, 0.217]
l: 0.5155
residual in position: 0.1547 0.02345 0.06578
q_err :[-0.998, -0.00692, -0.0409, 0.0382]
residual in q: 0.01386 0.08185 -0.07658
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877175.679799 it_next->second->time: 1664877175.688204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877175.688204 it_next->second->time: 1664877175.698204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.52 -14.28 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877175.708204031 0.002679 0.021 9.8 0 0 0.001484
1-2 processing imu...
it_last_IMU.time: 1664877175.698204
lastState: 1664877175.698204
currentState: 1664877175.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.718204021 0.002435 0.02255 9.8 0 0 0.001401
1-2 processing imu...
it_last_IMU.time: 1664877175.708204
lastState: 1664877175.708204
currentState: 1664877175.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.728204012 0.002191 0.0241 9.8 0 0 0.00132
1-2 processing imu...
it_last_IMU.time: 1664877175.718204
lastState: 1664877175.718204
currentState: 1664877175.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.738204002 0.001947 0.02566 9.8 0 0 0.001241
1-2 processing imu...
it_last_IMU.time: 1664877175.728204
lastState: 1664877175.728204
currentState: 1664877175.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.748203993 0.001703 0.02721 9.8 0 0 0.001164
1-2 processing imu...
it_last_IMU.time: 1664877175.738204
lastState: 1664877175.738204
currentState: 1664877175.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.758203983 0.001458 0.02876 9.8 0 0 0.00109
1-2 processing imu...
it_last_IMU.time: 1664877175.748204
lastState: 1664877175.748204
currentState: 1664877175.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.768203974 0.00126 0.0293 9.8 0 0 0.001018
1-2 processing imu...
it_last_IMU.time: 1664877175.758204
lastState: 1664877175.758204
currentState: 1664877175.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.778203964 0.001105 0.0289 9.8 0 0 0.000949
1-2 processing imu...
it_last_IMU.time: 1664877175.768204
lastState: 1664877175.768204
currentState: 1664877175.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.788203955 0.000949 0.02849 9.8 0 0 0.000881
1-2 processing imu...
it_last_IMU.time: 1664877175.778204
lastState: 1664877175.778204
currentState: 1664877175.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.798203945 0.000794 0.02809 9.8 0 0 0.000816
1-2 processing imu...
it_last_IMU.time: 1664877175.788204
lastState: 1664877175.788204
currentState: 1664877175.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.808203936 0.000638 0.02768 9.8 0 0 0.000753
1-2 processing imu...
it_last_IMU.time: 1664877175.798204
lastState: 1664877175.798204
currentState: 1664877175.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.818203926 0.000483 0.02728 9.8 0 0 0.000692
1-2 processing imu...
it_last_IMU.time: 1664877175.808204
lastState: 1664877175.808204
currentState: 1664877175.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.828203917 0.000327 0.02688 9.8 0 0 0.000634
1-2 processing imu...
it_last_IMU.time: 1664877175.818204
lastState: 1664877175.818204
currentState: 1664877175.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.838203907 0.000171 0.02647 9.8 0 0 0.000578
1-2 processing imu...
it_last_IMU.time: 1664877175.828204
lastState: 1664877175.828204
currentState: 1664877175.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.848203897 1.6e-05 0.02607 9.8 0 0 0.000524
1-2 processing imu...
it_last_IMU.time: 1664877175.838204
lastState: 1664877175.838204
currentState: 1664877175.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.858203888 -0.00014 0.02567 9.8 0 0 0.000472
1-2 processing imu...
it_last_IMU.time: 1664877175.848204
lastState: 1664877175.848204
currentState: 1664877175.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.868204117 -0.000259 0.02496 9.8 0 0 0.000422
1-2 processing imu...
it_last_IMU.time: 1664877175.858204
lastState: 1664877175.858204
currentState: 1664877175.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.878204107 -0.000342 0.02396 9.8 0 0 0.000374
1-2 processing imu...
it_last_IMU.time: 1664877175.868204
lastState: 1664877175.868204
currentState: 1664877175.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.888204098 -0.000426 0.02296 9.8 0 0 0.000328
1-2 processing imu...
it_last_IMU.time: 1664877175.878204
lastState: 1664877175.878204
currentState: 1664877175.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.898204088 -0.000509 0.02197 9.8 0 0 0.000284
1-2 processing imu...
it_last_IMU.time: 1664877175.888204
lastState: 1664877175.888204
currentState: 1664877175.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.908204079 -0.000592 0.02097 9.8 0 0 0.000242
1-2 processing imu...
it_last_IMU.time: 1664877175.898204
lastState: 1664877175.898204
currentState: 1664877175.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.918204069 -0.000676 0.01997 9.8 0 0 0.000201
1-2 processing imu...
it_last_IMU.time: 1664877175.908204
lastState: 1664877175.908204
currentState: 1664877175.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.928204060 -0.000759 0.01897 9.8 0 0 0.000163
1-2 processing imu...
it_last_IMU.time: 1664877175.918204
lastState: 1664877175.918204
currentState: 1664877175.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.938204050 -0.000842 0.01798 9.8 0 0 0.000126
1-2 processing imu...
it_last_IMU.time: 1664877175.928204
lastState: 1664877175.928204
currentState: 1664877175.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.948204041 -0.000926 0.01698 9.8 0 0 9.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877175.938204
lastState: 1664877175.938204
currentState: 1664877175.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.958204031 -0.001009 0.01598 9.8 0 0 5.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877175.948204
lastState: 1664877175.948204
currentState: 1664877175.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.968204021 -0.00107 0.01385 9.8 0 0 2.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877175.958204
lastState: 1664877175.958204
currentState: 1664877175.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.978204012 -0.001109 0.01059 9.8 0 0 -3e-06
1-2 processing imu...
it_last_IMU.time: 1664877175.968204
lastState: 1664877175.968204
currentState: 1664877175.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877175.988204002 -0.001147 0.007336 9.8 0 0 -3.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877175.978204
lastState: 1664877175.978204
currentState: 1664877175.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877175.998203993 -0.001186 0.004078 9.8 0 0 -5.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877175.988204
lastState: 1664877175.988204
currentState: 1664877175.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.008203983 -0.001224 0.000819 9.8 0 0 -8.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877175.998204
lastState: 1664877175.998204
currentState: 1664877176.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.018203974 -0.001263 -0.002439 9.8 0 0 -0.000107
1-2 processing imu...
it_last_IMU.time: 1664877176.008204
lastState: 1664877176.008204
currentState: 1664877176.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.028203964 -0.001301 -0.005697 9.8 0 0 -0.000129
1-2 processing imu...
it_last_IMU.time: 1664877176.018204
lastState: 1664877176.018204
currentState: 1664877176.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.038203955 -0.00134 -0.008956 9.8 0 0 -0.00015
1-2 processing imu...
it_last_IMU.time: 1664877176.028204
lastState: 1664877176.028204
currentState: 1664877176.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.048203945 -0.001378 -0.01221 9.8 0 0 -0.000169
1-2 processing imu...
it_last_IMU.time: 1664877176.038204
lastState: 1664877176.038204
currentState: 1664877176.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.058203936 -0.001417 -0.01547 9.8 0 0 -0.000187
1-2 processing imu...
it_last_IMU.time: 1664877176.048204
lastState: 1664877176.048204
currentState: 1664877176.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.068203926 -0.001438 -0.01989 9.8 0 0 -0.000203
1-2 processing imu...
it_last_IMU.time: 1664877176.058204
lastState: 1664877176.058204
currentState: 1664877176.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.078203917 -0.001442 -0.02551 9.8 0 0 -0.000219
1-2 processing imu...
it_last_IMU.time: 1664877176.068204
lastState: 1664877176.068204
currentState: 1664877176.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.088203907 -0.001446 -0.03112 9.8 0 0 -0.000233
1-2 processing imu...
it_last_IMU.time: 1664877176.078204
lastState: 1664877176.078204
currentState: 1664877176.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.098203897 -0.001449 -0.03674 9.8 0 0 -0.000246
1-2 processing imu...
it_last_IMU.time: 1664877176.088204
lastState: 1664877176.088204
currentState: 1664877176.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.108203888 -0.001453 -0.04236 9.8 0 0 -0.000259
1-2 processing imu...
it_last_IMU.time: 1664877176.098204
lastState: 1664877176.098204
currentState: 1664877176.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877176.088987112 -0.4956 0.4694 -0.007332 0.00307 0.003952 -0.375 0.927
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877176.088987
time: 1664877176.088987
state->time: 1664877176.088204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675559.786883122]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675559.786933797]: the fixed q :[-0.676, -0.652, 0.262, 0.222][0m
[0m[ INFO] [1670675559.786957800]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675559.786985688]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.4956 0.4694 -0.007332
p_wv: 18.52 -15.22 31
p: 17.28 -14.35 30.87
q: [-0.676, -0.652, 0.262, 0.222]
l: 0.5154
residual in position: 0.1461 0.0205 0.05791
q_err :[-0.999, -0.00681, -0.0373, 0.035]
residual in q: 0.01364 0.07462 -0.07004
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877176.088204 it_next->second->time: 1664877176.098204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877176.098204 it_next->second->time: 1664877176.108204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.55 -14.31 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877176.118204117 -0.001457 -0.04798 9.8 0 0 -0.00027
1-2 processing imu...
it_last_IMU.time: 1664877176.108204
lastState: 1664877176.108204
currentState: 1664877176.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.128204107 -0.00146 -0.05359 9.8 0 0 -0.00028
1-2 processing imu...
it_last_IMU.time: 1664877176.118204
lastState: 1664877176.118204
currentState: 1664877176.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.138204098 -0.001464 -0.05921 9.8 0 0 -0.000289
1-2 processing imu...
it_last_IMU.time: 1664877176.128204
lastState: 1664877176.128204
currentState: 1664877176.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.148204088 -0.001467 -0.06483 9.8 0 0 -0.000297
1-2 processing imu...
it_last_IMU.time: 1664877176.138204
lastState: 1664877176.138204
currentState: 1664877176.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.158204079 -0.001471 -0.07044 9.8 0 0 -0.000305
1-2 processing imu...
it_last_IMU.time: 1664877176.148204
lastState: 1664877176.148204
currentState: 1664877176.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.168204069 -0.001465 -0.0734 9.8 0 0 -0.000311
1-2 processing imu...
it_last_IMU.time: 1664877176.158204
lastState: 1664877176.158204
currentState: 1664877176.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.178204060 -0.001449 -0.0735 9.8 0 0 -0.000316
1-2 processing imu...
it_last_IMU.time: 1664877176.168204
lastState: 1664877176.168204
currentState: 1664877176.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.188204050 -0.001433 -0.0736 9.8 0 0 -0.000321
1-2 processing imu...
it_last_IMU.time: 1664877176.178204
lastState: 1664877176.178204
currentState: 1664877176.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.198204041 -0.001417 -0.0737 9.8 0 0 -0.000325
1-2 processing imu...
it_last_IMU.time: 1664877176.188204
lastState: 1664877176.188204
currentState: 1664877176.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.208204031 -0.001401 -0.0738 9.8 0 0 -0.000329
1-2 processing imu...
it_last_IMU.time: 1664877176.198204
lastState: 1664877176.198204
currentState: 1664877176.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.218204021 -0.001385 -0.07391 9.8 0 0 -0.000331
1-2 processing imu...
it_last_IMU.time: 1664877176.208204
lastState: 1664877176.208204
currentState: 1664877176.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.228204012 -0.001369 -0.07401 9.8 0 0 -0.000334
1-2 processing imu...
it_last_IMU.time: 1664877176.218204
lastState: 1664877176.218204
currentState: 1664877176.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.238204002 -0.001354 -0.07411 9.8 0 0 -0.000335
1-2 processing imu...
it_last_IMU.time: 1664877176.228204
lastState: 1664877176.228204
currentState: 1664877176.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.248203993 -0.001338 -0.07421 9.8 0 0 -0.000336
1-2 processing imu...
it_last_IMU.time: 1664877176.238204
lastState: 1664877176.238204
currentState: 1664877176.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.258203983 -0.001322 -0.07431 9.8 0 0 -0.000336
1-2 processing imu...
it_last_IMU.time: 1664877176.248204
lastState: 1664877176.248204
currentState: 1664877176.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.268203974 -0.001302 -0.07336 9.8 0 0 -0.000336
1-2 processing imu...
it_last_IMU.time: 1664877176.258204
lastState: 1664877176.258204
currentState: 1664877176.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.278203964 -0.001278 -0.07123 9.8 0 0 -0.000335
1-2 processing imu...
it_last_IMU.time: 1664877176.268204
lastState: 1664877176.268204
currentState: 1664877176.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.288203955 -0.001254 -0.0691 9.8 0 0 -0.000334
1-2 processing imu...
it_last_IMU.time: 1664877176.278204
lastState: 1664877176.278204
currentState: 1664877176.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.298203945 -0.00123 -0.06697 9.8 0 0 -0.000332
1-2 processing imu...
it_last_IMU.time: 1664877176.288204
lastState: 1664877176.288204
currentState: 1664877176.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.308203936 -0.001206 -0.06484 9.8 0 0 -0.00033
1-2 processing imu...
it_last_IMU.time: 1664877176.298204
lastState: 1664877176.298204
currentState: 1664877176.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.318203926 -0.001183 -0.06271 9.8 0 0 -0.000327
1-2 processing imu...
it_last_IMU.time: 1664877176.308204
lastState: 1664877176.308204
currentState: 1664877176.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.328203917 -0.001159 -0.06057 9.8 0 0 -0.000324
1-2 processing imu...
it_last_IMU.time: 1664877176.318204
lastState: 1664877176.318204
currentState: 1664877176.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.338203907 -0.001135 -0.05844 9.8 0 0 -0.000321
1-2 processing imu...
it_last_IMU.time: 1664877176.328204
lastState: 1664877176.328204
currentState: 1664877176.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.348203897 -0.001111 -0.05631 9.8 0 0 -0.000317
1-2 processing imu...
it_last_IMU.time: 1664877176.338204
lastState: 1664877176.338204
currentState: 1664877176.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.358203888 -0.001087 -0.05418 9.8 0 0 -0.000313
1-2 processing imu...
it_last_IMU.time: 1664877176.348204
lastState: 1664877176.348204
currentState: 1664877176.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.368204117 -0.001063 -0.05167 9.8 0 0 -0.000309
1-2 processing imu...
it_last_IMU.time: 1664877176.358204
lastState: 1664877176.358204
currentState: 1664877176.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.378204107 -0.001037 -0.0487 9.8 0 0 -0.000304
1-2 processing imu...
it_last_IMU.time: 1664877176.368204
lastState: 1664877176.368204
currentState: 1664877176.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.388204098 -0.001012 -0.04574 9.8 0 0 -0.000299
1-2 processing imu...
it_last_IMU.time: 1664877176.378204
lastState: 1664877176.378204
currentState: 1664877176.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.398204088 -0.000986 -0.04277 9.8 0 0 -0.000294
1-2 processing imu...
it_last_IMU.time: 1664877176.388204
lastState: 1664877176.388204
currentState: 1664877176.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.408204079 -0.000961 -0.03981 9.8 0 0 -0.000289
1-2 processing imu...
it_last_IMU.time: 1664877176.398204
lastState: 1664877176.398204
currentState: 1664877176.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.418204069 -0.000936 -0.03684 9.8 0 0 -0.000284
1-2 processing imu...
it_last_IMU.time: 1664877176.408204
lastState: 1664877176.408204
currentState: 1664877176.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.428204060 -0.00091 -0.03388 9.8 0 0 -0.000278
1-2 processing imu...
it_last_IMU.time: 1664877176.418204
lastState: 1664877176.418204
currentState: 1664877176.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.438204050 -0.000885 -0.03091 9.8 0 0 -0.000272
1-2 processing imu...
it_last_IMU.time: 1664877176.428204
lastState: 1664877176.428204
currentState: 1664877176.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.448204041 -0.00086 -0.02795 9.8 0 0 -0.000266
1-2 processing imu...
it_last_IMU.time: 1664877176.438204
lastState: 1664877176.438204
currentState: 1664877176.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.458204031 -0.000834 -0.02498 9.8 0 0 -0.00026
1-2 processing imu...
it_last_IMU.time: 1664877176.448204
lastState: 1664877176.448204
currentState: 1664877176.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.468204021 -0.00081 -0.02154 9.8 0 0 -0.000254
1-2 processing imu...
it_last_IMU.time: 1664877176.458204
lastState: 1664877176.458204
currentState: 1664877176.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.478204012 -0.000788 -0.01752 9.8 0 0 -0.000247
1-2 processing imu...
it_last_IMU.time: 1664877176.468204
lastState: 1664877176.468204
currentState: 1664877176.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.488204002 -0.000765 -0.01351 9.8 0 0 -0.000241
1-2 processing imu...
it_last_IMU.time: 1664877176.478204
lastState: 1664877176.478204
currentState: 1664877176.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.498203993 -0.000742 -0.009496 9.8 0 0 -0.000234
1-2 processing imu...
it_last_IMU.time: 1664877176.488204
lastState: 1664877176.488204
currentState: 1664877176.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.508203983 -0.00072 -0.005483 9.8 0 0 -0.000228
1-2 processing imu...
it_last_IMU.time: 1664877176.498204
lastState: 1664877176.498204
currentState: 1664877176.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.518203974 -0.000697 -0.001469 9.8 0 0 -0.000221
1-2 processing imu...
it_last_IMU.time: 1664877176.508204
lastState: 1664877176.508204
currentState: 1664877176.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.528203964 -0.000674 0.002544 9.8 0 0 -0.000214
1-2 processing imu...
it_last_IMU.time: 1664877176.518204
lastState: 1664877176.518204
currentState: 1664877176.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.538203955 -0.000652 0.006558 9.8 0 0 -0.000208
1-2 processing imu...
it_last_IMU.time: 1664877176.528204
lastState: 1664877176.528204
currentState: 1664877176.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877176.513458967 -0.4803 0.4545 -0.007452 0.00319 0.003812 -0.375 0.927
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877176.513459
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877176.513459
state->time: 1664877176.513459
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675560.679014959]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675560.679138379]: the fixed q :[-0.676, -0.651, 0.262, 0.223][0m
[0m[ INFO] [1670675560.679205185]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675560.679275404]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.4803 0.4545 -0.007452
p_wv: 18.52 -15.22 31
p: 17.31 -14.39 30.87
q: [-0.676, -0.651, 0.262, 0.223]
l: 0.5155
residual in position: 0.1421 0.02794 0.06106
q_err :[-0.999, -0.00776, -0.0371, 0.0342]
residual in q: 0.01554 0.07424 -0.06853
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877176.513459 it_next->second->time: 1664877176.518204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877176.518204 it_next->second->time: 1664877176.528204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877176.528204 it_next->second->time: 1664877176.538204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.58 -14.34 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877176.548203945 -0.000629 0.01057 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877176.538204
lastState: 1664877176.538204
currentState: 1664877176.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.558203936 -0.000607 0.01459 9.8 0 0 -0.000194
1-2 processing imu...
it_last_IMU.time: 1664877176.548204
lastState: 1664877176.548204
currentState: 1664877176.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.568203926 -0.000586 0.01799 9.8 0 0 -0.000187
1-2 processing imu...
it_last_IMU.time: 1664877176.558204
lastState: 1664877176.558204
currentState: 1664877176.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.578203917 -0.000568 0.02064 9.8 0 0 -0.00018
1-2 processing imu...
it_last_IMU.time: 1664877176.568204
lastState: 1664877176.568204
currentState: 1664877176.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.588203907 -0.00055 0.02328 9.8 0 0 -0.000173
1-2 processing imu...
it_last_IMU.time: 1664877176.578204
lastState: 1664877176.578204
currentState: 1664877176.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.598203897 -0.000533 0.02593 9.8 0 0 -0.000167
1-2 processing imu...
it_last_IMU.time: 1664877176.588204
lastState: 1664877176.588204
currentState: 1664877176.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.608203888 -0.000515 0.02858 9.8 0 0 -0.00016
1-2 processing imu...
it_last_IMU.time: 1664877176.598204
lastState: 1664877176.598204
currentState: 1664877176.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.618204117 -0.000497 0.03122 9.8 0 0 -0.000153
1-2 processing imu...
it_last_IMU.time: 1664877176.608204
lastState: 1664877176.608204
currentState: 1664877176.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.628204107 -0.000479 0.03387 9.8 0 0 -0.000146
1-2 processing imu...
it_last_IMU.time: 1664877176.618204
lastState: 1664877176.618204
currentState: 1664877176.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.638204098 -0.000461 0.03652 9.8 0 0 -0.00014
1-2 processing imu...
it_last_IMU.time: 1664877176.628204
lastState: 1664877176.628204
currentState: 1664877176.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.648204088 -0.000443 0.03917 9.8 0 0 -0.000133
1-2 processing imu...
it_last_IMU.time: 1664877176.638204
lastState: 1664877176.638204
currentState: 1664877176.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.658204079 -0.000426 0.04181 9.8 0 0 -0.000126
1-2 processing imu...
it_last_IMU.time: 1664877176.648204
lastState: 1664877176.648204
currentState: 1664877176.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.668204069 -0.00041 0.0443 9.8 0 0 -0.00012
1-2 processing imu...
it_last_IMU.time: 1664877176.658204
lastState: 1664877176.658204
currentState: 1664877176.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.678204060 -0.000398 0.04659 9.8 0 0 -0.000113
1-2 processing imu...
it_last_IMU.time: 1664877176.668204
lastState: 1664877176.668204
currentState: 1664877176.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.688204050 -0.000386 0.04887 9.8 0 0 -0.000107
1-2 processing imu...
it_last_IMU.time: 1664877176.678204
lastState: 1664877176.678204
currentState: 1664877176.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.698204041 -0.000374 0.05115 9.8 0 0 -0.0001
1-2 processing imu...
it_last_IMU.time: 1664877176.688204
lastState: 1664877176.688204
currentState: 1664877176.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.708204031 -0.000362 0.05344 9.8 0 0 -9.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.698204
lastState: 1664877176.698204
currentState: 1664877176.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.718204021 -0.00035 0.05572 9.8 0 0 -8.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.708204
lastState: 1664877176.708204
currentState: 1664877176.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.728204012 -0.000338 0.05801 9.8 0 0 -8.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.718204
lastState: 1664877176.718204
currentState: 1664877176.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.738204002 -0.000326 0.06029 9.8 0 0 -7.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.728204
lastState: 1664877176.728204
currentState: 1664877176.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.748203993 -0.000314 0.06258 9.8 0 0 -6.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.738204
lastState: 1664877176.738204
currentState: 1664877176.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.758203983 -0.000302 0.06486 9.8 0 0 -6.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.748204
lastState: 1664877176.748204
currentState: 1664877176.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.768203974 -0.000292 0.06704 9.8 0 0 -5.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.758204
lastState: 1664877176.758204
currentState: 1664877176.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.778203964 -0.000285 0.0691 9.8 0 0 -5.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.768204
lastState: 1664877176.768204
currentState: 1664877176.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.788203955 -0.000277 0.07114 9.8 0 0 -4.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.778204
lastState: 1664877176.778204
currentState: 1664877176.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.798203945 -0.00027 0.0732 9.8 0 0 -4e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.788204
lastState: 1664877176.788204
currentState: 1664877176.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.808203936 -0.000263 0.07525 9.8 0 0 -3.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.798204
lastState: 1664877176.798204
currentState: 1664877176.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.818203926 -0.000255 0.0773 9.8 0 0 -2.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.808204
lastState: 1664877176.808204
currentState: 1664877176.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.828203917 -0.000248 0.07935 9.8 0 0 -2.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.818204
lastState: 1664877176.818204
currentState: 1664877176.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.838203907 -0.000241 0.0814 9.8 0 0 -1.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.828204
lastState: 1664877176.828204
currentState: 1664877176.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.848203897 -0.000233 0.08345 9.8 0 0 -1.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.838204
lastState: 1664877176.838204
currentState: 1664877176.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.858203888 -0.000226 0.0855 9.8 0 0 -8e-06
1-2 processing imu...
it_last_IMU.time: 1664877176.848204
lastState: 1664877176.848204
currentState: 1664877176.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.868204117 -0.000221 0.08494 9.8 0 0 -3e-06
1-2 processing imu...
it_last_IMU.time: 1664877176.858204
lastState: 1664877176.858204
currentState: 1664877176.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.878204107 -0.000218 0.08078 9.8 0 0 2e-06
1-2 processing imu...
it_last_IMU.time: 1664877176.868204
lastState: 1664877176.868204
currentState: 1664877176.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.888204098 -0.000215 0.07663 9.8 0 0 7e-06
1-2 processing imu...
it_last_IMU.time: 1664877176.878204
lastState: 1664877176.878204
currentState: 1664877176.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.898204088 -0.000212 0.07247 9.8 0 0 1.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.888204
lastState: 1664877176.888204
currentState: 1664877176.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.908204079 -0.000209 0.06832 9.8 0 0 1.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.898204
lastState: 1664877176.898204
currentState: 1664877176.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.918204069 -0.000206 0.06416 9.8 0 0 2.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.908204
lastState: 1664877176.908204
currentState: 1664877176.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.928204060 -0.000203 0.06001 9.8 0 0 2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.918204
lastState: 1664877176.918204
currentState: 1664877176.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.938204050 -0.0002 0.05586 9.8 0 0 3e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.928204
lastState: 1664877176.928204
currentState: 1664877176.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.948204041 -0.000197 0.0517 9.8 0 0 3.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.938204
lastState: 1664877176.938204
currentState: 1664877176.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877176.932055950 -0.4653 0.4404 -0.007705 0.003486 0.004325 -0.3752 0.9269
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877176.932056
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877176.932056
state->time: 1664877176.932056
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675561.573501692]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675561.573548568]: the fixed q :[-0.675, -0.651, 0.262, 0.226][0m
[0m[ INFO] [1670675561.573561972]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675561.573577538]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.4653 0.4404 -0.007705
p_wv: 18.52 -15.22 31
p: 17.35 -14.42 30.88
q: [-0.675, -0.651, 0.262, 0.226]
l: 0.5155
residual in position: 0.1368 0.02657 0.05396
q_err :[-0.999, -0.00767, -0.0356, 0.032]
residual in q: 0.01535 0.07135 -0.06413
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877176.932056 it_next->second->time: 1664877176.938204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877176.938204 it_next->second->time: 1664877176.948204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.61 -14.37 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877176.958204031 -0.000194 0.04755 9.8 0 0 3.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.948204
lastState: 1664877176.948204
currentState: 1664877176.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.968204021 -0.000193 0.04333 9.8 0 0 4.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.958204
lastState: 1664877176.958204
currentState: 1664877176.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.978204012 -0.000194 0.03903 9.8 0 0 4.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.968204
lastState: 1664877176.968204
currentState: 1664877176.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877176.988204002 -0.000196 0.03472 9.8 0 0 5.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.978204
lastState: 1664877176.978204
currentState: 1664877176.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877176.998203993 -0.000197 0.03042 9.8 0 0 5.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.988204
lastState: 1664877176.988204
currentState: 1664877176.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.008203983 -0.000199 0.02611 9.8 0 0 6e-05
1-2 processing imu...
it_last_IMU.time: 1664877176.998204
lastState: 1664877176.998204
currentState: 1664877177.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.018203974 -0.0002 0.02181 9.8 0 0 6.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877177.008204
lastState: 1664877177.008204
currentState: 1664877177.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.028203964 -0.000202 0.01751 9.8 0 0 6.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877177.018204
lastState: 1664877177.018204
currentState: 1664877177.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.038203955 -0.000203 0.0132 9.8 0 0 7.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877177.028204
lastState: 1664877177.028204
currentState: 1664877177.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.048203945 -0.000204 0.008898 9.8 0 0 7.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877177.038204
lastState: 1664877177.038204
currentState: 1664877177.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.058203936 -0.000206 0.004595 9.8 0 0 7.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877177.048204
lastState: 1664877177.048204
currentState: 1664877177.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.068203926 -0.000209 0.001626 9.8 0 0 8.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877177.058204
lastState: 1664877177.058204
currentState: 1664877177.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.078203917 -0.000214 0.000639 9.8 0 0 8.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877177.068204
lastState: 1664877177.068204
currentState: 1664877177.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.088203907 -0.000219 -0.000348 9.8 0 0 9e-05
1-2 processing imu...
it_last_IMU.time: 1664877177.078204
lastState: 1664877177.078204
currentState: 1664877177.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.098203897 -0.000225 -0.001335 9.8 0 0 9.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877177.088204
lastState: 1664877177.088204
currentState: 1664877177.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.108203888 -0.00023 -0.002322 9.8 0 0 9.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877177.098204
lastState: 1664877177.098204
currentState: 1664877177.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.118204117 -0.000235 -0.003309 9.8 0 0 0.0001
1-2 processing imu...
it_last_IMU.time: 1664877177.108204
lastState: 1664877177.108204
currentState: 1664877177.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.128204107 -0.000241 -0.004296 9.8 0 0 0.000104
1-2 processing imu...
it_last_IMU.time: 1664877177.118204
lastState: 1664877177.118204
currentState: 1664877177.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.138204098 -0.000246 -0.005283 9.8 0 0 0.000107
1-2 processing imu...
it_last_IMU.time: 1664877177.128204
lastState: 1664877177.128204
currentState: 1664877177.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.148204088 -0.000251 -0.00627 9.8 0 0 0.000111
1-2 processing imu...
it_last_IMU.time: 1664877177.138204
lastState: 1664877177.138204
currentState: 1664877177.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.158204079 -0.000257 -0.007257 9.8 0 0 0.000114
1-2 processing imu...
it_last_IMU.time: 1664877177.148204
lastState: 1664877177.148204
currentState: 1664877177.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.168204069 -0.000263 -0.007891 9.8 0 0 0.000117
1-2 processing imu...
it_last_IMU.time: 1664877177.158204
lastState: 1664877177.158204
currentState: 1664877177.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.178204060 -0.00027 -0.007982 9.8 0 0 0.00012
1-2 processing imu...
it_last_IMU.time: 1664877177.168204
lastState: 1664877177.168204
currentState: 1664877177.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.188204050 -0.000278 -0.008073 9.8 0 0 0.000124
1-2 processing imu...
it_last_IMU.time: 1664877177.178204
lastState: 1664877177.178204
currentState: 1664877177.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.198204041 -0.000285 -0.008164 9.8 0 0 0.000127
1-2 processing imu...
it_last_IMU.time: 1664877177.188204
lastState: 1664877177.188204
currentState: 1664877177.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.208204031 -0.000293 -0.008255 9.8 0 0 0.00013
1-2 processing imu...
it_last_IMU.time: 1664877177.198204
lastState: 1664877177.198204
currentState: 1664877177.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.218204021 -0.000301 -0.008346 9.8 0 0 0.000133
1-2 processing imu...
it_last_IMU.time: 1664877177.208204
lastState: 1664877177.208204
currentState: 1664877177.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.228204012 -0.000308 -0.008437 9.8 0 0 0.000136
1-2 processing imu...
it_last_IMU.time: 1664877177.218204
lastState: 1664877177.218204
currentState: 1664877177.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.238204002 -0.000316 -0.008528 9.8 0 0 0.000139
1-2 processing imu...
it_last_IMU.time: 1664877177.228204
lastState: 1664877177.228204
currentState: 1664877177.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.248203993 -0.000323 -0.008619 9.8 0 0 0.000143
1-2 processing imu...
it_last_IMU.time: 1664877177.238204
lastState: 1664877177.238204
currentState: 1664877177.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.258203983 -0.000331 -0.00871 9.8 0 0 0.000146
1-2 processing imu...
it_last_IMU.time: 1664877177.248204
lastState: 1664877177.248204
currentState: 1664877177.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.268203974 -0.000339 -0.008943 9.8 0 0 0.000149
1-2 processing imu...
it_last_IMU.time: 1664877177.258204
lastState: 1664877177.258204
currentState: 1664877177.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.278203964 -0.000348 -0.009403 9.8 0 0 0.000152
1-2 processing imu...
it_last_IMU.time: 1664877177.268204
lastState: 1664877177.268204
currentState: 1664877177.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.288203955 -0.000357 -0.009863 9.8 0 0 0.000155
1-2 processing imu...
it_last_IMU.time: 1664877177.278204
lastState: 1664877177.278204
currentState: 1664877177.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.298203945 -0.000365 -0.01032 9.8 0 0 0.000158
1-2 processing imu...
it_last_IMU.time: 1664877177.288204
lastState: 1664877177.288204
currentState: 1664877177.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.308203936 -0.000374 -0.01078 9.8 0 0 0.000161
1-2 processing imu...
it_last_IMU.time: 1664877177.298204
lastState: 1664877177.298204
currentState: 1664877177.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.318203926 -0.000383 -0.01124 9.8 0 0 0.000164
1-2 processing imu...
it_last_IMU.time: 1664877177.308204
lastState: 1664877177.308204
currentState: 1664877177.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.328203917 -0.000392 -0.0117 9.8 0 0 0.000166
1-2 processing imu...
it_last_IMU.time: 1664877177.318204
lastState: 1664877177.318204
currentState: 1664877177.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.338203907 -0.000401 -0.01216 9.8 0 0 0.000169
1-2 processing imu...
it_last_IMU.time: 1664877177.328204
lastState: 1664877177.328204
currentState: 1664877177.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.348203897 -0.00041 -0.01262 9.8 0 0 0.000172
1-2 processing imu...
it_last_IMU.time: 1664877177.338204
lastState: 1664877177.338204
currentState: 1664877177.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.358203888 -0.000418 -0.01308 9.8 0 0 0.000175
1-2 processing imu...
it_last_IMU.time: 1664877177.348204
lastState: 1664877177.348204
currentState: 1664877177.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877177.347349882 -0.4504 0.4258 -0.00791 0.00291 0.004367 -0.375 0.927
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877177.347350
time: 1664877177.347350
state->time: 1664877177.348204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675562.422608056]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675562.422700901]: the fixed q :[-0.674, -0.652, 0.262, 0.229][0m
[0m[ INFO] [1670675562.422749201]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675562.422800838]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.4504 0.4258 -0.00791
p_wv: 18.52 -15.22 31
p: 17.39 -14.45 30.89
q: [-0.674, -0.652, 0.262, 0.229]
l: 0.5155
residual in position: 0.1301 0.02653 0.04769
q_err :[-0.999, -0.00705, -0.0332, 0.0296]
residual in q: 0.01412 0.06651 -0.05935
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877177.348204 it_next->second->time: 1664877177.358204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.64 -14.39 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877177.368204117 -0.000428 -0.0137 9.8 0 0 0.000178
1-2 processing imu...
it_last_IMU.time: 1664877177.358204
lastState: 1664877177.358204
currentState: 1664877177.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.378204107 -0.000438 -0.01459 9.8 0 0 0.000181
1-2 processing imu...
it_last_IMU.time: 1664877177.368204
lastState: 1664877177.368204
currentState: 1664877177.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.388204098 -0.000449 -0.01548 9.8 0 0 0.000184
1-2 processing imu...
it_last_IMU.time: 1664877177.378204
lastState: 1664877177.378204
currentState: 1664877177.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.398204088 -0.000459 -0.01636 9.8 0 0 0.000186
1-2 processing imu...
it_last_IMU.time: 1664877177.388204
lastState: 1664877177.388204
currentState: 1664877177.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.408204079 -0.00047 -0.01725 9.8 0 0 0.000189
1-2 processing imu...
it_last_IMU.time: 1664877177.398204
lastState: 1664877177.398204
currentState: 1664877177.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.418204069 -0.00048 -0.01814 9.8 0 0 0.000192
1-2 processing imu...
it_last_IMU.time: 1664877177.408204
lastState: 1664877177.408204
currentState: 1664877177.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.428204060 -0.000491 -0.01902 9.8 0 0 0.000195
1-2 processing imu...
it_last_IMU.time: 1664877177.418204
lastState: 1664877177.418204
currentState: 1664877177.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.438204050 -0.000501 -0.01991 9.8 0 0 0.000197
1-2 processing imu...
it_last_IMU.time: 1664877177.428204
lastState: 1664877177.428204
currentState: 1664877177.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.448204041 -0.000512 -0.0208 9.8 0 0 0.0002
1-2 processing imu...
it_last_IMU.time: 1664877177.438204
lastState: 1664877177.438204
currentState: 1664877177.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.458204031 -0.000522 -0.02168 9.8 0 0 0.000203
1-2 processing imu...
it_last_IMU.time: 1664877177.448204
lastState: 1664877177.448204
currentState: 1664877177.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.468204021 -0.000533 -0.02256 9.8 0 0 0.000205
1-2 processing imu...
it_last_IMU.time: 1664877177.458204
lastState: 1664877177.458204
currentState: 1664877177.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.478204012 -0.000545 -0.02344 9.8 0 0 0.000208
1-2 processing imu...
it_last_IMU.time: 1664877177.468204
lastState: 1664877177.468204
currentState: 1664877177.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.488204002 -0.000557 -0.02431 9.8 0 0 0.000211
1-2 processing imu...
it_last_IMU.time: 1664877177.478204
lastState: 1664877177.478204
currentState: 1664877177.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.498203993 -0.000569 -0.02518 9.8 0 0 0.000213
1-2 processing imu...
it_last_IMU.time: 1664877177.488204
lastState: 1664877177.488204
currentState: 1664877177.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.508203983 -0.000581 -0.02605 9.8 0 0 0.000216
1-2 processing imu...
it_last_IMU.time: 1664877177.498204
lastState: 1664877177.498204
currentState: 1664877177.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.518203974 -0.000592 -0.02693 9.8 0 0 0.000218
1-2 processing imu...
it_last_IMU.time: 1664877177.508204
lastState: 1664877177.508204
currentState: 1664877177.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.528203964 -0.000604 -0.0278 9.8 0 0 0.000221
1-2 processing imu...
it_last_IMU.time: 1664877177.518204
lastState: 1664877177.518204
currentState: 1664877177.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.538203955 -0.000616 -0.02867 9.8 0 0 0.000223
1-2 processing imu...
it_last_IMU.time: 1664877177.528204
lastState: 1664877177.528204
currentState: 1664877177.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.548203945 -0.000628 -0.02954 9.8 0 0 0.000225
1-2 processing imu...
it_last_IMU.time: 1664877177.538204
lastState: 1664877177.538204
currentState: 1664877177.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.558203936 -0.00064 -0.03042 9.8 0 0 0.000228
1-2 processing imu...
it_last_IMU.time: 1664877177.548204
lastState: 1664877177.548204
currentState: 1664877177.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.568203926 -0.000651 -0.03119 9.8 0 0 0.00023
1-2 processing imu...
it_last_IMU.time: 1664877177.558204
lastState: 1664877177.558204
currentState: 1664877177.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.578203917 -0.000663 -0.0318 9.8 0 0 0.000232
1-2 processing imu...
it_last_IMU.time: 1664877177.568204
lastState: 1664877177.568204
currentState: 1664877177.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.588203907 -0.000674 -0.0324 9.8 0 0 0.000234
1-2 processing imu...
it_last_IMU.time: 1664877177.578204
lastState: 1664877177.578204
currentState: 1664877177.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.598203897 -0.000685 -0.033 9.8 0 0 0.000236
1-2 processing imu...
it_last_IMU.time: 1664877177.588204
lastState: 1664877177.588204
currentState: 1664877177.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.608203888 -0.000697 -0.03361 9.8 0 0 0.000238
1-2 processing imu...
it_last_IMU.time: 1664877177.598204
lastState: 1664877177.598204
currentState: 1664877177.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.618204117 -0.000708 -0.03421 9.8 0 0 0.00024
1-2 processing imu...
it_last_IMU.time: 1664877177.608204
lastState: 1664877177.608204
currentState: 1664877177.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.628204107 -0.000719 -0.03481 9.8 0 0 0.000242
1-2 processing imu...
it_last_IMU.time: 1664877177.618204
lastState: 1664877177.618204
currentState: 1664877177.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.638204098 -0.000731 -0.03541 9.8 0 0 0.000244
1-2 processing imu...
it_last_IMU.time: 1664877177.628204
lastState: 1664877177.628204
currentState: 1664877177.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.648204088 -0.000742 -0.03602 9.8 0 0 0.000246
1-2 processing imu...
it_last_IMU.time: 1664877177.638204
lastState: 1664877177.638204
currentState: 1664877177.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.658204079 -0.000753 -0.03662 9.8 0 0 0.000248
1-2 processing imu...
it_last_IMU.time: 1664877177.648204
lastState: 1664877177.648204
currentState: 1664877177.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.668204069 -0.000764 -0.0367 9.8 0 0 0.000249
1-2 processing imu...
it_last_IMU.time: 1664877177.658204
lastState: 1664877177.658204
currentState: 1664877177.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.678204060 -0.000772 -0.03582 9.8 0 0 0.000251
1-2 processing imu...
it_last_IMU.time: 1664877177.668204
lastState: 1664877177.668204
currentState: 1664877177.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.688204050 -0.000781 -0.03494 9.8 0 0 0.000252
1-2 processing imu...
it_last_IMU.time: 1664877177.678204
lastState: 1664877177.678204
currentState: 1664877177.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.698204041 -0.000789 -0.03406 9.8 0 0 0.000253
1-2 processing imu...
it_last_IMU.time: 1664877177.688204
lastState: 1664877177.688204
currentState: 1664877177.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.708204031 -0.000798 -0.03317 9.8 0 0 0.000254
1-2 processing imu...
it_last_IMU.time: 1664877177.698204
lastState: 1664877177.698204
currentState: 1664877177.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.718204021 -0.000807 -0.03229 9.8 0 0 0.000255
1-2 processing imu...
it_last_IMU.time: 1664877177.708204
lastState: 1664877177.708204
currentState: 1664877177.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.728204012 -0.000815 -0.03141 9.8 0 0 0.000256
1-2 processing imu...
it_last_IMU.time: 1664877177.718204
lastState: 1664877177.718204
currentState: 1664877177.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.738204002 -0.000824 -0.03053 9.8 0 0 0.000257
1-2 processing imu...
it_last_IMU.time: 1664877177.728204
lastState: 1664877177.728204
currentState: 1664877177.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.748203993 -0.000832 -0.02965 9.8 0 0 0.000258
1-2 processing imu...
it_last_IMU.time: 1664877177.738204
lastState: 1664877177.738204
currentState: 1664877177.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.758203983 -0.000841 -0.02876 9.8 0 0 0.000258
1-2 processing imu...
it_last_IMU.time: 1664877177.748204
lastState: 1664877177.748204
currentState: 1664877177.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.768203974 -0.000848 -0.02764 9.8 0 0 0.000258
1-2 processing imu...
it_last_IMU.time: 1664877177.758204
lastState: 1664877177.758204
currentState: 1664877177.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.778203964 -0.000853 -0.02605 9.8 0 0 0.000259
1-2 processing imu...
it_last_IMU.time: 1664877177.768204
lastState: 1664877177.768204
currentState: 1664877177.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877177.758985043 -0.4343 0.4102 -0.008216 0.001904 0.004531 -0.3751 0.927
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877177.758985
time: 1664877177.758985
state->time: 1664877177.758204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675563.331897654]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675563.331991741]: the fixed q :[-0.674, -0.651, 0.262, 0.231][0m
[0m[ INFO] [1670675563.332041214]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675563.332093733]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.4343 0.4102 -0.008216
p_wv: 18.52 -15.22 31
p: 17.44 -14.48 30.89
q: [-0.674, -0.651, 0.262, 0.231]
l: 0.5155
residual in position: 0.1224 0.02764 0.04927
q_err :[-0.999, -0.00656, -0.0313, 0.0279]
residual in q: 0.01313 0.06264 -0.05585
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877177.758204 it_next->second->time: 1664877177.768204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877177.768204 it_next->second->time: 1664877177.778204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.67 -14.43 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877177.788203955 -0.000859 -0.02447 9.8 0 0 0.000259
1-2 processing imu...
it_last_IMU.time: 1664877177.778204
lastState: 1664877177.778204
currentState: 1664877177.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.798203945 -0.000864 -0.02288 9.8 0 0 0.000258
1-2 processing imu...
it_last_IMU.time: 1664877177.788204
lastState: 1664877177.788204
currentState: 1664877177.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.808203936 -0.000869 -0.0213 9.8 0 0 0.000258
1-2 processing imu...
it_last_IMU.time: 1664877177.798204
lastState: 1664877177.798204
currentState: 1664877177.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.818203926 -0.000874 -0.01971 9.8 0 0 0.000257
1-2 processing imu...
it_last_IMU.time: 1664877177.808204
lastState: 1664877177.808204
currentState: 1664877177.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.828203917 -0.00088 -0.01813 9.8 0 0 0.000257
1-2 processing imu...
it_last_IMU.time: 1664877177.818204
lastState: 1664877177.818204
currentState: 1664877177.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.838203907 -0.000885 -0.01654 9.8 0 0 0.000256
1-2 processing imu...
it_last_IMU.time: 1664877177.828204
lastState: 1664877177.828204
currentState: 1664877177.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.848203897 -0.00089 -0.01496 9.8 0 0 0.000255
1-2 processing imu...
it_last_IMU.time: 1664877177.838204
lastState: 1664877177.838204
currentState: 1664877177.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.858203888 -0.000895 -0.01337 9.8 0 0 0.000253
1-2 processing imu...
it_last_IMU.time: 1664877177.848204
lastState: 1664877177.848204
currentState: 1664877177.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.868204117 -0.000899 -0.01193 9.8 0 0 0.000252
1-2 processing imu...
it_last_IMU.time: 1664877177.858204
lastState: 1664877177.858204
currentState: 1664877177.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.878204107 -0.000898 -0.01076 9.8 0 0 0.00025
1-2 processing imu...
it_last_IMU.time: 1664877177.868204
lastState: 1664877177.868204
currentState: 1664877177.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.888204098 -0.000898 -0.009596 9.8 0 0 0.000248
1-2 processing imu...
it_last_IMU.time: 1664877177.878204
lastState: 1664877177.878204
currentState: 1664877177.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.898204088 -0.000898 -0.00843 9.8 0 0 0.000246
1-2 processing imu...
it_last_IMU.time: 1664877177.888204
lastState: 1664877177.888204
currentState: 1664877177.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.908204079 -0.000898 -0.007264 9.8 0 0 0.000243
1-2 processing imu...
it_last_IMU.time: 1664877177.898204
lastState: 1664877177.898204
currentState: 1664877177.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.918204069 -0.000898 -0.006098 9.8 0 0 0.00024
1-2 processing imu...
it_last_IMU.time: 1664877177.908204
lastState: 1664877177.908204
currentState: 1664877177.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.928204060 -0.000898 -0.004932 9.8 0 0 0.000237
1-2 processing imu...
it_last_IMU.time: 1664877177.918204
lastState: 1664877177.918204
currentState: 1664877177.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.938204050 -0.000897 -0.003766 9.8 0 0 0.000234
1-2 processing imu...
it_last_IMU.time: 1664877177.928204
lastState: 1664877177.928204
currentState: 1664877177.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.948204041 -0.000897 -0.0026 9.8 0 0 0.00023
1-2 processing imu...
it_last_IMU.time: 1664877177.938204
lastState: 1664877177.938204
currentState: 1664877177.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.958204031 -0.000897 -0.001434 9.8 0 0 0.000226
1-2 processing imu...
it_last_IMU.time: 1664877177.948204
lastState: 1664877177.948204
currentState: 1664877177.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.968204021 -0.000893 3.1e-05 9.8 0 0 0.000222
1-2 processing imu...
it_last_IMU.time: 1664877177.958204
lastState: 1664877177.958204
currentState: 1664877177.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.978204012 -0.000883 0.002126 9.8 0 0 0.000217
1-2 processing imu...
it_last_IMU.time: 1664877177.968204
lastState: 1664877177.968204
currentState: 1664877177.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877177.988204002 -0.000873 0.00422 9.8 0 0 0.000212
1-2 processing imu...
it_last_IMU.time: 1664877177.978204
lastState: 1664877177.978204
currentState: 1664877177.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877177.998203993 -0.000863 0.006315 9.8 0 0 0.000207
1-2 processing imu...
it_last_IMU.time: 1664877177.988204
lastState: 1664877177.988204
currentState: 1664877177.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.008203983 -0.000853 0.008409 9.8 0 0 0.000202
1-2 processing imu...
it_last_IMU.time: 1664877177.998204
lastState: 1664877177.998204
currentState: 1664877178.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.018203974 -0.000843 0.0105 9.8 0 0 0.000196
1-2 processing imu...
it_last_IMU.time: 1664877178.008204
lastState: 1664877178.008204
currentState: 1664877178.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.028203964 -0.000833 0.0126 9.8 0 0 0.000189
1-2 processing imu...
it_last_IMU.time: 1664877178.018204
lastState: 1664877178.018204
currentState: 1664877178.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.038203955 -0.000823 0.01469 9.8 0 0 0.000183
1-2 processing imu...
it_last_IMU.time: 1664877178.028204
lastState: 1664877178.028204
currentState: 1664877178.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.048203945 -0.000813 0.01679 9.8 0 0 0.000176
1-2 processing imu...
it_last_IMU.time: 1664877178.038204
lastState: 1664877178.038204
currentState: 1664877178.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.058203936 -0.000803 0.01888 9.8 0 0 0.000168
1-2 processing imu...
it_last_IMU.time: 1664877178.048204
lastState: 1664877178.048204
currentState: 1664877178.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.068203926 -0.000788 0.02082 9.8 0 0 0.00016
1-2 processing imu...
it_last_IMU.time: 1664877178.058204
lastState: 1664877178.058204
currentState: 1664877178.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.078203917 -0.000765 0.0224 9.8 0 0 0.000152
1-2 processing imu...
it_last_IMU.time: 1664877178.068204
lastState: 1664877178.068204
currentState: 1664877178.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.088203907 -0.000741 0.02398 9.8 0 0 0.000144
1-2 processing imu...
it_last_IMU.time: 1664877178.078204
lastState: 1664877178.078204
currentState: 1664877178.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.098203897 -0.000717 0.02556 9.8 0 0 0.000135
1-2 processing imu...
it_last_IMU.time: 1664877178.088204
lastState: 1664877178.088204
currentState: 1664877178.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.108203888 -0.000693 0.02714 9.8 0 0 0.000125
1-2 processing imu...
it_last_IMU.time: 1664877178.098204
lastState: 1664877178.098204
currentState: 1664877178.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.118204117 -0.00067 0.02872 9.8 0 0 0.000115
1-2 processing imu...
it_last_IMU.time: 1664877178.108204
lastState: 1664877178.108204
currentState: 1664877178.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.128204107 -0.000646 0.0303 9.8 0 0 0.000105
1-2 processing imu...
it_last_IMU.time: 1664877178.118204
lastState: 1664877178.118204
currentState: 1664877178.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.138204098 -0.000622 0.03188 9.8 0 0 9.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877178.128204
lastState: 1664877178.128204
currentState: 1664877178.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.148204088 -0.000598 0.03346 9.8 0 0 8.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877178.138204
lastState: 1664877178.138204
currentState: 1664877178.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.158204079 -0.000575 0.03504 9.8 0 0 7.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877178.148204
lastState: 1664877178.148204
currentState: 1664877178.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.168204069 -0.000546 0.03648 9.8 0 0 5.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877178.158204
lastState: 1664877178.158204
currentState: 1664877178.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.178204060 -0.000506 0.0376 9.8 0 0 4.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877178.168204
lastState: 1664877178.168204
currentState: 1664877178.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.188204050 -0.000466 0.03872 9.8 0 0 3.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877178.178204
lastState: 1664877178.178204
currentState: 1664877178.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.198204041 -0.000426 0.03984 9.8 0 0 2e-05
1-2 processing imu...
it_last_IMU.time: 1664877178.188204
lastState: 1664877178.188204
currentState: 1664877178.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877178.180450916 -0.4203 0.3953 -0.00829 0.003225 0.004116 -0.3739 0.9274
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877178.180451
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877178.180451
state->time: 1664877178.180451
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675564.213992375]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675564.214023670]: the fixed q :[-0.674, -0.65, 0.262, 0.232][0m
[0m[ INFO] [1670675564.214034710]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675564.214059375]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.4203 0.3953 -0.00829
p_wv: 18.52 -15.22 31
p: 17.48 -14.52 30.89
q: [-0.674, -0.65, 0.262, 0.232]
l: 0.5155
residual in position: 0.1177 0.03213 0.04845
q_err :[-0.999, -0.00929, -0.0311, 0.0258]
residual in q: 0.01859 0.06219 -0.0517
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877178.180451 it_next->second->time: 1664877178.188204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877178.188204 it_next->second->time: 1664877178.198204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.7 -14.45 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877178.208204031 -0.000387 0.04096 9.8 0 0 6e-06
1-2 processing imu...
it_last_IMU.time: 1664877178.198204
lastState: 1664877178.198204
currentState: 1664877178.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.218204021 -0.000347 0.04208 9.8 0 0 -8e-06
1-2 processing imu...
it_last_IMU.time: 1664877178.208204
lastState: 1664877178.208204
currentState: 1664877178.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.228204012 -0.000307 0.0432 9.8 0 0 -2.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877178.218204
lastState: 1664877178.218204
currentState: 1664877178.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.238204002 -0.000267 0.04432 9.8 0 0 -3.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877178.228204
lastState: 1664877178.228204
currentState: 1664877178.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.248203993 -0.000227 0.04544 9.8 0 0 -5.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877178.238204
lastState: 1664877178.238204
currentState: 1664877178.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.258203983 -0.000188 0.04655 9.8 0 0 -7.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877178.248204
lastState: 1664877178.248204
currentState: 1664877178.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.268203974 -0.000143 0.04734 9.8 0 0 -8.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877178.258204
lastState: 1664877178.258204
currentState: 1664877178.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.278203964 -8.7e-05 0.04732 9.8 0 0 -0.000105
1-2 processing imu...
it_last_IMU.time: 1664877178.268204
lastState: 1664877178.268204
currentState: 1664877178.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.288203955 -3e-05 0.0473 9.8 0 0 -0.000123
1-2 processing imu...
it_last_IMU.time: 1664877178.278204
lastState: 1664877178.278204
currentState: 1664877178.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.298203945 2.6e-05 0.04727 9.8 0 0 -0.000141
1-2 processing imu...
it_last_IMU.time: 1664877178.288204
lastState: 1664877178.288204
currentState: 1664877178.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.308203936 8.3e-05 0.04725 9.8 0 0 -0.000159
1-2 processing imu...
it_last_IMU.time: 1664877178.298204
lastState: 1664877178.298204
currentState: 1664877178.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.318203926 0.000139 0.04723 9.8 0 0 -0.000178
1-2 processing imu...
it_last_IMU.time: 1664877178.308204
lastState: 1664877178.308204
currentState: 1664877178.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.328203917 0.000196 0.04721 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877178.318204
lastState: 1664877178.318204
currentState: 1664877178.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.338203907 0.000252 0.04719 9.8 0 0 -0.000218
1-2 processing imu...
it_last_IMU.time: 1664877178.328204
lastState: 1664877178.328204
currentState: 1664877178.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.348203897 0.000308 0.04717 9.8 0 0 -0.000238
1-2 processing imu...
it_last_IMU.time: 1664877178.338204
lastState: 1664877178.338204
currentState: 1664877178.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.358203888 0.000365 0.04715 9.8 0 0 -0.000259
1-2 processing imu...
it_last_IMU.time: 1664877178.348204
lastState: 1664877178.348204
currentState: 1664877178.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.368204117 0.000428 0.04659 9.8 0 0 -0.00028
1-2 processing imu...
it_last_IMU.time: 1664877178.358204
lastState: 1664877178.358204
currentState: 1664877178.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.378204107 0.000507 0.04467 9.8 0 0 -0.000302
1-2 processing imu...
it_last_IMU.time: 1664877178.368204
lastState: 1664877178.368204
currentState: 1664877178.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.388204098 0.000586 0.04275 9.8 0 0 -0.000324
1-2 processing imu...
it_last_IMU.time: 1664877178.378204
lastState: 1664877178.378204
currentState: 1664877178.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.398204088 0.000665 0.04084 9.8 0 0 -0.000346
1-2 processing imu...
it_last_IMU.time: 1664877178.388204
lastState: 1664877178.388204
currentState: 1664877178.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.408204079 0.000745 0.03892 9.8 0 0 -0.000368
1-2 processing imu...
it_last_IMU.time: 1664877178.398204
lastState: 1664877178.398204
currentState: 1664877178.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.418204069 0.000824 0.037 9.8 0 0 -0.000391
1-2 processing imu...
it_last_IMU.time: 1664877178.408204
lastState: 1664877178.408204
currentState: 1664877178.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.428204060 0.000903 0.03509 9.8 0 0 -0.000414
1-2 processing imu...
it_last_IMU.time: 1664877178.418204
lastState: 1664877178.418204
currentState: 1664877178.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.438204050 0.000983 0.03317 9.8 0 0 -0.000437
1-2 processing imu...
it_last_IMU.time: 1664877178.428204
lastState: 1664877178.428204
currentState: 1664877178.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.448204041 0.001062 0.03125 9.8 0 0 -0.00046
1-2 processing imu...
it_last_IMU.time: 1664877178.438204
lastState: 1664877178.438204
currentState: 1664877178.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.458204031 0.001141 0.02933 9.8 0 0 -0.000484
1-2 processing imu...
it_last_IMU.time: 1664877178.448204
lastState: 1664877178.448204
currentState: 1664877178.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.468204021 0.001225 0.02753 9.8 0 0 -0.000508
1-2 processing imu...
it_last_IMU.time: 1664877178.458204
lastState: 1664877178.458204
currentState: 1664877178.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.478204012 0.001321 0.02601 9.8 0 0 -0.000532
1-2 processing imu...
it_last_IMU.time: 1664877178.468204
lastState: 1664877178.468204
currentState: 1664877178.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.488204002 0.001418 0.0245 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877178.478204
lastState: 1664877178.478204
currentState: 1664877178.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.498203993 0.001514 0.02299 9.8 0 0 -0.000581
1-2 processing imu...
it_last_IMU.time: 1664877178.488204
lastState: 1664877178.488204
currentState: 1664877178.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.508203983 0.00161 0.02147 9.8 0 0 -0.000605
1-2 processing imu...
it_last_IMU.time: 1664877178.498204
lastState: 1664877178.498204
currentState: 1664877178.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.518203974 0.001706 0.01996 9.8 0 0 -0.00063
1-2 processing imu...
it_last_IMU.time: 1664877178.508204
lastState: 1664877178.508204
currentState: 1664877178.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.528203964 0.001802 0.01844 9.8 0 0 -0.000655
1-2 processing imu...
it_last_IMU.time: 1664877178.518204
lastState: 1664877178.518204
currentState: 1664877178.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.538203955 0.001899 0.01693 9.8 0 0 -0.000679
1-2 processing imu...
it_last_IMU.time: 1664877178.528204
lastState: 1664877178.528204
currentState: 1664877178.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.548203945 0.001995 0.01541 9.8 0 0 -0.000704
1-2 processing imu...
it_last_IMU.time: 1664877178.538204
lastState: 1664877178.538204
currentState: 1664877178.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.558203936 0.002091 0.0139 9.8 0 0 -0.000729
1-2 processing imu...
it_last_IMU.time: 1664877178.548204
lastState: 1664877178.548204
currentState: 1664877178.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.568203926 0.002189 0.01202 9.8 0 0 -0.000754
1-2 processing imu...
it_last_IMU.time: 1664877178.558204
lastState: 1664877178.558204
currentState: 1664877178.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.578203917 0.002294 0.00917 9.8 0 0 -0.000779
1-2 processing imu...
it_last_IMU.time: 1664877178.568204
lastState: 1664877178.568204
currentState: 1664877178.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.588203907 0.002398 0.006315 9.8 0 0 -0.000804
1-2 processing imu...
it_last_IMU.time: 1664877178.578204
lastState: 1664877178.578204
currentState: 1664877178.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.598203897 0.002502 0.003459 9.8 0 0 -0.000829
1-2 processing imu...
it_last_IMU.time: 1664877178.588204
lastState: 1664877178.588204
currentState: 1664877178.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.608203888 0.002606 0.000604 9.8 0 0 -0.000854
1-2 processing imu...
it_last_IMU.time: 1664877178.598204
lastState: 1664877178.598204
currentState: 1664877178.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877178.594456911 -0.4041 0.3802 -0.0093 0.002776 0.003504 -0.3748 0.9271
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877178.594457
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877178.594457
state->time: 1664877178.594457
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675565.087169484]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675565.087259663]: the fixed q :[-0.672, -0.652, 0.262, 0.234][0m
[0m[ INFO] [1670675565.087279413]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675565.087295727]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.4041 0.3802 -0.0093
p_wv: 18.52 -15.22 31
p: 17.51 -14.54 30.91
q: [-0.672, -0.652, 0.262, 0.234]
l: 0.5155
residual in position: 0.1151 0.0275 0.03958
q_err :[-0.999, -0.00751, -0.0282, 0.026]
residual in q: 0.01504 0.05648 -0.05206
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877178.594457 it_next->second->time: 1664877178.598204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877178.598204 it_next->second->time: 1664877178.608204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.73 -14.48 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877178.618204117 0.002711 -0.002251 9.8 0 0 -0.000879
1-2 processing imu...
it_last_IMU.time: 1664877178.608204
lastState: 1664877178.608204
currentState: 1664877178.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.628204107 0.002815 -0.005107 9.8 0 0 -0.000903
1-2 processing imu...
it_last_IMU.time: 1664877178.618204
lastState: 1664877178.618204
currentState: 1664877178.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.638204098 0.002919 -0.007962 9.8 0 0 -0.000928
1-2 processing imu...
it_last_IMU.time: 1664877178.628204
lastState: 1664877178.628204
currentState: 1664877178.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.648204088 0.003024 -0.01082 9.8 0 0 -0.000953
1-2 processing imu...
it_last_IMU.time: 1664877178.638204
lastState: 1664877178.638204
currentState: 1664877178.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.658204079 0.003129 -0.01367 9.8 0 0 -0.000977
1-2 processing imu...
it_last_IMU.time: 1664877178.648204
lastState: 1664877178.648204
currentState: 1664877178.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.668204069 0.003231 -0.01639 9.8 0 0 -0.001002
1-2 processing imu...
it_last_IMU.time: 1664877178.658204
lastState: 1664877178.658204
currentState: 1664877178.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.678204060 0.003326 -0.01871 9.8 0 0 -0.001026
1-2 processing imu...
it_last_IMU.time: 1664877178.668204
lastState: 1664877178.668204
currentState: 1664877178.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.688204050 0.003421 -0.02104 9.8 0 0 -0.00105
1-2 processing imu...
it_last_IMU.time: 1664877178.678204
lastState: 1664877178.678204
currentState: 1664877178.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.698204041 0.003516 -0.02336 9.8 0 0 -0.001074
1-2 processing imu...
it_last_IMU.time: 1664877178.688204
lastState: 1664877178.688204
currentState: 1664877178.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.708204031 0.003611 -0.02568 9.8 0 0 -0.001098
1-2 processing imu...
it_last_IMU.time: 1664877178.698204
lastState: 1664877178.698204
currentState: 1664877178.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.718204021 0.003706 -0.02801 9.8 0 0 -0.001121
1-2 processing imu...
it_last_IMU.time: 1664877178.708204
lastState: 1664877178.708204
currentState: 1664877178.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.728204012 0.003801 -0.03033 9.8 0 0 -0.001144
1-2 processing imu...
it_last_IMU.time: 1664877178.718204
lastState: 1664877178.718204
currentState: 1664877178.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.738204002 0.003896 -0.03266 9.8 0 0 -0.001167
1-2 processing imu...
it_last_IMU.time: 1664877178.728204
lastState: 1664877178.728204
currentState: 1664877178.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.748203993 0.003992 -0.03498 9.8 0 0 -0.001189
1-2 processing imu...
it_last_IMU.time: 1664877178.738204
lastState: 1664877178.738204
currentState: 1664877178.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.758203983 0.004087 -0.0373 9.8 0 0 -0.001212
1-2 processing imu...
it_last_IMU.time: 1664877178.748204
lastState: 1664877178.748204
currentState: 1664877178.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.768203974 0.004176 -0.03954 9.8 0 0 -0.001234
1-2 processing imu...
it_last_IMU.time: 1664877178.758204
lastState: 1664877178.758204
currentState: 1664877178.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.778203964 0.004244 -0.04149 9.8 0 0 -0.001255
1-2 processing imu...
it_last_IMU.time: 1664877178.768204
lastState: 1664877178.768204
currentState: 1664877178.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.788203955 0.004312 -0.04345 9.8 0 0 -0.001277
1-2 processing imu...
it_last_IMU.time: 1664877178.778204
lastState: 1664877178.778204
currentState: 1664877178.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.798203945 0.00438 -0.04541 9.8 0 0 -0.001297
1-2 processing imu...
it_last_IMU.time: 1664877178.788204
lastState: 1664877178.788204
currentState: 1664877178.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.808203936 0.004448 -0.04736 9.8 0 0 -0.001318
1-2 processing imu...
it_last_IMU.time: 1664877178.798204
lastState: 1664877178.798204
currentState: 1664877178.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.818203926 0.004516 -0.04932 9.8 0 0 -0.001337
1-2 processing imu...
it_last_IMU.time: 1664877178.808204
lastState: 1664877178.808204
currentState: 1664877178.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.828203917 0.004584 -0.05128 9.8 0 0 -0.001356
1-2 processing imu...
it_last_IMU.time: 1664877178.818204
lastState: 1664877178.818204
currentState: 1664877178.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.838203907 0.004653 -0.05323 9.8 0 0 -0.001375
1-2 processing imu...
it_last_IMU.time: 1664877178.828204
lastState: 1664877178.828204
currentState: 1664877178.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.848203897 0.004721 -0.05519 9.8 0 0 -0.001393
1-2 processing imu...
it_last_IMU.time: 1664877178.838204
lastState: 1664877178.838204
currentState: 1664877178.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.858203888 0.00479 -0.05715 9.8 0 0 -0.001411
1-2 processing imu...
it_last_IMU.time: 1664877178.848204
lastState: 1664877178.848204
currentState: 1664877178.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.868204117 0.004854 -0.05871 9.8 0 0 -0.001428
1-2 processing imu...
it_last_IMU.time: 1664877178.858204
lastState: 1664877178.858204
currentState: 1664877178.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.878204107 0.004906 -0.05903 9.8 0 0 -0.001445
1-2 processing imu...
it_last_IMU.time: 1664877178.868204
lastState: 1664877178.868204
currentState: 1664877178.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.888204098 0.004957 -0.05935 9.8 0 0 -0.001461
1-2 processing imu...
it_last_IMU.time: 1664877178.878204
lastState: 1664877178.878204
currentState: 1664877178.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.898204088 0.005009 -0.05968 9.8 0 0 -0.001477
1-2 processing imu...
it_last_IMU.time: 1664877178.888204
lastState: 1664877178.888204
currentState: 1664877178.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.908204079 0.00506 -0.06 9.8 0 0 -0.001491
1-2 processing imu...
it_last_IMU.time: 1664877178.898204
lastState: 1664877178.898204
currentState: 1664877178.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.918204069 0.005112 -0.06032 9.8 0 0 -0.001506
1-2 processing imu...
it_last_IMU.time: 1664877178.908204
lastState: 1664877178.908204
currentState: 1664877178.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.928204060 0.005163 -0.06064 9.8 0 0 -0.001519
1-2 processing imu...
it_last_IMU.time: 1664877178.918204
lastState: 1664877178.918204
currentState: 1664877178.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.938204050 0.005215 -0.06097 9.8 0 0 -0.001532
1-2 processing imu...
it_last_IMU.time: 1664877178.928204
lastState: 1664877178.928204
currentState: 1664877178.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.948204041 0.005266 -0.06129 9.8 0 0 -0.001545
1-2 processing imu...
it_last_IMU.time: 1664877178.938204
lastState: 1664877178.938204
currentState: 1664877178.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.958204031 0.005318 -0.06161 9.8 0 0 -0.001557
1-2 processing imu...
it_last_IMU.time: 1664877178.948204
lastState: 1664877178.948204
currentState: 1664877178.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.968204021 0.005367 -0.06172 9.8 0 0 -0.001568
1-2 processing imu...
it_last_IMU.time: 1664877178.958204
lastState: 1664877178.958204
currentState: 1664877178.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.978204012 0.005405 -0.06112 9.8 0 0 -0.001579
1-2 processing imu...
it_last_IMU.time: 1664877178.968204
lastState: 1664877178.968204
currentState: 1664877178.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877178.988204002 0.005444 -0.06051 9.8 0 0 -0.001589
1-2 processing imu...
it_last_IMU.time: 1664877178.978204
lastState: 1664877178.978204
currentState: 1664877178.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877178.998203993 0.005483 -0.05991 9.8 0 0 -0.001598
1-2 processing imu...
it_last_IMU.time: 1664877178.988204
lastState: 1664877178.988204
currentState: 1664877178.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.008203983 0.005521 -0.05931 9.8 0 0 -0.001607
1-2 processing imu...
it_last_IMU.time: 1664877178.998204
lastState: 1664877178.998204
currentState: 1664877179.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.018203974 0.00556 -0.05871 9.8 0 0 -0.001615
1-2 processing imu...
it_last_IMU.time: 1664877179.008204
lastState: 1664877179.008204
currentState: 1664877179.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.028203964 0.005599 -0.05811 9.8 0 0 -0.001623
1-2 processing imu...
it_last_IMU.time: 1664877179.018204
lastState: 1664877179.018204
currentState: 1664877179.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877179.010092020 -0.3892 0.3661 -0.009083 0.002476 0.004081 -0.3753 0.9269
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877179.010092
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877179.010092
state->time: 1664877179.010092
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675565.987995516]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675565.988041653]: the fixed q :[-0.672, -0.651, 0.263, 0.236][0m
[0m[ INFO] [1670675565.988051699]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675565.988070841]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.3892 0.3661 -0.009083
p_wv: 18.52 -15.22 31
p: 17.56 -14.58 30.9
q: [-0.672, -0.651, 0.263, 0.236]
l: 0.5155
residual in position: 0.1074 0.03382 0.04392
q_err :[-0.999, -0.00726, -0.028, 0.0243]
residual in q: 0.01453 0.05608 -0.04865
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877179.010092 it_next->second->time: 1664877179.018204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877179.018204 it_next->second->time: 1664877179.028204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.76 -14.51 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877179.038203955 0.005637 -0.05751 9.8 0 0 -0.00163
1-2 processing imu...
it_last_IMU.time: 1664877179.028204
lastState: 1664877179.028204
currentState: 1664877179.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.048203945 0.005676 -0.05691 9.8 0 0 -0.001636
1-2 processing imu...
it_last_IMU.time: 1664877179.038204
lastState: 1664877179.038204
currentState: 1664877179.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.058203936 0.005715 -0.05631 9.8 0 0 -0.001642
1-2 processing imu...
it_last_IMU.time: 1664877179.048204
lastState: 1664877179.048204
currentState: 1664877179.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.068203926 0.005748 -0.05545 9.8 0 0 -0.001647
1-2 processing imu...
it_last_IMU.time: 1664877179.058204
lastState: 1664877179.058204
currentState: 1664877179.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.078203917 0.005763 -0.05375 9.8 0 0 -0.001652
1-2 processing imu...
it_last_IMU.time: 1664877179.068204
lastState: 1664877179.068204
currentState: 1664877179.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.088203907 0.005777 -0.05205 9.8 0 0 -0.001656
1-2 processing imu...
it_last_IMU.time: 1664877179.078204
lastState: 1664877179.078204
currentState: 1664877179.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.098203897 0.005792 -0.05034 9.8 0 0 -0.001659
1-2 processing imu...
it_last_IMU.time: 1664877179.088204
lastState: 1664877179.088204
currentState: 1664877179.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.108203888 0.005807 -0.04864 9.8 0 0 -0.001663
1-2 processing imu...
it_last_IMU.time: 1664877179.098204
lastState: 1664877179.098204
currentState: 1664877179.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.118204117 0.005822 -0.04693 9.8 0 0 -0.001665
1-2 processing imu...
it_last_IMU.time: 1664877179.108204
lastState: 1664877179.108204
currentState: 1664877179.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.128204107 0.005836 -0.04523 9.8 0 0 -0.001667
1-2 processing imu...
it_last_IMU.time: 1664877179.118204
lastState: 1664877179.118204
currentState: 1664877179.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.138204098 0.005851 -0.04352 9.8 0 0 -0.001668
1-2 processing imu...
it_last_IMU.time: 1664877179.128204
lastState: 1664877179.128204
currentState: 1664877179.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.148204088 0.005865 -0.04182 9.8 0 0 -0.001669
1-2 processing imu...
it_last_IMU.time: 1664877179.138204
lastState: 1664877179.138204
currentState: 1664877179.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.158204079 0.00588 -0.04011 9.8 0 0 -0.00167
1-2 processing imu...
it_last_IMU.time: 1664877179.148204
lastState: 1664877179.148204
currentState: 1664877179.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.168204069 0.005885 -0.03832 9.8 0 0 -0.00167
1-2 processing imu...
it_last_IMU.time: 1664877179.158204
lastState: 1664877179.158204
currentState: 1664877179.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.178204060 0.00586 -0.03624 9.8 0 0 -0.001669
1-2 processing imu...
it_last_IMU.time: 1664877179.168204
lastState: 1664877179.168204
currentState: 1664877179.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.188204050 0.005835 -0.03415 9.8 0 0 -0.001668
1-2 processing imu...
it_last_IMU.time: 1664877179.178204
lastState: 1664877179.178204
currentState: 1664877179.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.198204041 0.005809 -0.03206 9.8 0 0 -0.001667
1-2 processing imu...
it_last_IMU.time: 1664877179.188204
lastState: 1664877179.188204
currentState: 1664877179.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.208204031 0.005784 -0.02997 9.8 0 0 -0.001665
1-2 processing imu...
it_last_IMU.time: 1664877179.198204
lastState: 1664877179.198204
currentState: 1664877179.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.218204021 0.005758 -0.02788 9.8 0 0 -0.001663
1-2 processing imu...
it_last_IMU.time: 1664877179.208204
lastState: 1664877179.208204
currentState: 1664877179.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.228204012 0.005732 -0.02579 9.8 0 0 -0.00166
1-2 processing imu...
it_last_IMU.time: 1664877179.218204
lastState: 1664877179.218204
currentState: 1664877179.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.238204002 0.005707 -0.0237 9.8 0 0 -0.001658
1-2 processing imu...
it_last_IMU.time: 1664877179.228204
lastState: 1664877179.228204
currentState: 1664877179.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.248203993 0.005681 -0.02161 9.8 0 0 -0.001654
1-2 processing imu...
it_last_IMU.time: 1664877179.238204
lastState: 1664877179.238204
currentState: 1664877179.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.258203983 0.005655 -0.01952 9.8 0 0 -0.00165
1-2 processing imu...
it_last_IMU.time: 1664877179.248204
lastState: 1664877179.248204
currentState: 1664877179.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.268203974 0.005625 -0.01744 9.8 0 0 -0.001646
1-2 processing imu...
it_last_IMU.time: 1664877179.258204
lastState: 1664877179.258204
currentState: 1664877179.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.278203964 0.005581 -0.01539 9.8 0 0 -0.001642
1-2 processing imu...
it_last_IMU.time: 1664877179.268204
lastState: 1664877179.268204
currentState: 1664877179.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.288203955 0.005536 -0.01335 9.8 0 0 -0.001637
1-2 processing imu...
it_last_IMU.time: 1664877179.278204
lastState: 1664877179.278204
currentState: 1664877179.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.298203945 0.005491 -0.0113 9.8 0 0 -0.001632
1-2 processing imu...
it_last_IMU.time: 1664877179.288204
lastState: 1664877179.288204
currentState: 1664877179.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.308203936 0.005447 -0.009249 9.8 0 0 -0.001627
1-2 processing imu...
it_last_IMU.time: 1664877179.298204
lastState: 1664877179.298204
currentState: 1664877179.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.318203926 0.005402 -0.007201 9.8 0 0 -0.001621
1-2 processing imu...
it_last_IMU.time: 1664877179.308204
lastState: 1664877179.308204
currentState: 1664877179.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.328203917 0.005357 -0.005153 9.8 0 0 -0.001615
1-2 processing imu...
it_last_IMU.time: 1664877179.318204
lastState: 1664877179.318204
currentState: 1664877179.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.338203907 0.005312 -0.003104 9.8 0 0 -0.001609
1-2 processing imu...
it_last_IMU.time: 1664877179.328204
lastState: 1664877179.328204
currentState: 1664877179.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.348203897 0.005267 -0.001056 9.8 0 0 -0.001603
1-2 processing imu...
it_last_IMU.time: 1664877179.338204
lastState: 1664877179.338204
currentState: 1664877179.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.358203888 0.005222 0.000992 9.8 0 0 -0.001596
1-2 processing imu...
it_last_IMU.time: 1664877179.348204
lastState: 1664877179.348204
currentState: 1664877179.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.368204117 0.005178 0.003171 9.8 0 0 -0.001589
1-2 processing imu...
it_last_IMU.time: 1664877179.358204
lastState: 1664877179.358204
currentState: 1664877179.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.378204107 0.005135 0.005875 9.8 0 0 -0.001582
1-2 processing imu...
it_last_IMU.time: 1664877179.368204
lastState: 1664877179.368204
currentState: 1664877179.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.388204098 0.005091 0.00858 9.8 0 0 -0.001574
1-2 processing imu...
it_last_IMU.time: 1664877179.378204
lastState: 1664877179.378204
currentState: 1664877179.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.398204088 0.005048 0.01128 9.8 0 0 -0.001567
1-2 processing imu...
it_last_IMU.time: 1664877179.388204
lastState: 1664877179.388204
currentState: 1664877179.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.408204079 0.005005 0.01399 9.8 0 0 -0.001559
1-2 processing imu...
it_last_IMU.time: 1664877179.398204
lastState: 1664877179.398204
currentState: 1664877179.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.418204069 0.004962 0.01669 9.8 0 0 -0.001551
1-2 processing imu...
it_last_IMU.time: 1664877179.408204
lastState: 1664877179.408204
currentState: 1664877179.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.428204060 0.004918 0.0194 9.8 0 0 -0.001542
1-2 processing imu...
it_last_IMU.time: 1664877179.418204
lastState: 1664877179.418204
currentState: 1664877179.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.438204050 0.004875 0.0221 9.8 0 0 -0.001534
1-2 processing imu...
it_last_IMU.time: 1664877179.428204
lastState: 1664877179.428204
currentState: 1664877179.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.448204041 0.004831 0.02481 9.8 0 0 -0.001525
1-2 processing imu...
it_last_IMU.time: 1664877179.438204
lastState: 1664877179.438204
currentState: 1664877179.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877179.430558920 -0.3737 0.3518 -0.009136 0.002213 0.004726 -0.3762 0.9265
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877179.430559
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877179.430559
state->time: 1664877179.430559
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675566.880858120]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675566.880952341]: the fixed q :[-0.672, -0.651, 0.263, 0.238][0m
[0m[ INFO] [1670675566.881000902]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675566.881056728]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.3737 0.3518 -0.009136
p_wv: 18.52 -15.22 31
p: 17.59 -14.6 30.9
q: [-0.672, -0.651, 0.263, 0.238]
l: 0.5155
residual in position: 0.1073 0.03251 0.04399
q_err :[-0.999, -0.00737, -0.0271, 0.0237]
residual in q: 0.01474 0.05424 -0.04751
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877179.430559 it_next->second->time: 1664877179.438204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877179.438204 it_next->second->time: 1664877179.448204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.79 -14.54 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877179.458204031 0.004787 0.02751 9.8 0 0 -0.001516
1-2 processing imu...
it_last_IMU.time: 1664877179.448204
lastState: 1664877179.448204
currentState: 1664877179.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.468204021 0.004745 0.02983 9.8 0 0 -0.001507
1-2 processing imu...
it_last_IMU.time: 1664877179.458204
lastState: 1664877179.458204
currentState: 1664877179.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.478204012 0.004709 0.03046 9.8 0 0 -0.001498
1-2 processing imu...
it_last_IMU.time: 1664877179.468204
lastState: 1664877179.468204
currentState: 1664877179.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.488204002 0.004673 0.0311 9.8 0 0 -0.001489
1-2 processing imu...
it_last_IMU.time: 1664877179.478204
lastState: 1664877179.478204
currentState: 1664877179.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.498203993 0.004637 0.03173 9.8 0 0 -0.001479
1-2 processing imu...
it_last_IMU.time: 1664877179.488204
lastState: 1664877179.488204
currentState: 1664877179.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.508203983 0.004601 0.03236 9.8 0 0 -0.001469
1-2 processing imu...
it_last_IMU.time: 1664877179.498204
lastState: 1664877179.498204
currentState: 1664877179.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.518203974 0.004565 0.033 9.8 0 0 -0.001459
1-2 processing imu...
it_last_IMU.time: 1664877179.508204
lastState: 1664877179.508204
currentState: 1664877179.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.528203964 0.004529 0.03363 9.8 0 0 -0.001449
1-2 processing imu...
it_last_IMU.time: 1664877179.518204
lastState: 1664877179.518204
currentState: 1664877179.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.538203955 0.004493 0.03426 9.8 0 0 -0.001439
1-2 processing imu...
it_last_IMU.time: 1664877179.528204
lastState: 1664877179.528204
currentState: 1664877179.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.548203945 0.004457 0.0349 9.8 0 0 -0.001429
1-2 processing imu...
it_last_IMU.time: 1664877179.538204
lastState: 1664877179.538204
currentState: 1664877179.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.558203936 0.004421 0.03553 9.8 0 0 -0.001419
1-2 processing imu...
it_last_IMU.time: 1664877179.548204
lastState: 1664877179.548204
currentState: 1664877179.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.568203926 0.004386 0.03601 9.8 0 0 -0.001408
1-2 processing imu...
it_last_IMU.time: 1664877179.558204
lastState: 1664877179.558204
currentState: 1664877179.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.578203917 0.004353 0.03579 9.8 0 0 -0.001397
1-2 processing imu...
it_last_IMU.time: 1664877179.568204
lastState: 1664877179.568204
currentState: 1664877179.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.588203907 0.004321 0.03556 9.8 0 0 -0.001386
1-2 processing imu...
it_last_IMU.time: 1664877179.578204
lastState: 1664877179.578204
currentState: 1664877179.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.598203897 0.004288 0.03534 9.8 0 0 -0.001376
1-2 processing imu...
it_last_IMU.time: 1664877179.588204
lastState: 1664877179.588204
currentState: 1664877179.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.608203888 0.004256 0.03512 9.8 0 0 -0.001365
1-2 processing imu...
it_last_IMU.time: 1664877179.598204
lastState: 1664877179.598204
currentState: 1664877179.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.618204117 0.004223 0.0349 9.8 0 0 -0.001354
1-2 processing imu...
it_last_IMU.time: 1664877179.608204
lastState: 1664877179.608204
currentState: 1664877179.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.628204107 0.00419 0.03467 9.8 0 0 -0.001343
1-2 processing imu...
it_last_IMU.time: 1664877179.618204
lastState: 1664877179.618204
currentState: 1664877179.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.638204098 0.004158 0.03445 9.8 0 0 -0.001332
1-2 processing imu...
it_last_IMU.time: 1664877179.628204
lastState: 1664877179.628204
currentState: 1664877179.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.648204088 0.004125 0.03423 9.8 0 0 -0.00132
1-2 processing imu...
it_last_IMU.time: 1664877179.638204
lastState: 1664877179.638204
currentState: 1664877179.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.658204079 0.004093 0.03401 9.8 0 0 -0.001309
1-2 processing imu...
it_last_IMU.time: 1664877179.648204
lastState: 1664877179.648204
currentState: 1664877179.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.668204069 0.004058 0.03391 9.8 0 0 -0.001298
1-2 processing imu...
it_last_IMU.time: 1664877179.658204
lastState: 1664877179.658204
currentState: 1664877179.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.678204060 0.004015 0.03445 9.8 0 0 -0.001287
1-2 processing imu...
it_last_IMU.time: 1664877179.668204
lastState: 1664877179.668204
currentState: 1664877179.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.688204050 0.003971 0.03499 9.8 0 0 -0.001275
1-2 processing imu...
it_last_IMU.time: 1664877179.678204
lastState: 1664877179.678204
currentState: 1664877179.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.698204041 0.003928 0.03553 9.8 0 0 -0.001264
1-2 processing imu...
it_last_IMU.time: 1664877179.688204
lastState: 1664877179.688204
currentState: 1664877179.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.708204031 0.003884 0.03606 9.8 0 0 -0.001253
1-2 processing imu...
it_last_IMU.time: 1664877179.698204
lastState: 1664877179.698204
currentState: 1664877179.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.718204021 0.00384 0.0366 9.8 0 0 -0.001242
1-2 processing imu...
it_last_IMU.time: 1664877179.708204
lastState: 1664877179.708204
currentState: 1664877179.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.728204012 0.003797 0.03714 9.8 0 0 -0.001231
1-2 processing imu...
it_last_IMU.time: 1664877179.718204
lastState: 1664877179.718204
currentState: 1664877179.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.738204002 0.003753 0.03767 9.8 0 0 -0.00122
1-2 processing imu...
it_last_IMU.time: 1664877179.728204
lastState: 1664877179.728204
currentState: 1664877179.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.748203993 0.00371 0.03821 9.8 0 0 -0.001209
1-2 processing imu...
it_last_IMU.time: 1664877179.738204
lastState: 1664877179.738204
currentState: 1664877179.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.758203983 0.003666 0.03875 9.8 0 0 -0.001198
1-2 processing imu...
it_last_IMU.time: 1664877179.748204
lastState: 1664877179.748204
currentState: 1664877179.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.768203974 0.003622 0.03898 9.8 0 0 -0.001187
1-2 processing imu...
it_last_IMU.time: 1664877179.758204
lastState: 1664877179.758204
currentState: 1664877179.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.778203964 0.003574 0.03765 9.8 0 0 -0.001176
1-2 processing imu...
it_last_IMU.time: 1664877179.768204
lastState: 1664877179.768204
currentState: 1664877179.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.788203955 0.003527 0.03632 9.8 0 0 -0.001166
1-2 processing imu...
it_last_IMU.time: 1664877179.778204
lastState: 1664877179.778204
currentState: 1664877179.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.798203945 0.00348 0.03498 9.8 0 0 -0.001155
1-2 processing imu...
it_last_IMU.time: 1664877179.788204
lastState: 1664877179.788204
currentState: 1664877179.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.808203936 0.003433 0.03365 9.8 0 0 -0.001145
1-2 processing imu...
it_last_IMU.time: 1664877179.798204
lastState: 1664877179.798204
currentState: 1664877179.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.818203926 0.003386 0.03231 9.8 0 0 -0.001135
1-2 processing imu...
it_last_IMU.time: 1664877179.808204
lastState: 1664877179.808204
currentState: 1664877179.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.828203917 0.003338 0.03098 9.8 0 0 -0.001124
1-2 processing imu...
it_last_IMU.time: 1664877179.818204
lastState: 1664877179.818204
currentState: 1664877179.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.838203907 0.003291 0.02965 9.8 0 0 -0.001114
1-2 processing imu...
it_last_IMU.time: 1664877179.828204
lastState: 1664877179.828204
currentState: 1664877179.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.848203897 0.003244 0.02831 9.8 0 0 -0.001104
1-2 processing imu...
it_last_IMU.time: 1664877179.838204
lastState: 1664877179.838204
currentState: 1664877179.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.858203888 0.003197 0.02698 9.8 0 0 -0.001095
1-2 processing imu...
it_last_IMU.time: 1664877179.848204
lastState: 1664877179.848204
currentState: 1664877179.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877179.853065968 -0.3577 0.336 -0.009352 0.002043 0.004894 -0.3759 0.9266
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877179.853066
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877179.853066
state->time: 1664877179.853066
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675567.752062691]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675567.752171998]: the fixed q :[-0.671, -0.65, 0.263, 0.24][0m
[0m[ INFO] [1670675567.752225404]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675567.752279510]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.3577 0.336 -0.009352
p_wv: 18.52 -15.22 31
p: 17.63 -14.63 30.91
q: [-0.671, -0.65, 0.263, 0.24]
l: 0.5155
residual in position: 0.1033 0.03202 0.03704
q_err :[-0.999, -0.0077, -0.0256, 0.0211]
residual in q: 0.0154 0.05132 -0.04226
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877179.853066 it_next->second->time: 1664877179.858204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.82 -14.57 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877179.868204117 0.003152 0.02551 9.8 0 0 -0.001085
1-2 processing imu...
it_last_IMU.time: 1664877179.858204
lastState: 1664877179.858204
currentState: 1664877179.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.878204107 0.003116 0.02329 9.8 0 0 -0.001075
1-2 processing imu...
it_last_IMU.time: 1664877179.868204
lastState: 1664877179.868204
currentState: 1664877179.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.888204098 0.00308 0.02106 9.8 0 0 -0.001066
1-2 processing imu...
it_last_IMU.time: 1664877179.878204
lastState: 1664877179.878204
currentState: 1664877179.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.898204088 0.003045 0.01884 9.8 0 0 -0.001057
1-2 processing imu...
it_last_IMU.time: 1664877179.888204
lastState: 1664877179.888204
currentState: 1664877179.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.908204079 0.003009 0.01662 9.8 0 0 -0.001047
1-2 processing imu...
it_last_IMU.time: 1664877179.898204
lastState: 1664877179.898204
currentState: 1664877179.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.918204069 0.002974 0.01439 9.8 0 0 -0.001038
1-2 processing imu...
it_last_IMU.time: 1664877179.908204
lastState: 1664877179.908204
currentState: 1664877179.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.928204060 0.002938 0.01217 9.8 0 0 -0.001029
1-2 processing imu...
it_last_IMU.time: 1664877179.918204
lastState: 1664877179.918204
currentState: 1664877179.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.938204050 0.002903 0.009944 9.8 0 0 -0.001021
1-2 processing imu...
it_last_IMU.time: 1664877179.928204
lastState: 1664877179.928204
currentState: 1664877179.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.948204041 0.002867 0.007721 9.8 0 0 -0.001012
1-2 processing imu...
it_last_IMU.time: 1664877179.938204
lastState: 1664877179.938204
currentState: 1664877179.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.958204031 0.002832 0.005497 9.8 0 0 -0.001003
1-2 processing imu...
it_last_IMU.time: 1664877179.948204
lastState: 1664877179.948204
currentState: 1664877179.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.968204021 0.002798 0.003566 9.8 0 0 -0.000995
1-2 processing imu...
it_last_IMU.time: 1664877179.958204
lastState: 1664877179.958204
currentState: 1664877179.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.978204012 0.002778 0.003369 9.8 0 0 -0.000987
1-2 processing imu...
it_last_IMU.time: 1664877179.968204
lastState: 1664877179.968204
currentState: 1664877179.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877179.988204002 0.002757 0.003172 9.8 0 0 -0.000979
1-2 processing imu...
it_last_IMU.time: 1664877179.978204
lastState: 1664877179.978204
currentState: 1664877179.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877179.998203993 0.002737 0.002975 9.8 0 0 -0.000971
1-2 processing imu...
it_last_IMU.time: 1664877179.988204
lastState: 1664877179.988204
currentState: 1664877179.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.008203983 0.002716 0.002778 9.8 0 0 -0.000963
1-2 processing imu...
it_last_IMU.time: 1664877179.998204
lastState: 1664877179.998204
currentState: 1664877180.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.018203974 0.002696 0.00258 9.8 0 0 -0.000955
1-2 processing imu...
it_last_IMU.time: 1664877180.008204
lastState: 1664877180.008204
currentState: 1664877180.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.028203964 0.002675 0.002383 9.8 0 0 -0.000947
1-2 processing imu...
it_last_IMU.time: 1664877180.018204
lastState: 1664877180.018204
currentState: 1664877180.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.038203955 0.002655 0.002186 9.8 0 0 -0.00094
1-2 processing imu...
it_last_IMU.time: 1664877180.028204
lastState: 1664877180.028204
currentState: 1664877180.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.048203945 0.002634 0.001989 9.8 0 0 -0.000932
1-2 processing imu...
it_last_IMU.time: 1664877180.038204
lastState: 1664877180.038204
currentState: 1664877180.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.058203936 0.002614 0.001792 9.8 0 0 -0.000925
1-2 processing imu...
it_last_IMU.time: 1664877180.048204
lastState: 1664877180.048204
currentState: 1664877180.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.068203926 0.002595 0.001538 9.8 0 0 -0.000918
1-2 processing imu...
it_last_IMU.time: 1664877180.058204
lastState: 1664877180.058204
currentState: 1664877180.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.078203917 0.002586 0.000927 9.8 0 0 -0.000911
1-2 processing imu...
it_last_IMU.time: 1664877180.068204
lastState: 1664877180.068204
currentState: 1664877180.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.088203907 0.002577 0.000315 9.8 0 0 -0.000904
1-2 processing imu...
it_last_IMU.time: 1664877180.078204
lastState: 1664877180.078204
currentState: 1664877180.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.098203897 0.002569 -0.000297 9.8 0 0 -0.000897
1-2 processing imu...
it_last_IMU.time: 1664877180.088204
lastState: 1664877180.088204
currentState: 1664877180.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.108203888 0.00256 -0.000908 9.8 0 0 -0.000891
1-2 processing imu...
it_last_IMU.time: 1664877180.098204
lastState: 1664877180.098204
currentState: 1664877180.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.118204117 0.002551 -0.00152 9.8 0 0 -0.000884
1-2 processing imu...
it_last_IMU.time: 1664877180.108204
lastState: 1664877180.108204
currentState: 1664877180.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.128204107 0.002543 -0.002132 9.8 0 0 -0.000877
1-2 processing imu...
it_last_IMU.time: 1664877180.118204
lastState: 1664877180.118204
currentState: 1664877180.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.138204098 0.002534 -0.002744 9.8 0 0 -0.000871
1-2 processing imu...
it_last_IMU.time: 1664877180.128204
lastState: 1664877180.128204
currentState: 1664877180.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.148204088 0.002526 -0.003355 9.8 0 0 -0.000865
1-2 processing imu...
it_last_IMU.time: 1664877180.138204
lastState: 1664877180.138204
currentState: 1664877180.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.158204079 0.002517 -0.003967 9.8 0 0 -0.000859
1-2 processing imu...
it_last_IMU.time: 1664877180.148204
lastState: 1664877180.148204
currentState: 1664877180.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.168204069 0.002509 -0.004501 9.8 0 0 -0.000852
1-2 processing imu...
it_last_IMU.time: 1664877180.158204
lastState: 1664877180.158204
currentState: 1664877180.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.178204060 0.002504 -0.004494 9.8 0 0 -0.000846
1-2 processing imu...
it_last_IMU.time: 1664877180.168204
lastState: 1664877180.168204
currentState: 1664877180.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.188204050 0.0025 -0.004488 9.8 0 0 -0.000841
1-2 processing imu...
it_last_IMU.time: 1664877180.178204
lastState: 1664877180.178204
currentState: 1664877180.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.198204041 0.002495 -0.004482 9.8 0 0 -0.000835
1-2 processing imu...
it_last_IMU.time: 1664877180.188204
lastState: 1664877180.188204
currentState: 1664877180.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.208204031 0.00249 -0.004476 9.8 0 0 -0.000829
1-2 processing imu...
it_last_IMU.time: 1664877180.198204
lastState: 1664877180.198204
currentState: 1664877180.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.218204021 0.002486 -0.00447 9.8 0 0 -0.000823
1-2 processing imu...
it_last_IMU.time: 1664877180.208204
lastState: 1664877180.208204
currentState: 1664877180.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.228204012 0.002481 -0.004463 9.8 0 0 -0.000818
1-2 processing imu...
it_last_IMU.time: 1664877180.218204
lastState: 1664877180.218204
currentState: 1664877180.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.238204002 0.002476 -0.004457 9.8 0 0 -0.000812
1-2 processing imu...
it_last_IMU.time: 1664877180.228204
lastState: 1664877180.228204
currentState: 1664877180.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.248203993 0.002472 -0.004451 9.8 0 0 -0.000807
1-2 processing imu...
it_last_IMU.time: 1664877180.238204
lastState: 1664877180.238204
currentState: 1664877180.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.258203983 0.002467 -0.004445 9.8 0 0 -0.000801
1-2 processing imu...
it_last_IMU.time: 1664877180.248204
lastState: 1664877180.248204
currentState: 1664877180.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.268203974 0.002461 -0.004365 9.8 0 0 -0.000796
1-2 processing imu...
it_last_IMU.time: 1664877180.258204
lastState: 1664877180.258204
currentState: 1664877180.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.278203964 0.002446 -0.003734 9.8 0 0 -0.000791
1-2 processing imu...
it_last_IMU.time: 1664877180.268204
lastState: 1664877180.268204
currentState: 1664877180.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877180.264241934 -0.3419 0.322 -0.009509 0.001934 0.004855 -0.3776 0.926
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877180.264242
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877180.264242
state->time: 1664877180.264242
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675568.631237922]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675568.631319722]: the fixed q :[-0.67, -0.65, 0.263, 0.243][0m
[0m[ INFO] [1670675568.631353100]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675568.631380564]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.3419 0.322 -0.009509
p_wv: 18.52 -15.22 31
p: 17.67 -14.66 30.92
q: [-0.67, -0.65, 0.263, 0.243]
l: 0.5155
residual in position: 0.09451 0.03337 0.0341
q_err :[-0.999, -0.00757, -0.0237, 0.0215]
residual in q: 0.01515 0.04753 -0.04307
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877180.264242 it_next->second->time: 1664877180.268204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877180.268204 it_next->second->time: 1664877180.278204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.85 -14.6 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877180.288203955 0.002431 -0.003102 9.8 0 0 -0.000786
1-2 processing imu...
it_last_IMU.time: 1664877180.278204
lastState: 1664877180.278204
currentState: 1664877180.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.298203945 0.002416 -0.002471 9.8 0 0 -0.000781
1-2 processing imu...
it_last_IMU.time: 1664877180.288204
lastState: 1664877180.288204
currentState: 1664877180.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.308203936 0.002401 -0.00184 9.8 0 0 -0.000776
1-2 processing imu...
it_last_IMU.time: 1664877180.298204
lastState: 1664877180.298204
currentState: 1664877180.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.318203926 0.002386 -0.001208 9.8 0 0 -0.000772
1-2 processing imu...
it_last_IMU.time: 1664877180.308204
lastState: 1664877180.308204
currentState: 1664877180.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.328203917 0.002371 -0.000577 9.8 0 0 -0.000767
1-2 processing imu...
it_last_IMU.time: 1664877180.318204
lastState: 1664877180.318204
currentState: 1664877180.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.338203907 0.002356 5.4e-05 9.8 0 0 -0.000762
1-2 processing imu...
it_last_IMU.time: 1664877180.328204
lastState: 1664877180.328204
currentState: 1664877180.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.348203897 0.002341 0.000686 9.8 0 0 -0.000758
1-2 processing imu...
it_last_IMU.time: 1664877180.338204
lastState: 1664877180.338204
currentState: 1664877180.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.358203888 0.002326 0.001317 9.8 0 0 -0.000754
1-2 processing imu...
it_last_IMU.time: 1664877180.348204
lastState: 1664877180.348204
currentState: 1664877180.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.368204117 0.00231 0.00177 9.8 0 0 -0.000749
1-2 processing imu...
it_last_IMU.time: 1664877180.358204
lastState: 1664877180.358204
currentState: 1664877180.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.378204107 0.002289 0.000759 9.8 0 0 -0.000745
1-2 processing imu...
it_last_IMU.time: 1664877180.368204
lastState: 1664877180.368204
currentState: 1664877180.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.388204098 0.002267 -0.000251 9.8 0 0 -0.000741
1-2 processing imu...
it_last_IMU.time: 1664877180.378204
lastState: 1664877180.378204
currentState: 1664877180.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.398204088 0.002246 -0.001261 9.8 0 0 -0.000737
1-2 processing imu...
it_last_IMU.time: 1664877180.388204
lastState: 1664877180.388204
currentState: 1664877180.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.408204079 0.002225 -0.002272 9.8 0 0 -0.000733
1-2 processing imu...
it_last_IMU.time: 1664877180.398204
lastState: 1664877180.398204
currentState: 1664877180.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.418204069 0.002203 -0.003282 9.8 0 0 -0.000729
1-2 processing imu...
it_last_IMU.time: 1664877180.408204
lastState: 1664877180.408204
currentState: 1664877180.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.428204060 0.002182 -0.004292 9.8 0 0 -0.000725
1-2 processing imu...
it_last_IMU.time: 1664877180.418204
lastState: 1664877180.418204
currentState: 1664877180.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.438204050 0.002161 -0.005303 9.8 0 0 -0.000722
1-2 processing imu...
it_last_IMU.time: 1664877180.428204
lastState: 1664877180.428204
currentState: 1664877180.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.448204041 0.00214 -0.006313 9.8 0 0 -0.000718
1-2 processing imu...
it_last_IMU.time: 1664877180.438204
lastState: 1664877180.438204
currentState: 1664877180.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.458204031 0.002119 -0.007323 9.8 0 0 -0.000715
1-2 processing imu...
it_last_IMU.time: 1664877180.448204
lastState: 1664877180.448204
currentState: 1664877180.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.468204021 0.002098 -0.008055 9.8 0 0 -0.000711
1-2 processing imu...
it_last_IMU.time: 1664877180.458204
lastState: 1664877180.458204
currentState: 1664877180.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.478204012 0.002081 -0.006274 9.8 0 0 -0.000708
1-2 processing imu...
it_last_IMU.time: 1664877180.468204
lastState: 1664877180.468204
currentState: 1664877180.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.488204002 0.002065 -0.004493 9.8 0 0 -0.000705
1-2 processing imu...
it_last_IMU.time: 1664877180.478204
lastState: 1664877180.478204
currentState: 1664877180.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.498203993 0.002048 -0.002712 9.8 0 0 -0.000702
1-2 processing imu...
it_last_IMU.time: 1664877180.488204
lastState: 1664877180.488204
currentState: 1664877180.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.508203983 0.002032 -0.00093 9.8 0 0 -0.000699
1-2 processing imu...
it_last_IMU.time: 1664877180.498204
lastState: 1664877180.498204
currentState: 1664877180.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.518203974 0.002015 0.000851 9.8 0 0 -0.000696
1-2 processing imu...
it_last_IMU.time: 1664877180.508204
lastState: 1664877180.508204
currentState: 1664877180.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.528203964 0.001999 0.002632 9.8 0 0 -0.000693
1-2 processing imu...
it_last_IMU.time: 1664877180.518204
lastState: 1664877180.518204
currentState: 1664877180.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.538203955 0.001982 0.004413 9.8 0 0 -0.00069
1-2 processing imu...
it_last_IMU.time: 1664877180.528204
lastState: 1664877180.528204
currentState: 1664877180.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.548203945 0.001966 0.006194 9.8 0 0 -0.000687
1-2 processing imu...
it_last_IMU.time: 1664877180.538204
lastState: 1664877180.538204
currentState: 1664877180.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.558203936 0.001949 0.007975 9.8 0 0 -0.000685
1-2 processing imu...
it_last_IMU.time: 1664877180.548204
lastState: 1664877180.548204
currentState: 1664877180.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.568203926 0.001933 0.009628 9.8 0 0 -0.000682
1-2 processing imu...
it_last_IMU.time: 1664877180.558204
lastState: 1664877180.558204
currentState: 1664877180.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.578203917 0.001926 0.009999 9.8 0 0 -0.00068
1-2 processing imu...
it_last_IMU.time: 1664877180.568204
lastState: 1664877180.568204
currentState: 1664877180.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.588203907 0.001918 0.01037 9.8 0 0 -0.000677
1-2 processing imu...
it_last_IMU.time: 1664877180.578204
lastState: 1664877180.578204
currentState: 1664877180.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.598203897 0.001911 0.01074 9.8 0 0 -0.000675
1-2 processing imu...
it_last_IMU.time: 1664877180.588204
lastState: 1664877180.588204
currentState: 1664877180.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.608203888 0.001903 0.01111 9.8 0 0 -0.000672
1-2 processing imu...
it_last_IMU.time: 1664877180.598204
lastState: 1664877180.598204
currentState: 1664877180.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.618204117 0.001896 0.01149 9.8 0 0 -0.00067
1-2 processing imu...
it_last_IMU.time: 1664877180.608204
lastState: 1664877180.608204
currentState: 1664877180.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.628204107 0.001888 0.01186 9.8 0 0 -0.000668
1-2 processing imu...
it_last_IMU.time: 1664877180.618204
lastState: 1664877180.618204
currentState: 1664877180.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.638204098 0.001881 0.01223 9.8 0 0 -0.000666
1-2 processing imu...
it_last_IMU.time: 1664877180.628204
lastState: 1664877180.628204
currentState: 1664877180.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.648204088 0.001873 0.0126 9.8 0 0 -0.000664
1-2 processing imu...
it_last_IMU.time: 1664877180.638204
lastState: 1664877180.638204
currentState: 1664877180.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.658204079 0.001866 0.01297 9.8 0 0 -0.000662
1-2 processing imu...
it_last_IMU.time: 1664877180.648204
lastState: 1664877180.648204
currentState: 1664877180.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.668204069 0.001859 0.01313 9.8 0 0 -0.00066
1-2 processing imu...
it_last_IMU.time: 1664877180.658204
lastState: 1664877180.658204
currentState: 1664877180.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.678204060 0.001861 0.01087 9.8 0 0 -0.000658
1-2 processing imu...
it_last_IMU.time: 1664877180.668204
lastState: 1664877180.668204
currentState: 1664877180.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.688204050 0.001863 0.008625 9.8 0 0 -0.000656
1-2 processing imu...
it_last_IMU.time: 1664877180.678204
lastState: 1664877180.678204
currentState: 1664877180.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.698204041 0.001865 0.006374 9.8 0 0 -0.000654
1-2 processing imu...
it_last_IMU.time: 1664877180.688204
lastState: 1664877180.688204
currentState: 1664877180.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877180.680928946 -0.327 0.3069 -0.009985 0.001152 0.003915 -0.3769 0.9262
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877180.680929
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877180.680929
state->time: 1664877180.680929
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675569.527545910]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675569.527712303]: the fixed q :[-0.669, -0.65, 0.264, 0.245][0m
[0m[ INFO] [1670675569.527762731]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675569.527813770]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.327 0.3069 -0.009985
p_wv: 18.52 -15.22 31
p: 17.71 -14.69 30.91
q: [-0.669, -0.65, 0.264, 0.245]
l: 0.5155
residual in position: 0.08994 0.03153 0.03449
q_err :[-1, -0.00739, -0.0219, 0.0182]
residual in q: 0.01479 0.04386 -0.03636
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877180.680929 it_next->second->time: 1664877180.688204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877180.688204 it_next->second->time: 1664877180.698204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.88 -14.63 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877180.708204031 0.001868 0.004124 9.8 0 0 -0.000652
1-2 processing imu...
it_last_IMU.time: 1664877180.698204
lastState: 1664877180.698204
currentState: 1664877180.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.718204021 0.00187 0.001873 9.8 0 0 -0.00065
1-2 processing imu...
it_last_IMU.time: 1664877180.708204
lastState: 1664877180.708204
currentState: 1664877180.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.728204012 0.001872 -0.000377 9.8 0 0 -0.000648
1-2 processing imu...
it_last_IMU.time: 1664877180.718204
lastState: 1664877180.718204
currentState: 1664877180.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.738204002 0.001875 -0.002628 9.8 0 0 -0.000647
1-2 processing imu...
it_last_IMU.time: 1664877180.728204
lastState: 1664877180.728204
currentState: 1664877180.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.748203993 0.001877 -0.004878 9.8 0 0 -0.000645
1-2 processing imu...
it_last_IMU.time: 1664877180.738204
lastState: 1664877180.738204
currentState: 1664877180.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.758203983 0.001879 -0.007128 9.8 0 0 -0.000643
1-2 processing imu...
it_last_IMU.time: 1664877180.748204
lastState: 1664877180.748204
currentState: 1664877180.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.768203974 0.001882 -0.009333 9.8 0 0 -0.000642
1-2 processing imu...
it_last_IMU.time: 1664877180.758204
lastState: 1664877180.758204
currentState: 1664877180.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.778203964 0.00189 -0.01095 9.8 0 0 -0.00064
1-2 processing imu...
it_last_IMU.time: 1664877180.768204
lastState: 1664877180.768204
currentState: 1664877180.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.788203955 0.001899 -0.01257 9.8 0 0 -0.000638
1-2 processing imu...
it_last_IMU.time: 1664877180.778204
lastState: 1664877180.778204
currentState: 1664877180.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.798203945 0.001907 -0.01419 9.8 0 0 -0.000637
1-2 processing imu...
it_last_IMU.time: 1664877180.788204
lastState: 1664877180.788204
currentState: 1664877180.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.808203936 0.001915 -0.01581 9.8 0 0 -0.000635
1-2 processing imu...
it_last_IMU.time: 1664877180.798204
lastState: 1664877180.798204
currentState: 1664877180.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.818203926 0.001924 -0.01743 9.8 0 0 -0.000633
1-2 processing imu...
it_last_IMU.time: 1664877180.808204
lastState: 1664877180.808204
currentState: 1664877180.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.828203917 0.001932 -0.01905 9.8 0 0 -0.000632
1-2 processing imu...
it_last_IMU.time: 1664877180.818204
lastState: 1664877180.818204
currentState: 1664877180.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.838203907 0.001941 -0.02067 9.8 0 0 -0.00063
1-2 processing imu...
it_last_IMU.time: 1664877180.828204
lastState: 1664877180.828204
currentState: 1664877180.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.848203897 0.001949 -0.02229 9.8 0 0 -0.000629
1-2 processing imu...
it_last_IMU.time: 1664877180.838204
lastState: 1664877180.838204
currentState: 1664877180.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.858203888 0.001958 -0.02391 9.8 0 0 -0.000627
1-2 processing imu...
it_last_IMU.time: 1664877180.848204
lastState: 1664877180.848204
currentState: 1664877180.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.868204117 0.001966 -0.02534 9.8 0 0 -0.000626
1-2 processing imu...
it_last_IMU.time: 1664877180.858204
lastState: 1664877180.858204
currentState: 1664877180.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.878204107 0.00197 -0.02393 9.8 0 0 -0.000624
1-2 processing imu...
it_last_IMU.time: 1664877180.868204
lastState: 1664877180.868204
currentState: 1664877180.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.888204098 0.001975 -0.02253 9.8 0 0 -0.000623
1-2 processing imu...
it_last_IMU.time: 1664877180.878204
lastState: 1664877180.878204
currentState: 1664877180.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.898204088 0.001979 -0.02112 9.8 0 0 -0.000621
1-2 processing imu...
it_last_IMU.time: 1664877180.888204
lastState: 1664877180.888204
currentState: 1664877180.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.908204079 0.001983 -0.01971 9.8 0 0 -0.00062
1-2 processing imu...
it_last_IMU.time: 1664877180.898204
lastState: 1664877180.898204
currentState: 1664877180.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.918204069 0.001988 -0.0183 9.8 0 0 -0.000618
1-2 processing imu...
it_last_IMU.time: 1664877180.908204
lastState: 1664877180.908204
currentState: 1664877180.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.928204060 0.001992 -0.0169 9.8 0 0 -0.000617
1-2 processing imu...
it_last_IMU.time: 1664877180.918204
lastState: 1664877180.918204
currentState: 1664877180.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.938204050 0.001996 -0.01549 9.8 0 0 -0.000615
1-2 processing imu...
it_last_IMU.time: 1664877180.928204
lastState: 1664877180.928204
currentState: 1664877180.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.948204041 0.002001 -0.01409 9.8 0 0 -0.000614
1-2 processing imu...
it_last_IMU.time: 1664877180.938204
lastState: 1664877180.938204
currentState: 1664877180.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877180.958204031 0.002005 -0.01268 9.8 0 0 -0.000613
1-2 processing imu...
it_last_IMU.time: 1664877180.948204
lastState: 1664877180.948204
currentState: 1664877180.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.968204021 0.002008 -0.01133 9.8 0 0 -0.000611
1-2 processing imu...
it_last_IMU.time: 1664877180.958204
lastState: 1664877180.958204
currentState: 1664877180.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.978204012 0.001999 -0.01098 9.8 0 0 -0.00061
1-2 processing imu...
it_last_IMU.time: 1664877180.968204
lastState: 1664877180.968204
currentState: 1664877180.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877180.988204002 0.001989 -0.01064 9.8 0 0 -0.000609
1-2 processing imu...
it_last_IMU.time: 1664877180.978204
lastState: 1664877180.978204
currentState: 1664877180.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
[33m[ WARN] [1670675570.146339832]: Pose measurement throttling is on, dropping messagesto be below 2.500000 Hz[0m
1-1 IMUCallback(): 1664877180.998203993 0.001979 -0.01029 9.8 0 0 -0.000607
1-2 processing imu...
it_last_IMU.time: 1664877180.988204
lastState: 1664877180.988204
currentState: 1664877180.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.008203983 0.00197 -0.009947 9.8 0 0 -0.000606
1-2 processing imu...
it_last_IMU.time: 1664877180.998204
lastState: 1664877180.998204
currentState: 1664877181.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.018203974 0.00196 -0.009601 9.8 0 0 -0.000605
1-2 processing imu...
it_last_IMU.time: 1664877181.008204
lastState: 1664877181.008204
currentState: 1664877181.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.028203964 0.00195 -0.009255 9.8 0 0 -0.000604
1-2 processing imu...
it_last_IMU.time: 1664877181.018204
lastState: 1664877181.018204
currentState: 1664877181.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.038203955 0.001941 -0.008909 9.8 0 0 -0.000602
1-2 processing imu...
it_last_IMU.time: 1664877181.028204
lastState: 1664877181.028204
currentState: 1664877181.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.048203945 0.001931 -0.008564 9.8 0 0 -0.000601
1-2 processing imu...
it_last_IMU.time: 1664877181.038204
lastState: 1664877181.038204
currentState: 1664877181.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.058203936 0.001921 -0.008218 9.8 0 0 -0.0006
1-2 processing imu...
it_last_IMU.time: 1664877181.048204
lastState: 1664877181.048204
currentState: 1664877181.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.068203926 0.001911 -0.007928 9.8 0 0 -0.000599
1-2 processing imu...
it_last_IMU.time: 1664877181.058204
lastState: 1664877181.058204
currentState: 1664877181.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.078203917 0.001896 -0.008783 9.8 0 0 -0.000598
1-2 processing imu...
it_last_IMU.time: 1664877181.068204
lastState: 1664877181.068204
currentState: 1664877181.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.088203907 0.001881 -0.009638 9.8 0 0 -0.000597
1-2 processing imu...
it_last_IMU.time: 1664877181.078204
lastState: 1664877181.078204
currentState: 1664877181.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.098203897 0.001865 -0.01049 9.8 0 0 -0.000595
1-2 processing imu...
it_last_IMU.time: 1664877181.088204
lastState: 1664877181.088204
currentState: 1664877181.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.108203888 0.00185 -0.01135 9.8 0 0 -0.000594
1-2 processing imu...
it_last_IMU.time: 1664877181.098204
lastState: 1664877181.098204
currentState: 1664877181.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877181.097697973 -0.3126 0.2927 -0.009844 0.002667 0.004214 -0.377 0.9262
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877181.097698
time: 1664877181.097698
state->time: 1664877181.098204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675570.406908519]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675570.407001657]: the fixed q :[-0.67, -0.649, 0.264, 0.245][0m
[0m[ INFO] [1670675570.407059195]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675570.407109904]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.3126 0.2927 -0.009844
p_wv: 18.52 -15.22 31
p: 17.74 -14.72 30.92
q: [-0.67, -0.649, 0.264, 0.245]
l: 0.5155
residual in position: 0.08805 0.03388 0.03394
q_err :[-1, -0.00904, -0.0229, 0.0179]
residual in q: 0.0181 0.04589 -0.03588
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877181.098204 it_next->second->time: 1664877181.108204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.91 -14.65 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877181.118204117 0.001835 -0.0122 9.8 0 0 -0.000593
1-2 processing imu...
it_last_IMU.time: 1664877181.108204
lastState: 1664877181.108204
currentState: 1664877181.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.128204107 0.00182 -0.01306 9.8 0 0 -0.000592
1-2 processing imu...
it_last_IMU.time: 1664877181.118204
lastState: 1664877181.118204
currentState: 1664877181.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.138204098 0.001804 -0.01391 9.8 0 0 -0.000591
1-2 processing imu...
it_last_IMU.time: 1664877181.128204
lastState: 1664877181.128204
currentState: 1664877181.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.148204088 0.001789 -0.01477 9.8 0 0 -0.00059
1-2 processing imu...
it_last_IMU.time: 1664877181.138204
lastState: 1664877181.138204
currentState: 1664877181.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.158204079 0.001774 -0.01562 9.8 0 0 -0.000589
1-2 processing imu...
it_last_IMU.time: 1664877181.148204
lastState: 1664877181.148204
currentState: 1664877181.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.168204069 0.001759 -0.01635 9.8 0 0 -0.000588
1-2 processing imu...
it_last_IMU.time: 1664877181.158204
lastState: 1664877181.158204
currentState: 1664877181.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.178204060 0.001748 -0.01385 9.8 0 0 -0.000588
1-2 processing imu...
it_last_IMU.time: 1664877181.168204
lastState: 1664877181.168204
currentState: 1664877181.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.188204050 0.001738 -0.01134 9.8 0 0 -0.000587
1-2 processing imu...
it_last_IMU.time: 1664877181.178204
lastState: 1664877181.178204
currentState: 1664877181.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.198204041 0.001727 -0.00884 9.8 0 0 -0.000586
1-2 processing imu...
it_last_IMU.time: 1664877181.188204
lastState: 1664877181.188204
currentState: 1664877181.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.208204031 0.001717 -0.006337 9.8 0 0 -0.000585
1-2 processing imu...
it_last_IMU.time: 1664877181.198204
lastState: 1664877181.198204
currentState: 1664877181.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.218204021 0.001706 -0.003833 9.8 0 0 -0.000584
1-2 processing imu...
it_last_IMU.time: 1664877181.208204
lastState: 1664877181.208204
currentState: 1664877181.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.228204012 0.001695 -0.001329 9.8 0 0 -0.000583
1-2 processing imu...
it_last_IMU.time: 1664877181.218204
lastState: 1664877181.218204
currentState: 1664877181.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.238204002 0.001684 0.001175 9.8 0 0 -0.000583
1-2 processing imu...
it_last_IMU.time: 1664877181.228204
lastState: 1664877181.228204
currentState: 1664877181.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.248203993 0.001674 0.003678 9.8 0 0 -0.000582
1-2 processing imu...
it_last_IMU.time: 1664877181.238204
lastState: 1664877181.238204
currentState: 1664877181.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.258203983 0.001663 0.006182 9.8 0 0 -0.000581
1-2 processing imu...
it_last_IMU.time: 1664877181.248204
lastState: 1664877181.248204
currentState: 1664877181.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.268203974 0.001652 0.00869 9.8 0 0 -0.00058
1-2 processing imu...
it_last_IMU.time: 1664877181.258204
lastState: 1664877181.258204
currentState: 1664877181.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.278203964 0.001649 0.01133 9.8 0 0 -0.00058
1-2 processing imu...
it_last_IMU.time: 1664877181.268204
lastState: 1664877181.268204
currentState: 1664877181.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.288203955 0.001646 0.01398 9.8 0 0 -0.000579
1-2 processing imu...
it_last_IMU.time: 1664877181.278204
lastState: 1664877181.278204
currentState: 1664877181.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.298203945 0.001643 0.01663 9.8 0 0 -0.000578
1-2 processing imu...
it_last_IMU.time: 1664877181.288204
lastState: 1664877181.288204
currentState: 1664877181.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.308203936 0.00164 0.01927 9.8 0 0 -0.000578
1-2 processing imu...
it_last_IMU.time: 1664877181.298204
lastState: 1664877181.298204
currentState: 1664877181.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.318203926 0.001637 0.02192 9.8 0 0 -0.000577
1-2 processing imu...
it_last_IMU.time: 1664877181.308204
lastState: 1664877181.308204
currentState: 1664877181.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.328203917 0.001633 0.02456 9.8 0 0 -0.000577
1-2 processing imu...
it_last_IMU.time: 1664877181.318204
lastState: 1664877181.318204
currentState: 1664877181.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.338203907 0.00163 0.02721 9.8 0 0 -0.000576
1-2 processing imu...
it_last_IMU.time: 1664877181.328204
lastState: 1664877181.328204
currentState: 1664877181.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.348203897 0.001627 0.02985 9.8 0 0 -0.000575
1-2 processing imu...
it_last_IMU.time: 1664877181.338204
lastState: 1664877181.338204
currentState: 1664877181.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.358203888 0.001624 0.0325 9.8 0 0 -0.000575
1-2 processing imu...
it_last_IMU.time: 1664877181.348204
lastState: 1664877181.348204
currentState: 1664877181.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.368204117 0.00162 0.03511 9.8 0 0 -0.000574
1-2 processing imu...
it_last_IMU.time: 1664877181.358204
lastState: 1664877181.358204
currentState: 1664877181.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.378204107 0.001626 0.03596 9.8 0 0 -0.000574
1-2 processing imu...
it_last_IMU.time: 1664877181.368204
lastState: 1664877181.368204
currentState: 1664877181.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.388204098 0.001632 0.03681 9.8 0 0 -0.000573
1-2 processing imu...
it_last_IMU.time: 1664877181.378204
lastState: 1664877181.378204
currentState: 1664877181.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.398204088 0.001638 0.03766 9.8 0 0 -0.000573
1-2 processing imu...
it_last_IMU.time: 1664877181.388204
lastState: 1664877181.388204
currentState: 1664877181.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.408204079 0.001643 0.03851 9.8 0 0 -0.000573
1-2 processing imu...
it_last_IMU.time: 1664877181.398204
lastState: 1664877181.398204
currentState: 1664877181.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.418204069 0.001649 0.03936 9.8 0 0 -0.000572
1-2 processing imu...
it_last_IMU.time: 1664877181.408204
lastState: 1664877181.408204
currentState: 1664877181.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.428204060 0.001655 0.04021 9.8 0 0 -0.000572
1-2 processing imu...
it_last_IMU.time: 1664877181.418204
lastState: 1664877181.418204
currentState: 1664877181.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.438204050 0.00166 0.04106 9.8 0 0 -0.000571
1-2 processing imu...
it_last_IMU.time: 1664877181.428204
lastState: 1664877181.428204
currentState: 1664877181.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.448204041 0.001666 0.04191 9.8 0 0 -0.000571
1-2 processing imu...
it_last_IMU.time: 1664877181.438204
lastState: 1664877181.438204
currentState: 1664877181.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.458204031 0.001672 0.04276 9.8 0 0 -0.00057
1-2 processing imu...
it_last_IMU.time: 1664877181.448204
lastState: 1664877181.448204
currentState: 1664877181.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.468204021 0.001677 0.04358 9.8 0 0 -0.00057
1-2 processing imu...
it_last_IMU.time: 1664877181.458204
lastState: 1664877181.458204
currentState: 1664877181.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.478204012 0.001688 0.04163 9.8 0 0 -0.00057
1-2 processing imu...
it_last_IMU.time: 1664877181.468204
lastState: 1664877181.468204
currentState: 1664877181.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.488204002 0.001699 0.03968 9.8 0 0 -0.000569
1-2 processing imu...
it_last_IMU.time: 1664877181.478204
lastState: 1664877181.478204
currentState: 1664877181.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.498203993 0.00171 0.03773 9.8 0 0 -0.000569
1-2 processing imu...
it_last_IMU.time: 1664877181.488204
lastState: 1664877181.488204
currentState: 1664877181.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.508203983 0.001721 0.03578 9.8 0 0 -0.000569
1-2 processing imu...
it_last_IMU.time: 1664877181.498204
lastState: 1664877181.498204
currentState: 1664877181.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.518203974 0.001732 0.03383 9.8 0 0 -0.000568
1-2 processing imu...
it_last_IMU.time: 1664877181.508204
lastState: 1664877181.508204
currentState: 1664877181.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.528203964 0.001743 0.03188 9.8 0 0 -0.000568
1-2 processing imu...
it_last_IMU.time: 1664877181.518204
lastState: 1664877181.518204
currentState: 1664877181.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.538203955 0.001754 0.02993 9.8 0 0 -0.000567
1-2 processing imu...
it_last_IMU.time: 1664877181.528204
lastState: 1664877181.528204
currentState: 1664877181.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877181.523920059 -0.2979 0.2783 -0.01066 0.001633 0.003742 -0.3775 0.926
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877181.523920
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877181.523920
state->time: 1664877181.523920
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675571.347291814]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675571.347338205]: the fixed q :[-0.668, -0.65, 0.264, 0.246][0m
[0m[ INFO] [1670675571.347355157]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675571.347427144]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.2979 0.2783 -0.01066
p_wv: 18.52 -15.22 31
p: 17.77 -14.74 30.92
q: [-0.668, -0.65, 0.264, 0.246]
l: 0.5155
residual in position: 0.08882 0.03186 0.03201
q_err :[-1, -0.00702, -0.0207, 0.0176]
residual in q: 0.01404 0.04146 -0.0353
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877181.523920 it_next->second->time: 1664877181.528204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877181.528204 it_next->second->time: 1664877181.538204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.94 -14.68 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877181.548203945 0.001764 0.02798 9.8 0 0 -0.000567
1-2 processing imu...
it_last_IMU.time: 1664877181.538204
lastState: 1664877181.538204
currentState: 1664877181.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.558203936 0.001775 0.02603 9.8 0 0 -0.000567
1-2 processing imu...
it_last_IMU.time: 1664877181.548204
lastState: 1664877181.548204
currentState: 1664877181.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.568203926 0.001786 0.02408 9.8 0 0 -0.000566
1-2 processing imu...
it_last_IMU.time: 1664877181.558204
lastState: 1664877181.558204
currentState: 1664877181.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.578203917 0.001795 0.02312 9.8 0 0 -0.000566
1-2 processing imu...
it_last_IMU.time: 1664877181.568204
lastState: 1664877181.568204
currentState: 1664877181.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.588203907 0.001804 0.02216 9.8 0 0 -0.000566
1-2 processing imu...
it_last_IMU.time: 1664877181.578204
lastState: 1664877181.578204
currentState: 1664877181.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.598203897 0.001813 0.02119 9.8 0 0 -0.000565
1-2 processing imu...
it_last_IMU.time: 1664877181.588204
lastState: 1664877181.588204
currentState: 1664877181.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.608203888 0.001822 0.02023 9.8 0 0 -0.000565
1-2 processing imu...
it_last_IMU.time: 1664877181.598204
lastState: 1664877181.598204
currentState: 1664877181.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.618204117 0.001831 0.01927 9.8 0 0 -0.000565
1-2 processing imu...
it_last_IMU.time: 1664877181.608204
lastState: 1664877181.608204
currentState: 1664877181.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.628204107 0.00184 0.01831 9.8 0 0 -0.000564
1-2 processing imu...
it_last_IMU.time: 1664877181.618204
lastState: 1664877181.618204
currentState: 1664877181.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.638204098 0.001849 0.01734 9.8 0 0 -0.000564
1-2 processing imu...
it_last_IMU.time: 1664877181.628204
lastState: 1664877181.628204
currentState: 1664877181.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.648204088 0.001858 0.01638 9.8 0 0 -0.000564
1-2 processing imu...
it_last_IMU.time: 1664877181.638204
lastState: 1664877181.638204
currentState: 1664877181.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.658204079 0.001867 0.01542 9.8 0 0 -0.000564
1-2 processing imu...
it_last_IMU.time: 1664877181.648204
lastState: 1664877181.648204
currentState: 1664877181.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.668204069 0.001876 0.01446 9.8 0 0 -0.000563
1-2 processing imu...
it_last_IMU.time: 1664877181.658204
lastState: 1664877181.658204
currentState: 1664877181.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.678204060 0.001871 0.01326 9.8 0 0 -0.000563
1-2 processing imu...
it_last_IMU.time: 1664877181.668204
lastState: 1664877181.668204
currentState: 1664877181.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.688204050 0.001867 0.01207 9.8 0 0 -0.000563
1-2 processing imu...
it_last_IMU.time: 1664877181.678204
lastState: 1664877181.678204
currentState: 1664877181.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.698204041 0.001862 0.01087 9.8 0 0 -0.000562
1-2 processing imu...
it_last_IMU.time: 1664877181.688204
lastState: 1664877181.688204
currentState: 1664877181.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.708204031 0.001858 0.009672 9.8 0 0 -0.000562
1-2 processing imu...
it_last_IMU.time: 1664877181.698204
lastState: 1664877181.698204
currentState: 1664877181.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.718204021 0.001853 0.008475 9.8 0 0 -0.000562
1-2 processing imu...
it_last_IMU.time: 1664877181.708204
lastState: 1664877181.708204
currentState: 1664877181.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.728204012 0.001848 0.007278 9.8 0 0 -0.000562
1-2 processing imu...
it_last_IMU.time: 1664877181.718204
lastState: 1664877181.718204
currentState: 1664877181.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.738204002 0.001844 0.006081 9.8 0 0 -0.000561
1-2 processing imu...
it_last_IMU.time: 1664877181.728204
lastState: 1664877181.728204
currentState: 1664877181.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.748203993 0.001839 0.004884 9.8 0 0 -0.000561
1-2 processing imu...
it_last_IMU.time: 1664877181.738204
lastState: 1664877181.738204
currentState: 1664877181.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.758203983 0.001835 0.003687 9.8 0 0 -0.000561
1-2 processing imu...
it_last_IMU.time: 1664877181.748204
lastState: 1664877181.748204
currentState: 1664877181.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.768203974 0.00183 0.00249 9.8 0 0 -0.00056
1-2 processing imu...
it_last_IMU.time: 1664877181.758204
lastState: 1664877181.758204
currentState: 1664877181.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.778203964 0.001816 0.002391 9.8 0 0 -0.00056
1-2 processing imu...
it_last_IMU.time: 1664877181.768204
lastState: 1664877181.768204
currentState: 1664877181.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.788203955 0.001802 0.002311 9.8 0 0 -0.00056
1-2 processing imu...
it_last_IMU.time: 1664877181.778204
lastState: 1664877181.778204
currentState: 1664877181.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.798203945 0.001788 0.00223 9.8 0 0 -0.00056
1-2 processing imu...
it_last_IMU.time: 1664877181.788204
lastState: 1664877181.788204
currentState: 1664877181.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.808203936 0.001774 0.002149 9.8 0 0 -0.00056
1-2 processing imu...
it_last_IMU.time: 1664877181.798204
lastState: 1664877181.798204
currentState: 1664877181.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.818203926 0.00176 0.002069 9.8 0 0 -0.000559
1-2 processing imu...
it_last_IMU.time: 1664877181.808204
lastState: 1664877181.808204
currentState: 1664877181.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.828203917 0.001746 0.001988 9.8 0 0 -0.000559
1-2 processing imu...
it_last_IMU.time: 1664877181.818204
lastState: 1664877181.818204
currentState: 1664877181.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.838203907 0.001732 0.001907 9.8 0 0 -0.000559
1-2 processing imu...
it_last_IMU.time: 1664877181.828204
lastState: 1664877181.828204
currentState: 1664877181.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.848203897 0.001718 0.001827 9.8 0 0 -0.000559
1-2 processing imu...
it_last_IMU.time: 1664877181.838204
lastState: 1664877181.838204
currentState: 1664877181.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.858203888 0.001703 0.001746 9.8 0 0 -0.000559
1-2 processing imu...
it_last_IMU.time: 1664877181.848204
lastState: 1664877181.848204
currentState: 1664877181.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.868204117 0.001689 0.001666 9.8 0 0 -0.000559
1-2 processing imu...
it_last_IMU.time: 1664877181.858204
lastState: 1664877181.858204
currentState: 1664877181.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.878204107 0.001677 -0.001303 9.8 0 0 -0.000558
1-2 processing imu...
it_last_IMU.time: 1664877181.868204
lastState: 1664877181.868204
currentState: 1664877181.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.888204098 0.001665 -0.004346 9.8 0 0 -0.000558
1-2 processing imu...
it_last_IMU.time: 1664877181.878204
lastState: 1664877181.878204
currentState: 1664877181.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.898204088 0.001652 -0.007388 9.8 0 0 -0.000558
1-2 processing imu...
it_last_IMU.time: 1664877181.888204
lastState: 1664877181.888204
currentState: 1664877181.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.908204079 0.00164 -0.01043 9.8 0 0 -0.000558
1-2 processing imu...
it_last_IMU.time: 1664877181.898204
lastState: 1664877181.898204
currentState: 1664877181.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.918204069 0.001628 -0.01347 9.8 0 0 -0.000558
1-2 processing imu...
it_last_IMU.time: 1664877181.908204
lastState: 1664877181.908204
currentState: 1664877181.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.928204060 0.001616 -0.01651 9.8 0 0 -0.000558
1-2 processing imu...
it_last_IMU.time: 1664877181.918204
lastState: 1664877181.918204
currentState: 1664877181.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.938204050 0.001604 -0.01956 9.8 0 0 -0.000558
1-2 processing imu...
it_last_IMU.time: 1664877181.928204
lastState: 1664877181.928204
currentState: 1664877181.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.948204041 0.001592 -0.0226 9.8 0 0 -0.000558
1-2 processing imu...
it_last_IMU.time: 1664877181.938204
lastState: 1664877181.938204
currentState: 1664877181.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.958204031 0.00158 -0.02564 9.8 0 0 -0.000558
1-2 processing imu...
it_last_IMU.time: 1664877181.948204
lastState: 1664877181.948204
currentState: 1664877181.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877181.940732956 -0.2824 0.2632 -0.01057 0.00192 0.003983 -0.3771 0.9262
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877181.940733
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877181.940733
state->time: 1664877181.940733
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675572.214600258]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675572.214680667]: the fixed q :[-0.668, -0.65, 0.265, 0.248][0m
[0m[ INFO] [1670675572.214691439]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675572.214721782]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.2824 0.2632 -0.01057
p_wv: 18.52 -15.22 31
p: 17.81 -14.77 30.92
q: [-0.668, -0.65, 0.265, 0.248]
l: 0.5155
residual in position: 0.08494 0.03362 0.02978
q_err :[-1, -0.00777, -0.0204, 0.0154]
residual in q: 0.01554 0.04088 -0.03081
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877181.940733 it_next->second->time: 1664877181.948204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877181.948204 it_next->second->time: 1664877181.958204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 17.97 -14.71 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877181.968204021 0.001568 -0.02868 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877181.958204
lastState: 1664877181.958204
currentState: 1664877181.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.978204012 0.001564 -0.03207 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877181.968204
lastState: 1664877181.968204
currentState: 1664877181.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877181.988204002 0.00156 -0.03547 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877181.978204
lastState: 1664877181.978204
currentState: 1664877181.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877181.998203993 0.001556 -0.03887 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877181.988204
lastState: 1664877181.988204
currentState: 1664877181.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.008203983 0.001552 -0.04227 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877181.998204
lastState: 1664877181.998204
currentState: 1664877182.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.018203974 0.001549 -0.04567 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877182.008204
lastState: 1664877182.008204
currentState: 1664877182.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.028203964 0.001545 -0.04907 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877182.018204
lastState: 1664877182.018204
currentState: 1664877182.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.038203955 0.001541 -0.05247 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877182.028204
lastState: 1664877182.028204
currentState: 1664877182.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.048203945 0.001538 -0.05587 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877182.038204
lastState: 1664877182.038204
currentState: 1664877182.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.058203936 0.001534 -0.05927 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877182.048204
lastState: 1664877182.048204
currentState: 1664877182.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.068203926 0.001531 -0.06267 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877182.058204
lastState: 1664877182.058204
currentState: 1664877182.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.078203917 0.001536 -0.06239 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877182.068204
lastState: 1664877182.068204
currentState: 1664877182.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.088203907 0.001542 -0.06195 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877182.078204
lastState: 1664877182.078204
currentState: 1664877182.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.098203897 0.001548 -0.06152 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877182.088204
lastState: 1664877182.088204
currentState: 1664877182.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.108203888 0.001554 -0.06108 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877182.098204
lastState: 1664877182.098204
currentState: 1664877182.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.118204117 0.00156 -0.06064 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877182.108204
lastState: 1664877182.108204
currentState: 1664877182.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.128204107 0.001566 -0.0602 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877182.118204
lastState: 1664877182.118204
currentState: 1664877182.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.138204098 0.001572 -0.05976 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877182.128204
lastState: 1664877182.128204
currentState: 1664877182.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.148204088 0.001577 -0.05932 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877182.138204
lastState: 1664877182.138204
currentState: 1664877182.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.158204079 0.001583 -0.05888 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877182.148204
lastState: 1664877182.148204
currentState: 1664877182.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.168204069 0.001589 -0.05845 9.8 0 0 -0.000557
1-2 processing imu...
it_last_IMU.time: 1664877182.158204
lastState: 1664877182.158204
currentState: 1664877182.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.178204060 0.001602 -0.05759 9.8 0 0 -0.000558
1-2 processing imu...
it_last_IMU.time: 1664877182.168204
lastState: 1664877182.168204
currentState: 1664877182.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.188204050 0.001615 -0.05671 9.8 0 0 -0.000558
1-2 processing imu...
it_last_IMU.time: 1664877182.178204
lastState: 1664877182.178204
currentState: 1664877182.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.198204041 0.001628 -0.05583 9.8 0 0 -0.000558
1-2 processing imu...
it_last_IMU.time: 1664877182.188204
lastState: 1664877182.188204
currentState: 1664877182.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.208204031 0.001641 -0.05495 9.8 0 0 -0.000558
1-2 processing imu...
it_last_IMU.time: 1664877182.198204
lastState: 1664877182.198204
currentState: 1664877182.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.218204021 0.001654 -0.05407 9.8 0 0 -0.000558
1-2 processing imu...
it_last_IMU.time: 1664877182.208204
lastState: 1664877182.208204
currentState: 1664877182.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.228204012 0.001667 -0.05319 9.8 0 0 -0.000558
1-2 processing imu...
it_last_IMU.time: 1664877182.218204
lastState: 1664877182.218204
currentState: 1664877182.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.238204002 0.00168 -0.05232 9.8 0 0 -0.000559
1-2 processing imu...
it_last_IMU.time: 1664877182.228204
lastState: 1664877182.228204
currentState: 1664877182.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.248203993 0.001693 -0.05144 9.8 0 0 -0.000559
1-2 processing imu...
it_last_IMU.time: 1664877182.238204
lastState: 1664877182.238204
currentState: 1664877182.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.258203983 0.001706 -0.05056 9.8 0 0 -0.000559
1-2 processing imu...
it_last_IMU.time: 1664877182.248204
lastState: 1664877182.248204
currentState: 1664877182.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.268203974 0.001719 -0.04968 9.8 0 0 -0.000559
1-2 processing imu...
it_last_IMU.time: 1664877182.258204
lastState: 1664877182.258204
currentState: 1664877182.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.278203964 0.001734 -0.0484 9.8 0 0 -0.00056
1-2 processing imu...
it_last_IMU.time: 1664877182.268204
lastState: 1664877182.268204
currentState: 1664877182.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.288203955 0.00175 -0.04709 9.8 0 0 -0.00056
1-2 processing imu...
it_last_IMU.time: 1664877182.278204
lastState: 1664877182.278204
currentState: 1664877182.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.298203945 0.001766 -0.04578 9.8 0 0 -0.00056
1-2 processing imu...
it_last_IMU.time: 1664877182.288204
lastState: 1664877182.288204
currentState: 1664877182.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.308203936 0.001781 -0.04448 9.8 0 0 -0.000561
1-2 processing imu...
it_last_IMU.time: 1664877182.298204
lastState: 1664877182.298204
currentState: 1664877182.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.318203926 0.001797 -0.04317 9.8 0 0 -0.000561
1-2 processing imu...
it_last_IMU.time: 1664877182.308204
lastState: 1664877182.308204
currentState: 1664877182.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.328203917 0.001812 -0.04186 9.8 0 0 -0.000561
1-2 processing imu...
it_last_IMU.time: 1664877182.318204
lastState: 1664877182.318204
currentState: 1664877182.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.338203907 0.001828 -0.04056 9.8 0 0 -0.000562
1-2 processing imu...
it_last_IMU.time: 1664877182.328204
lastState: 1664877182.328204
currentState: 1664877182.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.348203897 0.001843 -0.03925 9.8 0 0 -0.000562
1-2 processing imu...
it_last_IMU.time: 1664877182.338204
lastState: 1664877182.338204
currentState: 1664877182.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.358203888 0.001858 -0.03794 9.8 0 0 -0.000563
1-2 processing imu...
it_last_IMU.time: 1664877182.348204
lastState: 1664877182.348204
currentState: 1664877182.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.368204117 0.001874 -0.03664 9.8 0 0 -0.000563
1-2 processing imu...
it_last_IMU.time: 1664877182.358204
lastState: 1664877182.358204
currentState: 1664877182.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877182.348337889 -0.2682 0.2489 -0.0117 0.001788 0.002446 -0.3765 0.9264
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877182.348338
time: 1664877182.348338
state->time: 1664877182.348204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675573.119059682]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675573.119107926]: the fixed q :[-0.667, -0.65, 0.265, 0.249][0m
[0m[ INFO] [1670675573.119120660]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675573.119136493]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.2682 0.2489 -0.0117
p_wv: 18.52 -15.22 31
p: 17.85 -14.8 30.92
q: [-0.667, -0.65, 0.265, 0.249]
l: 0.5155
residual in position: 0.07589 0.03114 0.02908
q_err :[-1, -0.00781, -0.0173, 0.0139]
residual in q: 0.01562 0.03458 -0.0279
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877182.348204 it_next->second->time: 1664877182.358204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877182.358204 it_next->second->time: 1664877182.368204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18 -14.74 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877182.378204107 0.001881 -0.03255 9.8 0 0 -0.000563
1-2 processing imu...
it_last_IMU.time: 1664877182.368204
lastState: 1664877182.368204
currentState: 1664877182.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.388204098 0.001887 -0.02825 9.8 0 0 -0.000564
1-2 processing imu...
it_last_IMU.time: 1664877182.378204
lastState: 1664877182.378204
currentState: 1664877182.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.398204088 0.001893 -0.02395 9.8 0 0 -0.000564
1-2 processing imu...
it_last_IMU.time: 1664877182.388204
lastState: 1664877182.388204
currentState: 1664877182.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.408204079 0.001899 -0.01966 9.8 0 0 -0.000565
1-2 processing imu...
it_last_IMU.time: 1664877182.398204
lastState: 1664877182.398204
currentState: 1664877182.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.418204069 0.001905 -0.01536 9.8 0 0 -0.000565
1-2 processing imu...
it_last_IMU.time: 1664877182.408204
lastState: 1664877182.408204
currentState: 1664877182.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.428204060 0.001911 -0.01106 9.8 0 0 -0.000566
1-2 processing imu...
it_last_IMU.time: 1664877182.418204
lastState: 1664877182.418204
currentState: 1664877182.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.438204050 0.001917 -0.006767 9.8 0 0 -0.000567
1-2 processing imu...
it_last_IMU.time: 1664877182.428204
lastState: 1664877182.428204
currentState: 1664877182.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.448204041 0.001922 -0.00247 9.8 0 0 -0.000567
1-2 processing imu...
it_last_IMU.time: 1664877182.438204
lastState: 1664877182.438204
currentState: 1664877182.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.458204031 0.001928 0.001827 9.8 0 0 -0.000568
1-2 processing imu...
it_last_IMU.time: 1664877182.448204
lastState: 1664877182.448204
currentState: 1664877182.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.468204021 0.001934 0.006124 9.8 0 0 -0.000568
1-2 processing imu...
it_last_IMU.time: 1664877182.458204
lastState: 1664877182.458204
currentState: 1664877182.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.478204012 0.001927 0.01221 9.8 0 0 -0.000569
1-2 processing imu...
it_last_IMU.time: 1664877182.468204
lastState: 1664877182.468204
currentState: 1664877182.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.488204002 0.001919 0.01845 9.8 0 0 -0.00057
1-2 processing imu...
it_last_IMU.time: 1664877182.478204
lastState: 1664877182.478204
currentState: 1664877182.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.498203993 0.00191 0.02469 9.8 0 0 -0.00057
1-2 processing imu...
it_last_IMU.time: 1664877182.488204
lastState: 1664877182.488204
currentState: 1664877182.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.508203983 0.001902 0.03093 9.8 0 0 -0.000571
1-2 processing imu...
it_last_IMU.time: 1664877182.498204
lastState: 1664877182.498204
currentState: 1664877182.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.518203974 0.001893 0.03716 9.8 0 0 -0.000572
1-2 processing imu...
it_last_IMU.time: 1664877182.508204
lastState: 1664877182.508204
currentState: 1664877182.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.528203964 0.001885 0.0434 9.8 0 0 -0.000572
1-2 processing imu...
it_last_IMU.time: 1664877182.518204
lastState: 1664877182.518204
currentState: 1664877182.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.538203955 0.001876 0.04964 9.8 0 0 -0.000573
1-2 processing imu...
it_last_IMU.time: 1664877182.528204
lastState: 1664877182.528204
currentState: 1664877182.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.548203945 0.001868 0.05588 9.8 0 0 -0.000574
1-2 processing imu...
it_last_IMU.time: 1664877182.538204
lastState: 1664877182.538204
currentState: 1664877182.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.558203936 0.001859 0.06212 9.8 0 0 -0.000575
1-2 processing imu...
it_last_IMU.time: 1664877182.548204
lastState: 1664877182.548204
currentState: 1664877182.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.568203926 0.00185 0.06836 9.8 0 0 -0.000575
1-2 processing imu...
it_last_IMU.time: 1664877182.558204
lastState: 1664877182.558204
currentState: 1664877182.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.578203917 0.001837 0.07115 9.8 0 0 -0.000576
1-2 processing imu...
it_last_IMU.time: 1664877182.568204
lastState: 1664877182.568204
currentState: 1664877182.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.588203907 0.001824 0.07362 9.8 0 0 -0.000577
1-2 processing imu...
it_last_IMU.time: 1664877182.578204
lastState: 1664877182.578204
currentState: 1664877182.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.598203897 0.001811 0.0761 9.8 0 0 -0.000578
1-2 processing imu...
it_last_IMU.time: 1664877182.588204
lastState: 1664877182.588204
currentState: 1664877182.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.608203888 0.001798 0.07857 9.8 0 0 -0.000579
1-2 processing imu...
it_last_IMU.time: 1664877182.598204
lastState: 1664877182.598204
currentState: 1664877182.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.618204117 0.001785 0.08104 9.8 0 0 -0.000579
1-2 processing imu...
it_last_IMU.time: 1664877182.608204
lastState: 1664877182.608204
currentState: 1664877182.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.628204107 0.001772 0.08351 9.8 0 0 -0.00058
1-2 processing imu...
it_last_IMU.time: 1664877182.618204
lastState: 1664877182.618204
currentState: 1664877182.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.638204098 0.001759 0.08598 9.8 0 0 -0.000581
1-2 processing imu...
it_last_IMU.time: 1664877182.628204
lastState: 1664877182.628204
currentState: 1664877182.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.648204088 0.001746 0.08845 9.8 0 0 -0.000582
1-2 processing imu...
it_last_IMU.time: 1664877182.638204
lastState: 1664877182.638204
currentState: 1664877182.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.658204079 0.001733 0.09092 9.8 0 0 -0.000583
1-2 processing imu...
it_last_IMU.time: 1664877182.648204
lastState: 1664877182.648204
currentState: 1664877182.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.668204069 0.00172 0.09339 9.8 0 0 -0.000584
1-2 processing imu...
it_last_IMU.time: 1664877182.658204
lastState: 1664877182.658204
currentState: 1664877182.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.678204060 0.001711 0.0918 9.8 0 0 -0.000585
1-2 processing imu...
it_last_IMU.time: 1664877182.668204
lastState: 1664877182.668204
currentState: 1664877182.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.688204050 0.001703 0.08978 9.8 0 0 -0.000586
1-2 processing imu...
it_last_IMU.time: 1664877182.678204
lastState: 1664877182.678204
currentState: 1664877182.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.698204041 0.001695 0.08777 9.8 0 0 -0.000587
1-2 processing imu...
it_last_IMU.time: 1664877182.688204
lastState: 1664877182.688204
currentState: 1664877182.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.708204031 0.001687 0.08575 9.8 0 0 -0.000588
1-2 processing imu...
it_last_IMU.time: 1664877182.698204
lastState: 1664877182.698204
currentState: 1664877182.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.718204021 0.001679 0.08373 9.8 0 0 -0.000589
1-2 processing imu...
it_last_IMU.time: 1664877182.708204
lastState: 1664877182.708204
currentState: 1664877182.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.728204012 0.001671 0.08171 9.8 0 0 -0.000589
1-2 processing imu...
it_last_IMU.time: 1664877182.718204
lastState: 1664877182.718204
currentState: 1664877182.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.738204002 0.001663 0.0797 9.8 0 0 -0.00059
1-2 processing imu...
it_last_IMU.time: 1664877182.728204
lastState: 1664877182.728204
currentState: 1664877182.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.748203993 0.001655 0.07768 9.8 0 0 -0.000591
1-2 processing imu...
it_last_IMU.time: 1664877182.738204
lastState: 1664877182.738204
currentState: 1664877182.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.758203983 0.001647 0.07566 9.8 0 0 -0.000592
1-2 processing imu...
it_last_IMU.time: 1664877182.748204
lastState: 1664877182.748204
currentState: 1664877182.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.768203974 0.001639 0.07365 9.8 0 0 -0.000593
1-2 processing imu...
it_last_IMU.time: 1664877182.758204
lastState: 1664877182.758204
currentState: 1664877182.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.778203964 0.00164 0.07142 9.8 0 0 -0.000594
1-2 processing imu...
it_last_IMU.time: 1664877182.768204
lastState: 1664877182.768204
currentState: 1664877182.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.788203955 0.001642 0.06918 9.8 0 0 -0.000595
1-2 processing imu...
it_last_IMU.time: 1664877182.778204
lastState: 1664877182.778204
currentState: 1664877182.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877182.773211002 -0.2533 0.2335 -0.01164 0.001512 0.002951 -0.3759 0.9267
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877182.773211
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877182.773211
state->time: 1664877182.773211
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675574.000512078]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675574.000546140]: the fixed q :[-0.667, -0.65, 0.265, 0.248][0m
[0m[ INFO] [1670675574.000555991]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675574.000596650]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.2533 0.2335 -0.01164
p_wv: 18.52 -15.22 31
p: 17.88 -14.83 30.92
q: [-0.667, -0.65, 0.265, 0.248]
l: 0.5155
residual in position: 0.07769 0.03386 0.03092
q_err :[-1, -0.00716, -0.019, 0.0137]
residual in q: 0.01433 0.0381 -0.02743
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877182.773211 it_next->second->time: 1664877182.778204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877182.778204 it_next->second->time: 1664877182.788204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.03 -14.77 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877182.798203945 0.001644 0.06693 9.8 0 0 -0.000596
1-2 processing imu...
it_last_IMU.time: 1664877182.788204
lastState: 1664877182.788204
currentState: 1664877182.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.808203936 0.001646 0.06468 9.8 0 0 -0.000597
1-2 processing imu...
it_last_IMU.time: 1664877182.798204
lastState: 1664877182.798204
currentState: 1664877182.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.818203926 0.001648 0.06244 9.8 0 0 -0.000598
1-2 processing imu...
it_last_IMU.time: 1664877182.808204
lastState: 1664877182.808204
currentState: 1664877182.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.828203917 0.001651 0.06019 9.8 0 0 -0.000599
1-2 processing imu...
it_last_IMU.time: 1664877182.818204
lastState: 1664877182.818204
currentState: 1664877182.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.838203907 0.001653 0.05794 9.8 0 0 -0.0006
1-2 processing imu...
it_last_IMU.time: 1664877182.828204
lastState: 1664877182.828204
currentState: 1664877182.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.848203897 0.001655 0.0557 9.8 0 0 -0.000601
1-2 processing imu...
it_last_IMU.time: 1664877182.838204
lastState: 1664877182.838204
currentState: 1664877182.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.858203888 0.001658 0.05345 9.8 0 0 -0.000603
1-2 processing imu...
it_last_IMU.time: 1664877182.848204
lastState: 1664877182.848204
currentState: 1664877182.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.868204117 0.00166 0.0512 9.8 0 0 -0.000604
1-2 processing imu...
it_last_IMU.time: 1664877182.858204
lastState: 1664877182.858204
currentState: 1664877182.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.878204107 0.001671 0.04878 9.8 0 0 -0.000605
1-2 processing imu...
it_last_IMU.time: 1664877182.868204
lastState: 1664877182.868204
currentState: 1664877182.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.888204098 0.001684 0.04634 9.8 0 0 -0.000606
1-2 processing imu...
it_last_IMU.time: 1664877182.878204
lastState: 1664877182.878204
currentState: 1664877182.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.898204088 0.001697 0.0439 9.8 0 0 -0.000607
1-2 processing imu...
it_last_IMU.time: 1664877182.888204
lastState: 1664877182.888204
currentState: 1664877182.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.908204079 0.001709 0.04145 9.8 0 0 -0.000608
1-2 processing imu...
it_last_IMU.time: 1664877182.898204
lastState: 1664877182.898204
currentState: 1664877182.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.918204069 0.001722 0.03901 9.8 0 0 -0.000609
1-2 processing imu...
it_last_IMU.time: 1664877182.908204
lastState: 1664877182.908204
currentState: 1664877182.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.928204060 0.001735 0.03657 9.8 0 0 -0.00061
1-2 processing imu...
it_last_IMU.time: 1664877182.918204
lastState: 1664877182.918204
currentState: 1664877182.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.938204050 0.001747 0.03413 9.8 0 0 -0.000611
1-2 processing imu...
it_last_IMU.time: 1664877182.928204
lastState: 1664877182.928204
currentState: 1664877182.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.948204041 0.00176 0.03168 9.8 0 0 -0.000613
1-2 processing imu...
it_last_IMU.time: 1664877182.938204
lastState: 1664877182.938204
currentState: 1664877182.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.958204031 0.001773 0.02924 9.8 0 0 -0.000614
1-2 processing imu...
it_last_IMU.time: 1664877182.948204
lastState: 1664877182.948204
currentState: 1664877182.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.968204021 0.001786 0.0268 9.8 0 0 -0.000615
1-2 processing imu...
it_last_IMU.time: 1664877182.958204
lastState: 1664877182.958204
currentState: 1664877182.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.978204012 0.001804 0.02554 9.8 0 0 -0.000616
1-2 processing imu...
it_last_IMU.time: 1664877182.968204
lastState: 1664877182.968204
currentState: 1664877182.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877182.988204002 0.001824 0.02445 9.8 0 0 -0.000617
1-2 processing imu...
it_last_IMU.time: 1664877182.978204
lastState: 1664877182.978204
currentState: 1664877182.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877182.998203993 0.001843 0.02335 9.8 0 0 -0.000619
1-2 processing imu...
it_last_IMU.time: 1664877182.988204
lastState: 1664877182.988204
currentState: 1664877182.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.008203983 0.001863 0.02226 9.8 0 0 -0.00062
1-2 processing imu...
it_last_IMU.time: 1664877182.998204
lastState: 1664877182.998204
currentState: 1664877183.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.018203974 0.001882 0.02117 9.8 0 0 -0.000621
1-2 processing imu...
it_last_IMU.time: 1664877183.008204
lastState: 1664877183.008204
currentState: 1664877183.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.028203964 0.001902 0.02007 9.8 0 0 -0.000623
1-2 processing imu...
it_last_IMU.time: 1664877183.018204
lastState: 1664877183.018204
currentState: 1664877183.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.038203955 0.001921 0.01898 9.8 0 0 -0.000624
1-2 processing imu...
it_last_IMU.time: 1664877183.028204
lastState: 1664877183.028204
currentState: 1664877183.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.048203945 0.001941 0.01789 9.8 0 0 -0.000625
1-2 processing imu...
it_last_IMU.time: 1664877183.038204
lastState: 1664877183.038204
currentState: 1664877183.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.058203936 0.001961 0.0168 9.8 0 0 -0.000626
1-2 processing imu...
it_last_IMU.time: 1664877183.048204
lastState: 1664877183.048204
currentState: 1664877183.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.068203926 0.00198 0.0157 9.8 0 0 -0.000628
1-2 processing imu...
it_last_IMU.time: 1664877183.058204
lastState: 1664877183.058204
currentState: 1664877183.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.078203917 0.002 0.01321 9.8 0 0 -0.000629
1-2 processing imu...
it_last_IMU.time: 1664877183.068204
lastState: 1664877183.068204
currentState: 1664877183.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.088203907 0.002019 0.0105 9.8 0 0 -0.000631
1-2 processing imu...
it_last_IMU.time: 1664877183.078204
lastState: 1664877183.078204
currentState: 1664877183.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.098203897 0.002038 0.007795 9.8 0 0 -0.000632
1-2 processing imu...
it_last_IMU.time: 1664877183.088204
lastState: 1664877183.088204
currentState: 1664877183.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.108203888 0.002057 0.005089 9.8 0 0 -0.000633
1-2 processing imu...
it_last_IMU.time: 1664877183.098204
lastState: 1664877183.098204
currentState: 1664877183.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.118204117 0.002077 0.002382 9.8 0 0 -0.000635
1-2 processing imu...
it_last_IMU.time: 1664877183.108204
lastState: 1664877183.108204
currentState: 1664877183.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.128204107 0.002096 -0.000324 9.8 0 0 -0.000636
1-2 processing imu...
it_last_IMU.time: 1664877183.118204
lastState: 1664877183.118204
currentState: 1664877183.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.138204098 0.002116 -0.003031 9.8 0 0 -0.000637
1-2 processing imu...
it_last_IMU.time: 1664877183.128204
lastState: 1664877183.128204
currentState: 1664877183.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.148204088 0.002135 -0.005737 9.8 0 0 -0.000639
1-2 processing imu...
it_last_IMU.time: 1664877183.138204
lastState: 1664877183.138204
currentState: 1664877183.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.158204079 0.002155 -0.008444 9.8 0 0 -0.00064
1-2 processing imu...
it_last_IMU.time: 1664877183.148204
lastState: 1664877183.148204
currentState: 1664877183.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.168204069 0.002174 -0.01115 9.8 0 0 -0.000642
1-2 processing imu...
it_last_IMU.time: 1664877183.158204
lastState: 1664877183.158204
currentState: 1664877183.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.178204060 0.00218 -0.01321 9.8 0 0 -0.000643
1-2 processing imu...
it_last_IMU.time: 1664877183.168204
lastState: 1664877183.168204
currentState: 1664877183.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.188204050 0.002183 -0.01517 9.8 0 0 -0.000645
1-2 processing imu...
it_last_IMU.time: 1664877183.178204
lastState: 1664877183.178204
currentState: 1664877183.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.198204041 0.002186 -0.01713 9.8 0 0 -0.000646
1-2 processing imu...
it_last_IMU.time: 1664877183.188204
lastState: 1664877183.188204
currentState: 1664877183.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877183.181648970 -0.2387 0.2184 -0.01191 0.001654 0.002845 -0.3747 0.9271
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877183.181649
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877183.181649
state->time: 1664877183.181649
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675574.885727735]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675574.885776458]: the fixed q :[-0.667, -0.65, 0.264, 0.25][0m
[0m[ INFO] [1670675574.885803602]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675574.885836357]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.2387 0.2184 -0.01191
p_wv: 18.52 -15.22 31
p: 17.91 -14.86 30.94
q: [-0.667, -0.65, 0.264, 0.25]
l: 0.5155
residual in position: 0.07444 0.0305 0.02046
q_err :[-1, -0.0074, -0.0171, 0.0118]
residual in q: 0.0148 0.0342 -0.02361
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877183.181649 it_next->second->time: 1664877183.188204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877183.188204 it_next->second->time: 1664877183.198204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.05 -14.8 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877183.208204031 0.002189 -0.01909 9.8 0 0 -0.000647
1-2 processing imu...
it_last_IMU.time: 1664877183.198204
lastState: 1664877183.198204
currentState: 1664877183.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.218204021 0.002192 -0.02105 9.8 0 0 -0.000649
1-2 processing imu...
it_last_IMU.time: 1664877183.208204
lastState: 1664877183.208204
currentState: 1664877183.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.228204012 0.002195 -0.02301 9.8 0 0 -0.00065
1-2 processing imu...
it_last_IMU.time: 1664877183.218204
lastState: 1664877183.218204
currentState: 1664877183.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.238204002 0.002198 -0.02497 9.8 0 0 -0.000652
1-2 processing imu...
it_last_IMU.time: 1664877183.228204
lastState: 1664877183.228204
currentState: 1664877183.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.248203993 0.002201 -0.02693 9.8 0 0 -0.000653
1-2 processing imu...
it_last_IMU.time: 1664877183.238204
lastState: 1664877183.238204
currentState: 1664877183.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.258203983 0.002205 -0.02889 9.8 0 0 -0.000654
1-2 processing imu...
it_last_IMU.time: 1664877183.248204
lastState: 1664877183.248204
currentState: 1664877183.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.268203974 0.002208 -0.03085 9.8 0 0 -0.000656
1-2 processing imu...
it_last_IMU.time: 1664877183.258204
lastState: 1664877183.258204
currentState: 1664877183.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.278203964 0.002199 -0.03059 9.8 0 0 -0.000657
1-2 processing imu...
it_last_IMU.time: 1664877183.268204
lastState: 1664877183.268204
currentState: 1664877183.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.288203955 0.002189 -0.02994 9.8 0 0 -0.000658
1-2 processing imu...
it_last_IMU.time: 1664877183.278204
lastState: 1664877183.278204
currentState: 1664877183.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.298203945 0.002178 -0.02929 9.8 0 0 -0.000659
1-2 processing imu...
it_last_IMU.time: 1664877183.288204
lastState: 1664877183.288204
currentState: 1664877183.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.308203936 0.002168 -0.02864 9.8 0 0 -0.000661
1-2 processing imu...
it_last_IMU.time: 1664877183.298204
lastState: 1664877183.298204
currentState: 1664877183.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.318203926 0.002157 -0.02799 9.8 0 0 -0.000662
1-2 processing imu...
it_last_IMU.time: 1664877183.308204
lastState: 1664877183.308204
currentState: 1664877183.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.328203917 0.002146 -0.02735 9.8 0 0 -0.000663
1-2 processing imu...
it_last_IMU.time: 1664877183.318204
lastState: 1664877183.318204
currentState: 1664877183.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.338203907 0.002136 -0.0267 9.8 0 0 -0.000664
1-2 processing imu...
it_last_IMU.time: 1664877183.328204
lastState: 1664877183.328204
currentState: 1664877183.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.348203897 0.002125 -0.02605 9.8 0 0 -0.000666
1-2 processing imu...
it_last_IMU.time: 1664877183.338204
lastState: 1664877183.338204
currentState: 1664877183.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.358203888 0.002115 -0.0254 9.8 0 0 -0.000667
1-2 processing imu...
it_last_IMU.time: 1664877183.348204
lastState: 1664877183.348204
currentState: 1664877183.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.368204117 0.002104 -0.02475 9.8 0 0 -0.000668
1-2 processing imu...
it_last_IMU.time: 1664877183.358204
lastState: 1664877183.358204
currentState: 1664877183.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.378204107 0.002093 -0.02482 9.8 0 0 -0.000669
1-2 processing imu...
it_last_IMU.time: 1664877183.368204
lastState: 1664877183.368204
currentState: 1664877183.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.388204098 0.002082 -0.02503 9.8 0 0 -0.00067
1-2 processing imu...
it_last_IMU.time: 1664877183.378204
lastState: 1664877183.378204
currentState: 1664877183.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.398204088 0.002071 -0.02524 9.8 0 0 -0.000671
1-2 processing imu...
it_last_IMU.time: 1664877183.388204
lastState: 1664877183.388204
currentState: 1664877183.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.408204079 0.002059 -0.02544 9.8 0 0 -0.000672
1-2 processing imu...
it_last_IMU.time: 1664877183.398204
lastState: 1664877183.398204
currentState: 1664877183.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.418204069 0.002048 -0.02565 9.8 0 0 -0.000673
1-2 processing imu...
it_last_IMU.time: 1664877183.408204
lastState: 1664877183.408204
currentState: 1664877183.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.428204060 0.002037 -0.02585 9.8 0 0 -0.000674
1-2 processing imu...
it_last_IMU.time: 1664877183.418204
lastState: 1664877183.418204
currentState: 1664877183.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.438204050 0.002026 -0.02606 9.8 0 0 -0.000675
1-2 processing imu...
it_last_IMU.time: 1664877183.428204
lastState: 1664877183.428204
currentState: 1664877183.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.448204041 0.002015 -0.02626 9.8 0 0 -0.000676
1-2 processing imu...
it_last_IMU.time: 1664877183.438204
lastState: 1664877183.438204
currentState: 1664877183.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.458204031 0.002004 -0.02647 9.8 0 0 -0.000677
1-2 processing imu...
it_last_IMU.time: 1664877183.448204
lastState: 1664877183.448204
currentState: 1664877183.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.468204021 0.001993 -0.02667 9.8 0 0 -0.000678
1-2 processing imu...
it_last_IMU.time: 1664877183.458204
lastState: 1664877183.458204
currentState: 1664877183.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.478204012 0.001987 -0.02566 9.8 0 0 -0.000678
1-2 processing imu...
it_last_IMU.time: 1664877183.468204
lastState: 1664877183.468204
currentState: 1664877183.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.488204002 0.001983 -0.0244 9.8 0 0 -0.000679
1-2 processing imu...
it_last_IMU.time: 1664877183.478204
lastState: 1664877183.478204
currentState: 1664877183.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.498203993 0.001979 -0.02314 9.8 0 0 -0.00068
1-2 processing imu...
it_last_IMU.time: 1664877183.488204
lastState: 1664877183.488204
currentState: 1664877183.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.508203983 0.001974 -0.02188 9.8 0 0 -0.000681
1-2 processing imu...
it_last_IMU.time: 1664877183.498204
lastState: 1664877183.498204
currentState: 1664877183.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.518203974 0.00197 -0.02062 9.8 0 0 -0.000681
1-2 processing imu...
it_last_IMU.time: 1664877183.508204
lastState: 1664877183.508204
currentState: 1664877183.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.528203964 0.001966 -0.01936 9.8 0 0 -0.000682
1-2 processing imu...
it_last_IMU.time: 1664877183.518204
lastState: 1664877183.518204
currentState: 1664877183.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.538203955 0.001961 -0.0181 9.8 0 0 -0.000683
1-2 processing imu...
it_last_IMU.time: 1664877183.528204
lastState: 1664877183.528204
currentState: 1664877183.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.548203945 0.001957 -0.01684 9.8 0 0 -0.000683
1-2 processing imu...
it_last_IMU.time: 1664877183.538204
lastState: 1664877183.538204
currentState: 1664877183.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.558203936 0.001952 -0.01558 9.8 0 0 -0.000684
1-2 processing imu...
it_last_IMU.time: 1664877183.548204
lastState: 1664877183.548204
currentState: 1664877183.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.568203926 0.001948 -0.01432 9.8 0 0 -0.000684
1-2 processing imu...
it_last_IMU.time: 1664877183.558204
lastState: 1664877183.558204
currentState: 1664877183.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.578203917 0.001952 -0.01328 9.8 0 0 -0.000685
1-2 processing imu...
it_last_IMU.time: 1664877183.568204
lastState: 1664877183.568204
currentState: 1664877183.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.588203907 0.001957 -0.01228 9.8 0 0 -0.000685
1-2 processing imu...
it_last_IMU.time: 1664877183.578204
lastState: 1664877183.578204
currentState: 1664877183.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.598203897 0.001963 -0.01128 9.8 0 0 -0.000686
1-2 processing imu...
it_last_IMU.time: 1664877183.588204
lastState: 1664877183.588204
currentState: 1664877183.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.608203888 0.001968 -0.01028 9.8 0 0 -0.000686
1-2 processing imu...
it_last_IMU.time: 1664877183.598204
lastState: 1664877183.598204
currentState: 1664877183.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.618204117 0.001974 -0.00928 9.8 0 0 -0.000686
1-2 processing imu...
it_last_IMU.time: 1664877183.608204
lastState: 1664877183.608204
currentState: 1664877183.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877183.598593950 -0.2232 0.2041 -0.01225 0.0005201 0.002697 -0.3756 0.9268
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877183.598594
time: 1664877183.598594
state->time: 1664877183.598204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675575.822741529]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675575.822797403]: the fixed q :[-0.667, -0.651, 0.264, 0.25][0m
[0m[ INFO] [1670675575.822833676]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675575.822851789]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.2232 0.2041 -0.01225
p_wv: 18.52 -15.22 31
p: 17.95 -14.89 30.92
q: [-0.667, -0.651, 0.264, 0.25]
l: 0.5155
residual in position: 0.07138 0.03318 0.02717
q_err :[-1, -0.00627, -0.0161, 0.0135]
residual in q: 0.01254 0.03224 -0.02705
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877183.598204 it_next->second->time: 1664877183.608204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877183.608204 it_next->second->time: 1664877183.618204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.08 -14.83 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877183.628204107 0.001979 -0.00828 9.8 0 0 -0.000687
1-2 processing imu...
it_last_IMU.time: 1664877183.618204
lastState: 1664877183.618204
currentState: 1664877183.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.638204098 0.001985 -0.007281 9.8 0 0 -0.000687
1-2 processing imu...
it_last_IMU.time: 1664877183.628204
lastState: 1664877183.628204
currentState: 1664877183.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.648204088 0.00199 -0.006282 9.8 0 0 -0.000687
1-2 processing imu...
it_last_IMU.time: 1664877183.638204
lastState: 1664877183.638204
currentState: 1664877183.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.658204079 0.001995 -0.005283 9.8 0 0 -0.000687
1-2 processing imu...
it_last_IMU.time: 1664877183.648204
lastState: 1664877183.648204
currentState: 1664877183.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.668204069 0.002001 -0.004284 9.8 0 0 -0.000687
1-2 processing imu...
it_last_IMU.time: 1664877183.658204
lastState: 1664877183.658204
currentState: 1664877183.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.678204060 0.002013 -0.0026 9.8 0 0 -0.000688
1-2 processing imu...
it_last_IMU.time: 1664877183.668204
lastState: 1664877183.668204
currentState: 1664877183.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.688204050 0.002027 -0.00076 9.8 0 0 -0.000688
1-2 processing imu...
it_last_IMU.time: 1664877183.678204
lastState: 1664877183.678204
currentState: 1664877183.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.698204041 0.002041 0.001079 9.8 0 0 -0.000688
1-2 processing imu...
it_last_IMU.time: 1664877183.688204
lastState: 1664877183.688204
currentState: 1664877183.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.708204031 0.002054 0.002918 9.8 0 0 -0.000688
1-2 processing imu...
it_last_IMU.time: 1664877183.698204
lastState: 1664877183.698204
currentState: 1664877183.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.718204021 0.002068 0.004757 9.8 0 0 -0.000688
1-2 processing imu...
it_last_IMU.time: 1664877183.708204
lastState: 1664877183.708204
currentState: 1664877183.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.728204012 0.002082 0.006597 9.8 0 0 -0.000688
1-2 processing imu...
it_last_IMU.time: 1664877183.718204
lastState: 1664877183.718204
currentState: 1664877183.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.738204002 0.002095 0.008436 9.8 0 0 -0.000688
1-2 processing imu...
it_last_IMU.time: 1664877183.728204
lastState: 1664877183.728204
currentState: 1664877183.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.748203993 0.002109 0.01027 9.8 0 0 -0.000688
1-2 processing imu...
it_last_IMU.time: 1664877183.738204
lastState: 1664877183.738204
currentState: 1664877183.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.758203983 0.002123 0.01212 9.8 0 0 -0.000688
1-2 processing imu...
it_last_IMU.time: 1664877183.748204
lastState: 1664877183.748204
currentState: 1664877183.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.768203974 0.002136 0.01395 9.8 0 0 -0.000687
1-2 processing imu...
it_last_IMU.time: 1664877183.758204
lastState: 1664877183.758204
currentState: 1664877183.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.778203964 0.002151 0.01363 9.8 0 0 -0.000687
1-2 processing imu...
it_last_IMU.time: 1664877183.768204
lastState: 1664877183.768204
currentState: 1664877183.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.788203955 0.002167 0.01279 9.8 0 0 -0.000687
1-2 processing imu...
it_last_IMU.time: 1664877183.778204
lastState: 1664877183.778204
currentState: 1664877183.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.798203945 0.002182 0.01196 9.8 0 0 -0.000687
1-2 processing imu...
it_last_IMU.time: 1664877183.788204
lastState: 1664877183.788204
currentState: 1664877183.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.808203936 0.002197 0.01111 9.8 0 0 -0.000686
1-2 processing imu...
it_last_IMU.time: 1664877183.798204
lastState: 1664877183.798204
currentState: 1664877183.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.818203926 0.002213 0.01028 9.8 0 0 -0.000686
1-2 processing imu...
it_last_IMU.time: 1664877183.808204
lastState: 1664877183.808204
currentState: 1664877183.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.828203917 0.002228 0.009436 9.8 0 0 -0.000686
1-2 processing imu...
it_last_IMU.time: 1664877183.818204
lastState: 1664877183.818204
currentState: 1664877183.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.838203907 0.002243 0.008596 9.8 0 0 -0.000685
1-2 processing imu...
it_last_IMU.time: 1664877183.828204
lastState: 1664877183.828204
currentState: 1664877183.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.848203897 0.002259 0.007757 9.8 0 0 -0.000685
1-2 processing imu...
it_last_IMU.time: 1664877183.838204
lastState: 1664877183.838204
currentState: 1664877183.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.858203888 0.002274 0.006917 9.8 0 0 -0.000684
1-2 processing imu...
it_last_IMU.time: 1664877183.848204
lastState: 1664877183.848204
currentState: 1664877183.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.868204117 0.00229 0.006078 9.8 0 0 -0.000684
1-2 processing imu...
it_last_IMU.time: 1664877183.858204
lastState: 1664877183.858204
currentState: 1664877183.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.878204107 0.002297 0.005152 9.8 0 0 -0.000683
1-2 processing imu...
it_last_IMU.time: 1664877183.868204
lastState: 1664877183.868204
currentState: 1664877183.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.888204098 0.002302 0.004204 9.8 0 0 -0.000683
1-2 processing imu...
it_last_IMU.time: 1664877183.878204
lastState: 1664877183.878204
currentState: 1664877183.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.898204088 0.002308 0.003256 9.8 0 0 -0.000682
1-2 processing imu...
it_last_IMU.time: 1664877183.888204
lastState: 1664877183.888204
currentState: 1664877183.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.908204079 0.002313 0.002309 9.8 0 0 -0.000682
1-2 processing imu...
it_last_IMU.time: 1664877183.898204
lastState: 1664877183.898204
currentState: 1664877183.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.918204069 0.002319 0.001361 9.8 0 0 -0.000681
1-2 processing imu...
it_last_IMU.time: 1664877183.908204
lastState: 1664877183.908204
currentState: 1664877183.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.928204060 0.002324 0.000413 9.8 0 0 -0.00068
1-2 processing imu...
it_last_IMU.time: 1664877183.918204
lastState: 1664877183.918204
currentState: 1664877183.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.938204050 0.00233 -0.000534 9.8 0 0 -0.00068
1-2 processing imu...
it_last_IMU.time: 1664877183.928204
lastState: 1664877183.928204
currentState: 1664877183.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.948204041 0.002335 -0.001482 9.8 0 0 -0.000679
1-2 processing imu...
it_last_IMU.time: 1664877183.938204
lastState: 1664877183.938204
currentState: 1664877183.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.958204031 0.00234 -0.00243 9.8 0 0 -0.000678
1-2 processing imu...
it_last_IMU.time: 1664877183.948204
lastState: 1664877183.948204
currentState: 1664877183.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.968204021 0.002346 -0.003377 9.8 0 0 -0.000677
1-2 processing imu...
it_last_IMU.time: 1664877183.958204
lastState: 1664877183.958204
currentState: 1664877183.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.978204012 0.002332 -0.004974 9.8 0 0 -0.000676
1-2 processing imu...
it_last_IMU.time: 1664877183.968204
lastState: 1664877183.968204
currentState: 1664877183.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877183.988204002 0.002314 -0.006744 9.8 0 0 -0.000675
1-2 processing imu...
it_last_IMU.time: 1664877183.978204
lastState: 1664877183.978204
currentState: 1664877183.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877183.998203993 0.002295 -0.008515 9.8 0 0 -0.000675
1-2 processing imu...
it_last_IMU.time: 1664877183.988204
lastState: 1664877183.988204
currentState: 1664877183.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.008203983 0.002276 -0.01029 9.8 0 0 -0.000674
1-2 processing imu...
it_last_IMU.time: 1664877183.998204
lastState: 1664877183.998204
currentState: 1664877184.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.018203974 0.002258 -0.01206 9.8 0 0 -0.000673
1-2 processing imu...
it_last_IMU.time: 1664877184.008204
lastState: 1664877184.008204
currentState: 1664877184.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.028203964 0.002239 -0.01383 9.8 0 0 -0.000672
1-2 processing imu...
it_last_IMU.time: 1664877184.018204
lastState: 1664877184.018204
currentState: 1664877184.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877184.014610052 -0.2073 0.1889 -0.0122 0.001043 0.002321 -0.3763 0.9265
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877184.014610
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877184.014610
state->time: 1664877184.014610
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675576.676800296]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675576.676905621]: the fixed q :[-0.667, -0.65, 0.264, 0.251][0m
[0m[ INFO] [1670675576.676915631]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675576.676934124]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.2073 0.1889 -0.0122
p_wv: 18.52 -15.22 31
p: 17.98 -14.92 30.93
q: [-0.667, -0.65, 0.264, 0.251]
l: 0.5155
residual in position: 0.06905 0.03192 0.02567
q_err :[-1, -0.00782, -0.0157, 0.0127]
residual in q: 0.01564 0.03148 -0.0254
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877184.014610 it_next->second->time: 1664877184.018204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877184.018204 it_next->second->time: 1664877184.028204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.12 -14.85 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877184.038203955 0.00222 -0.0156 9.8 0 0 -0.000671
1-2 processing imu...
it_last_IMU.time: 1664877184.028204
lastState: 1664877184.028204
currentState: 1664877184.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.048203945 0.002202 -0.01737 9.8 0 0 -0.00067
1-2 processing imu...
it_last_IMU.time: 1664877184.038204
lastState: 1664877184.038204
currentState: 1664877184.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.058203936 0.002183 -0.01914 9.8 0 0 -0.000669
1-2 processing imu...
it_last_IMU.time: 1664877184.048204
lastState: 1664877184.048204
currentState: 1664877184.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.068203926 0.002165 -0.02091 9.8 0 0 -0.000668
1-2 processing imu...
it_last_IMU.time: 1664877184.058204
lastState: 1664877184.058204
currentState: 1664877184.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.078203917 0.002137 -0.02103 9.8 0 0 -0.000667
1-2 processing imu...
it_last_IMU.time: 1664877184.068204
lastState: 1664877184.068204
currentState: 1664877184.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.088203907 0.002106 -0.02069 9.8 0 0 -0.000666
1-2 processing imu...
it_last_IMU.time: 1664877184.078204
lastState: 1664877184.078204
currentState: 1664877184.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.098203897 0.002076 -0.02035 9.8 0 0 -0.000665
1-2 processing imu...
it_last_IMU.time: 1664877184.088204
lastState: 1664877184.088204
currentState: 1664877184.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.108203888 0.002045 -0.02001 9.8 0 0 -0.000664
1-2 processing imu...
it_last_IMU.time: 1664877184.098204
lastState: 1664877184.098204
currentState: 1664877184.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.118204117 0.002015 -0.01967 9.8 0 0 -0.000663
1-2 processing imu...
it_last_IMU.time: 1664877184.108204
lastState: 1664877184.108204
currentState: 1664877184.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.128204107 0.001984 -0.01933 9.8 0 0 -0.000662
1-2 processing imu...
it_last_IMU.time: 1664877184.118204
lastState: 1664877184.118204
currentState: 1664877184.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.138204098 0.001953 -0.01898 9.8 0 0 -0.000661
1-2 processing imu...
it_last_IMU.time: 1664877184.128204
lastState: 1664877184.128204
currentState: 1664877184.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.148204088 0.001923 -0.01864 9.8 0 0 -0.000661
1-2 processing imu...
it_last_IMU.time: 1664877184.138204
lastState: 1664877184.138204
currentState: 1664877184.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.158204079 0.001892 -0.0183 9.8 0 0 -0.00066
1-2 processing imu...
it_last_IMU.time: 1664877184.148204
lastState: 1664877184.148204
currentState: 1664877184.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.168204069 0.001861 -0.01796 9.8 0 0 -0.000659
1-2 processing imu...
it_last_IMU.time: 1664877184.158204
lastState: 1664877184.158204
currentState: 1664877184.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.178204060 0.001834 -0.01742 9.8 0 0 -0.000659
1-2 processing imu...
it_last_IMU.time: 1664877184.168204
lastState: 1664877184.168204
currentState: 1664877184.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.188204050 0.001808 -0.01682 9.8 0 0 -0.000658
1-2 processing imu...
it_last_IMU.time: 1664877184.178204
lastState: 1664877184.178204
currentState: 1664877184.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.198204041 0.001782 -0.01622 9.8 0 0 -0.000658
1-2 processing imu...
it_last_IMU.time: 1664877184.188204
lastState: 1664877184.188204
currentState: 1664877184.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.208204031 0.001756 -0.01562 9.8 0 0 -0.000658
1-2 processing imu...
it_last_IMU.time: 1664877184.198204
lastState: 1664877184.198204
currentState: 1664877184.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.218204021 0.001729 -0.01502 9.8 0 0 -0.000658
1-2 processing imu...
it_last_IMU.time: 1664877184.208204
lastState: 1664877184.208204
currentState: 1664877184.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.228204012 0.001703 -0.01442 9.8 0 0 -0.000658
1-2 processing imu...
it_last_IMU.time: 1664877184.218204
lastState: 1664877184.218204
currentState: 1664877184.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.238204002 0.001677 -0.01382 9.8 0 0 -0.000658
1-2 processing imu...
it_last_IMU.time: 1664877184.228204
lastState: 1664877184.228204
currentState: 1664877184.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.248203993 0.001651 -0.01322 9.8 0 0 -0.000659
1-2 processing imu...
it_last_IMU.time: 1664877184.238204
lastState: 1664877184.238204
currentState: 1664877184.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.258203983 0.001624 -0.01262 9.8 0 0 -0.000659
1-2 processing imu...
it_last_IMU.time: 1664877184.248204
lastState: 1664877184.248204
currentState: 1664877184.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.268203974 0.001598 -0.01202 9.8 0 0 -0.00066
1-2 processing imu...
it_last_IMU.time: 1664877184.258204
lastState: 1664877184.258204
currentState: 1664877184.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.278203964 0.001583 -0.01198 9.8 0 0 -0.000661
1-2 processing imu...
it_last_IMU.time: 1664877184.268204
lastState: 1664877184.268204
currentState: 1664877184.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.288203955 0.001571 -0.01212 9.8 0 0 -0.000662
1-2 processing imu...
it_last_IMU.time: 1664877184.278204
lastState: 1664877184.278204
currentState: 1664877184.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.298203945 0.00156 -0.01225 9.8 0 0 -0.000664
1-2 processing imu...
it_last_IMU.time: 1664877184.288204
lastState: 1664877184.288204
currentState: 1664877184.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.308203936 0.001548 -0.01239 9.8 0 0 -0.000666
1-2 processing imu...
it_last_IMU.time: 1664877184.298204
lastState: 1664877184.298204
currentState: 1664877184.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.318203926 0.001536 -0.01252 9.8 0 0 -0.000668
1-2 processing imu...
it_last_IMU.time: 1664877184.308204
lastState: 1664877184.308204
currentState: 1664877184.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.328203917 0.001524 -0.01266 9.8 0 0 -0.00067
1-2 processing imu...
it_last_IMU.time: 1664877184.318204
lastState: 1664877184.318204
currentState: 1664877184.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.338203907 0.001513 -0.01279 9.8 0 0 -0.000673
1-2 processing imu...
it_last_IMU.time: 1664877184.328204
lastState: 1664877184.328204
currentState: 1664877184.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.348203897 0.001501 -0.01293 9.8 0 0 -0.000676
1-2 processing imu...
it_last_IMU.time: 1664877184.338204
lastState: 1664877184.338204
currentState: 1664877184.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.358203888 0.001489 -0.01306 9.8 0 0 -0.00068
1-2 processing imu...
it_last_IMU.time: 1664877184.348204
lastState: 1664877184.348204
currentState: 1664877184.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.368204117 0.001478 -0.0132 9.8 0 0 -0.000684
1-2 processing imu...
it_last_IMU.time: 1664877184.358204
lastState: 1664877184.358204
currentState: 1664877184.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.378204107 0.001481 -0.01195 9.8 0 0 -0.000688
1-2 processing imu...
it_last_IMU.time: 1664877184.368204
lastState: 1664877184.368204
currentState: 1664877184.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.388204098 0.001489 -0.01024 9.8 0 0 -0.000692
1-2 processing imu...
it_last_IMU.time: 1664877184.378204
lastState: 1664877184.378204
currentState: 1664877184.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.398204088 0.001497 -0.008534 9.8 0 0 -0.000698
1-2 processing imu...
it_last_IMU.time: 1664877184.388204
lastState: 1664877184.388204
currentState: 1664877184.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.408204079 0.001505 -0.006827 9.8 0 0 -0.000703
1-2 processing imu...
it_last_IMU.time: 1664877184.398204
lastState: 1664877184.398204
currentState: 1664877184.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.418204069 0.001513 -0.00512 9.8 0 0 -0.00071
1-2 processing imu...
it_last_IMU.time: 1664877184.408204
lastState: 1664877184.408204
currentState: 1664877184.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.428204060 0.001521 -0.003413 9.8 0 0 -0.000716
1-2 processing imu...
it_last_IMU.time: 1664877184.418204
lastState: 1664877184.418204
currentState: 1664877184.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.438204050 0.001529 -0.001706 9.8 0 0 -0.000724
1-2 processing imu...
it_last_IMU.time: 1664877184.428204
lastState: 1664877184.428204
currentState: 1664877184.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877184.422780991 -0.1919 0.1732 -0.01289 0.001038 0.001134 -0.3753 0.9269
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877184.422781
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877184.422781
state->time: 1664877184.422781
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675577.555069761]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675577.555115777]: the fixed q :[-0.666, -0.65, 0.265, 0.253][0m
[0m[ INFO] [1670675577.555141554]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675577.555168687]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.1919 0.1732 -0.01289
p_wv: 18.52 -15.22 31
p: 18.02 -14.94 30.93
q: [-0.666, -0.65, 0.265, 0.253]
l: 0.5155
residual in position: 0.06351 0.02841 0.02236
q_err :[-1, -0.00742, -0.0138, 0.00988]
residual in q: 0.01485 0.02754 -0.01977
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877184.422781 it_next->second->time: 1664877184.428204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877184.428204 it_next->second->time: 1664877184.438204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.15 -14.89 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877184.448204041 0.001537 1e-06 9.8 0 0 -0.000732
1-2 processing imu...
it_last_IMU.time: 1664877184.438204
lastState: 1664877184.438204
currentState: 1664877184.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.458204031 0.001545 0.001708 9.8 0 0 -0.00074
1-2 processing imu...
it_last_IMU.time: 1664877184.448204
lastState: 1664877184.448204
currentState: 1664877184.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.468204021 0.001553 0.003415 9.8 0 0 -0.000749
1-2 processing imu...
it_last_IMU.time: 1664877184.458204
lastState: 1664877184.458204
currentState: 1664877184.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.478204012 0.001578 0.003178 9.8 0 0 -0.000758
1-2 processing imu...
it_last_IMU.time: 1664877184.468204
lastState: 1664877184.468204
currentState: 1664877184.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.488204002 0.001609 0.00227 9.8 0 0 -0.000768
1-2 processing imu...
it_last_IMU.time: 1664877184.478204
lastState: 1664877184.478204
currentState: 1664877184.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.498203993 0.00164 0.001363 9.8 0 0 -0.000779
1-2 processing imu...
it_last_IMU.time: 1664877184.488204
lastState: 1664877184.488204
currentState: 1664877184.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.508203983 0.001671 0.000455 9.8 0 0 -0.000791
1-2 processing imu...
it_last_IMU.time: 1664877184.498204
lastState: 1664877184.498204
currentState: 1664877184.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.518203974 0.001702 -0.000452 9.8 0 0 -0.000804
1-2 processing imu...
it_last_IMU.time: 1664877184.508204
lastState: 1664877184.508204
currentState: 1664877184.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.528203964 0.001733 -0.00136 9.8 0 0 -0.000817
1-2 processing imu...
it_last_IMU.time: 1664877184.518204
lastState: 1664877184.518204
currentState: 1664877184.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.538203955 0.001764 -0.002267 9.8 0 0 -0.000831
1-2 processing imu...
it_last_IMU.time: 1664877184.528204
lastState: 1664877184.528204
currentState: 1664877184.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.548203945 0.001795 -0.003175 9.8 0 0 -0.000846
1-2 processing imu...
it_last_IMU.time: 1664877184.538204
lastState: 1664877184.538204
currentState: 1664877184.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.558203936 0.001826 -0.004082 9.8 0 0 -0.000862
1-2 processing imu...
it_last_IMU.time: 1664877184.548204
lastState: 1664877184.548204
currentState: 1664877184.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.568203926 0.001857 -0.00499 9.8 0 0 -0.000878
1-2 processing imu...
it_last_IMU.time: 1664877184.558204
lastState: 1664877184.558204
currentState: 1664877184.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.578203917 0.001905 -0.004826 9.8 0 0 -0.000895
1-2 processing imu...
it_last_IMU.time: 1664877184.568204
lastState: 1664877184.568204
currentState: 1664877184.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.588203907 0.001959 -0.004277 9.8 0 0 -0.000914
1-2 processing imu...
it_last_IMU.time: 1664877184.578204
lastState: 1664877184.578204
currentState: 1664877184.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.598203897 0.002013 -0.003727 9.8 0 0 -0.000933
1-2 processing imu...
it_last_IMU.time: 1664877184.588204
lastState: 1664877184.588204
currentState: 1664877184.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.608203888 0.002068 -0.003177 9.8 0 0 -0.000953
1-2 processing imu...
it_last_IMU.time: 1664877184.598204
lastState: 1664877184.598204
currentState: 1664877184.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.618204117 0.002122 -0.002628 9.8 0 0 -0.000975
1-2 processing imu...
it_last_IMU.time: 1664877184.608204
lastState: 1664877184.608204
currentState: 1664877184.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.628204107 0.002176 -0.002078 9.8 0 0 -0.000998
1-2 processing imu...
it_last_IMU.time: 1664877184.618204
lastState: 1664877184.618204
currentState: 1664877184.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.638204098 0.00223 -0.001528 9.8 0 0 -0.001021
1-2 processing imu...
it_last_IMU.time: 1664877184.628204
lastState: 1664877184.628204
currentState: 1664877184.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.648204088 0.002285 -0.000978 9.8 0 0 -0.001046
1-2 processing imu...
it_last_IMU.time: 1664877184.638204
lastState: 1664877184.638204
currentState: 1664877184.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.658204079 0.002339 -0.000429 9.8 0 0 -0.001071
1-2 processing imu...
it_last_IMU.time: 1664877184.648204
lastState: 1664877184.648204
currentState: 1664877184.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.668204069 0.002393 0.000121 9.8 0 0 -0.001098
1-2 processing imu...
it_last_IMU.time: 1664877184.658204
lastState: 1664877184.658204
currentState: 1664877184.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.678204060 0.002458 0.000247 9.8 0 0 -0.001126
1-2 processing imu...
it_last_IMU.time: 1664877184.668204
lastState: 1664877184.668204
currentState: 1664877184.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.688204050 0.002527 0.000214 9.8 0 0 -0.001155
1-2 processing imu...
it_last_IMU.time: 1664877184.678204
lastState: 1664877184.678204
currentState: 1664877184.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.698204041 0.002596 0.000181 9.8 0 0 -0.001186
1-2 processing imu...
it_last_IMU.time: 1664877184.688204
lastState: 1664877184.688204
currentState: 1664877184.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.708204031 0.002665 0.000147 9.8 0 0 -0.001217
1-2 processing imu...
it_last_IMU.time: 1664877184.698204
lastState: 1664877184.698204
currentState: 1664877184.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.718204021 0.002734 0.000114 9.8 0 0 -0.00125
1-2 processing imu...
it_last_IMU.time: 1664877184.708204
lastState: 1664877184.708204
currentState: 1664877184.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.728204012 0.002803 8e-05 9.8 0 0 -0.001285
1-2 processing imu...
it_last_IMU.time: 1664877184.718204
lastState: 1664877184.718204
currentState: 1664877184.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.738204002 0.002872 4.7e-05 9.8 0 0 -0.00132
1-2 processing imu...
it_last_IMU.time: 1664877184.728204
lastState: 1664877184.728204
currentState: 1664877184.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.748203993 0.002941 1.4e-05 9.8 0 0 -0.001357
1-2 processing imu...
it_last_IMU.time: 1664877184.738204
lastState: 1664877184.738204
currentState: 1664877184.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.758203983 0.00301 -2e-05 9.8 0 0 -0.001396
1-2 processing imu...
it_last_IMU.time: 1664877184.748204
lastState: 1664877184.748204
currentState: 1664877184.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.768203974 0.003079 -5.3e-05 9.8 0 0 -0.001435
1-2 processing imu...
it_last_IMU.time: 1664877184.758204
lastState: 1664877184.758204
currentState: 1664877184.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.778203964 0.003174 0.000797 9.8 0 0 -0.001476
1-2 processing imu...
it_last_IMU.time: 1664877184.768204
lastState: 1664877184.768204
currentState: 1664877184.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.788203955 0.003279 0.001996 9.8 0 0 -0.001518
1-2 processing imu...
it_last_IMU.time: 1664877184.778204
lastState: 1664877184.778204
currentState: 1664877184.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.798203945 0.003384 0.003195 9.8 0 0 -0.001562
1-2 processing imu...
it_last_IMU.time: 1664877184.788204
lastState: 1664877184.788204
currentState: 1664877184.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.808203936 0.003489 0.004394 9.8 0 0 -0.001607
1-2 processing imu...
it_last_IMU.time: 1664877184.798204
lastState: 1664877184.798204
currentState: 1664877184.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.818203926 0.003593 0.005592 9.8 0 0 -0.001654
1-2 processing imu...
it_last_IMU.time: 1664877184.808204
lastState: 1664877184.808204
currentState: 1664877184.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.828203917 0.003698 0.006791 9.8 0 0 -0.001703
1-2 processing imu...
it_last_IMU.time: 1664877184.818204
lastState: 1664877184.818204
currentState: 1664877184.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.838203907 0.003803 0.00799 9.8 0 0 -0.001752
1-2 processing imu...
it_last_IMU.time: 1664877184.828204
lastState: 1664877184.828204
currentState: 1664877184.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.848203897 0.003908 0.009189 9.8 0 0 -0.001804
1-2 processing imu...
it_last_IMU.time: 1664877184.838204
lastState: 1664877184.838204
currentState: 1664877184.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877184.842237949 -0.1765 0.1589 -0.01327 -9.65e-05 0.0008911 -0.3757 0.9267
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877184.842238
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877184.842238
state->time: 1664877184.842238
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675578.436770240]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675578.436857774]: the fixed q :[-0.666, -0.65, 0.265, 0.252][0m
[0m[ INFO] [1670675578.436871350]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675578.436887300]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.1765 0.1589 -0.01327
p_wv: 18.52 -15.22 31
p: 18.05 -14.98 30.93
q: [-0.666, -0.65, 0.265, 0.252]
l: 0.5155
residual in position: 0.06384 0.03378 0.02378
q_err :[-1, -0.00608, -0.0139, 0.011]
residual in q: 0.01216 0.02775 -0.02206
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877184.842238 it_next->second->time: 1664877184.848204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.18 -14.91 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877184.858203888 0.004013 0.01039 9.8 0 0 -0.001857
1-2 processing imu...
it_last_IMU.time: 1664877184.848204
lastState: 1664877184.848204
currentState: 1664877184.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.868204117 0.004117 0.01159 9.8 0 0 -0.001911
1-2 processing imu...
it_last_IMU.time: 1664877184.858204
lastState: 1664877184.858204
currentState: 1664877184.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.878204107 0.004271 0.0129 9.8 0 0 -0.001967
1-2 processing imu...
it_last_IMU.time: 1664877184.868204
lastState: 1664877184.868204
currentState: 1664877184.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.888204098 0.004446 0.01426 9.8 0 0 -0.002024
1-2 processing imu...
it_last_IMU.time: 1664877184.878204
lastState: 1664877184.878204
currentState: 1664877184.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.898204088 0.00462 0.01562 9.8 0 0 -0.002083
1-2 processing imu...
it_last_IMU.time: 1664877184.888204
lastState: 1664877184.888204
currentState: 1664877184.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.908204079 0.004794 0.01698 9.8 0 0 -0.002144
1-2 processing imu...
it_last_IMU.time: 1664877184.898204
lastState: 1664877184.898204
currentState: 1664877184.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.918204069 0.004968 0.01834 9.8 0 0 -0.002206
1-2 processing imu...
it_last_IMU.time: 1664877184.908204
lastState: 1664877184.908204
currentState: 1664877184.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.928204060 0.005142 0.0197 9.8 0 0 -0.00227
1-2 processing imu...
it_last_IMU.time: 1664877184.918204
lastState: 1664877184.918204
currentState: 1664877184.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.938204050 0.005316 0.02106 9.8 0 0 -0.002336
1-2 processing imu...
it_last_IMU.time: 1664877184.928204
lastState: 1664877184.928204
currentState: 1664877184.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.948204041 0.00549 0.02242 9.8 0 0 -0.002403
1-2 processing imu...
it_last_IMU.time: 1664877184.938204
lastState: 1664877184.938204
currentState: 1664877184.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.958204031 0.005664 0.02378 9.8 0 0 -0.002472
1-2 processing imu...
it_last_IMU.time: 1664877184.948204
lastState: 1664877184.948204
currentState: 1664877184.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.968204021 0.005838 0.02514 9.8 0 0 -0.002542
1-2 processing imu...
it_last_IMU.time: 1664877184.958204
lastState: 1664877184.958204
currentState: 1664877184.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.978204012 0.006079 0.02581 9.8 0 0 -0.002614
1-2 processing imu...
it_last_IMU.time: 1664877184.968204
lastState: 1664877184.968204
currentState: 1664877184.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877184.988204002 0.006348 0.02617 9.8 0 0 -0.002687
1-2 processing imu...
it_last_IMU.time: 1664877184.978204
lastState: 1664877184.978204
currentState: 1664877184.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877184.998203993 0.006618 0.02653 9.8 0 0 -0.002762
1-2 processing imu...
it_last_IMU.time: 1664877184.988204
lastState: 1664877184.988204
currentState: 1664877184.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.008203983 0.006888 0.0269 9.8 0 0 -0.002838
1-2 processing imu...
it_last_IMU.time: 1664877184.998204
lastState: 1664877184.998204
currentState: 1664877185.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.018203974 0.007158 0.02726 9.8 0 0 -0.002916
1-2 processing imu...
it_last_IMU.time: 1664877185.008204
lastState: 1664877185.008204
currentState: 1664877185.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.028203964 0.007427 0.02763 9.8 0 0 -0.002995
1-2 processing imu...
it_last_IMU.time: 1664877185.018204
lastState: 1664877185.018204
currentState: 1664877185.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.038203955 0.007697 0.02799 9.8 0 0 -0.003076
1-2 processing imu...
it_last_IMU.time: 1664877185.028204
lastState: 1664877185.028204
currentState: 1664877185.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.048203945 0.007966 0.02836 9.8 0 0 -0.003158
1-2 processing imu...
it_last_IMU.time: 1664877185.038204
lastState: 1664877185.038204
currentState: 1664877185.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.058203936 0.008236 0.02872 9.8 0 0 -0.003241
1-2 processing imu...
it_last_IMU.time: 1664877185.048204
lastState: 1664877185.048204
currentState: 1664877185.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.068203926 0.008506 0.02909 9.8 0 0 -0.003326
1-2 processing imu...
it_last_IMU.time: 1664877185.058204
lastState: 1664877185.058204
currentState: 1664877185.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.078203917 0.008847 0.02882 9.8 0 0 -0.003413
1-2 processing imu...
it_last_IMU.time: 1664877185.068204
lastState: 1664877185.068204
currentState: 1664877185.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.088203907 0.009221 0.02827 9.8 0 0 -0.0035
1-2 processing imu...
it_last_IMU.time: 1664877185.078204
lastState: 1664877185.078204
currentState: 1664877185.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.098203897 0.009595 0.02772 9.8 0 0 -0.003588
1-2 processing imu...
it_last_IMU.time: 1664877185.088204
lastState: 1664877185.088204
currentState: 1664877185.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.108203888 0.009969 0.02717 9.8 0 0 -0.003677
1-2 processing imu...
it_last_IMU.time: 1664877185.098204
lastState: 1664877185.098204
currentState: 1664877185.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.118204117 0.01034 0.02662 9.8 0 0 -0.003767
1-2 processing imu...
it_last_IMU.time: 1664877185.108204
lastState: 1664877185.108204
currentState: 1664877185.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.128204107 0.01072 0.02607 9.8 0 0 -0.003858
1-2 processing imu...
it_last_IMU.time: 1664877185.118204
lastState: 1664877185.118204
currentState: 1664877185.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.138204098 0.01109 0.02551 9.8 0 0 -0.00395
1-2 processing imu...
it_last_IMU.time: 1664877185.128204
lastState: 1664877185.128204
currentState: 1664877185.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.148204088 0.01146 0.02496 9.8 0 0 -0.004043
1-2 processing imu...
it_last_IMU.time: 1664877185.138204
lastState: 1664877185.138204
currentState: 1664877185.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.158204079 0.01184 0.02441 9.8 0 0 -0.004136
1-2 processing imu...
it_last_IMU.time: 1664877185.148204
lastState: 1664877185.148204
currentState: 1664877185.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.168204069 0.01221 0.02386 9.8 0 0 -0.004231
1-2 processing imu...
it_last_IMU.time: 1664877185.158204
lastState: 1664877185.158204
currentState: 1664877185.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.178204060 0.01265 0.02091 9.8 0 0 -0.004326
1-2 processing imu...
it_last_IMU.time: 1664877185.168204
lastState: 1664877185.168204
currentState: 1664877185.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.188204050 0.01312 0.01685 9.8 0 0 -0.004421
1-2 processing imu...
it_last_IMU.time: 1664877185.178204
lastState: 1664877185.178204
currentState: 1664877185.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.198204041 0.01359 0.01278 9.8 0 0 -0.004516
1-2 processing imu...
it_last_IMU.time: 1664877185.188204
lastState: 1664877185.188204
currentState: 1664877185.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.208204031 0.01406 0.008714 9.8 0 0 -0.004611
1-2 processing imu...
it_last_IMU.time: 1664877185.198204
lastState: 1664877185.198204
currentState: 1664877185.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.218204021 0.01453 0.004646 9.8 0 0 -0.004705
1-2 processing imu...
it_last_IMU.time: 1664877185.208204
lastState: 1664877185.208204
currentState: 1664877185.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.228204012 0.015 0.000579 9.8 0 0 -0.004799
1-2 processing imu...
it_last_IMU.time: 1664877185.218204
lastState: 1664877185.218204
currentState: 1664877185.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.238204002 0.01547 -0.003488 9.8 0 0 -0.004893
1-2 processing imu...
it_last_IMU.time: 1664877185.228204
lastState: 1664877185.228204
currentState: 1664877185.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.248203993 0.01594 -0.007554 9.8 0 0 -0.004986
1-2 processing imu...
it_last_IMU.time: 1664877185.238204
lastState: 1664877185.238204
currentState: 1664877185.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.258203983 0.01641 -0.01162 9.8 0 0 -0.005079
1-2 processing imu...
it_last_IMU.time: 1664877185.248204
lastState: 1664877185.248204
currentState: 1664877185.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.268203974 0.01689 -0.01569 9.8 0 0 -0.005172
1-2 processing imu...
it_last_IMU.time: 1664877185.258204
lastState: 1664877185.258204
currentState: 1664877185.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877185.253427029 -0.1609 0.1454 -0.01252 0.001339 0.002517 -0.3783 0.9257
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877185.253427
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877185.253427
state->time: 1664877185.253427
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675579.320812698]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675579.320902018]: the fixed q :[-0.666, -0.65, 0.265, 0.253][0m
[0m[ INFO] [1670675579.320951335]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675579.321006422]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.1609 0.1454 -0.01252
p_wv: 18.52 -15.22 31
p: 18.09 -15 30.93
q: [-0.666, -0.65, 0.265, 0.253]
l: 0.5155
residual in position: 0.06284 0.03023 0.02134
q_err :[-1, -0.00752, -0.0152, 0.0126]
residual in q: 0.01505 0.03045 -0.02524
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877185.253427 it_next->second->time: 1664877185.258204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877185.258204 it_next->second->time: 1664877185.268204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.21 -14.94 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877185.278203964 0.0174 -0.01876 9.8 0 0 -0.005264
1-2 processing imu...
it_last_IMU.time: 1664877185.268204
lastState: 1664877185.268204
currentState: 1664877185.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.288203955 0.01793 -0.02134 9.8 0 0 -0.005354
1-2 processing imu...
it_last_IMU.time: 1664877185.278204
lastState: 1664877185.278204
currentState: 1664877185.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.298203945 0.01846 -0.02392 9.8 0 0 -0.005441
1-2 processing imu...
it_last_IMU.time: 1664877185.288204
lastState: 1664877185.288204
currentState: 1664877185.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.308203936 0.019 -0.02651 9.8 0 0 -0.005526
1-2 processing imu...
it_last_IMU.time: 1664877185.298204
lastState: 1664877185.298204
currentState: 1664877185.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.318203926 0.01953 -0.02909 9.8 0 0 -0.005609
1-2 processing imu...
it_last_IMU.time: 1664877185.308204
lastState: 1664877185.308204
currentState: 1664877185.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.328203917 0.02006 -0.03168 9.8 0 0 -0.005689
1-2 processing imu...
it_last_IMU.time: 1664877185.318204
lastState: 1664877185.318204
currentState: 1664877185.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.338203907 0.02059 -0.03426 9.8 0 0 -0.005767
1-2 processing imu...
it_last_IMU.time: 1664877185.328204
lastState: 1664877185.328204
currentState: 1664877185.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.348203897 0.02113 -0.03684 9.8 0 0 -0.005842
1-2 processing imu...
it_last_IMU.time: 1664877185.338204
lastState: 1664877185.338204
currentState: 1664877185.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.358203888 0.02166 -0.03943 9.8 0 0 -0.005915
1-2 processing imu...
it_last_IMU.time: 1664877185.348204
lastState: 1664877185.348204
currentState: 1664877185.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.368204117 0.02219 -0.04201 9.8 0 0 -0.005985
1-2 processing imu...
it_last_IMU.time: 1664877185.358204
lastState: 1664877185.358204
currentState: 1664877185.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.378204107 0.02271 -0.04301 9.8 0 0 -0.006052
1-2 processing imu...
it_last_IMU.time: 1664877185.368204
lastState: 1664877185.368204
currentState: 1664877185.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.388204098 0.02321 -0.0432 9.8 0 0 -0.006114
1-2 processing imu...
it_last_IMU.time: 1664877185.378204
lastState: 1664877185.378204
currentState: 1664877185.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.398204088 0.02371 -0.04339 9.8 0 0 -0.006171
1-2 processing imu...
it_last_IMU.time: 1664877185.388204
lastState: 1664877185.388204
currentState: 1664877185.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.408204079 0.02421 -0.04358 9.8 0 0 -0.006222
1-2 processing imu...
it_last_IMU.time: 1664877185.398204
lastState: 1664877185.398204
currentState: 1664877185.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.418204069 0.02471 -0.04378 9.8 0 0 -0.006268
1-2 processing imu...
it_last_IMU.time: 1664877185.408204
lastState: 1664877185.408204
currentState: 1664877185.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.428204060 0.02521 -0.04397 9.8 0 0 -0.006308
1-2 processing imu...
it_last_IMU.time: 1664877185.418204
lastState: 1664877185.418204
currentState: 1664877185.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.438204050 0.02571 -0.04416 9.8 0 0 -0.006343
1-2 processing imu...
it_last_IMU.time: 1664877185.428204
lastState: 1664877185.428204
currentState: 1664877185.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.448204041 0.02621 -0.04435 9.8 0 0 -0.006373
1-2 processing imu...
it_last_IMU.time: 1664877185.438204
lastState: 1664877185.438204
currentState: 1664877185.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.458204031 0.02671 -0.04454 9.8 0 0 -0.006397
1-2 processing imu...
it_last_IMU.time: 1664877185.448204
lastState: 1664877185.448204
currentState: 1664877185.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.468204021 0.02721 -0.04474 9.8 0 0 -0.006416
1-2 processing imu...
it_last_IMU.time: 1664877185.458204
lastState: 1664877185.458204
currentState: 1664877185.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.478204012 0.02764 -0.0437 9.8 0 0 -0.006429
1-2 processing imu...
it_last_IMU.time: 1664877185.468204
lastState: 1664877185.468204
currentState: 1664877185.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.488204002 0.02802 -0.04201 9.8 0 0 -0.006432
1-2 processing imu...
it_last_IMU.time: 1664877185.478204
lastState: 1664877185.478204
currentState: 1664877185.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.498203993 0.02841 -0.04032 9.8 0 0 -0.006426
1-2 processing imu...
it_last_IMU.time: 1664877185.488204
lastState: 1664877185.488204
currentState: 1664877185.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.508203983 0.02879 -0.03863 9.8 0 0 -0.00641
1-2 processing imu...
it_last_IMU.time: 1664877185.498204
lastState: 1664877185.498204
currentState: 1664877185.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.518203974 0.02918 -0.03695 9.8 0 0 -0.006385
1-2 processing imu...
it_last_IMU.time: 1664877185.508204
lastState: 1664877185.508204
currentState: 1664877185.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.528203964 0.02956 -0.03526 9.8 0 0 -0.00635
1-2 processing imu...
it_last_IMU.time: 1664877185.518204
lastState: 1664877185.518204
currentState: 1664877185.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.538203955 0.02995 -0.03357 9.8 0 0 -0.006305
1-2 processing imu...
it_last_IMU.time: 1664877185.528204
lastState: 1664877185.528204
currentState: 1664877185.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.548203945 0.03033 -0.03188 9.8 0 0 -0.006251
1-2 processing imu...
it_last_IMU.time: 1664877185.538204
lastState: 1664877185.538204
currentState: 1664877185.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.558203936 0.03071 -0.03019 9.8 0 0 -0.006188
1-2 processing imu...
it_last_IMU.time: 1664877185.548204
lastState: 1664877185.548204
currentState: 1664877185.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.568203926 0.0311 -0.02851 9.8 0 0 -0.006115
1-2 processing imu...
it_last_IMU.time: 1664877185.558204
lastState: 1664877185.558204
currentState: 1664877185.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.578203917 0.03134 -0.02706 9.8 0 0 -0.006031
1-2 processing imu...
it_last_IMU.time: 1664877185.568204
lastState: 1664877185.568204
currentState: 1664877185.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.588203907 0.03149 -0.02574 9.8 0 0 -0.005933
1-2 processing imu...
it_last_IMU.time: 1664877185.578204
lastState: 1664877185.578204
currentState: 1664877185.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.598203897 0.03165 -0.02442 9.8 0 0 -0.005821
1-2 processing imu...
it_last_IMU.time: 1664877185.588204
lastState: 1664877185.588204
currentState: 1664877185.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.608203888 0.03181 -0.0231 9.8 0 0 -0.005694
1-2 processing imu...
it_last_IMU.time: 1664877185.598204
lastState: 1664877185.598204
currentState: 1664877185.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.618204117 0.03197 -0.02178 9.8 0 0 -0.005553
1-2 processing imu...
it_last_IMU.time: 1664877185.608204
lastState: 1664877185.608204
currentState: 1664877185.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.628204107 0.03213 -0.02046 9.8 0 0 -0.005397
1-2 processing imu...
it_last_IMU.time: 1664877185.618204
lastState: 1664877185.618204
currentState: 1664877185.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.638204098 0.03228 -0.01914 9.8 0 0 -0.005227
1-2 processing imu...
it_last_IMU.time: 1664877185.628204
lastState: 1664877185.628204
currentState: 1664877185.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.648204088 0.03244 -0.01782 9.8 0 0 -0.005043
1-2 processing imu...
it_last_IMU.time: 1664877185.638204
lastState: 1664877185.638204
currentState: 1664877185.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.658204079 0.0326 -0.0165 9.8 0 0 -0.004843
1-2 processing imu...
it_last_IMU.time: 1664877185.648204
lastState: 1664877185.648204
currentState: 1664877185.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.668204069 0.03275 -0.01518 9.8 0 0 -0.00463
1-2 processing imu...
it_last_IMU.time: 1664877185.658204
lastState: 1664877185.658204
currentState: 1664877185.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.678204060 0.03261 -0.01446 9.8 0 0 -0.004401
1-2 processing imu...
it_last_IMU.time: 1664877185.668204
lastState: 1664877185.668204
currentState: 1664877185.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.688204050 0.0323 -0.01409 9.8 0 0 -0.004151
1-2 processing imu...
it_last_IMU.time: 1664877185.678204
lastState: 1664877185.678204
currentState: 1664877185.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.698204041 0.03199 -0.01373 9.8 0 0 -0.003881
1-2 processing imu...
it_last_IMU.time: 1664877185.688204
lastState: 1664877185.688204
currentState: 1664877185.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877185.678518057 -0.1441 0.1314 -0.01273 0.0006 0.002728 -0.3828 0.9238
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877185.678518
time: 1664877185.678518
state->time: 1664877185.678204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675580.250992702]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675580.251051763]: the fixed q :[-0.664, -0.65, 0.266, 0.257][0m
[0m[ INFO] [1670675580.251064655]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675580.251089677]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.1441 0.1314 -0.01273
p_wv: 18.52 -15.22 31
p: 18.12 -15.02 30.93
q: [-0.664, -0.65, 0.266, 0.257]
l: 0.5155
residual in position: 0.06194 0.03056 0.0211
q_err :[-1, -0.00613, -0.0123, 0.0143]
residual in q: 0.01226 0.02466 -0.02864
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877185.678204 it_next->second->time: 1664877185.688204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877185.688204 it_next->second->time: 1664877185.698204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.24 -14.97 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877185.708204031 0.03168 -0.01336 9.8 0 0 -0.003589
1-2 processing imu...
it_last_IMU.time: 1664877185.698204
lastState: 1664877185.698204
currentState: 1664877185.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.718204021 0.03137 -0.01299 9.8 0 0 -0.003277
1-2 processing imu...
it_last_IMU.time: 1664877185.708204
lastState: 1664877185.708204
currentState: 1664877185.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.728204012 0.03106 -0.01262 9.8 0 0 -0.002944
1-2 processing imu...
it_last_IMU.time: 1664877185.718204
lastState: 1664877185.718204
currentState: 1664877185.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.738204002 0.03075 -0.01226 9.8 0 0 -0.002591
1-2 processing imu...
it_last_IMU.time: 1664877185.728204
lastState: 1664877185.728204
currentState: 1664877185.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.748203993 0.03044 -0.01189 9.8 0 0 -0.002217
1-2 processing imu...
it_last_IMU.time: 1664877185.738204
lastState: 1664877185.738204
currentState: 1664877185.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.758203983 0.03013 -0.01152 9.8 0 0 -0.001821
1-2 processing imu...
it_last_IMU.time: 1664877185.748204
lastState: 1664877185.748204
currentState: 1664877185.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.768203974 0.02982 -0.01115 9.8 0 0 -0.001405
1-2 processing imu...
it_last_IMU.time: 1664877185.758204
lastState: 1664877185.758204
currentState: 1664877185.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.778203964 0.02906 -0.00989 9.8 0 0 -0.000967
1-2 processing imu...
it_last_IMU.time: 1664877185.768204
lastState: 1664877185.768204
currentState: 1664877185.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.788203955 0.02805 -0.008095 9.8 0 0 -0.000503
1-2 processing imu...
it_last_IMU.time: 1664877185.778204
lastState: 1664877185.778204
currentState: 1664877185.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.798203945 0.02704 -0.0063 9.8 0 0 -1.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877185.788204
lastState: 1664877185.788204
currentState: 1664877185.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.808203936 0.02602 -0.004506 9.8 0 0 0.000507
1-2 processing imu...
it_last_IMU.time: 1664877185.798204
lastState: 1664877185.798204
currentState: 1664877185.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.818203926 0.025 -0.002711 9.8 0 0 0.001052
1-2 processing imu...
it_last_IMU.time: 1664877185.808204
lastState: 1664877185.808204
currentState: 1664877185.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.828203917 0.02399 -0.000917 9.8 0 0 0.001624
1-2 processing imu...
it_last_IMU.time: 1664877185.818204
lastState: 1664877185.818204
currentState: 1664877185.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.838203907 0.02297 0.000877 9.8 0 0 0.002224
1-2 processing imu...
it_last_IMU.time: 1664877185.828204
lastState: 1664877185.828204
currentState: 1664877185.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.848203897 0.02196 0.002671 9.8 0 0 0.00285
1-2 processing imu...
it_last_IMU.time: 1664877185.838204
lastState: 1664877185.838204
currentState: 1664877185.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.858203888 0.02095 0.004465 9.8 0 0 0.003503
1-2 processing imu...
it_last_IMU.time: 1664877185.848204
lastState: 1664877185.848204
currentState: 1664877185.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.868204117 0.01993 0.006259 9.8 0 0 0.004183
1-2 processing imu...
it_last_IMU.time: 1664877185.858204
lastState: 1664877185.858204
currentState: 1664877185.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.878204107 0.01826 0.007365 9.8 0 0 0.004891
1-2 processing imu...
it_last_IMU.time: 1664877185.868204
lastState: 1664877185.868204
currentState: 1664877185.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.888204098 0.01619 0.008049 9.8 0 0 0.005631
1-2 processing imu...
it_last_IMU.time: 1664877185.878204
lastState: 1664877185.878204
currentState: 1664877185.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.898204088 0.01411 0.008732 9.8 0 0 0.006404
1-2 processing imu...
it_last_IMU.time: 1664877185.888204
lastState: 1664877185.888204
currentState: 1664877185.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.908204079 0.01203 0.009416 9.8 0 0 0.007208
1-2 processing imu...
it_last_IMU.time: 1664877185.898204
lastState: 1664877185.898204
currentState: 1664877185.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.918204069 0.009958 0.0101 9.8 0 0 0.008046
1-2 processing imu...
it_last_IMU.time: 1664877185.908204
lastState: 1664877185.908204
currentState: 1664877185.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.928204060 0.007883 0.01078 9.8 0 0 0.008916
1-2 processing imu...
it_last_IMU.time: 1664877185.918204
lastState: 1664877185.918204
currentState: 1664877185.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.938204050 0.005808 0.01147 9.8 0 0 0.009818
1-2 processing imu...
it_last_IMU.time: 1664877185.928204
lastState: 1664877185.928204
currentState: 1664877185.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.948204041 0.003734 0.01215 9.8 0 0 0.01075
1-2 processing imu...
it_last_IMU.time: 1664877185.938204
lastState: 1664877185.938204
currentState: 1664877185.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.958204031 0.001659 0.01284 9.8 0 0 0.01172
1-2 processing imu...
it_last_IMU.time: 1664877185.948204
lastState: 1664877185.948204
currentState: 1664877185.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.968204021 -0.000415 0.01352 9.8 0 0 0.01272
1-2 processing imu...
it_last_IMU.time: 1664877185.958204
lastState: 1664877185.958204
currentState: 1664877185.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.978204012 -0.003354 0.01311 9.8 0 0 0.01375
1-2 processing imu...
it_last_IMU.time: 1664877185.968204
lastState: 1664877185.968204
currentState: 1664877185.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877185.988204002 -0.006846 0.012 9.8 0 0 0.01482
1-2 processing imu...
it_last_IMU.time: 1664877185.978204
lastState: 1664877185.978204
currentState: 1664877185.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877185.998203993 -0.01034 0.01089 9.8 0 0 0.01592
1-2 processing imu...
it_last_IMU.time: 1664877185.988204
lastState: 1664877185.988204
currentState: 1664877185.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.008203983 -0.01383 0.009774 9.8 0 0 0.01706
1-2 processing imu...
it_last_IMU.time: 1664877185.998204
lastState: 1664877185.998204
currentState: 1664877186.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.018203974 -0.01732 0.008664 9.8 0 0 0.01823
1-2 processing imu...
it_last_IMU.time: 1664877186.008204
lastState: 1664877186.008204
currentState: 1664877186.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.028203964 -0.02082 0.007555 9.8 0 0 0.01944
1-2 processing imu...
it_last_IMU.time: 1664877186.018204
lastState: 1664877186.018204
currentState: 1664877186.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.038203955 -0.02431 0.006449 9.8 0 0 0.02068
1-2 processing imu...
it_last_IMU.time: 1664877186.028204
lastState: 1664877186.028204
currentState: 1664877186.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.048203945 -0.0278 0.005344 9.8 0 0 0.02196
1-2 processing imu...
it_last_IMU.time: 1664877186.038204
lastState: 1664877186.038204
currentState: 1664877186.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.058203936 -0.0313 0.00424 9.8 0 0 0.02327
1-2 processing imu...
it_last_IMU.time: 1664877186.048204
lastState: 1664877186.048204
currentState: 1664877186.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.068203926 -0.03479 0.003139 9.8 0 0 0.02462
1-2 processing imu...
it_last_IMU.time: 1664877186.058204
lastState: 1664877186.058204
currentState: 1664877186.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.078203917 -0.03944 0.001677 9.8 0 0 0.02601
1-2 processing imu...
it_last_IMU.time: 1664877186.068204
lastState: 1664877186.068204
currentState: 1664877186.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.088203907 -0.04484 -2.3e-05 9.8 0 0 0.02743
1-2 processing imu...
it_last_IMU.time: 1664877186.078204
lastState: 1664877186.078204
currentState: 1664877186.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.098203897 -0.05025 -0.001719 9.8 0 0 0.02889
1-2 processing imu...
it_last_IMU.time: 1664877186.088204
lastState: 1664877186.088204
currentState: 1664877186.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877186.087182045 -0.128 0.1175 -0.01244 -0.0005904 0.004127 -0.3853 0.9228
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877186.087182
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877186.087182
state->time: 1664877186.087182
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675581.110318872]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675581.110430553]: the fixed q :[-0.663, -0.648, 0.271, 0.26][0m
[0m[ INFO] [1670675581.110494809]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675581.110561845]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.128 0.1175 -0.01244
p_wv: 18.52 -15.22 31
p: 18.17 -15.06 30.93
q: [-0.663, -0.648, 0.271, 0.26]
l: 0.5155
residual in position: 0.05411 0.03274 0.02146
q_err :[-1, -0.00491, -0.0149, 0.0112]
residual in q: 0.009817 0.02972 -0.02234
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877186.087182 it_next->second->time: 1664877186.088204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877186.088204 it_next->second->time: 1664877186.098204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.27 -14.99 30.98
hc: publish state after update
1-1 IMUCallback(): 1664877186.108203888 -0.05566 -0.003411 9.8 0 0 0.03038
1-2 processing imu...
it_last_IMU.time: 1664877186.098204
lastState: 1664877186.098204
currentState: 1664877186.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.118204117 -0.06107 -0.0051 9.8 0 0 0.03192
1-2 processing imu...
it_last_IMU.time: 1664877186.108204
lastState: 1664877186.108204
currentState: 1664877186.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.128204107 -0.06648 -0.006784 9.8 0 0 0.0335
1-2 processing imu...
it_last_IMU.time: 1664877186.118204
lastState: 1664877186.118204
currentState: 1664877186.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.138204098 -0.07189 -0.008463 9.8 0 0 0.03511
1-2 processing imu...
it_last_IMU.time: 1664877186.128204
lastState: 1664877186.128204
currentState: 1664877186.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.148204088 -0.0773 -0.01014 9.8 0 0 0.03676
1-2 processing imu...
it_last_IMU.time: 1664877186.138204
lastState: 1664877186.138204
currentState: 1664877186.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.158204079 -0.08272 -0.01181 9.8 0 0 0.03845
1-2 processing imu...
it_last_IMU.time: 1664877186.148204
lastState: 1664877186.148204
currentState: 1664877186.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.168204069 -0.08813 -0.01347 9.8 0 0 0.04018
1-2 processing imu...
it_last_IMU.time: 1664877186.158204
lastState: 1664877186.158204
currentState: 1664877186.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.178204060 -0.09468 -0.01461 9.8 0 0 0.04195
1-2 processing imu...
it_last_IMU.time: 1664877186.168204
lastState: 1664877186.168204
currentState: 1664877186.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.188204050 -0.102 -0.01538 9.8 0 0 0.04376
1-2 processing imu...
it_last_IMU.time: 1664877186.178204
lastState: 1664877186.178204
currentState: 1664877186.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.198204041 -0.1093 -0.01614 9.8 0 0 0.04561
1-2 processing imu...
it_last_IMU.time: 1664877186.188204
lastState: 1664877186.188204
currentState: 1664877186.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.208204031 -0.1166 -0.0169 9.8 0 0 0.0475
1-2 processing imu...
it_last_IMU.time: 1664877186.198204
lastState: 1664877186.198204
currentState: 1664877186.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.218204021 -0.124 -0.01765 9.8 0 0 0.04944
1-2 processing imu...
it_last_IMU.time: 1664877186.208204
lastState: 1664877186.208204
currentState: 1664877186.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.228204012 -0.1313 -0.01838 9.8 0 0 0.05142
1-2 processing imu...
it_last_IMU.time: 1664877186.218204
lastState: 1664877186.218204
currentState: 1664877186.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.238204002 -0.1386 -0.01911 9.8 0 0 0.05344
1-2 processing imu...
it_last_IMU.time: 1664877186.228204
lastState: 1664877186.228204
currentState: 1664877186.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.248203993 -0.1459 -0.01982 9.8 0 0 0.05551
1-2 processing imu...
it_last_IMU.time: 1664877186.238204
lastState: 1664877186.238204
currentState: 1664877186.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.258203983 -0.1533 -0.02053 9.8 0 0 0.05761
1-2 processing imu...
it_last_IMU.time: 1664877186.248204
lastState: 1664877186.248204
currentState: 1664877186.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.268203974 -0.1606 -0.02122 9.8 0 0 0.05977
1-2 processing imu...
it_last_IMU.time: 1664877186.258204
lastState: 1664877186.258204
currentState: 1664877186.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.278203964 -0.1691 -0.02053 9.8 0 0 0.06196
1-2 processing imu...
it_last_IMU.time: 1664877186.268204
lastState: 1664877186.268204
currentState: 1664877186.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.288203955 -0.1784 -0.01884 9.8 0 0 0.0642
1-2 processing imu...
it_last_IMU.time: 1664877186.278204
lastState: 1664877186.278204
currentState: 1664877186.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.298203945 -0.1877 -0.01714 9.8 0 0 0.06648
1-2 processing imu...
it_last_IMU.time: 1664877186.288204
lastState: 1664877186.288204
currentState: 1664877186.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.308203936 -0.1971 -0.01542 9.8 0 0 0.06881
1-2 processing imu...
it_last_IMU.time: 1664877186.298204
lastState: 1664877186.298204
currentState: 1664877186.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.318203926 -0.2064 -0.01368 9.8 0 0 0.07118
1-2 processing imu...
it_last_IMU.time: 1664877186.308204
lastState: 1664877186.308204
currentState: 1664877186.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.328203917 -0.2157 -0.01193 9.8 0 0 0.07359
1-2 processing imu...
it_last_IMU.time: 1664877186.318204
lastState: 1664877186.318204
currentState: 1664877186.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.338203907 -0.225 -0.01015 9.8 0 0 0.07605
1-2 processing imu...
it_last_IMU.time: 1664877186.328204
lastState: 1664877186.328204
currentState: 1664877186.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.348203897 -0.2343 -0.00836 9.8 0 0 0.07856
1-2 processing imu...
it_last_IMU.time: 1664877186.338204
lastState: 1664877186.338204
currentState: 1664877186.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.358203888 -0.2436 -0.006546 9.8 0 0 0.0811
1-2 processing imu...
it_last_IMU.time: 1664877186.348204
lastState: 1664877186.348204
currentState: 1664877186.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.368204117 -0.2529 -0.00471 9.8 0 0 0.0837
1-2 processing imu...
it_last_IMU.time: 1664877186.358204
lastState: 1664877186.358204
currentState: 1664877186.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.378204107 -0.263 -0.003223 9.8 0 0 0.08633
1-2 processing imu...
it_last_IMU.time: 1664877186.368204
lastState: 1664877186.368204
currentState: 1664877186.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.388204098 -0.2737 -0.001986 9.8 0 0 0.08901
1-2 processing imu...
it_last_IMU.time: 1664877186.378204
lastState: 1664877186.378204
currentState: 1664877186.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.398204088 -0.2843 -0.000722 9.8 0 0 0.09172
1-2 processing imu...
it_last_IMU.time: 1664877186.388204
lastState: 1664877186.388204
currentState: 1664877186.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.408204079 -0.295 0.000569 9.8 0 0 0.09447
1-2 processing imu...
it_last_IMU.time: 1664877186.398204
lastState: 1664877186.398204
currentState: 1664877186.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.418204069 -0.3056 0.001888 9.8 0 0 0.09726
1-2 processing imu...
it_last_IMU.time: 1664877186.408204
lastState: 1664877186.408204
currentState: 1664877186.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.428204060 -0.3163 0.003236 9.8 0 0 0.1001
1-2 processing imu...
it_last_IMU.time: 1664877186.418204
lastState: 1664877186.418204
currentState: 1664877186.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.438204050 -0.3269 0.004615 9.8 0 0 0.103
1-2 processing imu...
it_last_IMU.time: 1664877186.428204
lastState: 1664877186.428204
currentState: 1664877186.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.448204041 -0.3375 0.006025 9.8 0 0 0.1059
1-2 processing imu...
it_last_IMU.time: 1664877186.438204
lastState: 1664877186.438204
currentState: 1664877186.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.458204031 -0.3482 0.007467 9.8 0 0 0.1088
1-2 processing imu...
it_last_IMU.time: 1664877186.448204
lastState: 1664877186.448204
currentState: 1664877186.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.468204021 -0.3588 0.008943 9.8 0 0 0.1118
1-2 processing imu...
it_last_IMU.time: 1664877186.458204
lastState: 1664877186.458204
currentState: 1664877186.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.478204012 -0.3697 0.009065 9.8 0 0 0.1148
1-2 processing imu...
it_last_IMU.time: 1664877186.468204
lastState: 1664877186.468204
currentState: 1664877186.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.488204002 -0.3807 0.008156 9.8 0 0 0.1178
1-2 processing imu...
it_last_IMU.time: 1664877186.478204
lastState: 1664877186.478204
currentState: 1664877186.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.498203993 -0.3918 0.007285 9.8 0 0 0.1209
1-2 processing imu...
it_last_IMU.time: 1664877186.488204
lastState: 1664877186.488204
currentState: 1664877186.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.508203983 -0.4028 0.006453 9.8 0 0 0.1239
1-2 processing imu...
it_last_IMU.time: 1664877186.498204
lastState: 1664877186.498204
currentState: 1664877186.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.518203974 -0.4139 0.00566 9.8 0 0 0.127
1-2 processing imu...
it_last_IMU.time: 1664877186.508204
lastState: 1664877186.508204
currentState: 1664877186.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.528203964 -0.4249 0.004908 9.8 0 0 0.1301
1-2 processing imu...
it_last_IMU.time: 1664877186.518204
lastState: 1664877186.518204
currentState: 1664877186.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877186.505187988 -0.113 0.1028 -0.01303 -0.0006626 0.001691 -0.3788 0.9255
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877186.505188
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877186.505188
state->time: 1664877186.505188
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675582.003284837]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675582.003317136]: the fixed q :[-0.666, -0.643, 0.28, 0.254][0m
[0m[ INFO] [1670675582.003327000]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675582.003346544]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.113 0.1028 -0.01303
p_wv: 18.52 -15.22 31
p: 18.18 -15.06 30.94
q: [-0.666, -0.643, 0.28, 0.254]
l: 0.5155
residual in position: 0.06308 0.02032 0.01819
q_err :[-1, -0.00764, -0.0243, 0.000994]
residual in q: 0.01529 0.04858 -0.001989
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877186.505188 it_next->second->time: 1664877186.508204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877186.508204 it_next->second->time: 1664877186.518204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877186.518204 it_next->second->time: 1664877186.528204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.3 -15.02 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877186.538203955 -0.436 0.004198 9.8 0 0 0.1332
1-2 processing imu...
it_last_IMU.time: 1664877186.528204
lastState: 1664877186.528204
currentState: 1664877186.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.548203945 -0.447 0.003531 9.8 0 0 0.1363
1-2 processing imu...
it_last_IMU.time: 1664877186.538204
lastState: 1664877186.538204
currentState: 1664877186.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.558203936 -0.4581 0.002908 9.8 0 0 0.1394
1-2 processing imu...
it_last_IMU.time: 1664877186.548204
lastState: 1664877186.548204
currentState: 1664877186.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.568203926 -0.4691 0.00233 9.8 0 0 0.1425
1-2 processing imu...
it_last_IMU.time: 1664877186.558204
lastState: 1664877186.558204
currentState: 1664877186.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.578203917 -0.4797 0.003416 9.8 0 0 0.1457
1-2 processing imu...
it_last_IMU.time: 1664877186.568204
lastState: 1664877186.568204
currentState: 1664877186.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.588203907 -0.4899 0.005835 9.8 0 0 0.1488
1-2 processing imu...
it_last_IMU.time: 1664877186.578204
lastState: 1664877186.578204
currentState: 1664877186.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.598203897 -0.5001 0.0083 9.8 0 0 0.1519
1-2 processing imu...
it_last_IMU.time: 1664877186.588204
lastState: 1664877186.588204
currentState: 1664877186.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.608203888 -0.5102 0.01081 9.8 0 0 0.155
1-2 processing imu...
it_last_IMU.time: 1664877186.598204
lastState: 1664877186.598204
currentState: 1664877186.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.618204117 -0.5204 0.01337 9.8 0 0 0.1581
1-2 processing imu...
it_last_IMU.time: 1664877186.608204
lastState: 1664877186.608204
currentState: 1664877186.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.628204107 -0.5305 0.01597 9.8 0 0 0.1611
1-2 processing imu...
it_last_IMU.time: 1664877186.618204
lastState: 1664877186.618204
currentState: 1664877186.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.638204098 -0.5406 0.01863 9.8 0 0 0.1641
1-2 processing imu...
it_last_IMU.time: 1664877186.628204
lastState: 1664877186.628204
currentState: 1664877186.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.648204088 -0.5508 0.02133 9.8 0 0 0.1671
1-2 processing imu...
it_last_IMU.time: 1664877186.638204
lastState: 1664877186.638204
currentState: 1664877186.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.658204079 -0.5609 0.02409 9.8 0 0 0.1701
1-2 processing imu...
it_last_IMU.time: 1664877186.648204
lastState: 1664877186.648204
currentState: 1664877186.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.668204069 -0.571 0.02689 9.8 0 0 0.1731
1-2 processing imu...
it_last_IMU.time: 1664877186.658204
lastState: 1664877186.658204
currentState: 1664877186.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.678204060 -0.5807 0.02849 9.8 0 0 0.176
1-2 processing imu...
it_last_IMU.time: 1664877186.668204
lastState: 1664877186.668204
currentState: 1664877186.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.688204050 -0.5899 0.0291 9.8 0 0 0.1789
1-2 processing imu...
it_last_IMU.time: 1664877186.678204
lastState: 1664877186.678204
currentState: 1664877186.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.698204041 -0.5992 0.02975 9.8 0 0 0.1818
1-2 processing imu...
it_last_IMU.time: 1664877186.688204
lastState: 1664877186.688204
currentState: 1664877186.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.708204031 -0.6085 0.03046 9.8 0 0 0.1846
1-2 processing imu...
it_last_IMU.time: 1664877186.698204
lastState: 1664877186.698204
currentState: 1664877186.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.718204021 -0.6177 0.03122 9.8 0 0 0.1874
1-2 processing imu...
it_last_IMU.time: 1664877186.708204
lastState: 1664877186.708204
currentState: 1664877186.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.728204012 -0.627 0.03203 9.8 0 0 0.1902
1-2 processing imu...
it_last_IMU.time: 1664877186.718204
lastState: 1664877186.718204
currentState: 1664877186.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.738204002 -0.6363 0.03289 9.8 0 0 0.1929
1-2 processing imu...
it_last_IMU.time: 1664877186.728204
lastState: 1664877186.728204
currentState: 1664877186.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.748203993 -0.6455 0.03381 9.8 0 0 0.1956
1-2 processing imu...
it_last_IMU.time: 1664877186.738204
lastState: 1664877186.738204
currentState: 1664877186.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.758203983 -0.6548 0.03478 9.8 0 0 0.1982
1-2 processing imu...
it_last_IMU.time: 1664877186.748204
lastState: 1664877186.748204
currentState: 1664877186.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.768203974 -0.6641 0.0358 9.8 0 0 0.2008
1-2 processing imu...
it_last_IMU.time: 1664877186.758204
lastState: 1664877186.758204
currentState: 1664877186.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.778203964 -0.672 0.03662 9.8 0 0 0.2034
1-2 processing imu...
it_last_IMU.time: 1664877186.768204
lastState: 1664877186.768204
currentState: 1664877186.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.788203955 -0.6788 0.03727 9.8 0 0 0.2059
1-2 processing imu...
it_last_IMU.time: 1664877186.778204
lastState: 1664877186.778204
currentState: 1664877186.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.798203945 -0.6857 0.03797 9.8 0 0 0.2083
1-2 processing imu...
it_last_IMU.time: 1664877186.788204
lastState: 1664877186.788204
currentState: 1664877186.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.808203936 -0.6925 0.03871 9.8 0 0 0.2107
1-2 processing imu...
it_last_IMU.time: 1664877186.798204
lastState: 1664877186.798204
currentState: 1664877186.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.818203926 -0.6993 0.03949 9.8 0 0 0.2131
1-2 processing imu...
it_last_IMU.time: 1664877186.808204
lastState: 1664877186.808204
currentState: 1664877186.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.828203917 -0.7061 0.04032 9.8 0 0 0.2154
1-2 processing imu...
it_last_IMU.time: 1664877186.818204
lastState: 1664877186.818204
currentState: 1664877186.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.838203907 -0.7129 0.0412 9.8 0 0 0.2176
1-2 processing imu...
it_last_IMU.time: 1664877186.828204
lastState: 1664877186.828204
currentState: 1664877186.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.848203897 -0.7197 0.04212 9.8 0 0 0.2198
1-2 processing imu...
it_last_IMU.time: 1664877186.838204
lastState: 1664877186.838204
currentState: 1664877186.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.858203888 -0.7266 0.04308 9.8 0 0 0.2219
1-2 processing imu...
it_last_IMU.time: 1664877186.848204
lastState: 1664877186.848204
currentState: 1664877186.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.868204117 -0.7334 0.0441 9.8 0 0 0.224
1-2 processing imu...
it_last_IMU.time: 1664877186.858204
lastState: 1664877186.858204
currentState: 1664877186.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.878204107 -0.7389 0.04451 9.8 0 0 0.2261
1-2 processing imu...
it_last_IMU.time: 1664877186.868204
lastState: 1664877186.868204
currentState: 1664877186.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.888204098 -0.7433 0.04438 9.8 0 0 0.2281
1-2 processing imu...
it_last_IMU.time: 1664877186.878204
lastState: 1664877186.878204
currentState: 1664877186.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.898204088 -0.7477 0.04428 9.8 0 0 0.23
1-2 processing imu...
it_last_IMU.time: 1664877186.888204
lastState: 1664877186.888204
currentState: 1664877186.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.908204079 -0.7521 0.04423 9.8 0 0 0.2319
1-2 processing imu...
it_last_IMU.time: 1664877186.898204
lastState: 1664877186.898204
currentState: 1664877186.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.918204069 -0.7565 0.0442 9.8 0 0 0.2337
1-2 processing imu...
it_last_IMU.time: 1664877186.908204
lastState: 1664877186.908204
currentState: 1664877186.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.928204060 -0.7609 0.04421 9.8 0 0 0.2354
1-2 processing imu...
it_last_IMU.time: 1664877186.918204
lastState: 1664877186.918204
currentState: 1664877186.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.938204050 -0.7653 0.04425 9.8 0 0 0.2372
1-2 processing imu...
it_last_IMU.time: 1664877186.928204
lastState: 1664877186.928204
currentState: 1664877186.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.948204041 -0.7697 0.04433 9.8 0 0 0.2388
1-2 processing imu...
it_last_IMU.time: 1664877186.938204
lastState: 1664877186.938204
currentState: 1664877186.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877186.928368092 -0.09856 0.08948 -0.0138 -0.001907 0.0008204 -0.3369 0.9415
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877186.928368
time: 1664877186.928368
state->time: 1664877186.928204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675582.905916610]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675582.905949232]: the fixed q :[-0.674, -0.637, 0.292, 0.232][0m
[0m[ INFO] [1670675582.905981901]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675582.905997979]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.09856 0.08948 -0.0138
p_wv: 18.52 -15.22 31
p: 18.13 -15.01 30.93
q: [-0.674, -0.637, 0.292, 0.232]
l: 0.5155
residual in position: 0.1013 -0.01621 0.02135
q_err :[-0.998, -0.00799, -0.0487, -0.0372]
residual in q: 0.01602 0.09763 0.07462
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877186.928204 it_next->second->time: 1664877186.938204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877186.938204 it_next->second->time: 1664877186.948204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.32 -15.04 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877186.958204031 -0.7741 0.04444 9.8 0 0 0.2404
1-2 processing imu...
it_last_IMU.time: 1664877186.948204
lastState: 1664877186.948204
currentState: 1664877186.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.968204021 -0.7785 0.04459 9.8 0 0 0.2419
1-2 processing imu...
it_last_IMU.time: 1664877186.958204
lastState: 1664877186.958204
currentState: 1664877186.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.978204012 -0.7823 0.04454 9.8 0 0 0.2434
1-2 processing imu...
it_last_IMU.time: 1664877186.968204
lastState: 1664877186.968204
currentState: 1664877186.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877186.988204002 -0.7856 0.04431 9.8 0 0 0.2449
1-2 processing imu...
it_last_IMU.time: 1664877186.978204
lastState: 1664877186.978204
currentState: 1664877186.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877186.998203993 -0.7888 0.0441 9.8 0 0 0.2463
1-2 processing imu...
it_last_IMU.time: 1664877186.988204
lastState: 1664877186.988204
currentState: 1664877186.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.008203983 -0.7921 0.04393 9.8 0 0 0.2476
1-2 processing imu...
it_last_IMU.time: 1664877186.998204
lastState: 1664877186.998204
currentState: 1664877187.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.018203974 -0.7954 0.04378 9.8 0 0 0.2489
1-2 processing imu...
it_last_IMU.time: 1664877187.008204
lastState: 1664877187.008204
currentState: 1664877187.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.028203964 -0.7986 0.04366 9.8 0 0 0.2501
1-2 processing imu...
it_last_IMU.time: 1664877187.018204
lastState: 1664877187.018204
currentState: 1664877187.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.038203955 -0.8019 0.04356 9.8 0 0 0.2513
1-2 processing imu...
it_last_IMU.time: 1664877187.028204
lastState: 1664877187.028204
currentState: 1664877187.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.048203945 -0.8052 0.04349 9.8 0 0 0.2525
1-2 processing imu...
it_last_IMU.time: 1664877187.038204
lastState: 1664877187.038204
currentState: 1664877187.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.058203936 -0.8085 0.04345 9.8 0 0 0.2536
1-2 processing imu...
it_last_IMU.time: 1664877187.048204
lastState: 1664877187.048204
currentState: 1664877187.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.068203926 -0.8118 0.04343 9.8 0 0 0.2546
1-2 processing imu...
it_last_IMU.time: 1664877187.058204
lastState: 1664877187.058204
currentState: 1664877187.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.078203917 -0.8141 0.04318 9.8 0 0 0.2556
1-2 processing imu...
it_last_IMU.time: 1664877187.068204
lastState: 1664877187.068204
currentState: 1664877187.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.088203907 -0.8155 0.0427 9.8 0 0 0.2566
1-2 processing imu...
it_last_IMU.time: 1664877187.078204
lastState: 1664877187.078204
currentState: 1664877187.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.098203897 -0.8168 0.04223 9.8 0 0 0.2575
1-2 processing imu...
it_last_IMU.time: 1664877187.088204
lastState: 1664877187.088204
currentState: 1664877187.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.108203888 -0.8182 0.04178 9.8 0 0 0.2584
1-2 processing imu...
it_last_IMU.time: 1664877187.098204
lastState: 1664877187.098204
currentState: 1664877187.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.118204117 -0.8196 0.04135 9.8 0 0 0.2593
1-2 processing imu...
it_last_IMU.time: 1664877187.108204
lastState: 1664877187.108204
currentState: 1664877187.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.128204107 -0.8209 0.04093 9.8 0 0 0.2601
1-2 processing imu...
it_last_IMU.time: 1664877187.118204
lastState: 1664877187.118204
currentState: 1664877187.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.138204098 -0.8223 0.04052 9.8 0 0 0.2609
1-2 processing imu...
it_last_IMU.time: 1664877187.128204
lastState: 1664877187.128204
currentState: 1664877187.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.148204088 -0.8237 0.04012 9.8 0 0 0.2616
1-2 processing imu...
it_last_IMU.time: 1664877187.138204
lastState: 1664877187.138204
currentState: 1664877187.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.158204079 -0.8251 0.03974 9.8 0 0 0.2623
1-2 processing imu...
it_last_IMU.time: 1664877187.148204
lastState: 1664877187.148204
currentState: 1664877187.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.168204069 -0.8265 0.03938 9.8 0 0 0.263
1-2 processing imu...
it_last_IMU.time: 1664877187.158204
lastState: 1664877187.158204
currentState: 1664877187.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.178204060 -0.8275 0.03854 9.8 0 0 0.2636
1-2 processing imu...
it_last_IMU.time: 1664877187.168204
lastState: 1664877187.168204
currentState: 1664877187.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.188204050 -0.828 0.03723 9.8 0 0 0.2642
1-2 processing imu...
it_last_IMU.time: 1664877187.178204
lastState: 1664877187.178204
currentState: 1664877187.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.198204041 -0.8286 0.03594 9.8 0 0 0.2648
1-2 processing imu...
it_last_IMU.time: 1664877187.188204
lastState: 1664877187.188204
currentState: 1664877187.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.208204031 -0.8291 0.03465 9.8 0 0 0.2654
1-2 processing imu...
it_last_IMU.time: 1664877187.198204
lastState: 1664877187.198204
currentState: 1664877187.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.218204021 -0.8297 0.03336 9.8 0 0 0.2659
1-2 processing imu...
it_last_IMU.time: 1664877187.208204
lastState: 1664877187.208204
currentState: 1664877187.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.228204012 -0.8302 0.03209 9.8 0 0 0.2664
1-2 processing imu...
it_last_IMU.time: 1664877187.218204
lastState: 1664877187.218204
currentState: 1664877187.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.238204002 -0.8308 0.03083 9.8 0 0 0.2669
1-2 processing imu...
it_last_IMU.time: 1664877187.228204
lastState: 1664877187.228204
currentState: 1664877187.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.248203993 -0.8314 0.02957 9.8 0 0 0.2674
1-2 processing imu...
it_last_IMU.time: 1664877187.238204
lastState: 1664877187.238204
currentState: 1664877187.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.258203983 -0.832 0.02831 9.8 0 0 0.2678
1-2 processing imu...
it_last_IMU.time: 1664877187.248204
lastState: 1664877187.248204
currentState: 1664877187.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.268203974 -0.8327 0.02707 9.8 0 0 0.2683
1-2 processing imu...
it_last_IMU.time: 1664877187.258204
lastState: 1664877187.258204
currentState: 1664877187.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.278203964 -0.8334 0.02486 9.8 0 0 0.2687
1-2 processing imu...
it_last_IMU.time: 1664877187.268204
lastState: 1664877187.268204
currentState: 1664877187.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.288203955 -0.8342 0.02168 9.8 0 0 0.269
1-2 processing imu...
it_last_IMU.time: 1664877187.278204
lastState: 1664877187.278204
currentState: 1664877187.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.298203945 -0.835 0.0185 9.8 0 0 0.2694
1-2 processing imu...
it_last_IMU.time: 1664877187.288204
lastState: 1664877187.288204
currentState: 1664877187.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.308203936 -0.8359 0.01533 9.8 0 0 0.2698
1-2 processing imu...
it_last_IMU.time: 1664877187.298204
lastState: 1664877187.298204
currentState: 1664877187.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.318203926 -0.8368 0.01216 9.8 0 0 0.2701
1-2 processing imu...
it_last_IMU.time: 1664877187.308204
lastState: 1664877187.308204
currentState: 1664877187.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.328203917 -0.8377 0.009005 9.8 0 0 0.2705
1-2 processing imu...
it_last_IMU.time: 1664877187.318204
lastState: 1664877187.318204
currentState: 1664877187.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.338203907 -0.8386 0.005856 9.8 0 0 0.2708
1-2 processing imu...
it_last_IMU.time: 1664877187.328204
lastState: 1664877187.328204
currentState: 1664877187.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.348203897 -0.8396 0.002716 9.8 0 0 0.2711
1-2 processing imu...
it_last_IMU.time: 1664877187.338204
lastState: 1664877187.338204
currentState: 1664877187.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877187.337413073 -0.08104 0.07752 -0.01398 -0.00238 0.0007921 -0.2859 0.9583
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877187.337413
time: 1664877187.337413
state->time: 1664877187.338204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675583.771062980]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675583.771137372]: the fixed q :[-0.687, -0.646, 0.272, 0.193][0m
[0m[ INFO] [1670675583.771164796]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675583.771183004]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.08104 0.07752 -0.01398
p_wv: 18.52 -15.22 31
p: 18.06 -14.96 30.92
q: [-0.687, -0.646, 0.272, 0.193]
l: 0.5155
residual in position: 0.1544 -0.05779 0.02836
q_err :[-0.997, -0.00942, -0.0615, -0.0458]
residual in q: 0.01889 0.1233 0.09181
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877187.338204 it_next->second->time: 1664877187.348204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.36 -15.07 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877187.358203888 -0.8405 -0.000417 9.8 0 0 0.2714
1-2 processing imu...
it_last_IMU.time: 1664877187.348204
lastState: 1664877187.348204
currentState: 1664877187.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.368204117 -0.8415 -0.003541 9.8 0 0 0.2717
1-2 processing imu...
it_last_IMU.time: 1664877187.358204
lastState: 1664877187.358204
currentState: 1664877187.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.378204107 -0.8422 -0.006756 9.8 0 0 0.272
1-2 processing imu...
it_last_IMU.time: 1664877187.368204
lastState: 1664877187.368204
currentState: 1664877187.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.388204098 -0.8425 -0.01007 9.8 0 0 0.2723
1-2 processing imu...
it_last_IMU.time: 1664877187.378204
lastState: 1664877187.378204
currentState: 1664877187.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.398204088 -0.8428 -0.01338 9.8 0 0 0.2726
1-2 processing imu...
it_last_IMU.time: 1664877187.388204
lastState: 1664877187.388204
currentState: 1664877187.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.408204079 -0.8431 -0.01668 9.8 0 0 0.2729
1-2 processing imu...
it_last_IMU.time: 1664877187.398204
lastState: 1664877187.398204
currentState: 1664877187.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.418204069 -0.8435 -0.01998 9.8 0 0 0.2732
1-2 processing imu...
it_last_IMU.time: 1664877187.408204
lastState: 1664877187.408204
currentState: 1664877187.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.428204060 -0.8438 -0.02328 9.8 0 0 0.2734
1-2 processing imu...
it_last_IMU.time: 1664877187.418204
lastState: 1664877187.418204
currentState: 1664877187.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.438204050 -0.8443 -0.02658 9.8 0 0 0.2737
1-2 processing imu...
it_last_IMU.time: 1664877187.428204
lastState: 1664877187.428204
currentState: 1664877187.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.448204041 -0.8447 -0.02986 9.8 0 0 0.274
1-2 processing imu...
it_last_IMU.time: 1664877187.438204
lastState: 1664877187.438204
currentState: 1664877187.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.458204031 -0.8451 -0.03315 9.8 0 0 0.2743
1-2 processing imu...
it_last_IMU.time: 1664877187.448204
lastState: 1664877187.448204
currentState: 1664877187.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.468204021 -0.8456 -0.03642 9.8 0 0 0.2746
1-2 processing imu...
it_last_IMU.time: 1664877187.458204
lastState: 1664877187.458204
currentState: 1664877187.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.478204012 -0.8464 -0.03853 9.8 0 0 0.2749
1-2 processing imu...
it_last_IMU.time: 1664877187.468204
lastState: 1664877187.468204
currentState: 1664877187.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.488204002 -0.8474 -0.03934 9.8 0 0 0.2752
1-2 processing imu...
it_last_IMU.time: 1664877187.478204
lastState: 1664877187.478204
currentState: 1664877187.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.498203993 -0.8484 -0.04014 9.8 0 0 0.2755
1-2 processing imu...
it_last_IMU.time: 1664877187.488204
lastState: 1664877187.488204
currentState: 1664877187.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.508203983 -0.8494 -0.04093 9.8 0 0 0.2758
1-2 processing imu...
it_last_IMU.time: 1664877187.498204
lastState: 1664877187.498204
currentState: 1664877187.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.518203974 -0.8505 -0.04172 9.8 0 0 0.2761
1-2 processing imu...
it_last_IMU.time: 1664877187.508204
lastState: 1664877187.508204
currentState: 1664877187.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.528203964 -0.8515 -0.0425 9.8 0 0 0.2765
1-2 processing imu...
it_last_IMU.time: 1664877187.518204
lastState: 1664877187.518204
currentState: 1664877187.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.538203955 -0.8526 -0.04327 9.8 0 0 0.2769
1-2 processing imu...
it_last_IMU.time: 1664877187.528204
lastState: 1664877187.528204
currentState: 1664877187.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.548203945 -0.8537 -0.04403 9.8 0 0 0.2772
1-2 processing imu...
it_last_IMU.time: 1664877187.538204
lastState: 1664877187.538204
currentState: 1664877187.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.558203936 -0.8548 -0.04478 9.8 0 0 0.2776
1-2 processing imu...
it_last_IMU.time: 1664877187.548204
lastState: 1664877187.548204
currentState: 1664877187.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.568203926 -0.8559 -0.04552 9.8 0 0 0.278
1-2 processing imu...
it_last_IMU.time: 1664877187.558204
lastState: 1664877187.558204
currentState: 1664877187.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.578203917 -0.8575 -0.04535 9.8 0 0 0.2784
1-2 processing imu...
it_last_IMU.time: 1664877187.568204
lastState: 1664877187.568204
currentState: 1664877187.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.588203907 -0.8597 -0.04414 9.8 0 0 0.2789
1-2 processing imu...
it_last_IMU.time: 1664877187.578204
lastState: 1664877187.578204
currentState: 1664877187.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.598203897 -0.8618 -0.04292 9.8 0 0 0.2793
1-2 processing imu...
it_last_IMU.time: 1664877187.588204
lastState: 1664877187.588204
currentState: 1664877187.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.608203888 -0.864 -0.04168 9.8 0 0 0.2798
1-2 processing imu...
it_last_IMU.time: 1664877187.598204
lastState: 1664877187.598204
currentState: 1664877187.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.618204117 -0.8662 -0.04042 9.8 0 0 0.2803
1-2 processing imu...
it_last_IMU.time: 1664877187.608204
lastState: 1664877187.608204
currentState: 1664877187.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.628204107 -0.8684 -0.03915 9.8 0 0 0.2808
1-2 processing imu...
it_last_IMU.time: 1664877187.618204
lastState: 1664877187.618204
currentState: 1664877187.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.638204098 -0.8705 -0.03786 9.8 0 0 0.2814
1-2 processing imu...
it_last_IMU.time: 1664877187.628204
lastState: 1664877187.628204
currentState: 1664877187.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.648204088 -0.8727 -0.03656 9.8 0 0 0.2819
1-2 processing imu...
it_last_IMU.time: 1664877187.638204
lastState: 1664877187.638204
currentState: 1664877187.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.658204079 -0.8749 -0.03523 9.8 0 0 0.2825
1-2 processing imu...
it_last_IMU.time: 1664877187.648204
lastState: 1664877187.648204
currentState: 1664877187.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.668204069 -0.8771 -0.03389 9.8 0 0 0.2831
1-2 processing imu...
it_last_IMU.time: 1664877187.658204
lastState: 1664877187.658204
currentState: 1664877187.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.678204060 -0.8792 -0.03247 9.8 0 0 0.2838
1-2 processing imu...
it_last_IMU.time: 1664877187.668204
lastState: 1664877187.668204
currentState: 1664877187.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.688204050 -0.8813 -0.03094 9.8 0 0 0.2844
1-2 processing imu...
it_last_IMU.time: 1664877187.678204
lastState: 1664877187.678204
currentState: 1664877187.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.698204041 -0.8834 -0.0294 9.8 0 0 0.2851
1-2 processing imu...
it_last_IMU.time: 1664877187.688204
lastState: 1664877187.688204
currentState: 1664877187.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.708204031 -0.8856 -0.02784 9.8 0 0 0.2859
1-2 processing imu...
it_last_IMU.time: 1664877187.698204
lastState: 1664877187.698204
currentState: 1664877187.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.718204021 -0.8877 -0.02626 9.8 0 0 0.2866
1-2 processing imu...
it_last_IMU.time: 1664877187.708204
lastState: 1664877187.708204
currentState: 1664877187.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.728204012 -0.8898 -0.02466 9.8 0 0 0.2874
1-2 processing imu...
it_last_IMU.time: 1664877187.718204
lastState: 1664877187.718204
currentState: 1664877187.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.738204002 -0.8919 -0.02304 9.8 0 0 0.2882
1-2 processing imu...
it_last_IMU.time: 1664877187.728204
lastState: 1664877187.728204
currentState: 1664877187.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.748203993 -0.894 -0.02141 9.8 0 0 0.289
1-2 processing imu...
it_last_IMU.time: 1664877187.738204
lastState: 1664877187.738204
currentState: 1664877187.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.758203983 -0.8961 -0.01975 9.8 0 0 0.2899
1-2 processing imu...
it_last_IMU.time: 1664877187.748204
lastState: 1664877187.748204
currentState: 1664877187.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.768203974 -0.8982 -0.01808 9.8 0 0 0.2908
1-2 processing imu...
it_last_IMU.time: 1664877187.758204
lastState: 1664877187.758204
currentState: 1664877187.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877187.754089117 -0.06372 0.06825 -0.01399 -0.003517 0.0005472 -0.2332 0.9724
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877187.754089
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877187.754089
state->time: 1664877187.754089
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675584.639239301]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675584.639287014]: the fixed q :[-0.697, -0.659, 0.237, 0.154][0m
[0m[ INFO] [1670675584.639296886]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675584.639318292]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.06372 0.06825 -0.01399
p_wv: 18.52 -15.22 31
p: 18.09 -14.99 30.9
q: [-0.697, -0.659, 0.237, 0.154]
l: 0.5155
residual in position: 0.1576 -0.05088 0.03703
q_err :[-0.997, -0.00933, -0.0633, -0.0452]
residual in q: 0.01872 0.1271 0.09063
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877187.754089 it_next->second->time: 1664877187.758204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877187.758204 it_next->second->time: 1664877187.768204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.39 -15.08 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877187.778203964 -0.9009 -0.01621 9.8 0 0 0.2917
1-2 processing imu...
it_last_IMU.time: 1664877187.768204
lastState: 1664877187.768204
currentState: 1664877187.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.788203955 -0.9042 -0.0141 9.8 0 0 0.2927
1-2 processing imu...
it_last_IMU.time: 1664877187.778204
lastState: 1664877187.778204
currentState: 1664877187.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.798203945 -0.9076 -0.01196 9.8 0 0 0.2936
1-2 processing imu...
it_last_IMU.time: 1664877187.788204
lastState: 1664877187.788204
currentState: 1664877187.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.808203936 -0.911 -0.009794 9.8 0 0 0.2947
1-2 processing imu...
it_last_IMU.time: 1664877187.798204
lastState: 1664877187.798204
currentState: 1664877187.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.818203926 -0.9143 -0.007599 9.8 0 0 0.2957
1-2 processing imu...
it_last_IMU.time: 1664877187.808204
lastState: 1664877187.808204
currentState: 1664877187.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.828203917 -0.9177 -0.005375 9.8 0 0 0.2968
1-2 processing imu...
it_last_IMU.time: 1664877187.818204
lastState: 1664877187.818204
currentState: 1664877187.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.838203907 -0.921 -0.00312 9.8 0 0 0.298
1-2 processing imu...
it_last_IMU.time: 1664877187.828204
lastState: 1664877187.828204
currentState: 1664877187.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.848203897 -0.9244 -0.000835 9.8 0 0 0.2991
1-2 processing imu...
it_last_IMU.time: 1664877187.838204
lastState: 1664877187.838204
currentState: 1664877187.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.858203888 -0.9277 0.001481 9.8 0 0 0.3003
1-2 processing imu...
it_last_IMU.time: 1664877187.848204
lastState: 1664877187.848204
currentState: 1664877187.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.868204117 -0.931 0.003829 9.8 0 0 0.3016
1-2 processing imu...
it_last_IMU.time: 1664877187.858204
lastState: 1664877187.858204
currentState: 1664877187.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.878204107 -0.935 0.005918 9.8 0 0 0.3028
1-2 processing imu...
it_last_IMU.time: 1664877187.868204
lastState: 1664877187.868204
currentState: 1664877187.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.888204098 -0.9399 0.007678 9.8 0 0 0.3042
1-2 processing imu...
it_last_IMU.time: 1664877187.878204
lastState: 1664877187.878204
currentState: 1664877187.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.898204088 -0.9447 0.00948 9.8 0 0 0.3055
1-2 processing imu...
it_last_IMU.time: 1664877187.888204
lastState: 1664877187.888204
currentState: 1664877187.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.908204079 -0.9495 0.01132 9.8 0 0 0.3069
1-2 processing imu...
it_last_IMU.time: 1664877187.898204
lastState: 1664877187.898204
currentState: 1664877187.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.918204069 -0.9543 0.01321 9.8 0 0 0.3084
1-2 processing imu...
it_last_IMU.time: 1664877187.908204
lastState: 1664877187.908204
currentState: 1664877187.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.928204060 -0.9591 0.01514 9.8 0 0 0.3098
1-2 processing imu...
it_last_IMU.time: 1664877187.918204
lastState: 1664877187.918204
currentState: 1664877187.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.938204050 -0.964 0.01712 9.8 0 0 0.3114
1-2 processing imu...
it_last_IMU.time: 1664877187.928204
lastState: 1664877187.928204
currentState: 1664877187.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.948204041 -0.9688 0.01914 9.8 0 0 0.3129
1-2 processing imu...
it_last_IMU.time: 1664877187.938204
lastState: 1664877187.938204
currentState: 1664877187.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.958204031 -0.9736 0.02121 9.8 0 0 0.3145
1-2 processing imu...
it_last_IMU.time: 1664877187.948204
lastState: 1664877187.948204
currentState: 1664877187.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.968204021 -0.9784 0.02332 9.8 0 0 0.3162
1-2 processing imu...
it_last_IMU.time: 1664877187.958204
lastState: 1664877187.958204
currentState: 1664877187.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.978204012 -0.9833 0.02426 9.8 0 0 0.3179
1-2 processing imu...
it_last_IMU.time: 1664877187.968204
lastState: 1664877187.968204
currentState: 1664877187.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877187.988204002 -0.9883 0.02364 9.8 0 0 0.3196
1-2 processing imu...
it_last_IMU.time: 1664877187.978204
lastState: 1664877187.978204
currentState: 1664877187.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877187.998203993 -0.9933 0.02307 9.8 0 0 0.3213
1-2 processing imu...
it_last_IMU.time: 1664877187.988204
lastState: 1664877187.988204
currentState: 1664877187.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.008203983 -0.9984 0.02255 9.8 0 0 0.3232
1-2 processing imu...
it_last_IMU.time: 1664877187.998204
lastState: 1664877187.998204
currentState: 1664877188.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.018203974 -1.003 0.02208 9.8 0 0 0.325
1-2 processing imu...
it_last_IMU.time: 1664877188.008204
lastState: 1664877188.008204
currentState: 1664877188.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.028203964 -1.009 0.02167 9.8 0 0 0.3269
1-2 processing imu...
it_last_IMU.time: 1664877188.018204
lastState: 1664877188.018204
currentState: 1664877188.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.038203955 -1.014 0.0213 9.8 0 0 0.3288
1-2 processing imu...
it_last_IMU.time: 1664877188.028204
lastState: 1664877188.028204
currentState: 1664877188.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.048203945 -1.019 0.02099 9.8 0 0 0.3308
1-2 processing imu...
it_last_IMU.time: 1664877188.038204
lastState: 1664877188.038204
currentState: 1664877188.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.058203936 -1.024 0.02074 9.8 0 0 0.3328
1-2 processing imu...
it_last_IMU.time: 1664877188.048204
lastState: 1664877188.048204
currentState: 1664877188.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.068203926 -1.029 0.02054 9.8 0 0 0.3349
1-2 processing imu...
it_last_IMU.time: 1664877188.058204
lastState: 1664877188.058204
currentState: 1664877188.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.078203917 -1.035 0.01967 9.8 0 0 0.337
1-2 processing imu...
it_last_IMU.time: 1664877188.068204
lastState: 1664877188.068204
currentState: 1664877188.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.088203907 -1.042 0.0179 9.8 0 0 0.3392
1-2 processing imu...
it_last_IMU.time: 1664877188.078204
lastState: 1664877188.078204
currentState: 1664877188.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.098203897 -1.049 0.01619 9.8 0 0 0.3414
1-2 processing imu...
it_last_IMU.time: 1664877188.088204
lastState: 1664877188.088204
currentState: 1664877188.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.108203888 -1.056 0.01455 9.8 0 0 0.3436
1-2 processing imu...
it_last_IMU.time: 1664877188.098204
lastState: 1664877188.098204
currentState: 1664877188.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.118204117 -1.063 0.01299 9.8 0 0 0.3459
1-2 processing imu...
it_last_IMU.time: 1664877188.108204
lastState: 1664877188.108204
currentState: 1664877188.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.128204107 -1.07 0.0115 9.8 0 0 0.3482
1-2 processing imu...
it_last_IMU.time: 1664877188.118204
lastState: 1664877188.118204
currentState: 1664877188.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.138204098 -1.077 0.01008 9.8 0 0 0.3506
1-2 processing imu...
it_last_IMU.time: 1664877188.128204
lastState: 1664877188.128204
currentState: 1664877188.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.148204088 -1.084 0.008743 9.8 0 0 0.3531
1-2 processing imu...
it_last_IMU.time: 1664877188.138204
lastState: 1664877188.138204
currentState: 1664877188.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.158204079 -1.091 0.007481 9.8 0 0 0.3555
1-2 processing imu...
it_last_IMU.time: 1664877188.148204
lastState: 1664877188.148204
currentState: 1664877188.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.168204069 -1.099 0.006298 9.8 0 0 0.3581
1-2 processing imu...
it_last_IMU.time: 1664877188.158204
lastState: 1664877188.158204
currentState: 1664877188.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.178204060 -1.106 0.005523 9.8 0 0 0.3606
1-2 processing imu...
it_last_IMU.time: 1664877188.168204
lastState: 1664877188.168204
currentState: 1664877188.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.188204050 -1.115 0.005305 9.8 0 0 0.3633
1-2 processing imu...
it_last_IMU.time: 1664877188.178204
lastState: 1664877188.178204
currentState: 1664877188.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.198204041 -1.124 0.00518 9.8 0 0 0.3659
1-2 processing imu...
it_last_IMU.time: 1664877188.188204
lastState: 1664877188.188204
currentState: 1664877188.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877188.170816898 -0.04393 0.06061 -0.01438 -0.003264 -0.0005174 -0.171 0.9853
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877188.170817
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877188.170817
state->time: 1664877188.170817
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675585.543724817]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675585.543896332]: the fixed q :[-0.707, -0.669, 0.203, 0.11][0m
[0m[ INFO] [1670675585.543963217]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675585.544047898]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.04393 0.06061 -0.01438
p_wv: 18.52 -15.22 31
p: 18.15 -15.04 30.9
q: [-0.707, -0.669, 0.203, 0.11]
l: 0.5156
residual in position: 0.1474 -0.0338 0.03496
q_err :[-0.996, -0.012, -0.0681, -0.0524]
residual in q: 0.02406 0.1368 0.1051
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877188.170817 it_next->second->time: 1664877188.178204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877188.178204 it_next->second->time: 1664877188.188204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877188.188204 it_next->second->time: 1664877188.198204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.43 -15.1 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877188.208204031 -1.133 0.005149 9.8 0 0 0.3687
1-2 processing imu...
it_last_IMU.time: 1664877188.198204
lastState: 1664877188.198204
currentState: 1664877188.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.218204021 -1.142 0.005215 9.8 0 0 0.3715
1-2 processing imu...
it_last_IMU.time: 1664877188.208204
lastState: 1664877188.208204
currentState: 1664877188.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.228204012 -1.15 0.005378 9.8 0 0 0.3743
1-2 processing imu...
it_last_IMU.time: 1664877188.218204
lastState: 1664877188.218204
currentState: 1664877188.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.238204002 -1.159 0.005641 9.8 0 0 0.3772
1-2 processing imu...
it_last_IMU.time: 1664877188.228204
lastState: 1664877188.228204
currentState: 1664877188.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.248203993 -1.168 0.006004 9.8 0 0 0.3801
1-2 processing imu...
it_last_IMU.time: 1664877188.238204
lastState: 1664877188.238204
currentState: 1664877188.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.258203983 -1.177 0.00647 9.8 0 0 0.3831
1-2 processing imu...
it_last_IMU.time: 1664877188.248204
lastState: 1664877188.248204
currentState: 1664877188.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.268203974 -1.186 0.007039 9.8 0 0 0.3862
1-2 processing imu...
it_last_IMU.time: 1664877188.258204
lastState: 1664877188.258204
currentState: 1664877188.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.278203964 -1.195 0.00611 9.8 0 0 0.3893
1-2 processing imu...
it_last_IMU.time: 1664877188.268204
lastState: 1664877188.268204
currentState: 1664877188.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.288203955 -1.204 0.002935 9.8 0 0 0.3925
1-2 processing imu...
it_last_IMU.time: 1664877188.278204
lastState: 1664877188.278204
currentState: 1664877188.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.298203945 -1.213 -0.000131 9.8 0 0 0.3957
1-2 processing imu...
it_last_IMU.time: 1664877188.288204
lastState: 1664877188.288204
currentState: 1664877188.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.308203936 -1.222 -0.003085 9.8 0 0 0.3989
1-2 processing imu...
it_last_IMU.time: 1664877188.298204
lastState: 1664877188.298204
currentState: 1664877188.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.318203926 -1.231 -0.005925 9.8 0 0 0.4022
1-2 processing imu...
it_last_IMU.time: 1664877188.308204
lastState: 1664877188.308204
currentState: 1664877188.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.328203917 -1.241 -0.008651 9.8 0 0 0.4056
1-2 processing imu...
it_last_IMU.time: 1664877188.318204
lastState: 1664877188.318204
currentState: 1664877188.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.338203907 -1.25 -0.01126 9.8 0 0 0.409
1-2 processing imu...
it_last_IMU.time: 1664877188.328204
lastState: 1664877188.328204
currentState: 1664877188.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.348203897 -1.259 -0.01375 9.8 0 0 0.4124
1-2 processing imu...
it_last_IMU.time: 1664877188.338204
lastState: 1664877188.338204
currentState: 1664877188.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.358203888 -1.269 -0.01612 9.8 0 0 0.4159
1-2 processing imu...
it_last_IMU.time: 1664877188.348204
lastState: 1664877188.348204
currentState: 1664877188.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.368204117 -1.278 -0.01837 9.8 0 0 0.4195
1-2 processing imu...
it_last_IMU.time: 1664877188.358204
lastState: 1664877188.358204
currentState: 1664877188.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.378204107 -1.288 -0.02169 9.8 0 0 0.4231
1-2 processing imu...
it_last_IMU.time: 1664877188.368204
lastState: 1664877188.368204
currentState: 1664877188.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.388204098 -1.3 -0.0267 9.8 0 0 0.4267
1-2 processing imu...
it_last_IMU.time: 1664877188.378204
lastState: 1664877188.378204
currentState: 1664877188.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.398204088 -1.312 -0.03157 9.8 0 0 0.4304
1-2 processing imu...
it_last_IMU.time: 1664877188.388204
lastState: 1664877188.388204
currentState: 1664877188.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.408204079 -1.324 -0.03628 9.8 0 0 0.4342
1-2 processing imu...
it_last_IMU.time: 1664877188.398204
lastState: 1664877188.398204
currentState: 1664877188.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.418204069 -1.335 -0.04084 9.8 0 0 0.438
1-2 processing imu...
it_last_IMU.time: 1664877188.408204
lastState: 1664877188.408204
currentState: 1664877188.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.428204060 -1.347 -0.04525 9.8 0 0 0.4418
1-2 processing imu...
it_last_IMU.time: 1664877188.418204
lastState: 1664877188.418204
currentState: 1664877188.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.438204050 -1.359 -0.0495 9.8 0 0 0.4457
1-2 processing imu...
it_last_IMU.time: 1664877188.428204
lastState: 1664877188.428204
currentState: 1664877188.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.448204041 -1.372 -0.05359 9.8 0 0 0.4497
1-2 processing imu...
it_last_IMU.time: 1664877188.438204
lastState: 1664877188.438204
currentState: 1664877188.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.458204031 -1.384 -0.05751 9.8 0 0 0.4537
1-2 processing imu...
it_last_IMU.time: 1664877188.448204
lastState: 1664877188.448204
currentState: 1664877188.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.468204021 -1.396 -0.06127 9.8 0 0 0.4577
1-2 processing imu...
it_last_IMU.time: 1664877188.458204
lastState: 1664877188.458204
currentState: 1664877188.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.478204012 -1.409 -0.06455 9.8 0 0 0.4618
1-2 processing imu...
it_last_IMU.time: 1664877188.468204
lastState: 1664877188.468204
currentState: 1664877188.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.488204002 -1.422 -0.06716 9.8 0 0 0.4659
1-2 processing imu...
it_last_IMU.time: 1664877188.478204
lastState: 1664877188.478204
currentState: 1664877188.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.498203993 -1.435 -0.06959 9.8 0 0 0.4701
1-2 processing imu...
it_last_IMU.time: 1664877188.488204
lastState: 1664877188.488204
currentState: 1664877188.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.508203983 -1.448 -0.07183 9.8 0 0 0.4744
1-2 processing imu...
it_last_IMU.time: 1664877188.498204
lastState: 1664877188.498204
currentState: 1664877188.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.518203974 -1.462 -0.07389 9.8 0 0 0.4786
1-2 processing imu...
it_last_IMU.time: 1664877188.508204
lastState: 1664877188.508204
currentState: 1664877188.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.528203964 -1.475 -0.07575 9.8 0 0 0.483
1-2 processing imu...
it_last_IMU.time: 1664877188.518204
lastState: 1664877188.518204
currentState: 1664877188.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.538203955 -1.489 -0.07743 9.8 0 0 0.4874
1-2 processing imu...
it_last_IMU.time: 1664877188.528204
lastState: 1664877188.528204
currentState: 1664877188.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.548203945 -1.502 -0.07891 9.8 0 0 0.4918
1-2 processing imu...
it_last_IMU.time: 1664877188.538204
lastState: 1664877188.538204
currentState: 1664877188.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.558203936 -1.516 -0.08019 9.8 0 0 0.4963
1-2 processing imu...
it_last_IMU.time: 1664877188.548204
lastState: 1664877188.548204
currentState: 1664877188.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.568203926 -1.529 -0.08127 9.8 0 0 0.5008
1-2 processing imu...
it_last_IMU.time: 1664877188.558204
lastState: 1664877188.558204
currentState: 1664877188.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.578203917 -1.543 -0.08268 9.8 0 0 0.5053
1-2 processing imu...
it_last_IMU.time: 1664877188.568204
lastState: 1664877188.568204
currentState: 1664877188.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.588203907 -1.557 -0.08478 9.8 0 0 0.51
1-2 processing imu...
it_last_IMU.time: 1664877188.578204
lastState: 1664877188.578204
currentState: 1664877188.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.598203897 -1.571 -0.08666 9.8 0 0 0.5146
1-2 processing imu...
it_last_IMU.time: 1664877188.588204
lastState: 1664877188.588204
currentState: 1664877188.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.608203888 -1.585 -0.08833 9.8 0 0 0.5193
1-2 processing imu...
it_last_IMU.time: 1664877188.598204
lastState: 1664877188.598204
currentState: 1664877188.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.618204117 -1.599 -0.08979 9.8 0 0 0.524
1-2 processing imu...
it_last_IMU.time: 1664877188.608204
lastState: 1664877188.608204
currentState: 1664877188.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877188.598438025 -0.02313 0.05561 -0.0147 -0.003737 -0.001892 -0.08759 0.9961
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877188.598438
time: 1664877188.598438
state->time: 1664877188.598204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675586.423540955]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675586.423665510]: the fixed q :[-0.714, -0.677, 0.175, 0.0475][0m
[0m[ INFO] [1670675586.423719902]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675586.423773610]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.02313 0.05561 -0.0147
p_wv: 18.52 -15.22 31
p: 18.17 -15.06 30.9
q: [-0.714, -0.677, 0.175, 0.0475]
l: 0.5157
residual in position: 0.1563 -0.02853 0.03788
q_err :[-0.993, -0.0149, -0.0896, -0.0708]
residual in q: 0.03003 0.1804 0.1426
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877188.598204 it_next->second->time: 1664877188.608204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877188.608204 it_next->second->time: 1664877188.618204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.47 -15.11 30.97
hc: publish state after update
1-1 IMUCallback(): 1664877188.628204107 -1.613 -0.09102 9.8 0 0 0.5287
1-2 processing imu...
it_last_IMU.time: 1664877188.618204
lastState: 1664877188.618204
currentState: 1664877188.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.638204098 -1.627 -0.09203 9.8 0 0 0.5335
1-2 processing imu...
it_last_IMU.time: 1664877188.628204
lastState: 1664877188.628204
currentState: 1664877188.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.648204088 -1.641 -0.09282 9.8 0 0 0.5383
1-2 processing imu...
it_last_IMU.time: 1664877188.638204
lastState: 1664877188.638204
currentState: 1664877188.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.658204079 -1.655 -0.09337 9.8 0 0 0.5432
1-2 processing imu...
it_last_IMU.time: 1664877188.648204
lastState: 1664877188.648204
currentState: 1664877188.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.668204069 -1.67 -0.09369 9.8 0 0 0.5481
1-2 processing imu...
it_last_IMU.time: 1664877188.658204
lastState: 1664877188.658204
currentState: 1664877188.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.678204060 -1.685 -0.09377 9.8 0 0 0.553
1-2 processing imu...
it_last_IMU.time: 1664877188.668204
lastState: 1664877188.668204
currentState: 1664877188.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.688204050 -1.7 -0.09357 9.8 0 0 0.558
1-2 processing imu...
it_last_IMU.time: 1664877188.678204
lastState: 1664877188.678204
currentState: 1664877188.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.698204041 -1.716 -0.09311 9.8 0 0 0.563
1-2 processing imu...
it_last_IMU.time: 1664877188.688204
lastState: 1664877188.688204
currentState: 1664877188.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.708204031 -1.732 -0.09239 9.8 0 0 0.568
1-2 processing imu...
it_last_IMU.time: 1664877188.698204
lastState: 1664877188.698204
currentState: 1664877188.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.718204021 -1.749 -0.0914 9.8 0 0 0.573
1-2 processing imu...
it_last_IMU.time: 1664877188.708204
lastState: 1664877188.708204
currentState: 1664877188.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.728204012 -1.765 -0.09014 9.8 0 0 0.5781
1-2 processing imu...
it_last_IMU.time: 1664877188.718204
lastState: 1664877188.718204
currentState: 1664877188.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.738204002 -1.781 -0.08861 9.8 0 0 0.5831
1-2 processing imu...
it_last_IMU.time: 1664877188.728204
lastState: 1664877188.728204
currentState: 1664877188.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.748203993 -1.797 -0.0868 9.8 0 0 0.5883
1-2 processing imu...
it_last_IMU.time: 1664877188.738204
lastState: 1664877188.738204
currentState: 1664877188.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.758203983 -1.813 -0.08471 9.8 0 0 0.5934
1-2 processing imu...
it_last_IMU.time: 1664877188.748204
lastState: 1664877188.748204
currentState: 1664877188.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.768203974 -1.83 -0.08234 9.8 0 0 0.5985
1-2 processing imu...
it_last_IMU.time: 1664877188.758204
lastState: 1664877188.758204
currentState: 1664877188.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.778203964 -1.846 -0.08157 9.8 0 0 0.6037
1-2 processing imu...
it_last_IMU.time: 1664877188.768204
lastState: 1664877188.768204
currentState: 1664877188.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.788203955 -1.861 -0.08386 9.8 0 0 0.6089
1-2 processing imu...
it_last_IMU.time: 1664877188.778204
lastState: 1664877188.778204
currentState: 1664877188.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.798203945 -1.876 -0.08587 9.8 0 0 0.6141
1-2 processing imu...
it_last_IMU.time: 1664877188.788204
lastState: 1664877188.788204
currentState: 1664877188.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.808203936 -1.891 -0.0876 9.8 0 0 0.6192
1-2 processing imu...
it_last_IMU.time: 1664877188.798204
lastState: 1664877188.798204
currentState: 1664877188.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.818203926 -1.906 -0.08904 9.8 0 0 0.6244
1-2 processing imu...
it_last_IMU.time: 1664877188.808204
lastState: 1664877188.808204
currentState: 1664877188.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.828203917 -1.922 -0.0902 9.8 0 0 0.6295
1-2 processing imu...
it_last_IMU.time: 1664877188.818204
lastState: 1664877188.818204
currentState: 1664877188.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.838203907 -1.937 -0.09107 9.8 0 0 0.6347
1-2 processing imu...
it_last_IMU.time: 1664877188.828204
lastState: 1664877188.828204
currentState: 1664877188.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.848203897 -1.953 -0.09165 9.8 0 0 0.6398
1-2 processing imu...
it_last_IMU.time: 1664877188.838204
lastState: 1664877188.838204
currentState: 1664877188.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.858203888 -1.969 -0.09193 9.8 0 0 0.6449
1-2 processing imu...
it_last_IMU.time: 1664877188.848204
lastState: 1664877188.848204
currentState: 1664877188.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.868204117 -1.985 -0.0919 9.8 0 0 0.65
1-2 processing imu...
it_last_IMU.time: 1664877188.858204
lastState: 1664877188.858204
currentState: 1664877188.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.878204107 -2 -0.09221 9.8 0 0 0.6551
1-2 processing imu...
it_last_IMU.time: 1664877188.868204
lastState: 1664877188.868204
currentState: 1664877188.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.888204098 -2.015 -0.09338 9.8 0 0 0.6601
1-2 processing imu...
it_last_IMU.time: 1664877188.878204
lastState: 1664877188.878204
currentState: 1664877188.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.898204088 -2.03 -0.09425 9.8 0 0 0.6651
1-2 processing imu...
it_last_IMU.time: 1664877188.888204
lastState: 1664877188.888204
currentState: 1664877188.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.908204079 -2.045 -0.09483 9.8 0 0 0.67
1-2 processing imu...
it_last_IMU.time: 1664877188.898204
lastState: 1664877188.898204
currentState: 1664877188.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.918204069 -2.06 -0.09511 9.8 0 0 0.6749
1-2 processing imu...
it_last_IMU.time: 1664877188.908204
lastState: 1664877188.908204
currentState: 1664877188.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.928204060 -2.075 -0.09509 9.8 0 0 0.6798
1-2 processing imu...
it_last_IMU.time: 1664877188.918204
lastState: 1664877188.918204
currentState: 1664877188.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.938204050 -2.091 -0.09476 9.8 0 0 0.6846
1-2 processing imu...
it_last_IMU.time: 1664877188.928204
lastState: 1664877188.928204
currentState: 1664877188.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.948204041 -2.106 -0.09413 9.8 0 0 0.6893
1-2 processing imu...
it_last_IMU.time: 1664877188.938204
lastState: 1664877188.938204
currentState: 1664877188.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.958204031 -2.122 -0.09319 9.8 0 0 0.694
1-2 processing imu...
it_last_IMU.time: 1664877188.948204
lastState: 1664877188.948204
currentState: 1664877188.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.968204021 -2.137 -0.09194 9.8 0 0 0.6987
1-2 processing imu...
it_last_IMU.time: 1664877188.958204
lastState: 1664877188.958204
currentState: 1664877188.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.978204012 -2.152 -0.09127 9.8 0 0 0.7033
1-2 processing imu...
it_last_IMU.time: 1664877188.968204
lastState: 1664877188.968204
currentState: 1664877188.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877188.988204002 -2.167 -0.09203 9.8 0 0 0.7078
1-2 processing imu...
it_last_IMU.time: 1664877188.978204
lastState: 1664877188.978204
currentState: 1664877188.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877188.998203993 -2.181 -0.0925 9.8 0 0 0.7122
1-2 processing imu...
it_last_IMU.time: 1664877188.988204
lastState: 1664877188.988204
currentState: 1664877188.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.008203983 -2.195 -0.09267 9.8 0 0 0.7165
1-2 processing imu...
it_last_IMU.time: 1664877188.998204
lastState: 1664877188.998204
currentState: 1664877189.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.018203974 -2.21 -0.09255 9.8 0 0 0.7208
1-2 processing imu...
it_last_IMU.time: 1664877189.008204
lastState: 1664877189.008204
currentState: 1664877189.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.028203964 -2.224 -0.09212 9.8 0 0 0.7249
1-2 processing imu...
it_last_IMU.time: 1664877189.018204
lastState: 1664877189.018204
currentState: 1664877189.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.038203955 -2.239 -0.09141 9.8 0 0 0.729
1-2 processing imu...
it_last_IMU.time: 1664877189.028204
lastState: 1664877189.028204
currentState: 1664877189.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877189.020688057 -0.002964 0.05477 -0.01547 -0.005649 -0.005624 0.0318 0.9995
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877189.020688
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877189.020688
state->time: 1664877189.020688
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675587.303181166]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675587.303241133]: the fixed q :[-0.715, -0.684, 0.141, -0.0405][0m
[0m[ INFO] [1670675587.303266648]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675587.303281318]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: -0.002964 0.05477 -0.01547
p_wv: 18.52 -15.22 31
p: 18.15 -15.07 30.85
q: [-0.715, -0.684, 0.141, -0.0405]
l: 0.5156
residual in position: 0.1888 -0.02089 0.06037
q_err :[-0.987, -0.021, -0.122, -0.103]
residual in q: 0.04263 0.2463 0.2089
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877189.020688 it_next->second->time: 1664877189.028204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877189.028204 it_next->second->time: 1664877189.038204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.51 -15.11 30.96
hc: publish state after update
1-1 IMUCallback(): 1664877189.048203945 -2.253 -0.09039 9.8 0 0 0.7329
1-2 processing imu...
it_last_IMU.time: 1664877189.038204
lastState: 1664877189.038204
currentState: 1664877189.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.058203936 -2.268 -0.08907 9.8 0 0 0.7368
1-2 processing imu...
it_last_IMU.time: 1664877189.048204
lastState: 1664877189.048204
currentState: 1664877189.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.068203926 -2.283 -0.08745 9.8 0 0 0.7405
1-2 processing imu...
it_last_IMU.time: 1664877189.058204
lastState: 1664877189.058204
currentState: 1664877189.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.078203917 -2.297 -0.08616 9.8 0 0 0.7442
1-2 processing imu...
it_last_IMU.time: 1664877189.068204
lastState: 1664877189.068204
currentState: 1664877189.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.088203907 -2.306 -0.08586 9.8 0 0 0.7477
1-2 processing imu...
it_last_IMU.time: 1664877189.078204
lastState: 1664877189.078204
currentState: 1664877189.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.098203897 -2.316 -0.08535 9.8 0 0 0.7511
1-2 processing imu...
it_last_IMU.time: 1664877189.088204
lastState: 1664877189.088204
currentState: 1664877189.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.108203888 -2.326 -0.08462 9.8 0 0 0.7543
1-2 processing imu...
it_last_IMU.time: 1664877189.098204
lastState: 1664877189.098204
currentState: 1664877189.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.118204117 -2.336 -0.08367 9.8 0 0 0.7573
1-2 processing imu...
it_last_IMU.time: 1664877189.108204
lastState: 1664877189.108204
currentState: 1664877189.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.128204107 -2.346 -0.0825 9.8 0 0 0.7602
1-2 processing imu...
it_last_IMU.time: 1664877189.118204
lastState: 1664877189.118204
currentState: 1664877189.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.138204098 -2.356 -0.08111 9.8 0 0 0.763
1-2 processing imu...
it_last_IMU.time: 1664877189.128204
lastState: 1664877189.128204
currentState: 1664877189.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.148204088 -2.367 -0.07951 9.8 0 0 0.7656
1-2 processing imu...
it_last_IMU.time: 1664877189.138204
lastState: 1664877189.138204
currentState: 1664877189.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.158204079 -2.377 -0.07769 9.8 0 0 0.768
1-2 processing imu...
it_last_IMU.time: 1664877189.148204
lastState: 1664877189.148204
currentState: 1664877189.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.168204069 -2.388 -0.07566 9.8 0 0 0.7703
1-2 processing imu...
it_last_IMU.time: 1664877189.158204
lastState: 1664877189.158204
currentState: 1664877189.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.178204060 -2.397 -0.07286 9.8 0 0 0.7724
1-2 processing imu...
it_last_IMU.time: 1664877189.168204
lastState: 1664877189.168204
currentState: 1664877189.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.188204050 -2.403 -0.06875 9.8 0 0 0.7743
1-2 processing imu...
it_last_IMU.time: 1664877189.178204
lastState: 1664877189.178204
currentState: 1664877189.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.198204041 -2.41 -0.06449 9.8 0 0 0.7761
1-2 processing imu...
it_last_IMU.time: 1664877189.188204
lastState: 1664877189.188204
currentState: 1664877189.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.208204031 -2.416 -0.0601 9.8 0 0 0.7776
1-2 processing imu...
it_last_IMU.time: 1664877189.198204
lastState: 1664877189.198204
currentState: 1664877189.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.218204021 -2.423 -0.05558 9.8 0 0 0.7789
1-2 processing imu...
it_last_IMU.time: 1664877189.208204
lastState: 1664877189.208204
currentState: 1664877189.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.228204012 -2.429 -0.05093 9.8 0 0 0.7801
1-2 processing imu...
it_last_IMU.time: 1664877189.218204
lastState: 1664877189.218204
currentState: 1664877189.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.238204002 -2.436 -0.04616 9.8 0 0 0.781
1-2 processing imu...
it_last_IMU.time: 1664877189.228204
lastState: 1664877189.228204
currentState: 1664877189.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.248203993 -2.443 -0.04126 9.8 0 0 0.7817
1-2 processing imu...
it_last_IMU.time: 1664877189.238204
lastState: 1664877189.238204
currentState: 1664877189.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.258203983 -2.45 -0.03624 9.8 0 0 0.7823
1-2 processing imu...
it_last_IMU.time: 1664877189.248204
lastState: 1664877189.248204
currentState: 1664877189.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.268203974 -2.456 -0.03111 9.8 0 0 0.7826
1-2 processing imu...
it_last_IMU.time: 1664877189.258204
lastState: 1664877189.258204
currentState: 1664877189.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.278203964 -2.461 -0.02489 9.8 0 0 0.7827
1-2 processing imu...
it_last_IMU.time: 1664877189.268204
lastState: 1664877189.268204
currentState: 1664877189.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.288203955 -2.459 -0.01654 9.8 0 0 0.7826
1-2 processing imu...
it_last_IMU.time: 1664877189.278204
lastState: 1664877189.278204
currentState: 1664877189.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.298203945 -2.458 -0.008219 9.8 0 0 0.7823
1-2 processing imu...
it_last_IMU.time: 1664877189.288204
lastState: 1664877189.288204
currentState: 1664877189.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.308203936 -2.456 6.7e-05 9.8 0 0 0.7817
1-2 processing imu...
it_last_IMU.time: 1664877189.298204
lastState: 1664877189.298204
currentState: 1664877189.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.318203926 -2.455 0.008312 9.8 0 0 0.7809
1-2 processing imu...
it_last_IMU.time: 1664877189.308204
lastState: 1664877189.308204
currentState: 1664877189.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.328203917 -2.453 0.01651 9.8 0 0 0.7798
1-2 processing imu...
it_last_IMU.time: 1664877189.318204
lastState: 1664877189.318204
currentState: 1664877189.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.338203907 -2.452 0.02466 9.8 0 0 0.7785
1-2 processing imu...
it_last_IMU.time: 1664877189.328204
lastState: 1664877189.328204
currentState: 1664877189.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.348203897 -2.45 0.03276 9.8 0 0 0.777
1-2 processing imu...
it_last_IMU.time: 1664877189.338204
lastState: 1664877189.338204
currentState: 1664877189.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.358203888 -2.449 0.04079 9.8 0 0 0.7752
1-2 processing imu...
it_last_IMU.time: 1664877189.348204
lastState: 1664877189.348204
currentState: 1664877189.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.368204117 -2.448 0.04876 9.8 0 0 0.7732
1-2 processing imu...
it_last_IMU.time: 1664877189.358204
lastState: 1664877189.358204
currentState: 1664877189.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.378204107 -2.444 0.05659 9.8 0 0 0.771
1-2 processing imu...
it_last_IMU.time: 1664877189.368204
lastState: 1664877189.368204
currentState: 1664877189.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.388204098 -2.434 0.0641 9.8 0 0 0.7685
1-2 processing imu...
it_last_IMU.time: 1664877189.378204
lastState: 1664877189.378204
currentState: 1664877189.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.398204088 -2.425 0.07142 9.8 0 0 0.7658
1-2 processing imu...
it_last_IMU.time: 1664877189.388204
lastState: 1664877189.388204
currentState: 1664877189.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.408204079 -2.415 0.07851 9.8 0 0 0.7627
1-2 processing imu...
it_last_IMU.time: 1664877189.398204
lastState: 1664877189.398204
currentState: 1664877189.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.418204069 -2.406 0.0854 9.8 0 0 0.7595
1-2 processing imu...
it_last_IMU.time: 1664877189.408204
lastState: 1664877189.408204
currentState: 1664877189.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.428204060 -2.396 0.09206 9.8 0 0 0.7559
1-2 processing imu...
it_last_IMU.time: 1664877189.418204
lastState: 1664877189.418204
currentState: 1664877189.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.438204050 -2.387 0.0985 9.8 0 0 0.7521
1-2 processing imu...
it_last_IMU.time: 1664877189.428204
lastState: 1664877189.428204
currentState: 1664877189.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877189.424695015 0.01779 0.05927 -0.01482 -0.005365 -0.002939 0.2008 0.9796
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877189.424695
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877189.424695
state->time: 1664877189.424695
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675588.145889044]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675588.145935796]: the fixed q :[-0.704, -0.692, 0.0716, -0.144][0m
[0m[ INFO] [1670675588.145945455]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675588.145960359]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.01779 0.05927 -0.01482
p_wv: 18.52 -15.22 31
p: 18.16 -15.12 30.8
q: [-0.704, -0.692, 0.0716, -0.144]
l: 0.5155
residual in position: 0.2025 0.009321 0.08856
q_err :[-0.978, -0.0329, -0.145, -0.149]
residual in q: 0.0674 0.2966 0.3047
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877189.424695 it_next->second->time: 1664877189.428204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877189.428204 it_next->second->time: 1664877189.438204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.55 -15.1 30.96
hc: publish state after update
1-1 IMUCallback(): 1664877189.448204041 -2.378 0.1047 9.8 0 0 0.7481
1-2 processing imu...
it_last_IMU.time: 1664877189.438204
lastState: 1664877189.438204
currentState: 1664877189.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.458204031 -2.368 0.1107 9.8 0 0 0.7438
1-2 processing imu...
it_last_IMU.time: 1664877189.448204
lastState: 1664877189.448204
currentState: 1664877189.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.468204021 -2.359 0.1164 9.8 0 0 0.7392
1-2 processing imu...
it_last_IMU.time: 1664877189.458204
lastState: 1664877189.458204
currentState: 1664877189.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.478204012 -2.347 0.122 9.8 0 0 0.7344
1-2 processing imu...
it_last_IMU.time: 1664877189.468204
lastState: 1664877189.468204
currentState: 1664877189.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.488204002 -2.329 0.1272 9.8 0 0 0.7293
1-2 processing imu...
it_last_IMU.time: 1664877189.478204
lastState: 1664877189.478204
currentState: 1664877189.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.498203993 -2.311 0.1321 9.8 0 0 0.724
1-2 processing imu...
it_last_IMU.time: 1664877189.488204
lastState: 1664877189.488204
currentState: 1664877189.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.508203983 -2.293 0.1365 9.8 0 0 0.7184
1-2 processing imu...
it_last_IMU.time: 1664877189.498204
lastState: 1664877189.498204
currentState: 1664877189.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.518203974 -2.275 0.1406 9.8 0 0 0.7126
1-2 processing imu...
it_last_IMU.time: 1664877189.508204
lastState: 1664877189.508204
currentState: 1664877189.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.528203964 -2.257 0.1443 9.8 0 0 0.7066
1-2 processing imu...
it_last_IMU.time: 1664877189.518204
lastState: 1664877189.518204
currentState: 1664877189.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.538203955 -2.239 0.1477 9.8 0 0 0.7003
1-2 processing imu...
it_last_IMU.time: 1664877189.528204
lastState: 1664877189.528204
currentState: 1664877189.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.548203945 -2.221 0.1506 9.8 0 0 0.6937
1-2 processing imu...
it_last_IMU.time: 1664877189.538204
lastState: 1664877189.538204
currentState: 1664877189.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.558203936 -2.203 0.1531 9.8 0 0 0.6869
1-2 processing imu...
it_last_IMU.time: 1664877189.548204
lastState: 1664877189.548204
currentState: 1664877189.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.568203926 -2.185 0.1553 9.8 0 0 0.6799
1-2 processing imu...
it_last_IMU.time: 1664877189.558204
lastState: 1664877189.558204
currentState: 1664877189.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.578203917 -2.165 0.1577 9.8 0 0 0.6726
1-2 processing imu...
it_last_IMU.time: 1664877189.568204
lastState: 1664877189.568204
currentState: 1664877189.578204
Loop detected!
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.588203907 -2.136 0.1611 9.8 0 0 0.6652
1-2 processing imu...
it_last_IMU.time: 1664877189.578204
lastState: 1664877189.578204
currentState: 1664877189.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.598203897 -2.108 0.164 9.8 0 0 0.6575
1-2 processing imu...
it_last_IMU.time: 1664877189.588204
lastState: 1664877189.588204
currentState: 1664877189.598204
Local Mapping STOP
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.608203888 -2.079 0.1664 9.8 0 0 0.6497
1-2 processing imu...
it_last_IMU.time: 1664877189.598204
lastState: 1664877189.598204
currentState: 1664877189.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.618204117 -2.051 0.1683 9.8 0 0 0.6417
1-2 processing imu...
it_last_IMU.time: 1664877189.608204
lastState: 1664877189.608204
currentState: 1664877189.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.628204107 -2.023 0.1696 9.8 0 0 0.6335
1-2 processing imu...
it_last_IMU.time: 1664877189.618204
lastState: 1664877189.618204
currentState: 1664877189.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.638204098 -1.995 0.1704 9.8 0 0 0.6251
1-2 processing imu...
it_last_IMU.time: 1664877189.628204
lastState: 1664877189.628204
currentState: 1664877189.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.648204088 -1.967 0.1707 9.8 0 0 0.6165
1-2 processing imu...
it_last_IMU.time: 1664877189.638204
lastState: 1664877189.638204
currentState: 1664877189.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.658204079 -1.939 0.1705 9.8 0 0 0.6078
1-2 processing imu...
it_last_IMU.time: 1664877189.648204
lastState: 1664877189.648204
currentState: 1664877189.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.668204069 -1.911 0.1698 9.8 0 0 0.5988
1-2 processing imu...
it_last_IMU.time: 1664877189.658204
lastState: 1664877189.658204
currentState: 1664877189.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.678204060 -1.882 0.1684 9.8 0 0 0.5897
1-2 processing imu...
it_last_IMU.time: 1664877189.668204
lastState: 1664877189.668204
currentState: 1664877189.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.688204050 -1.849 0.1662 9.8 0 0 0.5804
1-2 processing imu...
it_last_IMU.time: 1664877189.678204
lastState: 1664877189.678204
currentState: 1664877189.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.698204041 -1.816 0.1634 9.8 0 0 0.5711
1-2 processing imu...
it_last_IMU.time: 1664877189.688204
lastState: 1664877189.688204
currentState: 1664877189.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.708204031 -1.783 0.1601 9.8 0 0 0.5616
1-2 processing imu...
it_last_IMU.time: 1664877189.698204
lastState: 1664877189.698204
currentState: 1664877189.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.718204021 -1.751 0.1563 9.8 0 0 0.552
1-2 processing imu...
it_last_IMU.time: 1664877189.708204
lastState: 1664877189.708204
currentState: 1664877189.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.728204012 -1.718 0.1519 9.8 0 0 0.5423
1-2 processing imu...
it_last_IMU.time: 1664877189.718204
lastState: 1664877189.718204
currentState: 1664877189.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.738204002 -1.686 0.1471 9.8 0 0 0.5325
1-2 processing imu...
it_last_IMU.time: 1664877189.728204
lastState: 1664877189.728204
currentState: 1664877189.738204
Local Mapping RELEASE
Starting Global Bundle Adjustment
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.748203993 -1.654 0.1417 9.8 0 0 0.5225
1-2 processing imu...
it_last_IMU.time: 1664877189.738204
lastState: 1664877189.738204
currentState: 1664877189.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.758203983 -1.621 0.1358 9.8 0 0 0.5125
1-2 processing imu...
it_last_IMU.time: 1664877189.748204
lastState: 1664877189.748204
currentState: 1664877189.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.768203974 -1.589 0.1294 9.8 0 0 0.5023
1-2 processing imu...
it_last_IMU.time: 1664877189.758204
lastState: 1664877189.758204
currentState: 1664877189.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.778203964 -1.557 0.1237 9.8 0 0 0.4921
1-2 processing imu...
it_last_IMU.time: 1664877189.768204
lastState: 1664877189.768204
currentState: 1664877189.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.788203955 -1.521 0.1205 9.8 0 0 0.4818
1-2 processing imu...
it_last_IMU.time: 1664877189.778204
lastState: 1664877189.778204
currentState: 1664877189.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.798203945 -1.486 0.1167 9.8 0 0 0.4715
1-2 processing imu...
it_last_IMU.time: 1664877189.788204
lastState: 1664877189.788204
currentState: 1664877189.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.808203936 -1.451 0.1125 9.8 0 0 0.4612
1-2 processing imu...
it_last_IMU.time: 1664877189.798204
lastState: 1664877189.798204
currentState: 1664877189.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.818203926 -1.415 0.1078 9.8 0 0 0.4509
1-2 processing imu...
it_last_IMU.time: 1664877189.808204
lastState: 1664877189.808204
currentState: 1664877189.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.828203917 -1.38 0.1027 9.8 0 0 0.4406
1-2 processing imu...
it_last_IMU.time: 1664877189.818204
lastState: 1664877189.818204
currentState: 1664877189.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.838203907 -1.345 0.09705 9.8 0 0 0.4304
1-2 processing imu...
it_last_IMU.time: 1664877189.828204
lastState: 1664877189.828204
currentState: 1664877189.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.848203897 -1.31 0.09101 9.8 0 0 0.4201
1-2 processing imu...
it_last_IMU.time: 1664877189.838204
lastState: 1664877189.838204
currentState: 1664877189.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.858203888 -1.276 0.08454 9.8 0 0 0.4099
1-2 processing imu...
it_last_IMU.time: 1664877189.848204
lastState: 1664877189.848204
currentState: 1664877189.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.868204117 -1.241 0.07766 9.8 0 0 0.3996
1-2 processing imu...
it_last_IMU.time: 1664877189.858204
lastState: 1664877189.858204
currentState: 1664877189.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877189.843331099 0.04195 0.02066 0.001347 0.000302 0.001321 0.36 0.9329
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877189.843331
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877189.843331
state->time: 1664877189.843331
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675589.036676733]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675589.036709280]: the fixed q :[-0.676, -0.691, -0.0779, -0.242][0m
[0m[ INFO] [1670675589.036717788]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675589.036734410]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.04195 0.02066 0.001347
p_wv: 18.52 -15.22 31
p: 18.34 -15.23 30.79
q: [-0.676, -0.691, -0.0779, -0.242]
l: 0.5156
residual in position: 0.1328 0.02686 0.1082
q_err :[-0.984, -0.0323, -0.113, -0.137]
residual in q: 0.06569 0.2304 0.279
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877189.843331 it_next->second->time: 1664877189.848204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877189.848204 it_next->second->time: 1664877189.858204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877189.858204 it_next->second->time: 1664877189.868204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.61 -15.2 31
hc: publish state after update
1-1 IMUCallback(): 1664877189.878204107 -1.206 0.07185 9.8 0 0 0.3894
1-2 processing imu...
it_last_IMU.time: 1664877189.868204
lastState: 1664877189.868204
currentState: 1664877189.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.888204098 -1.172 0.06975 9.8 0 0 0.3792
1-2 processing imu...
it_last_IMU.time: 1664877189.878204
lastState: 1664877189.878204
currentState: 1664877189.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.898204088 -1.137 0.06728 9.8 0 0 0.3692
1-2 processing imu...
it_last_IMU.time: 1664877189.888204
lastState: 1664877189.888204
currentState: 1664877189.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.908204079 -1.103 0.06444 9.8 0 0 0.3592
1-2 processing imu...
it_last_IMU.time: 1664877189.898204
lastState: 1664877189.898204
currentState: 1664877189.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.918204069 -1.069 0.06125 9.8 0 0 0.3493
1-2 processing imu...
it_last_IMU.time: 1664877189.908204
lastState: 1664877189.908204
currentState: 1664877189.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.928204060 -1.035 0.05771 9.8 0 0 0.3396
1-2 processing imu...
it_last_IMU.time: 1664877189.918204
lastState: 1664877189.918204
currentState: 1664877189.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.938204050 -1 0.05384 9.8 0 0 0.3299
1-2 processing imu...
it_last_IMU.time: 1664877189.928204
lastState: 1664877189.928204
currentState: 1664877189.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.948204041 -0.9663 0.04965 9.8 0 0 0.3203
1-2 processing imu...
it_last_IMU.time: 1664877189.938204
lastState: 1664877189.938204
currentState: 1664877189.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877189.958204031 -0.9321 0.04515 9.8 0 0 0.3108
1-2 processing imu...
it_last_IMU.time: 1664877189.948204
lastState: 1664877189.948204
currentState: 1664877189.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.968204021 -0.8981 0.04035 9.8 0 0 0.3014
1-2 processing imu...
it_last_IMU.time: 1664877189.958204
lastState: 1664877189.958204
currentState: 1664877189.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.978204012 -0.8651 0.03586 9.8 0 0 0.2921
1-2 processing imu...
it_last_IMU.time: 1664877189.968204
lastState: 1664877189.968204
currentState: 1664877189.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.988204002 -0.8354 0.03284 9.8 0 0 0.2829
1-2 processing imu...
it_last_IMU.time: 1664877189.978204
lastState: 1664877189.978204
currentState: 1664877189.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877189.998203993 -0.8056 0.02958 9.8 0 0 0.2739
1-2 processing imu...
it_last_IMU.time: 1664877189.988204
lastState: 1664877189.988204
currentState: 1664877189.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.008203983 -0.7759 0.02608 9.8 0 0 0.265
1-2 processing imu...
it_last_IMU.time: 1664877189.998204
lastState: 1664877189.998204
currentState: 1664877190.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.018203974 -0.7463 0.02236 9.8 0 0 0.2562
1-2 processing imu...
it_last_IMU.time: 1664877190.008204
lastState: 1664877190.008204
currentState: 1664877190.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.028203964 -0.7166 0.01842 9.8 0 0 0.2476
1-2 processing imu...
it_last_IMU.time: 1664877190.018204
lastState: 1664877190.018204
currentState: 1664877190.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.038203955 -0.687 0.01427 9.8 0 0 0.239
1-2 processing imu...
it_last_IMU.time: 1664877190.028204
lastState: 1664877190.028204
currentState: 1664877190.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.048203945 -0.6574 0.009924 9.8 0 0 0.2307
1-2 processing imu...
it_last_IMU.time: 1664877190.038204
lastState: 1664877190.038204
currentState: 1664877190.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.058203936 -0.6278 0.005386 9.8 0 0 0.2224
1-2 processing imu...
it_last_IMU.time: 1664877190.048204
lastState: 1664877190.048204
currentState: 1664877190.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.068203926 -0.5983 0.000665 9.8 0 0 0.2143
1-2 processing imu...
it_last_IMU.time: 1664877190.058204
lastState: 1664877190.058204
currentState: 1664877190.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.078203917 -0.5702 -0.00329 9.8 0 0 0.2063
1-2 processing imu...
it_last_IMU.time: 1664877190.068204
lastState: 1664877190.068204
currentState: 1664877190.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.088203907 -0.5465 -0.004499 9.8 0 0 0.1984
1-2 processing imu...
it_last_IMU.time: 1664877190.078204
lastState: 1664877190.078204
currentState: 1664877190.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.098203897 -0.5228 -0.005844 9.8 0 0 0.1907
1-2 processing imu...
it_last_IMU.time: 1664877190.088204
lastState: 1664877190.088204
currentState: 1664877190.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.108203888 -0.499 -0.007319 9.8 0 0 0.1832
1-2 processing imu...
it_last_IMU.time: 1664877190.098204
lastState: 1664877190.098204
currentState: 1664877190.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.118204117 -0.4753 -0.008919 9.8 0 0 0.1757
1-2 processing imu...
it_last_IMU.time: 1664877190.108204
lastState: 1664877190.108204
currentState: 1664877190.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.128204107 -0.4516 -0.01064 9.8 0 0 0.1685
1-2 processing imu...
it_last_IMU.time: 1664877190.118204
lastState: 1664877190.118204
currentState: 1664877190.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.138204098 -0.428 -0.01247 9.8 0 0 0.1614
1-2 processing imu...
it_last_IMU.time: 1664877190.128204
lastState: 1664877190.128204
currentState: 1664877190.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.148204088 -0.4043 -0.0144 9.8 0 0 0.1544
1-2 processing imu...
it_last_IMU.time: 1664877190.138204
lastState: 1664877190.138204
currentState: 1664877190.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.158204079 -0.3806 -0.01644 9.8 0 0 0.1476
1-2 processing imu...
it_last_IMU.time: 1664877190.148204
lastState: 1664877190.148204
currentState: 1664877190.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.168204069 -0.3569 -0.01858 9.8 0 0 0.1409
1-2 processing imu...
it_last_IMU.time: 1664877190.158204
lastState: 1664877190.158204
currentState: 1664877190.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.178204060 -0.3347 -0.02055 9.8 0 0 0.1343
1-2 processing imu...
it_last_IMU.time: 1664877190.168204
lastState: 1664877190.168204
currentState: 1664877190.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.188204050 -0.317 -0.02176 9.8 0 0 0.128
1-2 processing imu...
it_last_IMU.time: 1664877190.178204
lastState: 1664877190.178204
currentState: 1664877190.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.198204041 -0.2994 -0.02305 9.8 0 0 0.1217
1-2 processing imu...
it_last_IMU.time: 1664877190.188204
lastState: 1664877190.188204
currentState: 1664877190.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.208204031 -0.2818 -0.02439 9.8 0 0 0.1157
1-2 processing imu...
it_last_IMU.time: 1664877190.198204
lastState: 1664877190.198204
currentState: 1664877190.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.218204021 -0.2641 -0.02579 9.8 0 0 0.1097
1-2 processing imu...
it_last_IMU.time: 1664877190.208204
lastState: 1664877190.208204
currentState: 1664877190.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.228204012 -0.2465 -0.02725 9.8 0 0 0.104
1-2 processing imu...
it_last_IMU.time: 1664877190.218204
lastState: 1664877190.218204
currentState: 1664877190.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.238204002 -0.2289 -0.02876 9.8 0 0 0.09835
1-2 processing imu...
it_last_IMU.time: 1664877190.228204
lastState: 1664877190.228204
currentState: 1664877190.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.248203993 -0.2112 -0.03031 9.8 0 0 0.09289
1-2 processing imu...
it_last_IMU.time: 1664877190.238204
lastState: 1664877190.238204
currentState: 1664877190.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.258203983 -0.1936 -0.03191 9.8 0 0 0.08759
1-2 processing imu...
it_last_IMU.time: 1664877190.248204
lastState: 1664877190.248204
currentState: 1664877190.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.268203974 -0.176 -0.03355 9.8 0 0 0.08244
1-2 processing imu...
it_last_IMU.time: 1664877190.258204
lastState: 1664877190.258204
currentState: 1664877190.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.278203964 -0.1596 -0.03496 9.8 0 0 0.07744
1-2 processing imu...
it_last_IMU.time: 1664877190.268204
lastState: 1664877190.268204
currentState: 1664877190.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877190.262989998 0.05848 0.03717 0.001353 0.0004204 0.001034 0.3843 0.9232
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877190.262990
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877190.262990
state->time: 1664877190.262990
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675589.940384024]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675589.940479054]: the fixed q :[-0.647, -0.655, -0.254, -0.297][0m
[0m[ INFO] [1670675589.940532598]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675589.940583546]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.05848 0.03717 0.001353
p_wv: 18.52 -15.22 31
p: 18.72 -15.52 30.98
q: [-0.647, -0.655, -0.254, -0.297]
l: 0.5156
residual in position: -0.04605 0.1914 0.01197
q_err :[-0.999, -0.00731, -0.0304, 0.00579]
residual in q: 0.01463 0.06089 -0.01159
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877190.262990 it_next->second->time: 1664877190.268204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877190.268204 it_next->second->time: 1664877190.278204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.64 -15.15 31
hc: publish state after update
1-1 IMUCallback(): 1664877190.288203955 -0.1476 -0.03548 9.8 0 0 0.07259
1-2 processing imu...
it_last_IMU.time: 1664877190.278204
lastState: 1664877190.278204
currentState: 1664877190.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.298203945 -0.1356 -0.03603 9.8 0 0 0.06789
1-2 processing imu...
it_last_IMU.time: 1664877190.288204
lastState: 1664877190.288204
currentState: 1664877190.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.308203936 -0.1235 -0.0366 9.8 0 0 0.06333
1-2 processing imu...
it_last_IMU.time: 1664877190.298204
lastState: 1664877190.298204
currentState: 1664877190.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.318203926 -0.1115 -0.03719 9.8 0 0 0.05892
1-2 processing imu...
it_last_IMU.time: 1664877190.308204
lastState: 1664877190.308204
currentState: 1664877190.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.328203917 -0.09948 -0.0378 9.8 0 0 0.05466
1-2 processing imu...
it_last_IMU.time: 1664877190.318204
lastState: 1664877190.318204
currentState: 1664877190.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.338203907 -0.08745 -0.03843 9.8 0 0 0.05054
1-2 processing imu...
it_last_IMU.time: 1664877190.328204
lastState: 1664877190.328204
currentState: 1664877190.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.348203897 -0.07541 -0.03907 9.8 0 0 0.04658
1-2 processing imu...
it_last_IMU.time: 1664877190.338204
lastState: 1664877190.338204
currentState: 1664877190.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.358203888 -0.06338 -0.03973 9.8 0 0 0.04276
1-2 processing imu...
it_last_IMU.time: 1664877190.348204
lastState: 1664877190.348204
currentState: 1664877190.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.368204117 -0.05134 -0.0404 9.8 0 0 0.03908
1-2 processing imu...
it_last_IMU.time: 1664877190.358204
lastState: 1664877190.358204
currentState: 1664877190.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.378204107 -0.04031 -0.04069 9.8 0 0 0.03556
1-2 processing imu...
it_last_IMU.time: 1664877190.368204
lastState: 1664877190.368204
currentState: 1664877190.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.388204098 -0.03292 -0.03959 9.8 0 0 0.03216
1-2 processing imu...
it_last_IMU.time: 1664877190.378204
lastState: 1664877190.378204
currentState: 1664877190.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.398204088 -0.02552 -0.0385 9.8 0 0 0.02889
1-2 processing imu...
it_last_IMU.time: 1664877190.388204
lastState: 1664877190.388204
currentState: 1664877190.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.408204079 -0.01811 -0.03741 9.8 0 0 0.02574
1-2 processing imu...
it_last_IMU.time: 1664877190.398204
lastState: 1664877190.398204
currentState: 1664877190.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.418204069 -0.01071 -0.03633 9.8 0 0 0.02272
1-2 processing imu...
it_last_IMU.time: 1664877190.408204
lastState: 1664877190.408204
currentState: 1664877190.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.428204060 -0.003308 -0.03524 9.8 0 0 0.01982
1-2 processing imu...
it_last_IMU.time: 1664877190.418204
lastState: 1664877190.418204
currentState: 1664877190.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.438204050 0.004098 -0.03417 9.8 0 0 0.01705
1-2 processing imu...
it_last_IMU.time: 1664877190.428204
lastState: 1664877190.428204
currentState: 1664877190.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.448204041 0.01151 -0.03309 9.8 0 0 0.01441
1-2 processing imu...
it_last_IMU.time: 1664877190.438204
lastState: 1664877190.438204
currentState: 1664877190.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.458204031 0.01891 -0.03202 9.8 0 0 0.01188
1-2 processing imu...
it_last_IMU.time: 1664877190.448204
lastState: 1664877190.448204
currentState: 1664877190.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.468204021 0.02632 -0.03095 9.8 0 0 0.009487
1-2 processing imu...
it_last_IMU.time: 1664877190.458204
lastState: 1664877190.458204
currentState: 1664877190.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.478204012 0.03302 -0.03015 9.8 0 0 0.007214
1-2 processing imu...
it_last_IMU.time: 1664877190.468204
lastState: 1664877190.468204
currentState: 1664877190.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.488204002 0.03704 -0.0304 9.8 0 0 0.005048
1-2 processing imu...
it_last_IMU.time: 1664877190.478204
lastState: 1664877190.478204
currentState: 1664877190.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.498203993 0.04106 -0.03065 9.8 0 0 0.002981
1-2 processing imu...
it_last_IMU.time: 1664877190.488204
lastState: 1664877190.488204
currentState: 1664877190.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.508203983 0.04507 -0.0309 9.8 0 0 0.001012
1-2 processing imu...
it_last_IMU.time: 1664877190.498204
lastState: 1664877190.498204
currentState: 1664877190.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.518203974 0.04909 -0.03115 9.8 0 0 -0.000858
1-2 processing imu...
it_last_IMU.time: 1664877190.508204
lastState: 1664877190.508204
currentState: 1664877190.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.528203964 0.05311 -0.03139 9.8 0 0 -0.00263
1-2 processing imu...
it_last_IMU.time: 1664877190.518204
lastState: 1664877190.518204
currentState: 1664877190.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.538203955 0.05713 -0.03164 9.8 0 0 -0.004303
1-2 processing imu...
it_last_IMU.time: 1664877190.528204
lastState: 1664877190.528204
currentState: 1664877190.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.548203945 0.06115 -0.03189 9.8 0 0 -0.005877
1-2 processing imu...
it_last_IMU.time: 1664877190.538204
lastState: 1664877190.538204
currentState: 1664877190.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.558203936 0.06517 -0.03213 9.8 0 0 -0.007353
1-2 processing imu...
it_last_IMU.time: 1664877190.548204
lastState: 1664877190.548204
currentState: 1664877190.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.568203926 0.0692 -0.03237 9.8 0 0 -0.008731
1-2 processing imu...
it_last_IMU.time: 1664877190.558204
lastState: 1664877190.558204
currentState: 1664877190.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.578203917 0.07269 -0.0322 9.8 0 0 -0.01001
1-2 processing imu...
it_last_IMU.time: 1664877190.568204
lastState: 1664877190.568204
currentState: 1664877190.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.588203907 0.07406 -0.03039 9.8 0 0 -0.01121
1-2 processing imu...
it_last_IMU.time: 1664877190.578204
lastState: 1664877190.578204
currentState: 1664877190.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.598203897 0.07544 -0.02859 9.8 0 0 -0.01234
1-2 processing imu...
it_last_IMU.time: 1664877190.588204
lastState: 1664877190.588204
currentState: 1664877190.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.608203888 0.07681 -0.02678 9.8 0 0 -0.0134
1-2 processing imu...
it_last_IMU.time: 1664877190.598204
lastState: 1664877190.598204
currentState: 1664877190.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.618204117 0.07819 -0.02497 9.8 0 0 -0.01439
1-2 processing imu...
it_last_IMU.time: 1664877190.608204
lastState: 1664877190.608204
currentState: 1664877190.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.628204107 0.07956 -0.02316 9.8 0 0 -0.01531
1-2 processing imu...
it_last_IMU.time: 1664877190.618204
lastState: 1664877190.618204
currentState: 1664877190.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.638204098 0.08093 -0.02134 9.8 0 0 -0.01616
1-2 processing imu...
it_last_IMU.time: 1664877190.628204
lastState: 1664877190.628204
currentState: 1664877190.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.648204088 0.08231 -0.01953 9.8 0 0 -0.01694
1-2 processing imu...
it_last_IMU.time: 1664877190.638204
lastState: 1664877190.638204
currentState: 1664877190.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.658204079 0.08368 -0.01772 9.8 0 0 -0.01765
1-2 processing imu...
it_last_IMU.time: 1664877190.648204
lastState: 1664877190.648204
currentState: 1664877190.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.668204069 0.08505 -0.0159 9.8 0 0 -0.01829
1-2 processing imu...
it_last_IMU.time: 1664877190.658204
lastState: 1664877190.658204
currentState: 1664877190.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.678204060 0.08614 -0.01402 9.8 0 0 -0.01886
1-2 processing imu...
it_last_IMU.time: 1664877190.668204
lastState: 1664877190.668204
currentState: 1664877190.678204
Global Bundle Adjustment finished
Updating map ...
Local Mapping STOP
Local Mapping RELEASE
Map updated!
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.688204050 0.08604 -0.01186 9.8 0 0 -0.01938
1-2 processing imu...
it_last_IMU.time: 1664877190.678204
lastState: 1664877190.678204
currentState: 1664877190.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.698204041 0.08593 -0.009699 9.8 0 0 -0.01985
1-2 processing imu...
it_last_IMU.time: 1664877190.688204
lastState: 1664877190.688204
currentState: 1664877190.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877190.681611061 0.08057 0.05697 -0.0004775 -0.0008782 -0.001312 0.3845 0.9231
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877190.681611
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877190.681611
state->time: 1664877190.681611
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675590.808832801]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675590.808948586]: the fixed q :[-0.652, -0.635, -0.303, -0.283][0m
[0m[ INFO] [1670675590.809002431]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675590.809075735]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.08057 0.05697 -0.0004775
p_wv: 18.52 -15.22 31
p: 18.8 -15.18 31
q: [-0.652, -0.635, -0.303, -0.283]
l: 0.5154
residual in position: -0.06501 0.03833 -0.0004984
q_err :[-0.999, -0.00395, 0.0186, 0.0323]
residual in q: 0.007904 -0.03727 -0.06472
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877190.681611 it_next->second->time: 1664877190.688204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877190.688204 it_next->second->time: 1664877190.698204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.68 -15.11 31
hc: publish state after update
1-1 IMUCallback(): 1664877190.708204031 0.08582 -0.007539 9.8 0 0 -0.02027
1-2 processing imu...
it_last_IMU.time: 1664877190.698204
lastState: 1664877190.698204
currentState: 1664877190.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.718204021 0.08571 -0.005379 9.8 0 0 -0.02064
1-2 processing imu...
it_last_IMU.time: 1664877190.708204
lastState: 1664877190.708204
currentState: 1664877190.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.728204012 0.0856 -0.003218 9.8 0 0 -0.02096
1-2 processing imu...
it_last_IMU.time: 1664877190.718204
lastState: 1664877190.718204
currentState: 1664877190.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.738204002 0.08549 -0.001057 9.8 0 0 -0.02124
1-2 processing imu...
it_last_IMU.time: 1664877190.728204
lastState: 1664877190.728204
currentState: 1664877190.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.748203993 0.08538 0.001104 9.8 0 0 -0.02147
1-2 processing imu...
it_last_IMU.time: 1664877190.738204
lastState: 1664877190.738204
currentState: 1664877190.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.758203983 0.08526 0.003266 9.8 0 0 -0.02165
1-2 processing imu...
it_last_IMU.time: 1664877190.748204
lastState: 1664877190.748204
currentState: 1664877190.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.768203974 0.08515 0.005427 9.8 0 0 -0.02178
1-2 processing imu...
it_last_IMU.time: 1664877190.758204
lastState: 1664877190.758204
currentState: 1664877190.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.778203964 0.08486 0.007426 9.8 0 0 -0.02187
1-2 processing imu...
it_last_IMU.time: 1664877190.768204
lastState: 1664877190.768204
currentState: 1664877190.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.788203955 0.08379 0.008697 9.8 0 0 -0.02192
1-2 processing imu...
it_last_IMU.time: 1664877190.778204
lastState: 1664877190.778204
currentState: 1664877190.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.798203945 0.08273 0.009967 9.8 0 0 -0.02194
1-2 processing imu...
it_last_IMU.time: 1664877190.788204
lastState: 1664877190.788204
currentState: 1664877190.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.808203936 0.08166 0.01124 9.8 0 0 -0.02194
1-2 processing imu...
it_last_IMU.time: 1664877190.798204
lastState: 1664877190.798204
currentState: 1664877190.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.818203926 0.08059 0.01251 9.8 0 0 -0.02191
1-2 processing imu...
it_last_IMU.time: 1664877190.808204
lastState: 1664877190.808204
currentState: 1664877190.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.828203917 0.07952 0.01378 9.8 0 0 -0.02184
1-2 processing imu...
it_last_IMU.time: 1664877190.818204
lastState: 1664877190.818204
currentState: 1664877190.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.838203907 0.07845 0.01504 9.8 0 0 -0.02176
1-2 processing imu...
it_last_IMU.time: 1664877190.828204
lastState: 1664877190.828204
currentState: 1664877190.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.848203897 0.07738 0.01631 9.8 0 0 -0.02164
1-2 processing imu...
it_last_IMU.time: 1664877190.838204
lastState: 1664877190.838204
currentState: 1664877190.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.858203888 0.07631 0.01758 9.8 0 0 -0.0215
1-2 processing imu...
it_last_IMU.time: 1664877190.848204
lastState: 1664877190.848204
currentState: 1664877190.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.868204117 0.07524 0.01885 9.8 0 0 -0.02133
1-2 processing imu...
it_last_IMU.time: 1664877190.858204
lastState: 1664877190.858204
currentState: 1664877190.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.878204107 0.07411 0.0201 9.8 0 0 -0.02113
1-2 processing imu...
it_last_IMU.time: 1664877190.868204
lastState: 1664877190.868204
currentState: 1664877190.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.888204098 0.07266 0.02131 9.8 0 0 -0.02092
1-2 processing imu...
it_last_IMU.time: 1664877190.878204
lastState: 1664877190.878204
currentState: 1664877190.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.898204088 0.07121 0.02252 9.8 0 0 -0.02068
1-2 processing imu...
it_last_IMU.time: 1664877190.888204
lastState: 1664877190.888204
currentState: 1664877190.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.908204079 0.06976 0.02373 9.8 0 0 -0.02044
1-2 processing imu...
it_last_IMU.time: 1664877190.898204
lastState: 1664877190.898204
currentState: 1664877190.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.918204069 0.06831 0.02494 9.8 0 0 -0.02018
1-2 processing imu...
it_last_IMU.time: 1664877190.908204
lastState: 1664877190.908204
currentState: 1664877190.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.928204060 0.06686 0.02615 9.8 0 0 -0.01991
1-2 processing imu...
it_last_IMU.time: 1664877190.918204
lastState: 1664877190.918204
currentState: 1664877190.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.938204050 0.06542 0.02735 9.8 0 0 -0.01962
1-2 processing imu...
it_last_IMU.time: 1664877190.928204
lastState: 1664877190.928204
currentState: 1664877190.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.948204041 0.06396 0.02856 9.8 0 0 -0.01932
1-2 processing imu...
it_last_IMU.time: 1664877190.938204
lastState: 1664877190.938204
currentState: 1664877190.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.958204031 0.06251 0.02976 9.8 0 0 -0.01901
1-2 processing imu...
it_last_IMU.time: 1664877190.948204
lastState: 1664877190.948204
currentState: 1664877190.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.968204021 0.06106 0.03096 9.8 0 0 -0.01868
1-2 processing imu...
it_last_IMU.time: 1664877190.958204
lastState: 1664877190.958204
currentState: 1664877190.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.978204012 0.0596 0.03171 9.8 0 0 -0.01834
1-2 processing imu...
it_last_IMU.time: 1664877190.968204
lastState: 1664877190.968204
currentState: 1664877190.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877190.988204002 0.05809 0.03017 9.8 0 0 -0.01799
1-2 processing imu...
it_last_IMU.time: 1664877190.978204
lastState: 1664877190.978204
currentState: 1664877190.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877190.998203993 0.05658 0.02863 9.8 0 0 -0.01764
1-2 processing imu...
it_last_IMU.time: 1664877190.988204
lastState: 1664877190.988204
currentState: 1664877190.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.008203983 0.05507 0.02708 9.8 0 0 -0.01728
1-2 processing imu...
it_last_IMU.time: 1664877190.998204
lastState: 1664877190.998204
currentState: 1664877191.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.018203974 0.05356 0.02553 9.8 0 0 -0.01692
1-2 processing imu...
it_last_IMU.time: 1664877191.008204
lastState: 1664877191.008204
currentState: 1664877191.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.028203964 0.05205 0.02399 9.8 0 0 -0.01655
1-2 processing imu...
it_last_IMU.time: 1664877191.018204
lastState: 1664877191.018204
currentState: 1664877191.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.038203955 0.05054 0.02244 9.8 0 0 -0.01618
1-2 processing imu...
it_last_IMU.time: 1664877191.028204
lastState: 1664877191.028204
currentState: 1664877191.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.048203945 0.04903 0.02089 9.8 0 0 -0.01581
1-2 processing imu...
it_last_IMU.time: 1664877191.038204
lastState: 1664877191.038204
currentState: 1664877191.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.058203936 0.04752 0.01934 9.8 0 0 -0.01543
1-2 processing imu...
it_last_IMU.time: 1664877191.048204
lastState: 1664877191.048204
currentState: 1664877191.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.068203926 0.04601 0.01779 9.8 0 0 -0.01505
1-2 processing imu...
it_last_IMU.time: 1664877191.058204
lastState: 1664877191.058204
currentState: 1664877191.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.078203917 0.04453 0.0161 9.8 0 0 -0.01466
1-2 processing imu...
it_last_IMU.time: 1664877191.068204
lastState: 1664877191.068204
currentState: 1664877191.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.088203907 0.04316 0.01359 9.8 0 0 -0.01427
1-2 processing imu...
it_last_IMU.time: 1664877191.078204
lastState: 1664877191.078204
currentState: 1664877191.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.098203897 0.04179 0.01108 9.8 0 0 -0.01389
1-2 processing imu...
it_last_IMU.time: 1664877191.088204
lastState: 1664877191.088204
currentState: 1664877191.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.108203888 0.04043 0.008568 9.8 0 0 -0.01351
1-2 processing imu...
it_last_IMU.time: 1664877191.098204
lastState: 1664877191.098204
currentState: 1664877191.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877191.096777916 0.09716 0.07346 -0.000496 -0.0009817 -0.00148 0.3845 0.9231
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877191.096778
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877191.096778
state->time: 1664877191.096778
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675591.649342308]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675591.649387840]: the fixed q :[-0.655, -0.632, -0.306, -0.278][0m
[0m[ INFO] [1670675591.649399351]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675591.649434121]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.09716 0.07346 -0.000496
p_wv: 18.52 -15.22 31
p: 18.77 -15.01 30.99
q: [-0.655, -0.632, -0.306, -0.278]
l: 0.5155
residual in position: -0.03015 -0.03572 0.003411
q_err :[-0.999, -0.00567, 0.0254, 0.0313]
residual in q: 0.01136 -0.05087 -0.06262
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877191.096778 it_next->second->time: 1664877191.098204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877191.098204 it_next->second->time: 1664877191.108204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.71 -15.07 31
hc: publish state after update
1-1 IMUCallback(): 1664877191.118204117 0.03906 0.006057 9.8 0 0 -0.01313
1-2 processing imu...
it_last_IMU.time: 1664877191.108204
lastState: 1664877191.108204
currentState: 1664877191.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.128204107 0.0377 0.003546 9.8 0 0 -0.01275
1-2 processing imu...
it_last_IMU.time: 1664877191.118204
lastState: 1664877191.118204
currentState: 1664877191.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.138204098 0.03633 0.001035 9.8 0 0 -0.01238
1-2 processing imu...
it_last_IMU.time: 1664877191.128204
lastState: 1664877191.128204
currentState: 1664877191.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.148204088 0.03497 -0.001477 9.8 0 0 -0.012
1-2 processing imu...
it_last_IMU.time: 1664877191.138204
lastState: 1664877191.138204
currentState: 1664877191.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.158204079 0.03361 -0.003989 9.8 0 0 -0.01163
1-2 processing imu...
it_last_IMU.time: 1664877191.148204
lastState: 1664877191.148204
currentState: 1664877191.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.168204069 0.03225 -0.006502 9.8 0 0 -0.01126
1-2 processing imu...
it_last_IMU.time: 1664877191.158204
lastState: 1664877191.158204
currentState: 1664877191.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.178204060 0.03092 -0.008916 9.8 0 0 -0.0109
1-2 processing imu...
it_last_IMU.time: 1664877191.168204
lastState: 1664877191.168204
currentState: 1664877191.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.188204050 0.02979 -0.01075 9.8 0 0 -0.01053
1-2 processing imu...
it_last_IMU.time: 1664877191.178204
lastState: 1664877191.178204
currentState: 1664877191.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.198204041 0.02866 -0.01259 9.8 0 0 -0.01018
1-2 processing imu...
it_last_IMU.time: 1664877191.188204
lastState: 1664877191.188204
currentState: 1664877191.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.208204031 0.02753 -0.01443 9.8 0 0 -0.009826
1-2 processing imu...
it_last_IMU.time: 1664877191.198204
lastState: 1664877191.198204
currentState: 1664877191.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.218204021 0.0264 -0.01626 9.8 0 0 -0.00948
1-2 processing imu...
it_last_IMU.time: 1664877191.208204
lastState: 1664877191.208204
currentState: 1664877191.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.228204012 0.02527 -0.0181 9.8 0 0 -0.00914
1-2 processing imu...
it_last_IMU.time: 1664877191.218204
lastState: 1664877191.218204
currentState: 1664877191.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.238204002 0.02414 -0.01994 9.8 0 0 -0.008806
1-2 processing imu...
it_last_IMU.time: 1664877191.228204
lastState: 1664877191.228204
currentState: 1664877191.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.248203993 0.02301 -0.02178 9.8 0 0 -0.008477
1-2 processing imu...
it_last_IMU.time: 1664877191.238204
lastState: 1664877191.238204
currentState: 1664877191.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.258203983 0.02188 -0.02361 9.8 0 0 -0.008153
1-2 processing imu...
it_last_IMU.time: 1664877191.248204
lastState: 1664877191.248204
currentState: 1664877191.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.268203974 0.02075 -0.02545 9.8 0 0 -0.007836
1-2 processing imu...
it_last_IMU.time: 1664877191.258204
lastState: 1664877191.258204
currentState: 1664877191.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.278203964 0.01966 -0.0271 9.8 0 0 -0.007523
1-2 processing imu...
it_last_IMU.time: 1664877191.268204
lastState: 1664877191.268204
currentState: 1664877191.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.288203955 0.0188 -0.02753 9.8 0 0 -0.007217
1-2 processing imu...
it_last_IMU.time: 1664877191.278204
lastState: 1664877191.278204
currentState: 1664877191.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.298203945 0.01794 -0.02797 9.8 0 0 -0.006918
1-2 processing imu...
it_last_IMU.time: 1664877191.288204
lastState: 1664877191.288204
currentState: 1664877191.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.308203936 0.01709 -0.02841 9.8 0 0 -0.006626
1-2 processing imu...
it_last_IMU.time: 1664877191.298204
lastState: 1664877191.298204
currentState: 1664877191.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.318203926 0.01623 -0.02885 9.8 0 0 -0.00634
1-2 processing imu...
it_last_IMU.time: 1664877191.308204
lastState: 1664877191.308204
currentState: 1664877191.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.328203917 0.01537 -0.02928 9.8 0 0 -0.006061
1-2 processing imu...
it_last_IMU.time: 1664877191.318204
lastState: 1664877191.318204
currentState: 1664877191.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.338203907 0.01451 -0.02972 9.8 0 0 -0.005789
1-2 processing imu...
it_last_IMU.time: 1664877191.328204
lastState: 1664877191.328204
currentState: 1664877191.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.348203897 0.01365 -0.03016 9.8 0 0 -0.005523
1-2 processing imu...
it_last_IMU.time: 1664877191.338204
lastState: 1664877191.338204
currentState: 1664877191.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.358203888 0.01279 -0.0306 9.8 0 0 -0.005265
1-2 processing imu...
it_last_IMU.time: 1664877191.348204
lastState: 1664877191.348204
currentState: 1664877191.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.368204117 0.01193 -0.03104 9.8 0 0 -0.005013
1-2 processing imu...
it_last_IMU.time: 1664877191.358204
lastState: 1664877191.358204
currentState: 1664877191.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.378204107 0.01111 -0.03128 9.8 0 0 -0.004767
1-2 processing imu...
it_last_IMU.time: 1664877191.368204
lastState: 1664877191.368204
currentState: 1664877191.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.388204098 0.01049 -0.03024 9.8 0 0 -0.004529
1-2 processing imu...
it_last_IMU.time: 1664877191.378204
lastState: 1664877191.378204
currentState: 1664877191.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.398204088 0.009882 -0.02919 9.8 0 0 -0.004297
1-2 processing imu...
it_last_IMU.time: 1664877191.388204
lastState: 1664877191.388204
currentState: 1664877191.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.408204079 0.00927 -0.02814 9.8 0 0 -0.004072
1-2 processing imu...
it_last_IMU.time: 1664877191.398204
lastState: 1664877191.398204
currentState: 1664877191.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.418204069 0.008658 -0.0271 9.8 0 0 -0.003854
1-2 processing imu...
it_last_IMU.time: 1664877191.408204
lastState: 1664877191.408204
currentState: 1664877191.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.428204060 0.008046 -0.02605 9.8 0 0 -0.003642
1-2 processing imu...
it_last_IMU.time: 1664877191.418204
lastState: 1664877191.418204
currentState: 1664877191.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.438204050 0.007434 -0.025 9.8 0 0 -0.003437
1-2 processing imu...
it_last_IMU.time: 1664877191.428204
lastState: 1664877191.428204
currentState: 1664877191.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.448204041 0.006821 -0.02396 9.8 0 0 -0.003239
1-2 processing imu...
it_last_IMU.time: 1664877191.438204
lastState: 1664877191.438204
currentState: 1664877191.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.458204031 0.006209 -0.02291 9.8 0 0 -0.003047
1-2 processing imu...
it_last_IMU.time: 1664877191.448204
lastState: 1664877191.448204
currentState: 1664877191.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.468204021 0.005596 -0.02186 9.8 0 0 -0.002862
1-2 processing imu...
it_last_IMU.time: 1664877191.458204
lastState: 1664877191.458204
currentState: 1664877191.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.478204012 0.00501 -0.02103 9.8 0 0 -0.002684
1-2 processing imu...
it_last_IMU.time: 1664877191.468204
lastState: 1664877191.468204
currentState: 1664877191.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.488204002 0.004615 -0.02175 9.8 0 0 -0.002511
1-2 processing imu...
it_last_IMU.time: 1664877191.478204
lastState: 1664877191.478204
currentState: 1664877191.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.498203993 0.00422 -0.02248 9.8 0 0 -0.002345
1-2 processing imu...
it_last_IMU.time: 1664877191.488204
lastState: 1664877191.488204
currentState: 1664877191.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.508203983 0.003825 -0.0232 9.8 0 0 -0.002184
1-2 processing imu...
it_last_IMU.time: 1664877191.498204
lastState: 1664877191.498204
currentState: 1664877191.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.518203974 0.003431 -0.02392 9.8 0 0 -0.00203
1-2 processing imu...
it_last_IMU.time: 1664877191.508204
lastState: 1664877191.508204
currentState: 1664877191.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.528203964 0.003036 -0.02464 9.8 0 0 -0.001881
1-2 processing imu...
it_last_IMU.time: 1664877191.518204
lastState: 1664877191.518204
currentState: 1664877191.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.538203955 0.002641 -0.02536 9.8 0 0 -0.001738
1-2 processing imu...
it_last_IMU.time: 1664877191.528204
lastState: 1664877191.528204
currentState: 1664877191.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877191.519133091 0.1144 0.08976 -0.0003653 -0.00043 -0.0008598 0.3853 0.9228
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877191.519133
time: 1664877191.519133
state->time: 1664877191.518204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675592.510282942]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675592.510383905]: the fixed q :[-0.655, -0.634, -0.303, -0.28][0m
[0m[ INFO] [1670675592.510397362]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675592.510421899]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1144 0.08976 -0.0003653
p_wv: 18.52 -15.22 31
p: 18.77 -14.98 31
q: [-0.655, -0.634, -0.303, -0.28]
l: 0.5156
residual in position: -0.01514 -0.03166 0.001009
q_err :[-0.999, -0.00647, 0.0218, 0.0295]
residual in q: 0.01295 -0.04356 -0.059
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877191.518204 it_next->second->time: 1664877191.528204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877191.528204 it_next->second->time: 1664877191.538204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.74 -15.04 31
hc: publish state after update
1-1 IMUCallback(): 1664877191.548203945 0.002246 -0.02609 9.8 0 0 -0.0016
1-2 processing imu...
it_last_IMU.time: 1664877191.538204
lastState: 1664877191.538204
currentState: 1664877191.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.558203936 0.001851 -0.02681 9.8 0 0 -0.001469
1-2 processing imu...
it_last_IMU.time: 1664877191.548204
lastState: 1664877191.548204
currentState: 1664877191.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.568203926 0.001456 -0.02753 9.8 0 0 -0.001343
1-2 processing imu...
it_last_IMU.time: 1664877191.558204
lastState: 1664877191.558204
currentState: 1664877191.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.578203917 0.001082 -0.0279 9.8 0 0 -0.001223
1-2 processing imu...
it_last_IMU.time: 1664877191.568204
lastState: 1664877191.568204
currentState: 1664877191.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.588203907 0.000871 -0.02549 9.8 0 0 -0.001108
1-2 processing imu...
it_last_IMU.time: 1664877191.578204
lastState: 1664877191.578204
currentState: 1664877191.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.598203897 0.00066 -0.02307 9.8 0 0 -0.000998
1-2 processing imu...
it_last_IMU.time: 1664877191.588204
lastState: 1664877191.588204
currentState: 1664877191.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.608203888 0.000449 -0.02065 9.8 0 0 -0.000893
1-2 processing imu...
it_last_IMU.time: 1664877191.598204
lastState: 1664877191.598204
currentState: 1664877191.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.618204117 0.000237 -0.01823 9.8 0 0 -0.000791
1-2 processing imu...
it_last_IMU.time: 1664877191.608204
lastState: 1664877191.608204
currentState: 1664877191.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.628204107 2.6e-05 -0.01582 9.8 0 0 -0.000695
1-2 processing imu...
it_last_IMU.time: 1664877191.618204
lastState: 1664877191.618204
currentState: 1664877191.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.638204098 -0.000185 -0.0134 9.8 0 0 -0.000603
1-2 processing imu...
it_last_IMU.time: 1664877191.628204
lastState: 1664877191.628204
currentState: 1664877191.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.648204088 -0.000397 -0.01098 9.8 0 0 -0.000515
1-2 processing imu...
it_last_IMU.time: 1664877191.638204
lastState: 1664877191.638204
currentState: 1664877191.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.658204079 -0.000608 -0.008563 9.8 0 0 -0.000432
1-2 processing imu...
it_last_IMU.time: 1664877191.648204
lastState: 1664877191.648204
currentState: 1664877191.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.668204069 -0.00082 -0.006145 9.8 0 0 -0.000354
1-2 processing imu...
it_last_IMU.time: 1664877191.658204
lastState: 1664877191.658204
currentState: 1664877191.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.678204060 -0.001021 -0.003629 9.8 0 0 -0.00028
1-2 processing imu...
it_last_IMU.time: 1664877191.668204
lastState: 1664877191.668204
currentState: 1664877191.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.688204050 -0.00113 -0.000253 9.8 0 0 -0.00021
1-2 processing imu...
it_last_IMU.time: 1664877191.678204
lastState: 1664877191.678204
currentState: 1664877191.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.698204041 -0.001238 0.003123 9.8 0 0 -0.000144
1-2 processing imu...
it_last_IMU.time: 1664877191.688204
lastState: 1664877191.688204
currentState: 1664877191.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.708204031 -0.001347 0.006498 9.8 0 0 -8.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877191.698204
lastState: 1664877191.698204
currentState: 1664877191.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.718204021 -0.001456 0.009874 9.8 0 0 -2.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877191.708204
lastState: 1664877191.708204
currentState: 1664877191.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.728204012 -0.001564 0.01325 9.8 0 0 3.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877191.718204
lastState: 1664877191.718204
currentState: 1664877191.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.738204002 -0.001673 0.01663 9.8 0 0 8.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877191.728204
lastState: 1664877191.728204
currentState: 1664877191.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.748203993 -0.001781 0.02 9.8 0 0 0.000135
1-2 processing imu...
it_last_IMU.time: 1664877191.738204
lastState: 1664877191.738204
currentState: 1664877191.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.758203983 -0.00189 0.02338 9.8 0 0 0.00018
1-2 processing imu...
it_last_IMU.time: 1664877191.748204
lastState: 1664877191.748204
currentState: 1664877191.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.768203974 -0.001999 0.02675 9.8 0 0 0.000222
1-2 processing imu...
it_last_IMU.time: 1664877191.758204
lastState: 1664877191.758204
currentState: 1664877191.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.778203964 -0.0021 0.0299 9.8 0 0 0.000261
1-2 processing imu...
it_last_IMU.time: 1664877191.768204
lastState: 1664877191.768204
currentState: 1664877191.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.788203955 -0.00213 0.03085 9.8 0 0 0.000296
1-2 processing imu...
it_last_IMU.time: 1664877191.778204
lastState: 1664877191.778204
currentState: 1664877191.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.798203945 -0.002161 0.0318 9.8 0 0 0.000329
1-2 processing imu...
it_last_IMU.time: 1664877191.788204
lastState: 1664877191.788204
currentState: 1664877191.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.808203936 -0.002191 0.03275 9.8 0 0 0.00036
1-2 processing imu...
it_last_IMU.time: 1664877191.798204
lastState: 1664877191.798204
currentState: 1664877191.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.818203926 -0.002222 0.0337 9.8 0 0 0.000388
1-2 processing imu...
it_last_IMU.time: 1664877191.808204
lastState: 1664877191.808204
currentState: 1664877191.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.828203917 -0.002252 0.03465 9.8 0 0 0.000414
1-2 processing imu...
it_last_IMU.time: 1664877191.818204
lastState: 1664877191.818204
currentState: 1664877191.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.838203907 -0.002282 0.0356 9.8 0 0 0.000438
1-2 processing imu...
it_last_IMU.time: 1664877191.828204
lastState: 1664877191.828204
currentState: 1664877191.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.848203897 -0.002313 0.03655 9.8 0 0 0.000459
1-2 processing imu...
it_last_IMU.time: 1664877191.838204
lastState: 1664877191.838204
currentState: 1664877191.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.858203888 -0.002343 0.03749 9.8 0 0 0.000478
1-2 processing imu...
it_last_IMU.time: 1664877191.848204
lastState: 1664877191.848204
currentState: 1664877191.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.868204117 -0.002373 0.03844 9.8 0 0 0.000494
1-2 processing imu...
it_last_IMU.time: 1664877191.858204
lastState: 1664877191.858204
currentState: 1664877191.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.878204107 -0.0024 0.03925 9.8 0 0 0.000508
1-2 processing imu...
it_last_IMU.time: 1664877191.868204
lastState: 1664877191.868204
currentState: 1664877191.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.888204098 -0.002383 0.03859 9.8 0 0 0.00052
1-2 processing imu...
it_last_IMU.time: 1664877191.878204
lastState: 1664877191.878204
currentState: 1664877191.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.898204088 -0.002367 0.03792 9.8 0 0 0.000531
1-2 processing imu...
it_last_IMU.time: 1664877191.888204
lastState: 1664877191.888204
currentState: 1664877191.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.908204079 -0.002351 0.03725 9.8 0 0 0.00054
1-2 processing imu...
it_last_IMU.time: 1664877191.898204
lastState: 1664877191.898204
currentState: 1664877191.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.918204069 -0.002334 0.03658 9.8 0 0 0.000548
1-2 processing imu...
it_last_IMU.time: 1664877191.908204
lastState: 1664877191.908204
currentState: 1664877191.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.928204060 -0.002318 0.03592 9.8 0 0 0.000554
1-2 processing imu...
it_last_IMU.time: 1664877191.918204
lastState: 1664877191.918204
currentState: 1664877191.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.938204050 -0.002302 0.03525 9.8 0 0 0.000558
1-2 processing imu...
it_last_IMU.time: 1664877191.928204
lastState: 1664877191.928204
currentState: 1664877191.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.948204041 -0.002285 0.03458 9.8 0 0 0.000561
1-2 processing imu...
it_last_IMU.time: 1664877191.938204
lastState: 1664877191.938204
currentState: 1664877191.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877191.931477070 0.1307 0.106 -0.0001928 -0.0001644 -0.0004218 0.3855 0.9227
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877191.931477
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877191.931477
state->time: 1664877191.931477
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675593.362335927]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675593.362417382]: the fixed q :[-0.653, -0.635, -0.301, -0.281][0m
[0m[ INFO] [1670675593.362428719]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675593.362446889]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1307 0.106 -0.0001928
p_wv: 18.52 -15.22 31
p: 18.82 -14.97 31
q: [-0.653, -0.635, -0.301, -0.281]
l: 0.5156
residual in position: -0.02242 -0.02193 0.00173
q_err :[-0.999, -0.00577, 0.0187, 0.0284]
residual in q: 0.01155 -0.0375 -0.05682
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877191.931477 it_next->second->time: 1664877191.938204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877191.938204 it_next->second->time: 1664877191.948204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.77 -15.01 31
hc: publish state after update
1-1 IMUCallback(): 1664877191.958204031 -0.002269 0.03392 9.8 0 0 0.000563
1-2 processing imu...
it_last_IMU.time: 1664877191.948204
lastState: 1664877191.948204
currentState: 1664877191.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.968204021 -0.002253 0.03325 9.8 0 0 0.000563
1-2 processing imu...
it_last_IMU.time: 1664877191.958204
lastState: 1664877191.958204
currentState: 1664877191.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.978204012 -0.002234 0.03229 9.8 0 0 0.000561
1-2 processing imu...
it_last_IMU.time: 1664877191.968204
lastState: 1664877191.968204
currentState: 1664877191.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877191.988204002 -0.00219 0.02784 9.8 0 0 0.000558
1-2 processing imu...
it_last_IMU.time: 1664877191.978204
lastState: 1664877191.978204
currentState: 1664877191.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877191.998203993 -0.002145 0.02339 9.8 0 0 0.000555
1-2 processing imu...
it_last_IMU.time: 1664877191.988204
lastState: 1664877191.988204
currentState: 1664877191.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.008203983 -0.0021 0.01894 9.8 0 0 0.000551
1-2 processing imu...
it_last_IMU.time: 1664877191.998204
lastState: 1664877191.998204
currentState: 1664877192.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.018203974 -0.002056 0.01449 9.8 0 0 0.000546
1-2 processing imu...
it_last_IMU.time: 1664877192.008204
lastState: 1664877192.008204
currentState: 1664877192.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.028203964 -0.002012 0.01004 9.8 0 0 0.00054
1-2 processing imu...
it_last_IMU.time: 1664877192.018204
lastState: 1664877192.018204
currentState: 1664877192.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.038203955 -0.001967 0.005589 9.8 0 0 0.000533
1-2 processing imu...
it_last_IMU.time: 1664877192.028204
lastState: 1664877192.028204
currentState: 1664877192.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.048203945 -0.001923 0.001138 9.8 0 0 0.000526
1-2 processing imu...
it_last_IMU.time: 1664877192.038204
lastState: 1664877192.038204
currentState: 1664877192.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.058203936 -0.001879 -0.003312 9.8 0 0 0.000518
1-2 processing imu...
it_last_IMU.time: 1664877192.048204
lastState: 1664877192.048204
currentState: 1664877192.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.068203926 -0.001835 -0.007763 9.8 0 0 0.000509
1-2 processing imu...
it_last_IMU.time: 1664877192.058204
lastState: 1664877192.058204
currentState: 1664877192.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.078203917 -0.00179 -0.01207 9.8 0 0 0.000499
1-2 processing imu...
it_last_IMU.time: 1664877192.068204
lastState: 1664877192.068204
currentState: 1664877192.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.088203907 -0.001735 -0.01436 9.8 0 0 0.000489
1-2 processing imu...
it_last_IMU.time: 1664877192.078204
lastState: 1664877192.078204
currentState: 1664877192.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.098203897 -0.00168 -0.01666 9.8 0 0 0.000478
1-2 processing imu...
it_last_IMU.time: 1664877192.088204
lastState: 1664877192.088204
currentState: 1664877192.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.108203888 -0.001625 -0.01895 9.8 0 0 0.000468
1-2 processing imu...
it_last_IMU.time: 1664877192.098204
lastState: 1664877192.098204
currentState: 1664877192.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.118204117 -0.00157 -0.02125 9.8 0 0 0.000457
1-2 processing imu...
it_last_IMU.time: 1664877192.108204
lastState: 1664877192.108204
currentState: 1664877192.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.128204107 -0.001515 -0.02354 9.8 0 0 0.000445
1-2 processing imu...
it_last_IMU.time: 1664877192.118204
lastState: 1664877192.118204
currentState: 1664877192.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.138204098 -0.00146 -0.02584 9.8 0 0 0.000434
1-2 processing imu...
it_last_IMU.time: 1664877192.128204
lastState: 1664877192.128204
currentState: 1664877192.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.148204088 -0.001406 -0.02813 9.8 0 0 0.000422
1-2 processing imu...
it_last_IMU.time: 1664877192.138204
lastState: 1664877192.138204
currentState: 1664877192.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.158204079 -0.001351 -0.03043 9.8 0 0 0.00041
1-2 processing imu...
it_last_IMU.time: 1664877192.148204
lastState: 1664877192.148204
currentState: 1664877192.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.168204069 -0.001296 -0.03272 9.8 0 0 0.000397
1-2 processing imu...
it_last_IMU.time: 1664877192.158204
lastState: 1664877192.158204
currentState: 1664877192.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.178204060 -0.001241 -0.03491 9.8 0 0 0.000385
1-2 processing imu...
it_last_IMU.time: 1664877192.168204
lastState: 1664877192.168204
currentState: 1664877192.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.188204050 -0.001189 -0.03543 9.8 0 0 0.000372
1-2 processing imu...
it_last_IMU.time: 1664877192.178204
lastState: 1664877192.178204
currentState: 1664877192.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.198204041 -0.001136 -0.03596 9.8 0 0 0.000359
1-2 processing imu...
it_last_IMU.time: 1664877192.188204
lastState: 1664877192.188204
currentState: 1664877192.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.208204031 -0.001083 -0.03648 9.8 0 0 0.000347
1-2 processing imu...
it_last_IMU.time: 1664877192.198204
lastState: 1664877192.198204
currentState: 1664877192.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.218204021 -0.001031 -0.037 9.8 0 0 0.000334
1-2 processing imu...
it_last_IMU.time: 1664877192.208204
lastState: 1664877192.208204
currentState: 1664877192.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.228204012 -0.000978 -0.03753 9.8 0 0 0.000321
1-2 processing imu...
it_last_IMU.time: 1664877192.218204
lastState: 1664877192.218204
currentState: 1664877192.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.238204002 -0.000925 -0.03805 9.8 0 0 0.000309
1-2 processing imu...
it_last_IMU.time: 1664877192.228204
lastState: 1664877192.228204
currentState: 1664877192.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.248203993 -0.000872 -0.03857 9.8 0 0 0.000296
1-2 processing imu...
it_last_IMU.time: 1664877192.238204
lastState: 1664877192.238204
currentState: 1664877192.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.258203983 -0.00082 -0.0391 9.8 0 0 0.000284
1-2 processing imu...
it_last_IMU.time: 1664877192.248204
lastState: 1664877192.248204
currentState: 1664877192.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.268203974 -0.000767 -0.03962 9.8 0 0 0.000271
1-2 processing imu...
it_last_IMU.time: 1664877192.258204
lastState: 1664877192.258204
currentState: 1664877192.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.278203964 -0.000715 -0.04004 9.8 0 0 0.000259
1-2 processing imu...
it_last_IMU.time: 1664877192.268204
lastState: 1664877192.268204
currentState: 1664877192.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.288203955 -0.000673 -0.03844 9.8 0 0 0.000247
1-2 processing imu...
it_last_IMU.time: 1664877192.278204
lastState: 1664877192.278204
currentState: 1664877192.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.298203945 -0.000632 -0.03685 9.8 0 0 0.000234
1-2 processing imu...
it_last_IMU.time: 1664877192.288204
lastState: 1664877192.288204
currentState: 1664877192.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.308203936 -0.00059 -0.03525 9.8 0 0 0.000222
1-2 processing imu...
it_last_IMU.time: 1664877192.298204
lastState: 1664877192.298204
currentState: 1664877192.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.318203926 -0.000549 -0.03365 9.8 0 0 0.000211
1-2 processing imu...
it_last_IMU.time: 1664877192.308204
lastState: 1664877192.308204
currentState: 1664877192.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.328203917 -0.000507 -0.03206 9.8 0 0 0.000199
1-2 processing imu...
it_last_IMU.time: 1664877192.318204
lastState: 1664877192.318204
currentState: 1664877192.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.338203907 -0.000465 -0.03046 9.8 0 0 0.000188
1-2 processing imu...
it_last_IMU.time: 1664877192.328204
lastState: 1664877192.328204
currentState: 1664877192.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.348203897 -0.000424 -0.02886 9.8 0 0 0.000177
1-2 processing imu...
it_last_IMU.time: 1664877192.338204
lastState: 1664877192.338204
currentState: 1664877192.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.358203888 -0.000382 -0.02727 9.8 0 0 0.000166
1-2 processing imu...
it_last_IMU.time: 1664877192.348204
lastState: 1664877192.348204
currentState: 1664877192.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877192.338320971 0.1464 0.1206 0.0006136 0.002021 0.002291 0.3876 0.9218
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877192.338321
time: 1664877192.338321
state->time: 1664877192.338204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675594.246835237]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675594.246931269]: the fixed q :[-0.653, -0.637, -0.3, -0.28][0m
[0m[ INFO] [1670675594.246982517]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675594.247036419]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1464 0.1206 0.0006136
p_wv: 18.52 -15.22 31
p: 18.85 -14.95 31
q: [-0.653, -0.637, -0.3, -0.28]
l: 0.5156
residual in position: -0.02609 -0.01729 -0.0009271
q_err :[-1, -0.00808, 0.016, 0.0246]
residual in q: 0.01617 -0.03209 -0.04925
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877192.338204 it_next->second->time: 1664877192.348204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877192.348204 it_next->second->time: 1664877192.358204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.81 -14.98 31
hc: publish state after update
1-1 IMUCallback(): 1664877192.368204117 -0.00034 -0.02567 9.8 0 0 0.000155
1-2 processing imu...
it_last_IMU.time: 1664877192.358204
lastState: 1664877192.358204
currentState: 1664877192.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.378204107 -0.000299 -0.02406 9.8 0 0 0.000144
1-2 processing imu...
it_last_IMU.time: 1664877192.368204
lastState: 1664877192.368204
currentState: 1664877192.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.388204098 -0.00027 -0.02201 9.8 0 0 0.000134
1-2 processing imu...
it_last_IMU.time: 1664877192.378204
lastState: 1664877192.378204
currentState: 1664877192.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.398204088 -0.000241 -0.01996 9.8 0 0 0.000124
1-2 processing imu...
it_last_IMU.time: 1664877192.388204
lastState: 1664877192.388204
currentState: 1664877192.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.408204079 -0.000212 -0.0179 9.8 0 0 0.000114
1-2 processing imu...
it_last_IMU.time: 1664877192.398204
lastState: 1664877192.398204
currentState: 1664877192.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.418204069 -0.000183 -0.01585 9.8 0 0 0.000105
1-2 processing imu...
it_last_IMU.time: 1664877192.408204
lastState: 1664877192.408204
currentState: 1664877192.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.428204060 -0.000154 -0.0138 9.8 0 0 9.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.418204
lastState: 1664877192.418204
currentState: 1664877192.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.438204050 -0.000125 -0.01175 9.8 0 0 8.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.428204
lastState: 1664877192.428204
currentState: 1664877192.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.448204041 -9.6e-05 -0.009698 9.8 0 0 7.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.438204
lastState: 1664877192.438204
currentState: 1664877192.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.458204031 -6.7e-05 -0.007646 9.8 0 0 6.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.448204
lastState: 1664877192.448204
currentState: 1664877192.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.468204021 -3.8e-05 -0.005595 9.8 0 0 6.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.458204
lastState: 1664877192.458204
currentState: 1664877192.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.478204012 -1e-05 -0.003615 9.8 0 0 5.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.468204
lastState: 1664877192.468204
currentState: 1664877192.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.488204002 8e-06 -0.003856 9.8 0 0 4.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.478204
lastState: 1664877192.478204
currentState: 1664877192.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.498203993 2.6e-05 -0.004097 9.8 0 0 3.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.488204
lastState: 1664877192.488204
currentState: 1664877192.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.508203983 4.3e-05 -0.004338 9.8 0 0 3e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.498204
lastState: 1664877192.498204
currentState: 1664877192.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.518203974 6.1e-05 -0.004579 9.8 0 0 2.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.508204
lastState: 1664877192.508204
currentState: 1664877192.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.528203964 7.8e-05 -0.00482 9.8 0 0 1.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.518204
lastState: 1664877192.518204
currentState: 1664877192.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.538203955 9.6e-05 -0.005061 9.8 0 0 1e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.528204
lastState: 1664877192.528204
currentState: 1664877192.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.548203945 0.000114 -0.005302 9.8 0 0 3e-06
1-2 processing imu...
it_last_IMU.time: 1664877192.538204
lastState: 1664877192.538204
currentState: 1664877192.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.558203936 0.000131 -0.005543 9.8 0 0 -2e-06
1-2 processing imu...
it_last_IMU.time: 1664877192.548204
lastState: 1664877192.548204
currentState: 1664877192.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.568203926 0.000149 -0.005785 9.8 0 0 -8e-06
1-2 processing imu...
it_last_IMU.time: 1664877192.558204
lastState: 1664877192.558204
currentState: 1664877192.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.578203917 0.000166 -0.006015 9.8 0 0 -1.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.568204
lastState: 1664877192.568204
currentState: 1664877192.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.588203907 0.000176 -0.005765 9.8 0 0 -1.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.578204
lastState: 1664877192.578204
currentState: 1664877192.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.598203897 0.000185 -0.005516 9.8 0 0 -2.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.588204
lastState: 1664877192.588204
currentState: 1664877192.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.608203888 0.000194 -0.005267 9.8 0 0 -2.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.598204
lastState: 1664877192.598204
currentState: 1664877192.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.618204117 0.000203 -0.005017 9.8 0 0 -3.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.608204
lastState: 1664877192.608204
currentState: 1664877192.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.628204107 0.000212 -0.004768 9.8 0 0 -3.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.618204
lastState: 1664877192.618204
currentState: 1664877192.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.638204098 0.000221 -0.004519 9.8 0 0 -4e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.628204
lastState: 1664877192.628204
currentState: 1664877192.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.648204088 0.00023 -0.00427 9.8 0 0 -4.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.638204
lastState: 1664877192.638204
currentState: 1664877192.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.658204079 0.000239 -0.00402 9.8 0 0 -4.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.648204
lastState: 1664877192.648204
currentState: 1664877192.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.668204069 0.000249 -0.003771 9.8 0 0 -5e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.658204
lastState: 1664877192.658204
currentState: 1664877192.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.678204060 0.000258 -0.003507 9.8 0 0 -5.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.668204
lastState: 1664877192.668204
currentState: 1664877192.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.688204050 0.00026 -0.002164 9.8 0 0 -5.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.678204
lastState: 1664877192.678204
currentState: 1664877192.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.698204041 0.000263 -0.000821 9.8 0 0 -5.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.688204
lastState: 1664877192.688204
currentState: 1664877192.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.708204031 0.000265 0.000522 9.8 0 0 -6e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.698204
lastState: 1664877192.698204
currentState: 1664877192.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.718204021 0.000268 0.001865 9.8 0 0 -6.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.708204
lastState: 1664877192.708204
currentState: 1664877192.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.728204012 0.00027 0.003208 9.8 0 0 -6.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.718204
lastState: 1664877192.718204
currentState: 1664877192.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.738204002 0.000273 0.004551 9.8 0 0 -6.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.728204
lastState: 1664877192.728204
currentState: 1664877192.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.748203993 0.000275 0.005894 9.8 0 0 -6.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.738204
lastState: 1664877192.738204
currentState: 1664877192.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.758203983 0.000278 0.007237 9.8 0 0 -6.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.748204
lastState: 1664877192.748204
currentState: 1664877192.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.768203974 0.00028 0.00858 9.8 0 0 -6.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.758204
lastState: 1664877192.758204
currentState: 1664877192.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.778203964 0.000283 0.009921 9.8 0 0 -6.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.768204
lastState: 1664877192.768204
currentState: 1664877192.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877192.765007019 0.1631 0.1367 0.0005717 0.003163 0.003155 0.3884 0.9215
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877192.765007
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877192.765007
state->time: 1664877192.765007
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675595.123360473]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675595.123466473]: the fixed q :[-0.651, -0.637, -0.303, -0.28][0m
[0m[ INFO] [1670675595.123511698]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675595.123555017]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1631 0.1367 0.0005717
p_wv: 18.52 -15.22 31
p: 18.9 -14.93 31
q: [-0.651, -0.637, -0.303, -0.28]
l: 0.5156
residual in position: -0.03448 -0.01226 0.0005156
q_err :[-0.999, -0.00637, 0.0174, 0.0263]
residual in q: 0.01274 -0.03475 -0.05263
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877192.765007 it_next->second->time: 1664877192.768204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877192.768204 it_next->second->time: 1664877192.778204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.84 -14.95 31
hc: publish state after update
1-1 IMUCallback(): 1664877192.788203955 0.000281 0.01067 9.8 0 0 -6.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.778204
lastState: 1664877192.778204
currentState: 1664877192.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.798203945 0.000279 0.01141 9.8 0 0 -6.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.788204
lastState: 1664877192.788204
currentState: 1664877192.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.808203936 0.000277 0.01216 9.8 0 0 -6.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.798204
lastState: 1664877192.798204
currentState: 1664877192.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.818203926 0.000274 0.0129 9.8 0 0 -6.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.808204
lastState: 1664877192.808204
currentState: 1664877192.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.828203917 0.000272 0.01365 9.8 0 0 -6.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.818204
lastState: 1664877192.818204
currentState: 1664877192.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.838203907 0.00027 0.0144 9.8 0 0 -6.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.828204
lastState: 1664877192.828204
currentState: 1664877192.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.848203897 0.000268 0.01514 9.8 0 0 -6.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.838204
lastState: 1664877192.838204
currentState: 1664877192.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.858203888 0.000266 0.01589 9.8 0 0 -6.4e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.848204
lastState: 1664877192.848204
currentState: 1664877192.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.868204117 0.000264 0.01663 9.8 0 0 -6.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.858204
lastState: 1664877192.858204
currentState: 1664877192.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.878204107 0.000262 0.01738 9.8 0 0 -6.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.868204
lastState: 1664877192.868204
currentState: 1664877192.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.888204098 0.000255 0.01713 9.8 0 0 -6e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.878204
lastState: 1664877192.878204
currentState: 1664877192.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.898204088 0.000248 0.01688 9.8 0 0 -5.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.888204
lastState: 1664877192.888204
currentState: 1664877192.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.908204079 0.000241 0.01664 9.8 0 0 -5.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.898204
lastState: 1664877192.898204
currentState: 1664877192.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.918204069 0.000235 0.01639 9.8 0 0 -5.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.908204
lastState: 1664877192.908204
currentState: 1664877192.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.928204060 0.000228 0.01614 9.8 0 0 -5.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.918204
lastState: 1664877192.918204
currentState: 1664877192.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.938204050 0.000221 0.01588 9.8 0 0 -4.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.928204
lastState: 1664877192.928204
currentState: 1664877192.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.948204041 0.000215 0.01563 9.8 0 0 -4.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.938204
lastState: 1664877192.938204
currentState: 1664877192.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.958204031 0.000208 0.01538 9.8 0 0 -4.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.948204
lastState: 1664877192.948204
currentState: 1664877192.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877192.968204021 0.000201 0.01513 9.8 0 0 -4e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.958204
lastState: 1664877192.958204
currentState: 1664877192.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.978204012 0.000195 0.01489 9.8 0 0 -3.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.968204
lastState: 1664877192.968204
currentState: 1664877192.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.988204002 0.000183 0.01534 9.8 0 0 -3.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.978204
lastState: 1664877192.978204
currentState: 1664877192.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877192.998203993 0.000172 0.01581 9.8 0 0 -3e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.988204
lastState: 1664877192.988204
currentState: 1664877192.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.008203983 0.000161 0.01627 9.8 0 0 -2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877192.998204
lastState: 1664877192.998204
currentState: 1664877193.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.018203974 0.00015 0.01674 9.8 0 0 -2.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.008204
lastState: 1664877193.008204
currentState: 1664877193.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.028203964 0.000139 0.01721 9.8 0 0 -1.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.018204
lastState: 1664877193.018204
currentState: 1664877193.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.038203955 0.000128 0.01767 9.8 0 0 -1.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.028204
lastState: 1664877193.028204
currentState: 1664877193.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.048203945 0.000117 0.01814 9.8 0 0 -1.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.038204
lastState: 1664877193.038204
currentState: 1664877193.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.058203936 0.000106 0.0186 9.8 0 0 -7e-06
1-2 processing imu...
it_last_IMU.time: 1664877193.048204
lastState: 1664877193.048204
currentState: 1664877193.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.068203926 9.4e-05 0.01907 9.8 0 0 -2e-06
1-2 processing imu...
it_last_IMU.time: 1664877193.058204
lastState: 1664877193.058204
currentState: 1664877193.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.078203917 8.3e-05 0.01954 9.8 0 0 2e-06
1-2 processing imu...
it_last_IMU.time: 1664877193.068204
lastState: 1664877193.068204
currentState: 1664877193.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.088203907 6.8e-05 0.02031 9.8 0 0 7e-06
1-2 processing imu...
it_last_IMU.time: 1664877193.078204
lastState: 1664877193.078204
currentState: 1664877193.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.098203897 5.3e-05 0.02109 9.8 0 0 1.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.088204
lastState: 1664877193.088204
currentState: 1664877193.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.108203888 3.7e-05 0.02187 9.8 0 0 1.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.098204
lastState: 1664877193.098204
currentState: 1664877193.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.118204117 2.2e-05 0.02266 9.8 0 0 2.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.108204
lastState: 1664877193.108204
currentState: 1664877193.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.128204107 6e-06 0.02344 9.8 0 0 2.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.118204
lastState: 1664877193.118204
currentState: 1664877193.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.138204098 -9e-06 0.02422 9.8 0 0 3.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.128204
lastState: 1664877193.128204
currentState: 1664877193.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.148204088 -2.5e-05 0.025 9.8 0 0 3.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.138204
lastState: 1664877193.138204
currentState: 1664877193.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.158204079 -4e-05 0.02578 9.8 0 0 4.2e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.148204
lastState: 1664877193.148204
currentState: 1664877193.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.168204069 -5.5e-05 0.02656 9.8 0 0 4.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.158204
lastState: 1664877193.158204
currentState: 1664877193.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.178204060 -7.1e-05 0.02735 9.8 0 0 5.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.168204
lastState: 1664877193.168204
currentState: 1664877193.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.188204050 -9.1e-05 0.02858 9.8 0 0 5.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.178204
lastState: 1664877193.178204
currentState: 1664877193.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.198204041 -0.00011 0.02983 9.8 0 0 6.5e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.188204
lastState: 1664877193.188204
currentState: 1664877193.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877193.176211119 0.1799 0.1521 0.001017 0.003044 0.003878 0.3903 0.9207
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877193.176211
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877193.176211
state->time: 1664877193.176211
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675595.988114182]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675595.988420698]: the fixed q :[-0.649, -0.639, -0.303, -0.279][0m
[0m[ INFO] [1670675595.988528908]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675595.988621089]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1799 0.1521 0.001017
p_wv: 18.52 -15.22 31
p: 18.94 -14.91 31
q: [-0.649, -0.639, -0.303, -0.279]
l: 0.5156
residual in position: -0.036 -0.01017 -0.0003805
q_err :[-1, -0.0047, 0.0156, 0.0231]
residual in q: 0.009395 -0.03117 -0.04626
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877193.176211 it_next->second->time: 1664877193.178204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877193.178204 it_next->second->time: 1664877193.188204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877193.188204 it_next->second->time: 1664877193.198204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.87 -14.92 31
hc: publish state after update
1-1 IMUCallback(): 1664877193.208204031 -0.00013 0.03108 9.8 0 0 7.1e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.198204
lastState: 1664877193.198204
currentState: 1664877193.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.218204021 -0.00015 0.03232 9.8 0 0 7.7e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.208204
lastState: 1664877193.208204
currentState: 1664877193.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.228204012 -0.00017 0.03357 9.8 0 0 8.3e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.218204
lastState: 1664877193.218204
currentState: 1664877193.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.238204002 -0.000189 0.03482 9.8 0 0 8.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.228204
lastState: 1664877193.228204
currentState: 1664877193.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.248203993 -0.000209 0.03607 9.8 0 0 9.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877193.238204
lastState: 1664877193.238204
currentState: 1664877193.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.258203983 -0.000229 0.03732 9.8 0 0 0.000103
1-2 processing imu...
it_last_IMU.time: 1664877193.248204
lastState: 1664877193.248204
currentState: 1664877193.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.268203974 -0.000248 0.03857 9.8 0 0 0.000109
1-2 processing imu...
it_last_IMU.time: 1664877193.258204
lastState: 1664877193.258204
currentState: 1664877193.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.278203964 -0.000268 0.03982 9.8 0 0 0.000116
1-2 processing imu...
it_last_IMU.time: 1664877193.268204
lastState: 1664877193.268204
currentState: 1664877193.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.288203955 -0.000293 0.03868 9.8 0 0 0.000123
1-2 processing imu...
it_last_IMU.time: 1664877193.278204
lastState: 1664877193.278204
currentState: 1664877193.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.298203945 -0.000318 0.03744 9.8 0 0 0.000131
1-2 processing imu...
it_last_IMU.time: 1664877193.288204
lastState: 1664877193.288204
currentState: 1664877193.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.308203936 -0.000343 0.0362 9.8 0 0 0.000138
1-2 processing imu...
it_last_IMU.time: 1664877193.298204
lastState: 1664877193.298204
currentState: 1664877193.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.318203926 -0.000368 0.03496 9.8 0 0 0.000145
1-2 processing imu...
it_last_IMU.time: 1664877193.308204
lastState: 1664877193.308204
currentState: 1664877193.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.328203917 -0.000393 0.03372 9.8 0 0 0.000153
1-2 processing imu...
it_last_IMU.time: 1664877193.318204
lastState: 1664877193.318204
currentState: 1664877193.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.338203907 -0.000418 0.03248 9.8 0 0 0.000161
1-2 processing imu...
it_last_IMU.time: 1664877193.328204
lastState: 1664877193.328204
currentState: 1664877193.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.348203897 -0.000443 0.03124 9.8 0 0 0.000169
1-2 processing imu...
it_last_IMU.time: 1664877193.338204
lastState: 1664877193.338204
currentState: 1664877193.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.358203888 -0.000468 0.03 9.8 0 0 0.000177
1-2 processing imu...
it_last_IMU.time: 1664877193.348204
lastState: 1664877193.348204
currentState: 1664877193.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.368204117 -0.000493 0.02876 9.8 0 0 0.000185
1-2 processing imu...
it_last_IMU.time: 1664877193.358204
lastState: 1664877193.358204
currentState: 1664877193.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.378204107 -0.000518 0.02753 9.8 0 0 0.000193
1-2 processing imu...
it_last_IMU.time: 1664877193.368204
lastState: 1664877193.368204
currentState: 1664877193.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.388204098 -0.000548 0.02641 9.8 0 0 0.000202
1-2 processing imu...
it_last_IMU.time: 1664877193.378204
lastState: 1664877193.378204
currentState: 1664877193.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.398204088 -0.000578 0.02531 9.8 0 0 0.00021
1-2 processing imu...
it_last_IMU.time: 1664877193.388204
lastState: 1664877193.388204
currentState: 1664877193.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.408204079 -0.000608 0.02421 9.8 0 0 0.000219
1-2 processing imu...
it_last_IMU.time: 1664877193.398204
lastState: 1664877193.398204
currentState: 1664877193.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.418204069 -0.000638 0.0231 9.8 0 0 0.000228
1-2 processing imu...
it_last_IMU.time: 1664877193.408204
lastState: 1664877193.408204
currentState: 1664877193.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.428204060 -0.000668 0.022 9.8 0 0 0.000237
1-2 processing imu...
it_last_IMU.time: 1664877193.418204
lastState: 1664877193.418204
currentState: 1664877193.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.438204050 -0.000698 0.02089 9.8 0 0 0.000246
1-2 processing imu...
it_last_IMU.time: 1664877193.428204
lastState: 1664877193.428204
currentState: 1664877193.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.448204041 -0.000728 0.01979 9.8 0 0 0.000256
1-2 processing imu...
it_last_IMU.time: 1664877193.438204
lastState: 1664877193.438204
currentState: 1664877193.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.458204031 -0.000758 0.01869 9.8 0 0 0.000265
1-2 processing imu...
it_last_IMU.time: 1664877193.448204
lastState: 1664877193.448204
currentState: 1664877193.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.468204021 -0.000788 0.01758 9.8 0 0 0.000275
1-2 processing imu...
it_last_IMU.time: 1664877193.458204
lastState: 1664877193.458204
currentState: 1664877193.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.478204012 -0.000818 0.01648 9.8 0 0 0.000285
1-2 processing imu...
it_last_IMU.time: 1664877193.468204
lastState: 1664877193.468204
currentState: 1664877193.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.488204002 -0.00085 0.01477 9.8 0 0 0.000295
1-2 processing imu...
it_last_IMU.time: 1664877193.478204
lastState: 1664877193.478204
currentState: 1664877193.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.498203993 -0.000882 0.01302 9.8 0 0 0.000305
1-2 processing imu...
it_last_IMU.time: 1664877193.488204
lastState: 1664877193.488204
currentState: 1664877193.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.508203983 -0.000915 0.01127 9.8 0 0 0.000315
1-2 processing imu...
it_last_IMU.time: 1664877193.498204
lastState: 1664877193.498204
currentState: 1664877193.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.518203974 -0.000947 0.009518 9.8 0 0 0.000325
1-2 processing imu...
it_last_IMU.time: 1664877193.508204
lastState: 1664877193.508204
currentState: 1664877193.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.528203964 -0.00098 0.007769 9.8 0 0 0.000335
1-2 processing imu...
it_last_IMU.time: 1664877193.518204
lastState: 1664877193.518204
currentState: 1664877193.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.538203955 -0.001013 0.00602 9.8 0 0 0.000346
1-2 processing imu...
it_last_IMU.time: 1664877193.528204
lastState: 1664877193.528204
currentState: 1664877193.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.548203945 -0.001045 0.004271 9.8 0 0 0.000356
1-2 processing imu...
it_last_IMU.time: 1664877193.538204
lastState: 1664877193.538204
currentState: 1664877193.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.558203936 -0.001078 0.002521 9.8 0 0 0.000367
1-2 processing imu...
it_last_IMU.time: 1664877193.548204
lastState: 1664877193.548204
currentState: 1664877193.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.568203926 -0.00111 0.000772 9.8 0 0 0.000378
1-2 processing imu...
it_last_IMU.time: 1664877193.558204
lastState: 1664877193.558204
currentState: 1664877193.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.578203917 -0.001143 -0.000977 9.8 0 0 0.000389
1-2 processing imu...
it_last_IMU.time: 1664877193.568204
lastState: 1664877193.568204
currentState: 1664877193.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.588203907 -0.001178 -0.003231 9.8 0 0 0.0004
1-2 processing imu...
it_last_IMU.time: 1664877193.578204
lastState: 1664877193.578204
currentState: 1664877193.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.598203897 -0.001214 -0.005521 9.8 0 0 0.000411
1-2 processing imu...
it_last_IMU.time: 1664877193.588204
lastState: 1664877193.588204
currentState: 1664877193.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.608203888 -0.00125 -0.007811 9.8 0 0 0.000422
1-2 processing imu...
it_last_IMU.time: 1664877193.598204
lastState: 1664877193.598204
currentState: 1664877193.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877193.594402075 0.1957 0.1681 0.001055 0.002701 0.004012 0.3905 0.9206
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877193.594402
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877193.594402
state->time: 1664877193.594402
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675596.880301042]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675596.880333470]: the fixed q :[-0.649, -0.639, -0.304, -0.28][0m
[0m[ INFO] [1670675596.880343171]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675596.880360306]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1957 0.1681 0.001055
p_wv: 18.52 -15.22 31
p: 18.98 -14.88 31.01
q: [-0.649, -0.639, -0.304, -0.28]
l: 0.5156
residual in position: -0.04373 -0.005185 -0.002884
q_err :[-1, -0.00418, 0.0155, 0.0244]
residual in q: 0.008367 -0.03109 -0.04875
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877193.594402 it_next->second->time: 1664877193.598204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877193.598204 it_next->second->time: 1664877193.608204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.9 -14.89 31
hc: publish state after update
1-1 IMUCallback(): 1664877193.618204117 -0.001286 -0.0101 9.8 0 0 0.000433
1-2 processing imu...
it_last_IMU.time: 1664877193.608204
lastState: 1664877193.608204
currentState: 1664877193.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.628204107 -0.001322 -0.01239 9.8 0 0 0.000444
1-2 processing imu...
it_last_IMU.time: 1664877193.618204
lastState: 1664877193.618204
currentState: 1664877193.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.638204098 -0.001358 -0.01468 9.8 0 0 0.000455
1-2 processing imu...
it_last_IMU.time: 1664877193.628204
lastState: 1664877193.628204
currentState: 1664877193.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.648204088 -0.001394 -0.01697 9.8 0 0 0.000466
1-2 processing imu...
it_last_IMU.time: 1664877193.638204
lastState: 1664877193.638204
currentState: 1664877193.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.658204079 -0.00143 -0.01926 9.8 0 0 0.000477
1-2 processing imu...
it_last_IMU.time: 1664877193.648204
lastState: 1664877193.648204
currentState: 1664877193.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.668204069 -0.001466 -0.02155 9.8 0 0 0.000489
1-2 processing imu...
it_last_IMU.time: 1664877193.658204
lastState: 1664877193.658204
currentState: 1664877193.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.678204060 -0.001502 -0.02384 9.8 0 0 0.0005
1-2 processing imu...
it_last_IMU.time: 1664877193.668204
lastState: 1664877193.668204
currentState: 1664877193.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.688204050 -0.001543 -0.02445 9.8 0 0 0.000511
1-2 processing imu...
it_last_IMU.time: 1664877193.678204
lastState: 1664877193.678204
currentState: 1664877193.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.698204041 -0.001584 -0.02493 9.8 0 0 0.000522
1-2 processing imu...
it_last_IMU.time: 1664877193.688204
lastState: 1664877193.688204
currentState: 1664877193.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.708204031 -0.001625 -0.02541 9.8 0 0 0.000534
1-2 processing imu...
it_last_IMU.time: 1664877193.698204
lastState: 1664877193.698204
currentState: 1664877193.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.718204021 -0.001666 -0.02588 9.8 0 0 0.000545
1-2 processing imu...
it_last_IMU.time: 1664877193.708204
lastState: 1664877193.708204
currentState: 1664877193.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.728204012 -0.001707 -0.02636 9.8 0 0 0.000556
1-2 processing imu...
it_last_IMU.time: 1664877193.718204
lastState: 1664877193.718204
currentState: 1664877193.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.738204002 -0.001748 -0.02684 9.8 0 0 0.000567
1-2 processing imu...
it_last_IMU.time: 1664877193.728204
lastState: 1664877193.728204
currentState: 1664877193.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.748203993 -0.00179 -0.02731 9.8 0 0 0.000578
1-2 processing imu...
it_last_IMU.time: 1664877193.738204
lastState: 1664877193.738204
currentState: 1664877193.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.758203983 -0.001831 -0.02779 9.8 0 0 0.000589
1-2 processing imu...
it_last_IMU.time: 1664877193.748204
lastState: 1664877193.748204
currentState: 1664877193.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.768203974 -0.001872 -0.02827 9.8 0 0 0.000599
1-2 processing imu...
it_last_IMU.time: 1664877193.758204
lastState: 1664877193.758204
currentState: 1664877193.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.778203964 -0.001913 -0.02874 9.8 0 0 0.00061
1-2 processing imu...
it_last_IMU.time: 1664877193.768204
lastState: 1664877193.768204
currentState: 1664877193.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.788203955 -0.001958 -0.02824 9.8 0 0 0.000621
1-2 processing imu...
it_last_IMU.time: 1664877193.778204
lastState: 1664877193.778204
currentState: 1664877193.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.798203945 -0.002003 -0.02764 9.8 0 0 0.000631
1-2 processing imu...
it_last_IMU.time: 1664877193.788204
lastState: 1664877193.788204
currentState: 1664877193.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.808203936 -0.002049 -0.02704 9.8 0 0 0.000641
1-2 processing imu...
it_last_IMU.time: 1664877193.798204
lastState: 1664877193.798204
currentState: 1664877193.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.818203926 -0.002094 -0.02644 9.8 0 0 0.000651
1-2 processing imu...
it_last_IMU.time: 1664877193.808204
lastState: 1664877193.808204
currentState: 1664877193.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.828203917 -0.002139 -0.02584 9.8 0 0 0.000661
1-2 processing imu...
it_last_IMU.time: 1664877193.818204
lastState: 1664877193.818204
currentState: 1664877193.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.838203907 -0.002184 -0.02524 9.8 0 0 0.000671
1-2 processing imu...
it_last_IMU.time: 1664877193.828204
lastState: 1664877193.828204
currentState: 1664877193.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.848203897 -0.00223 -0.02464 9.8 0 0 0.00068
1-2 processing imu...
it_last_IMU.time: 1664877193.838204
lastState: 1664877193.838204
currentState: 1664877193.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.858203888 -0.002275 -0.02405 9.8 0 0 0.000689
1-2 processing imu...
it_last_IMU.time: 1664877193.848204
lastState: 1664877193.848204
currentState: 1664877193.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.868204117 -0.00232 -0.02345 9.8 0 0 0.000698
1-2 processing imu...
it_last_IMU.time: 1664877193.858204
lastState: 1664877193.858204
currentState: 1664877193.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.878204107 -0.002365 -0.02285 9.8 0 0 0.000707
1-2 processing imu...
it_last_IMU.time: 1664877193.868204
lastState: 1664877193.868204
currentState: 1664877193.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.888204098 -0.002409 -0.02228 9.8 0 0 0.000715
1-2 processing imu...
it_last_IMU.time: 1664877193.878204
lastState: 1664877193.878204
currentState: 1664877193.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.898204088 -0.002452 -0.02171 9.8 0 0 0.000723
1-2 processing imu...
it_last_IMU.time: 1664877193.888204
lastState: 1664877193.888204
currentState: 1664877193.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.908204079 -0.002496 -0.02115 9.8 0 0 0.00073
1-2 processing imu...
it_last_IMU.time: 1664877193.898204
lastState: 1664877193.898204
currentState: 1664877193.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.918204069 -0.002539 -0.02058 9.8 0 0 0.000737
1-2 processing imu...
it_last_IMU.time: 1664877193.908204
lastState: 1664877193.908204
currentState: 1664877193.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.928204060 -0.002583 -0.02002 9.8 0 0 0.000744
1-2 processing imu...
it_last_IMU.time: 1664877193.918204
lastState: 1664877193.918204
currentState: 1664877193.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.938204050 -0.002626 -0.01946 9.8 0 0 0.00075
1-2 processing imu...
it_last_IMU.time: 1664877193.928204
lastState: 1664877193.928204
currentState: 1664877193.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.948204041 -0.002669 -0.01889 9.8 0 0 0.000756
1-2 processing imu...
it_last_IMU.time: 1664877193.938204
lastState: 1664877193.938204
currentState: 1664877193.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.958204031 -0.002713 -0.01833 9.8 0 0 0.000761
1-2 processing imu...
it_last_IMU.time: 1664877193.948204
lastState: 1664877193.948204
currentState: 1664877193.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.968204021 -0.002756 -0.01776 9.8 0 0 0.000766
1-2 processing imu...
it_last_IMU.time: 1664877193.958204
lastState: 1664877193.958204
currentState: 1664877193.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.978204012 -0.0028 -0.01719 9.8 0 0 0.00077
1-2 processing imu...
it_last_IMU.time: 1664877193.968204
lastState: 1664877193.968204
currentState: 1664877193.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877193.988204002 -0.002831 -0.01788 9.8 0 0 0.000774
1-2 processing imu...
it_last_IMU.time: 1664877193.978204
lastState: 1664877193.978204
currentState: 1664877193.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877193.998203993 -0.00286 -0.0187 9.8 0 0 0.000777
1-2 processing imu...
it_last_IMU.time: 1664877193.988204
lastState: 1664877193.988204
currentState: 1664877193.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.008203983 -0.00289 -0.01952 9.8 0 0 0.000779
1-2 processing imu...
it_last_IMU.time: 1664877193.998204
lastState: 1664877193.998204
currentState: 1664877194.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.018203974 -0.00292 -0.02035 9.8 0 0 0.00078
1-2 processing imu...
it_last_IMU.time: 1664877194.008204
lastState: 1664877194.008204
currentState: 1664877194.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.028203964 -0.002949 -0.02117 9.8 0 0 0.000781
1-2 processing imu...
it_last_IMU.time: 1664877194.018204
lastState: 1664877194.018204
currentState: 1664877194.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877194.013437033 0.212 0.1847 0.001753 0.002545 0.00543 0.391 0.9204
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877194.013437
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877194.013437
state->time: 1664877194.013437
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675597.747968149]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675597.748109653]: the fixed q :[-0.649, -0.639, -0.303, -0.28][0m
[0m[ INFO] [1670675597.748164196]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675597.748217932]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.212 0.1847 0.001753
p_wv: 18.52 -15.22 31
p: 19.01 -14.85 31
q: [-0.649, -0.639, -0.303, -0.28]
l: 0.5156
residual in position: -0.0426 -0.004036 0.001132
q_err :[-1, -0.00477, 0.0137, 0.023]
residual in q: 0.009546 -0.0275 -0.04606
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877194.013437 it_next->second->time: 1664877194.018204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877194.018204 it_next->second->time: 1664877194.028204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.93 -14.86 31
hc: publish state after update
1-1 IMUCallback(): 1664877194.038203955 -0.002979 -0.02199 9.8 0 0 0.000781
1-2 processing imu...
it_last_IMU.time: 1664877194.028204
lastState: 1664877194.028204
currentState: 1664877194.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.048203945 -0.003009 -0.02282 9.8 0 0 0.000779
1-2 processing imu...
it_last_IMU.time: 1664877194.038204
lastState: 1664877194.038204
currentState: 1664877194.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.058203936 -0.003038 -0.02364 9.8 0 0 0.000778
1-2 processing imu...
it_last_IMU.time: 1664877194.048204
lastState: 1664877194.048204
currentState: 1664877194.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.068203926 -0.003068 -0.02446 9.8 0 0 0.000775
1-2 processing imu...
it_last_IMU.time: 1664877194.058204
lastState: 1664877194.058204
currentState: 1664877194.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.078203917 -0.003098 -0.02528 9.8 0 0 0.000771
1-2 processing imu...
it_last_IMU.time: 1664877194.068204
lastState: 1664877194.068204
currentState: 1664877194.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.088203907 -0.003098 -0.02456 9.8 0 0 0.000767
1-2 processing imu...
it_last_IMU.time: 1664877194.078204
lastState: 1664877194.078204
currentState: 1664877194.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.098203897 -0.003095 -0.02364 9.8 0 0 0.000761
1-2 processing imu...
it_last_IMU.time: 1664877194.088204
lastState: 1664877194.088204
currentState: 1664877194.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.108203888 -0.003091 -0.02273 9.8 0 0 0.000754
1-2 processing imu...
it_last_IMU.time: 1664877194.098204
lastState: 1664877194.098204
currentState: 1664877194.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.118204117 -0.003087 -0.02181 9.8 0 0 0.000746
1-2 processing imu...
it_last_IMU.time: 1664877194.108204
lastState: 1664877194.108204
currentState: 1664877194.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.128204107 -0.003084 -0.02089 9.8 0 0 0.000736
1-2 processing imu...
it_last_IMU.time: 1664877194.118204
lastState: 1664877194.118204
currentState: 1664877194.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.138204098 -0.00308 -0.01998 9.8 0 0 0.000725
1-2 processing imu...
it_last_IMU.time: 1664877194.128204
lastState: 1664877194.128204
currentState: 1664877194.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.148204088 -0.003076 -0.01906 9.8 0 0 0.000713
1-2 processing imu...
it_last_IMU.time: 1664877194.138204
lastState: 1664877194.138204
currentState: 1664877194.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.158204079 -0.003073 -0.01814 9.8 0 0 0.0007
1-2 processing imu...
it_last_IMU.time: 1664877194.148204
lastState: 1664877194.148204
currentState: 1664877194.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.168204069 -0.003069 -0.01723 9.8 0 0 0.000685
1-2 processing imu...
it_last_IMU.time: 1664877194.158204
lastState: 1664877194.158204
currentState: 1664877194.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.178204060 -0.003065 -0.01631 9.8 0 0 0.000669
1-2 processing imu...
it_last_IMU.time: 1664877194.168204
lastState: 1664877194.168204
currentState: 1664877194.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.188204050 -0.003021 -0.01544 9.8 0 0 0.000652
1-2 processing imu...
it_last_IMU.time: 1664877194.178204
lastState: 1664877194.178204
currentState: 1664877194.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.198204041 -0.002972 -0.01457 9.8 0 0 0.000633
1-2 processing imu...
it_last_IMU.time: 1664877194.188204
lastState: 1664877194.188204
currentState: 1664877194.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.208204031 -0.002922 -0.01371 9.8 0 0 0.000612
1-2 processing imu...
it_last_IMU.time: 1664877194.198204
lastState: 1664877194.198204
currentState: 1664877194.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.218204021 -0.002873 -0.01285 9.8 0 0 0.000589
1-2 processing imu...
it_last_IMU.time: 1664877194.208204
lastState: 1664877194.208204
currentState: 1664877194.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.228204012 -0.002823 -0.01198 9.8 0 0 0.000565
1-2 processing imu...
it_last_IMU.time: 1664877194.218204
lastState: 1664877194.218204
currentState: 1664877194.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.238204002 -0.002773 -0.01112 9.8 0 0 0.000538
1-2 processing imu...
it_last_IMU.time: 1664877194.228204
lastState: 1664877194.228204
currentState: 1664877194.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.248203993 -0.002724 -0.01025 9.8 0 0 0.00051
1-2 processing imu...
it_last_IMU.time: 1664877194.238204
lastState: 1664877194.238204
currentState: 1664877194.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.258203983 -0.002674 -0.009388 9.8 0 0 0.000481
1-2 processing imu...
it_last_IMU.time: 1664877194.248204
lastState: 1664877194.248204
currentState: 1664877194.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.268203974 -0.002624 -0.008524 9.8 0 0 0.000449
1-2 processing imu...
it_last_IMU.time: 1664877194.258204
lastState: 1664877194.258204
currentState: 1664877194.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.278203964 -0.002575 -0.007659 9.8 0 0 0.000416
1-2 processing imu...
it_last_IMU.time: 1664877194.268204
lastState: 1664877194.268204
currentState: 1664877194.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.288203955 -0.002471 -0.007988 9.8 0 0 0.000381
1-2 processing imu...
it_last_IMU.time: 1664877194.278204
lastState: 1664877194.278204
currentState: 1664877194.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.298203945 -0.002359 -0.008494 9.8 0 0 0.000343
1-2 processing imu...
it_last_IMU.time: 1664877194.288204
lastState: 1664877194.288204
currentState: 1664877194.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.308203936 -0.002247 -0.009 9.8 0 0 0.000303
1-2 processing imu...
it_last_IMU.time: 1664877194.298204
lastState: 1664877194.298204
currentState: 1664877194.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.318203926 -0.002135 -0.009506 9.8 0 0 0.000261
1-2 processing imu...
it_last_IMU.time: 1664877194.308204
lastState: 1664877194.308204
currentState: 1664877194.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.328203917 -0.002023 -0.01001 9.8 0 0 0.000217
1-2 processing imu...
it_last_IMU.time: 1664877194.318204
lastState: 1664877194.318204
currentState: 1664877194.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.338203907 -0.001911 -0.01052 9.8 0 0 0.00017
1-2 processing imu...
it_last_IMU.time: 1664877194.328204
lastState: 1664877194.328204
currentState: 1664877194.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.348203897 -0.001799 -0.01102 9.8 0 0 0.000121
1-2 processing imu...
it_last_IMU.time: 1664877194.338204
lastState: 1664877194.338204
currentState: 1664877194.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.358203888 -0.001687 -0.01153 9.8 0 0 7e-05
1-2 processing imu...
it_last_IMU.time: 1664877194.348204
lastState: 1664877194.348204
currentState: 1664877194.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.368204117 -0.001575 -0.01204 9.8 0 0 1.6e-05
1-2 processing imu...
it_last_IMU.time: 1664877194.358204
lastState: 1664877194.358204
currentState: 1664877194.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.378204107 -0.001463 -0.01254 9.8 0 0 -3.9e-05
1-2 processing imu...
it_last_IMU.time: 1664877194.368204
lastState: 1664877194.368204
currentState: 1664877194.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.388204098 -0.001279 -0.01227 9.8 0 0 -9.8e-05
1-2 processing imu...
it_last_IMU.time: 1664877194.378204
lastState: 1664877194.378204
currentState: 1664877194.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.398204088 -0.001083 -0.01187 9.8 0 0 -0.000159
1-2 processing imu...
it_last_IMU.time: 1664877194.388204
lastState: 1664877194.388204
currentState: 1664877194.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.408204079 -0.000888 -0.01148 9.8 0 0 -0.000222
1-2 processing imu...
it_last_IMU.time: 1664877194.398204
lastState: 1664877194.398204
currentState: 1664877194.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.418204069 -0.000692 -0.01108 9.8 0 0 -0.000289
1-2 processing imu...
it_last_IMU.time: 1664877194.408204
lastState: 1664877194.408204
currentState: 1664877194.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.428204060 -0.000497 -0.01069 9.8 0 0 -0.000358
1-2 processing imu...
it_last_IMU.time: 1664877194.418204
lastState: 1664877194.418204
currentState: 1664877194.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.438204050 -0.000301 -0.01029 9.8 0 0 -0.00043
1-2 processing imu...
it_last_IMU.time: 1664877194.428204
lastState: 1664877194.428204
currentState: 1664877194.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877194.421361923 0.2272 0.2011 0.001417 0.002424 0.004944 0.3901 0.9208
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877194.421362
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877194.421362
state->time: 1664877194.421362
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675598.643927674]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675598.644025945]: the fixed q :[-0.649, -0.64, -0.303, -0.279][0m
[0m[ INFO] [1670675598.644110070]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675598.644186799]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2272 0.2011 0.001417
p_wv: 18.52 -15.22 31
p: 19.05 -14.82 31
q: [-0.649, -0.64, -0.303, -0.279]
l: 0.5156
residual in position: -0.045 -0.002781 -8.648e-05
q_err :[-1, -0.00383, 0.0146, 0.0229]
residual in q: 0.007669 -0.02914 -0.04586
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877194.421362 it_next->second->time: 1664877194.428204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877194.428204 it_next->second->time: 1664877194.438204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.96 -14.83 31
hc: publish state after update
1-1 IMUCallback(): 1664877194.448204041 -0.000106 -0.009893 9.8 0 0 -0.000504
1-2 processing imu...
it_last_IMU.time: 1664877194.438204
lastState: 1664877194.438204
currentState: 1664877194.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.458204031 8.9e-05 -0.009497 9.8 0 0 -0.000581
1-2 processing imu...
it_last_IMU.time: 1664877194.448204
lastState: 1664877194.448204
currentState: 1664877194.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.468204021 0.000285 -0.009101 9.8 0 0 -0.000661
1-2 processing imu...
it_last_IMU.time: 1664877194.458204
lastState: 1664877194.458204
currentState: 1664877194.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.478204012 0.00048 -0.008705 9.8 0 0 -0.000744
1-2 processing imu...
it_last_IMU.time: 1664877194.468204
lastState: 1664877194.468204
currentState: 1664877194.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.488204002 0.000765 -0.0072 9.8 0 0 -0.000829
1-2 processing imu...
it_last_IMU.time: 1664877194.478204
lastState: 1664877194.478204
currentState: 1664877194.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.498203993 0.001064 -0.005504 9.8 0 0 -0.000917
1-2 processing imu...
it_last_IMU.time: 1664877194.488204
lastState: 1664877194.488204
currentState: 1664877194.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.508203983 0.001364 -0.003808 9.8 0 0 -0.001008
1-2 processing imu...
it_last_IMU.time: 1664877194.498204
lastState: 1664877194.498204
currentState: 1664877194.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.518203974 0.001663 -0.002112 9.8 0 0 -0.001102
1-2 processing imu...
it_last_IMU.time: 1664877194.508204
lastState: 1664877194.508204
currentState: 1664877194.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.528203964 0.001963 -0.000416 9.8 0 0 -0.001199
1-2 processing imu...
it_last_IMU.time: 1664877194.518204
lastState: 1664877194.518204
currentState: 1664877194.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.538203955 0.002262 0.001279 9.8 0 0 -0.001299
1-2 processing imu...
it_last_IMU.time: 1664877194.528204
lastState: 1664877194.528204
currentState: 1664877194.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.548203945 0.002562 0.002975 9.8 0 0 -0.001401
1-2 processing imu...
it_last_IMU.time: 1664877194.538204
lastState: 1664877194.538204
currentState: 1664877194.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.558203936 0.002861 0.004671 9.8 0 0 -0.001507
1-2 processing imu...
it_last_IMU.time: 1664877194.548204
lastState: 1664877194.548204
currentState: 1664877194.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.568203926 0.00316 0.006367 9.8 0 0 -0.001615
1-2 processing imu...
it_last_IMU.time: 1664877194.558204
lastState: 1664877194.558204
currentState: 1664877194.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.578203917 0.00346 0.008063 9.8 0 0 -0.001726
1-2 processing imu...
it_last_IMU.time: 1664877194.568204
lastState: 1664877194.568204
currentState: 1664877194.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.588203907 0.00386 0.00922 9.8 0 0 -0.00184
1-2 processing imu...
it_last_IMU.time: 1664877194.578204
lastState: 1664877194.578204
currentState: 1664877194.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.598203897 0.00428 0.01028 9.8 0 0 -0.001957
1-2 processing imu...
it_last_IMU.time: 1664877194.588204
lastState: 1664877194.588204
currentState: 1664877194.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.608203888 0.004699 0.01133 9.8 0 0 -0.002076
1-2 processing imu...
it_last_IMU.time: 1664877194.598204
lastState: 1664877194.598204
currentState: 1664877194.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.618204117 0.005118 0.01239 9.8 0 0 -0.002198
1-2 processing imu...
it_last_IMU.time: 1664877194.608204
lastState: 1664877194.608204
currentState: 1664877194.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.628204107 0.005538 0.01345 9.8 0 0 -0.002322
1-2 processing imu...
it_last_IMU.time: 1664877194.618204
lastState: 1664877194.618204
currentState: 1664877194.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.638204098 0.005957 0.01451 9.8 0 0 -0.002449
1-2 processing imu...
it_last_IMU.time: 1664877194.628204
lastState: 1664877194.628204
currentState: 1664877194.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.648204088 0.006376 0.01556 9.8 0 0 -0.002579
1-2 processing imu...
it_last_IMU.time: 1664877194.638204
lastState: 1664877194.638204
currentState: 1664877194.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.658204079 0.006795 0.01662 9.8 0 0 -0.002711
1-2 processing imu...
it_last_IMU.time: 1664877194.648204
lastState: 1664877194.648204
currentState: 1664877194.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.668204069 0.007214 0.01768 9.8 0 0 -0.002846
1-2 processing imu...
it_last_IMU.time: 1664877194.658204
lastState: 1664877194.658204
currentState: 1664877194.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.678204060 0.007633 0.01874 9.8 0 0 -0.002984
1-2 processing imu...
it_last_IMU.time: 1664877194.668204
lastState: 1664877194.668204
currentState: 1664877194.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.688204050 0.008171 0.01886 9.8 0 0 -0.003124
1-2 processing imu...
it_last_IMU.time: 1664877194.678204
lastState: 1664877194.678204
currentState: 1664877194.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.698204041 0.008732 0.0188 9.8 0 0 -0.003265
1-2 processing imu...
it_last_IMU.time: 1664877194.688204
lastState: 1664877194.688204
currentState: 1664877194.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.708204031 0.009294 0.01875 9.8 0 0 -0.003408
1-2 processing imu...
it_last_IMU.time: 1664877194.698204
lastState: 1664877194.698204
currentState: 1664877194.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.718204021 0.009855 0.01869 9.8 0 0 -0.003553
1-2 processing imu...
it_last_IMU.time: 1664877194.708204
lastState: 1664877194.708204
currentState: 1664877194.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.728204012 0.01042 0.01863 9.8 0 0 -0.003699
1-2 processing imu...
it_last_IMU.time: 1664877194.718204
lastState: 1664877194.718204
currentState: 1664877194.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.738204002 0.01098 0.01858 9.8 0 0 -0.003847
1-2 processing imu...
it_last_IMU.time: 1664877194.728204
lastState: 1664877194.728204
currentState: 1664877194.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.748203993 0.01154 0.01852 9.8 0 0 -0.003996
1-2 processing imu...
it_last_IMU.time: 1664877194.738204
lastState: 1664877194.738204
currentState: 1664877194.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.758203983 0.0121 0.01847 9.8 0 0 -0.004147
1-2 processing imu...
it_last_IMU.time: 1664877194.748204
lastState: 1664877194.748204
currentState: 1664877194.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.768203974 0.01266 0.01841 9.8 0 0 -0.004299
1-2 processing imu...
it_last_IMU.time: 1664877194.758204
lastState: 1664877194.758204
currentState: 1664877194.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.778203964 0.01322 0.01835 9.8 0 0 -0.004453
1-2 processing imu...
it_last_IMU.time: 1664877194.768204
lastState: 1664877194.768204
currentState: 1664877194.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.788203955 0.01387 0.01806 9.8 0 0 -0.004608
1-2 processing imu...
it_last_IMU.time: 1664877194.778204
lastState: 1664877194.778204
currentState: 1664877194.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.798203945 0.01453 0.01771 9.8 0 0 -0.004763
1-2 processing imu...
it_last_IMU.time: 1664877194.788204
lastState: 1664877194.788204
currentState: 1664877194.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.808203936 0.01519 0.01736 9.8 0 0 -0.004917
1-2 processing imu...
it_last_IMU.time: 1664877194.798204
lastState: 1664877194.798204
currentState: 1664877194.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.818203926 0.01585 0.01701 9.8 0 0 -0.005071
1-2 processing imu...
it_last_IMU.time: 1664877194.808204
lastState: 1664877194.808204
currentState: 1664877194.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.828203917 0.01651 0.01666 9.8 0 0 -0.005224
1-2 processing imu...
it_last_IMU.time: 1664877194.818204
lastState: 1664877194.818204
currentState: 1664877194.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.838203907 0.01717 0.01631 9.8 0 0 -0.005377
1-2 processing imu...
it_last_IMU.time: 1664877194.828204
lastState: 1664877194.828204
currentState: 1664877194.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.848203897 0.01783 0.01596 9.8 0 0 -0.005529
1-2 processing imu...
it_last_IMU.time: 1664877194.838204
lastState: 1664877194.838204
currentState: 1664877194.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.858203888 0.01849 0.01562 9.8 0 0 -0.005681
1-2 processing imu...
it_last_IMU.time: 1664877194.848204
lastState: 1664877194.848204
currentState: 1664877194.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877194.846524000 0.2432 0.217 0.00113 0.002389 0.004881 0.3912 0.9203
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877194.846524
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877194.846524
state->time: 1664877194.846524
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675599.578827861]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675599.578890993]: the fixed q :[-0.65, -0.64, -0.302, -0.278][0m
[0m[ INFO] [1670675599.578899521]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675599.578918917]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2432 0.217 0.00113
p_wv: 18.52 -15.22 31
p: 19.08 -14.79 31
q: [-0.65, -0.64, -0.302, -0.278]
l: 0.5156
residual in position: -0.04598 -0.004142 -6.704e-05
q_err :[-1, -0.00413, 0.0149, 0.0207]
residual in q: 0.008259 -0.02981 -0.04132
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877194.846524 it_next->second->time: 1664877194.848204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877194.848204 it_next->second->time: 1664877194.858204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.99 -14.8 31
hc: publish state after update
1-1 IMUCallback(): 1664877194.868204117 0.01915 0.01527 9.8 0 0 -0.005832
1-2 processing imu...
it_last_IMU.time: 1664877194.858204
lastState: 1664877194.858204
currentState: 1664877194.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.878204107 0.01982 0.01492 9.8 0 0 -0.005983
1-2 processing imu...
it_last_IMU.time: 1664877194.868204
lastState: 1664877194.868204
currentState: 1664877194.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.888204098 0.02051 0.01322 9.8 0 0 -0.006132
1-2 processing imu...
it_last_IMU.time: 1664877194.878204
lastState: 1664877194.878204
currentState: 1664877194.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.898204088 0.02121 0.01123 9.8 0 0 -0.006277
1-2 processing imu...
it_last_IMU.time: 1664877194.888204
lastState: 1664877194.888204
currentState: 1664877194.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.908204079 0.0219 0.009229 9.8 0 0 -0.006418
1-2 processing imu...
it_last_IMU.time: 1664877194.898204
lastState: 1664877194.898204
currentState: 1664877194.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.918204069 0.0226 0.007232 9.8 0 0 -0.006555
1-2 processing imu...
it_last_IMU.time: 1664877194.908204
lastState: 1664877194.908204
currentState: 1664877194.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.928204060 0.0233 0.005235 9.8 0 0 -0.006687
1-2 processing imu...
it_last_IMU.time: 1664877194.918204
lastState: 1664877194.918204
currentState: 1664877194.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.938204050 0.024 0.003238 9.8 0 0 -0.006816
1-2 processing imu...
it_last_IMU.time: 1664877194.928204
lastState: 1664877194.928204
currentState: 1664877194.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.948204041 0.0247 0.001241 9.8 0 0 -0.00694
1-2 processing imu...
it_last_IMU.time: 1664877194.938204
lastState: 1664877194.938204
currentState: 1664877194.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.958204031 0.0254 -0.000755 9.8 0 0 -0.00706
1-2 processing imu...
it_last_IMU.time: 1664877194.948204
lastState: 1664877194.948204
currentState: 1664877194.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.968204021 0.0261 -0.002752 9.8 0 0 -0.007176
1-2 processing imu...
it_last_IMU.time: 1664877194.958204
lastState: 1664877194.958204
currentState: 1664877194.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.978204012 0.0268 -0.004748 9.8 0 0 -0.007288
1-2 processing imu...
it_last_IMU.time: 1664877194.968204
lastState: 1664877194.968204
currentState: 1664877194.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877194.988204002 0.02742 -0.006418 9.8 0 0 -0.007393
1-2 processing imu...
it_last_IMU.time: 1664877194.978204
lastState: 1664877194.978204
currentState: 1664877194.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877194.998203993 0.02803 -0.008011 9.8 0 0 -0.007489
1-2 processing imu...
it_last_IMU.time: 1664877194.988204
lastState: 1664877194.988204
currentState: 1664877194.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.008203983 0.02863 -0.009603 9.8 0 0 -0.007575
1-2 processing imu...
it_last_IMU.time: 1664877194.998204
lastState: 1664877194.998204
currentState: 1664877195.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.018203974 0.02924 -0.0112 9.8 0 0 -0.007651
1-2 processing imu...
it_last_IMU.time: 1664877195.008204
lastState: 1664877195.008204
currentState: 1664877195.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.028203964 0.02984 -0.01279 9.8 0 0 -0.007717
1-2 processing imu...
it_last_IMU.time: 1664877195.018204
lastState: 1664877195.018204
currentState: 1664877195.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.038203955 0.03045 -0.01438 9.8 0 0 -0.007774
1-2 processing imu...
it_last_IMU.time: 1664877195.028204
lastState: 1664877195.028204
currentState: 1664877195.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.048203945 0.03105 -0.01597 9.8 0 0 -0.00782
1-2 processing imu...
it_last_IMU.time: 1664877195.038204
lastState: 1664877195.038204
currentState: 1664877195.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.058203936 0.03166 -0.01756 9.8 0 0 -0.007856
1-2 processing imu...
it_last_IMU.time: 1664877195.048204
lastState: 1664877195.048204
currentState: 1664877195.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.068203926 0.03227 -0.01916 9.8 0 0 -0.007883
1-2 processing imu...
it_last_IMU.time: 1664877195.058204
lastState: 1664877195.058204
currentState: 1664877195.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.078203917 0.03287 -0.02075 9.8 0 0 -0.0079
1-2 processing imu...
it_last_IMU.time: 1664877195.068204
lastState: 1664877195.068204
currentState: 1664877195.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.088203907 0.03327 -0.02112 9.8 0 0 -0.007904
1-2 processing imu...
it_last_IMU.time: 1664877195.078204
lastState: 1664877195.078204
currentState: 1664877195.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.098203897 0.03362 -0.02119 9.8 0 0 -0.007891
1-2 processing imu...
it_last_IMU.time: 1664877195.088204
lastState: 1664877195.088204
currentState: 1664877195.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.108203888 0.03397 -0.02125 9.8 0 0 -0.007861
1-2 processing imu...
it_last_IMU.time: 1664877195.098204
lastState: 1664877195.098204
currentState: 1664877195.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.118204117 0.03432 -0.02132 9.8 0 0 -0.007814
1-2 processing imu...
it_last_IMU.time: 1664877195.108204
lastState: 1664877195.108204
currentState: 1664877195.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.128204107 0.03467 -0.02139 9.8 0 0 -0.007749
1-2 processing imu...
it_last_IMU.time: 1664877195.118204
lastState: 1664877195.118204
currentState: 1664877195.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.138204098 0.03501 -0.02145 9.8 0 0 -0.007667
1-2 processing imu...
it_last_IMU.time: 1664877195.128204
lastState: 1664877195.128204
currentState: 1664877195.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.148204088 0.03536 -0.02152 9.8 0 0 -0.007568
1-2 processing imu...
it_last_IMU.time: 1664877195.138204
lastState: 1664877195.138204
currentState: 1664877195.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
[33m[ WARN] [1670675600.217880081]: Pose measurement throttling is on, dropping messagesto be below 2.500000 Hz[0m
1-1 IMUCallback(): 1664877195.158204079 0.03571 -0.02159 9.8 0 0 -0.007451
1-2 processing imu...
it_last_IMU.time: 1664877195.148204
lastState: 1664877195.148204
currentState: 1664877195.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.168204069 0.03606 -0.02166 9.8 0 0 -0.007317
1-2 processing imu...
it_last_IMU.time: 1664877195.158204
lastState: 1664877195.158204
currentState: 1664877195.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.178204060 0.0364 -0.02172 9.8 0 0 -0.007166
1-2 processing imu...
it_last_IMU.time: 1664877195.168204
lastState: 1664877195.168204
currentState: 1664877195.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.188204050 0.0363 -0.02111 9.8 0 0 -0.006994
1-2 processing imu...
it_last_IMU.time: 1664877195.178204
lastState: 1664877195.178204
currentState: 1664877195.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.198204041 0.03608 -0.02032 9.8 0 0 -0.006795
1-2 processing imu...
it_last_IMU.time: 1664877195.188204
lastState: 1664877195.188204
currentState: 1664877195.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.208204031 0.03585 -0.01953 9.8 0 0 -0.006569
1-2 processing imu...
it_last_IMU.time: 1664877195.198204
lastState: 1664877195.198204
currentState: 1664877195.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.218204021 0.03563 -0.01875 9.8 0 0 -0.006315
1-2 processing imu...
it_last_IMU.time: 1664877195.208204
lastState: 1664877195.208204
currentState: 1664877195.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.228204012 0.03541 -0.01796 9.8 0 0 -0.006033
1-2 processing imu...
it_last_IMU.time: 1664877195.218204
lastState: 1664877195.218204
currentState: 1664877195.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.238204002 0.03518 -0.01717 9.8 0 0 -0.005724
1-2 processing imu...
it_last_IMU.time: 1664877195.228204
lastState: 1664877195.228204
currentState: 1664877195.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.248203993 0.03496 -0.01638 9.8 0 0 -0.005388
1-2 processing imu...
it_last_IMU.time: 1664877195.238204
lastState: 1664877195.238204
currentState: 1664877195.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.258203983 0.03473 -0.01559 9.8 0 0 -0.005024
1-2 processing imu...
it_last_IMU.time: 1664877195.248204
lastState: 1664877195.248204
currentState: 1664877195.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.268203974 0.03451 -0.0148 9.8 0 0 -0.004632
1-2 processing imu...
it_last_IMU.time: 1664877195.258204
lastState: 1664877195.258204
currentState: 1664877195.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877195.254087925 0.2594 0.2331 0.001054 0.002289 0.005028 0.3922 0.9199
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877195.254088
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877195.254088
state->time: 1664877195.254088
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675600.474604107]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675600.474712208]: the fixed q :[-0.65, -0.64, -0.301, -0.278][0m
[0m[ INFO] [1670675600.474765588]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675600.474821227]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2594 0.2331 0.001054
p_wv: 18.52 -15.22 31
p: 19.11 -14.76 31
q: [-0.65, -0.64, -0.301, -0.278]
l: 0.5156
residual in position: -0.04298 -0.002322 -0.0009061
q_err :[-1, -0.00391, 0.0144, 0.019]
residual in q: 0.007817 -0.02886 -0.03795
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877195.254088 it_next->second->time: 1664877195.258204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877195.258204 it_next->second->time: 1664877195.268204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.02 -14.77 31
hc: publish state after update
1-1 IMUCallback(): 1664877195.278203964 0.03428 -0.01402 9.8 0 0 -0.004214
1-2 processing imu...
it_last_IMU.time: 1664877195.268204
lastState: 1664877195.268204
currentState: 1664877195.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.288203955 0.0334 -0.01273 9.8 0 0 -0.003764
1-2 processing imu...
it_last_IMU.time: 1664877195.278204
lastState: 1664877195.278204
currentState: 1664877195.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.298203945 0.03234 -0.0113 9.8 0 0 -0.003276
1-2 processing imu...
it_last_IMU.time: 1664877195.288204
lastState: 1664877195.288204
currentState: 1664877195.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.308203936 0.03127 -0.00987 9.8 0 0 -0.002751
1-2 processing imu...
it_last_IMU.time: 1664877195.298204
lastState: 1664877195.298204
currentState: 1664877195.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.318203926 0.03021 -0.008441 9.8 0 0 -0.002187
1-2 processing imu...
it_last_IMU.time: 1664877195.308204
lastState: 1664877195.308204
currentState: 1664877195.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.328203917 0.02914 -0.007014 9.8 0 0 -0.001585
1-2 processing imu...
it_last_IMU.time: 1664877195.318204
lastState: 1664877195.318204
currentState: 1664877195.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.338203907 0.02808 -0.005586 9.8 0 0 -0.000944
1-2 processing imu...
it_last_IMU.time: 1664877195.328204
lastState: 1664877195.328204
currentState: 1664877195.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.348203897 0.02701 -0.004158 9.8 0 0 -0.000266
1-2 processing imu...
it_last_IMU.time: 1664877195.338204
lastState: 1664877195.338204
currentState: 1664877195.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.358203888 0.02595 -0.002731 9.8 0 0 0.000451
1-2 processing imu...
it_last_IMU.time: 1664877195.348204
lastState: 1664877195.348204
currentState: 1664877195.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.368204117 0.02488 -0.001304 9.8 0 0 0.001205
1-2 processing imu...
it_last_IMU.time: 1664877195.358204
lastState: 1664877195.358204
currentState: 1664877195.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.378204107 0.02382 0.000123 9.8 0 0 0.001998
1-2 processing imu...
it_last_IMU.time: 1664877195.368204
lastState: 1664877195.368204
currentState: 1664877195.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.388204098 0.02161 0.000771 9.8 0 0 0.002833
1-2 processing imu...
it_last_IMU.time: 1664877195.378204
lastState: 1664877195.378204
currentState: 1664877195.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.398204088 0.01906 0.001192 9.8 0 0 0.003719
1-2 processing imu...
it_last_IMU.time: 1664877195.388204
lastState: 1664877195.388204
currentState: 1664877195.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.408204079 0.01651 0.001612 9.8 0 0 0.004656
1-2 processing imu...
it_last_IMU.time: 1664877195.398204
lastState: 1664877195.398204
currentState: 1664877195.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.418204069 0.01397 0.002032 9.8 0 0 0.005645
1-2 processing imu...
it_last_IMU.time: 1664877195.408204
lastState: 1664877195.408204
currentState: 1664877195.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.428204060 0.01142 0.002452 9.8 0 0 0.006684
1-2 processing imu...
it_last_IMU.time: 1664877195.418204
lastState: 1664877195.418204
currentState: 1664877195.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.438204050 0.008875 0.002873 9.8 0 0 0.007775
1-2 processing imu...
it_last_IMU.time: 1664877195.428204
lastState: 1664877195.428204
currentState: 1664877195.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.448204041 0.006329 0.003294 9.8 0 0 0.008917
1-2 processing imu...
it_last_IMU.time: 1664877195.438204
lastState: 1664877195.438204
currentState: 1664877195.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.458204031 0.003783 0.003715 9.8 0 0 0.01011
1-2 processing imu...
it_last_IMU.time: 1664877195.448204
lastState: 1664877195.448204
currentState: 1664877195.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.468204021 0.001237 0.004137 9.8 0 0 0.01135
1-2 processing imu...
it_last_IMU.time: 1664877195.458204
lastState: 1664877195.458204
currentState: 1664877195.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.478204012 -0.001308 0.004559 9.8 0 0 0.01265
1-2 processing imu...
it_last_IMU.time: 1664877195.468204
lastState: 1664877195.468204
currentState: 1664877195.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.488204002 -0.005275 0.006332 9.8 0 0 0.014
1-2 processing imu...
it_last_IMU.time: 1664877195.478204
lastState: 1664877195.478204
currentState: 1664877195.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.498203993 -0.00968 0.008523 9.8 0 0 0.01541
1-2 processing imu...
it_last_IMU.time: 1664877195.488204
lastState: 1664877195.488204
currentState: 1664877195.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.508203983 -0.01408 0.01072 9.8 0 0 0.01688
1-2 processing imu...
it_last_IMU.time: 1664877195.498204
lastState: 1664877195.498204
currentState: 1664877195.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.518203974 -0.01849 0.01291 9.8 0 0 0.01842
1-2 processing imu...
it_last_IMU.time: 1664877195.508204
lastState: 1664877195.508204
currentState: 1664877195.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.528203964 -0.02289 0.0151 9.8 0 0 0.02002
1-2 processing imu...
it_last_IMU.time: 1664877195.518204
lastState: 1664877195.518204
currentState: 1664877195.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.538203955 -0.02729 0.0173 9.8 0 0 0.02168
1-2 processing imu...
it_last_IMU.time: 1664877195.528204
lastState: 1664877195.528204
currentState: 1664877195.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.548203945 -0.03169 0.0195 9.8 0 0 0.0234
1-2 processing imu...
it_last_IMU.time: 1664877195.538204
lastState: 1664877195.538204
currentState: 1664877195.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.558203936 -0.03609 0.0217 9.8 0 0 0.02519
1-2 processing imu...
it_last_IMU.time: 1664877195.548204
lastState: 1664877195.548204
currentState: 1664877195.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.568203926 -0.04049 0.02391 9.8 0 0 0.02703
1-2 processing imu...
it_last_IMU.time: 1664877195.558204
lastState: 1664877195.558204
currentState: 1664877195.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.578203917 -0.04488 0.02612 9.8 0 0 0.02894
1-2 processing imu...
it_last_IMU.time: 1664877195.568204
lastState: 1664877195.568204
currentState: 1664877195.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.588203907 -0.0511 0.0268 9.8 0 0 0.03091
1-2 processing imu...
it_last_IMU.time: 1664877195.578204
lastState: 1664877195.578204
currentState: 1664877195.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.598203897 -0.0579 0.027 9.8 0 0 0.03295
1-2 processing imu...
it_last_IMU.time: 1664877195.588204
lastState: 1664877195.588204
currentState: 1664877195.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.608203888 -0.0647 0.02721 9.8 0 0 0.03506
1-2 processing imu...
it_last_IMU.time: 1664877195.598204
lastState: 1664877195.598204
currentState: 1664877195.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.618204117 -0.07151 0.02741 9.8 0 0 0.03724
1-2 processing imu...
it_last_IMU.time: 1664877195.608204
lastState: 1664877195.608204
currentState: 1664877195.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.628204107 -0.07831 0.02763 9.8 0 0 0.03948
1-2 processing imu...
it_last_IMU.time: 1664877195.618204
lastState: 1664877195.618204
currentState: 1664877195.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.638204098 -0.08511 0.02785 9.8 0 0 0.0418
1-2 processing imu...
it_last_IMU.time: 1664877195.628204
lastState: 1664877195.628204
currentState: 1664877195.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.648204088 -0.09191 0.02808 9.8 0 0 0.04418
1-2 processing imu...
it_last_IMU.time: 1664877195.638204
lastState: 1664877195.638204
currentState: 1664877195.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.658204079 -0.09871 0.02832 9.8 0 0 0.04663
1-2 processing imu...
it_last_IMU.time: 1664877195.648204
lastState: 1664877195.648204
currentState: 1664877195.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.668204069 -0.1055 0.02857 9.8 0 0 0.04914
1-2 processing imu...
it_last_IMU.time: 1664877195.658204
lastState: 1664877195.658204
currentState: 1664877195.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.678204060 -0.1123 0.02883 9.8 0 0 0.05173
1-2 processing imu...
it_last_IMU.time: 1664877195.668204
lastState: 1664877195.668204
currentState: 1664877195.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.688204050 -0.1213 0.03038 9.8 0 0 0.05438
1-2 processing imu...
it_last_IMU.time: 1664877195.678204
lastState: 1664877195.678204
currentState: 1664877195.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.698204041 -0.1311 0.03239 9.8 0 0 0.0571
1-2 processing imu...
it_last_IMU.time: 1664877195.688204
lastState: 1664877195.688204
currentState: 1664877195.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877195.678657055 0.2754 0.2492 0.001053 0.002563 0.005756 0.3939 0.9191
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877195.678657
time: 1664877195.678657
state->time: 1664877195.678204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675601.377682466]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675601.377728402]: the fixed q :[-0.648, -0.641, -0.299, -0.281][0m
[0m[ INFO] [1670675601.377737661]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675601.377755945]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2754 0.2492 0.001053
p_wv: 18.52 -15.22 31
p: 19.15 -14.73 31
q: [-0.648, -0.641, -0.299, -0.281]
l: 0.5156
residual in position: -0.04754 -0.003568 0.0003287
q_err :[-1, -0.00452, 0.00937, 0.0181]
residual in q: 0.009042 -0.01874 -0.03623
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877195.678204 it_next->second->time: 1664877195.688204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877195.688204 it_next->second->time: 1664877195.698204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.06 -14.73 31
hc: publish state after update
1-1 IMUCallback(): 1664877195.708204031 -0.1409 0.03441 9.8 0 0 0.0599
1-2 processing imu...
it_last_IMU.time: 1664877195.698204
lastState: 1664877195.698204
currentState: 1664877195.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.718204021 -0.1507 0.03644 9.8 0 0 0.06276
1-2 processing imu...
it_last_IMU.time: 1664877195.708204
lastState: 1664877195.708204
currentState: 1664877195.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.728204012 -0.1605 0.0385 9.8 0 0 0.06569
1-2 processing imu...
it_last_IMU.time: 1664877195.718204
lastState: 1664877195.718204
currentState: 1664877195.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.738204002 -0.1703 0.04057 9.8 0 0 0.06869
1-2 processing imu...
it_last_IMU.time: 1664877195.728204
lastState: 1664877195.728204
currentState: 1664877195.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.748203993 -0.18 0.04265 9.8 0 0 0.07176
1-2 processing imu...
it_last_IMU.time: 1664877195.738204
lastState: 1664877195.738204
currentState: 1664877195.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.758203983 -0.1898 0.04476 9.8 0 0 0.0749
1-2 processing imu...
it_last_IMU.time: 1664877195.748204
lastState: 1664877195.748204
currentState: 1664877195.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.768203974 -0.1996 0.04689 9.8 0 0 0.07811
1-2 processing imu...
it_last_IMU.time: 1664877195.758204
lastState: 1664877195.758204
currentState: 1664877195.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.778203964 -0.2093 0.04904 9.8 0 0 0.08139
1-2 processing imu...
it_last_IMU.time: 1664877195.768204
lastState: 1664877195.768204
currentState: 1664877195.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.788203955 -0.2211 0.05022 9.8 0 0 0.08474
1-2 processing imu...
it_last_IMU.time: 1664877195.778204
lastState: 1664877195.778204
currentState: 1664877195.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.798203945 -0.2336 0.05106 9.8 0 0 0.08815
1-2 processing imu...
it_last_IMU.time: 1664877195.788204
lastState: 1664877195.788204
currentState: 1664877195.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.808203936 -0.2461 0.05193 9.8 0 0 0.09165
1-2 processing imu...
it_last_IMU.time: 1664877195.798204
lastState: 1664877195.798204
currentState: 1664877195.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.818203926 -0.2586 0.05284 9.8 0 0 0.09521
1-2 processing imu...
it_last_IMU.time: 1664877195.808204
lastState: 1664877195.808204
currentState: 1664877195.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.828203917 -0.2711 0.05378 9.8 0 0 0.09884
1-2 processing imu...
it_last_IMU.time: 1664877195.818204
lastState: 1664877195.818204
currentState: 1664877195.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.838203907 -0.2836 0.05475 9.8 0 0 0.1025
1-2 processing imu...
it_last_IMU.time: 1664877195.828204
lastState: 1664877195.828204
currentState: 1664877195.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.848203897 -0.2961 0.05576 9.8 0 0 0.1063
1-2 processing imu...
it_last_IMU.time: 1664877195.838204
lastState: 1664877195.838204
currentState: 1664877195.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.858203888 -0.3086 0.05681 9.8 0 0 0.1102
1-2 processing imu...
it_last_IMU.time: 1664877195.848204
lastState: 1664877195.848204
currentState: 1664877195.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.868204117 -0.3211 0.0579 9.8 0 0 0.1141
1-2 processing imu...
it_last_IMU.time: 1664877195.858204
lastState: 1664877195.858204
currentState: 1664877195.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.878204107 -0.3336 0.05903 9.8 0 0 0.1181
1-2 processing imu...
it_last_IMU.time: 1664877195.868204
lastState: 1664877195.868204
currentState: 1664877195.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.888204098 -0.3482 0.05812 9.8 0 0 0.1221
1-2 processing imu...
it_last_IMU.time: 1664877195.878204
lastState: 1664877195.878204
currentState: 1664877195.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.898204088 -0.3637 0.0565 9.8 0 0 0.1263
1-2 processing imu...
it_last_IMU.time: 1664877195.888204
lastState: 1664877195.888204
currentState: 1664877195.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.908204079 -0.3791 0.05492 9.8 0 0 0.1305
1-2 processing imu...
it_last_IMU.time: 1664877195.898204
lastState: 1664877195.898204
currentState: 1664877195.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.918204069 -0.3946 0.05341 9.8 0 0 0.1348
1-2 processing imu...
it_last_IMU.time: 1664877195.908204
lastState: 1664877195.908204
currentState: 1664877195.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.928204060 -0.4101 0.05195 9.8 0 0 0.1391
1-2 processing imu...
it_last_IMU.time: 1664877195.918204
lastState: 1664877195.918204
currentState: 1664877195.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.938204050 -0.4255 0.05055 9.8 0 0 0.1435
1-2 processing imu...
it_last_IMU.time: 1664877195.928204
lastState: 1664877195.928204
currentState: 1664877195.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.948204041 -0.441 0.04922 9.8 0 0 0.148
1-2 processing imu...
it_last_IMU.time: 1664877195.938204
lastState: 1664877195.938204
currentState: 1664877195.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.958204031 -0.4565 0.04795 9.8 0 0 0.1525
1-2 processing imu...
it_last_IMU.time: 1664877195.948204
lastState: 1664877195.948204
currentState: 1664877195.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.968204021 -0.4719 0.04675 9.8 0 0 0.1572
1-2 processing imu...
it_last_IMU.time: 1664877195.958204
lastState: 1664877195.958204
currentState: 1664877195.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.978204012 -0.4874 0.04563 9.8 0 0 0.1618
1-2 processing imu...
it_last_IMU.time: 1664877195.968204
lastState: 1664877195.968204
currentState: 1664877195.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877195.988204002 -0.5039 0.04446 9.8 0 0 0.1666
1-2 processing imu...
it_last_IMU.time: 1664877195.978204
lastState: 1664877195.978204
currentState: 1664877195.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877195.998203993 -0.5208 0.04334 9.8 0 0 0.1714
1-2 processing imu...
it_last_IMU.time: 1664877195.988204
lastState: 1664877195.988204
currentState: 1664877195.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.008203983 -0.5377 0.0423 9.8 0 0 0.1762
1-2 processing imu...
it_last_IMU.time: 1664877195.998204
lastState: 1664877195.998204
currentState: 1664877196.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.018203974 -0.5547 0.04134 9.8 0 0 0.1812
1-2 processing imu...
it_last_IMU.time: 1664877196.008204
lastState: 1664877196.008204
currentState: 1664877196.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.028203964 -0.5716 0.04048 9.8 0 0 0.1861
1-2 processing imu...
it_last_IMU.time: 1664877196.018204
lastState: 1664877196.018204
currentState: 1664877196.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.038203955 -0.5885 0.0397 9.8 0 0 0.1911
1-2 processing imu...
it_last_IMU.time: 1664877196.028204
lastState: 1664877196.028204
currentState: 1664877196.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.048203945 -0.6054 0.03902 9.8 0 0 0.1962
1-2 processing imu...
it_last_IMU.time: 1664877196.038204
lastState: 1664877196.038204
currentState: 1664877196.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.058203936 -0.6224 0.03844 9.8 0 0 0.2013
1-2 processing imu...
it_last_IMU.time: 1664877196.048204
lastState: 1664877196.048204
currentState: 1664877196.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.068203926 -0.6393 0.03796 9.8 0 0 0.2064
1-2 processing imu...
it_last_IMU.time: 1664877196.058204
lastState: 1664877196.058204
currentState: 1664877196.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.078203917 -0.6562 0.03758 9.8 0 0 0.2117
1-2 processing imu...
it_last_IMU.time: 1664877196.068204
lastState: 1664877196.068204
currentState: 1664877196.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.088203907 -0.6734 0.03622 9.8 0 0 0.2169
1-2 processing imu...
it_last_IMU.time: 1664877196.078204
lastState: 1664877196.078204
currentState: 1664877196.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.098203897 -0.6908 0.03453 9.8 0 0 0.2222
1-2 processing imu...
it_last_IMU.time: 1664877196.088204
lastState: 1664877196.088204
currentState: 1664877196.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.108203888 -0.7082 0.03295 9.8 0 0 0.2275
1-2 processing imu...
it_last_IMU.time: 1664877196.098204
lastState: 1664877196.098204
currentState: 1664877196.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877196.098114967 0.2915 0.2654 0.001338 0.002452 0.006663 0.4139 0.9103
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877196.098115
time: 1664877196.098115
state->time: 1664877196.098204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675602.247913243]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675602.247965545]: the fixed q :[-0.641, -0.648, -0.285, -0.297][0m
[0m[ INFO] [1670675602.247990583]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675602.248004909]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2915 0.2654 0.001338
p_wv: 18.52 -15.22 31
p: 19.16 -14.75 31.01
q: [-0.641, -0.648, -0.285, -0.297]
l: 0.5156
residual in position: -0.03891 0.02059 -0.004302
q_err :[-1, -0.00428, -0.0151, -0.00291]
residual in q: 0.008559 0.03012 0.005828
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877196.098204 it_next->second->time: 1664877196.108204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.09 -14.71 31
hc: publish state after update
1-1 IMUCallback(): 1664877196.118204117 -0.7256 0.03149 9.8 0 0 0.2328
1-2 processing imu...
it_last_IMU.time: 1664877196.108204
lastState: 1664877196.108204
currentState: 1664877196.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.128204107 -0.7429 0.03015 9.8 0 0 0.2382
1-2 processing imu...
it_last_IMU.time: 1664877196.118204
lastState: 1664877196.118204
currentState: 1664877196.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.138204098 -0.7603 0.02893 9.8 0 0 0.2435
1-2 processing imu...
it_last_IMU.time: 1664877196.128204
lastState: 1664877196.128204
currentState: 1664877196.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.148204088 -0.7778 0.02784 9.8 0 0 0.2489
1-2 processing imu...
it_last_IMU.time: 1664877196.138204
lastState: 1664877196.138204
currentState: 1664877196.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.158204079 -0.7952 0.02687 9.8 0 0 0.2543
1-2 processing imu...
it_last_IMU.time: 1664877196.148204
lastState: 1664877196.148204
currentState: 1664877196.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.168204069 -0.8126 0.02604 9.8 0 0 0.2598
1-2 processing imu...
it_last_IMU.time: 1664877196.158204
lastState: 1664877196.158204
currentState: 1664877196.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.178204060 -0.83 0.02534 9.8 0 0 0.2652
1-2 processing imu...
it_last_IMU.time: 1664877196.168204
lastState: 1664877196.168204
currentState: 1664877196.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.188204050 -0.8482 0.02247 9.8 0 0 0.2707
1-2 processing imu...
it_last_IMU.time: 1664877196.178204
lastState: 1664877196.178204
currentState: 1664877196.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.198204041 -0.8668 0.01876 9.8 0 0 0.2762
1-2 processing imu...
it_last_IMU.time: 1664877196.188204
lastState: 1664877196.188204
currentState: 1664877196.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.208204031 -0.8854 0.0152 9.8 0 0 0.2817
1-2 processing imu...
it_last_IMU.time: 1664877196.198204
lastState: 1664877196.198204
currentState: 1664877196.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.218204021 -0.9041 0.01179 9.8 0 0 0.2871
1-2 processing imu...
it_last_IMU.time: 1664877196.208204
lastState: 1664877196.208204
currentState: 1664877196.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.228204012 -0.9227 0.008535 9.8 0 0 0.2926
1-2 processing imu...
it_last_IMU.time: 1664877196.218204
lastState: 1664877196.218204
currentState: 1664877196.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.238204002 -0.9414 0.005443 9.8 0 0 0.2981
1-2 processing imu...
it_last_IMU.time: 1664877196.228204
lastState: 1664877196.228204
currentState: 1664877196.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.248203993 -0.9601 0.002515 9.8 0 0 0.3036
1-2 processing imu...
it_last_IMU.time: 1664877196.238204
lastState: 1664877196.238204
currentState: 1664877196.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.258203983 -0.9789 -0.000247 9.8 0 0 0.3092
1-2 processing imu...
it_last_IMU.time: 1664877196.248204
lastState: 1664877196.248204
currentState: 1664877196.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.268203974 -0.9976 -0.002838 9.8 0 0 0.3147
1-2 processing imu...
it_last_IMU.time: 1664877196.258204
lastState: 1664877196.258204
currentState: 1664877196.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.278203964 -1.016 -0.005257 9.8 0 0 0.3202
1-2 processing imu...
it_last_IMU.time: 1664877196.268204
lastState: 1664877196.268204
currentState: 1664877196.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.288203955 -1.035 -0.008857 9.8 0 0 0.3257
1-2 processing imu...
it_last_IMU.time: 1664877196.278204
lastState: 1664877196.278204
currentState: 1664877196.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.298203945 -1.053 -0.01288 9.8 0 0 0.3312
1-2 processing imu...
it_last_IMU.time: 1664877196.288204
lastState: 1664877196.288204
currentState: 1664877196.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.308203936 -1.072 -0.01673 9.8 0 0 0.3367
1-2 processing imu...
it_last_IMU.time: 1664877196.298204
lastState: 1664877196.298204
currentState: 1664877196.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.318203926 -1.09 -0.02039 9.8 0 0 0.3422
1-2 processing imu...
it_last_IMU.time: 1664877196.308204
lastState: 1664877196.308204
currentState: 1664877196.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.328203917 -1.108 -0.02387 9.8 0 0 0.3477
1-2 processing imu...
it_last_IMU.time: 1664877196.318204
lastState: 1664877196.318204
currentState: 1664877196.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.338203907 -1.127 -0.02715 9.8 0 0 0.3531
1-2 processing imu...
it_last_IMU.time: 1664877196.328204
lastState: 1664877196.328204
currentState: 1664877196.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.348203897 -1.146 -0.03025 9.8 0 0 0.3586
1-2 processing imu...
it_last_IMU.time: 1664877196.338204
lastState: 1664877196.338204
currentState: 1664877196.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.358203888 -1.164 -0.03315 9.8 0 0 0.364
1-2 processing imu...
it_last_IMU.time: 1664877196.348204
lastState: 1664877196.348204
currentState: 1664877196.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.368204117 -1.183 -0.03585 9.8 0 0 0.3694
1-2 processing imu...
it_last_IMU.time: 1664877196.358204
lastState: 1664877196.358204
currentState: 1664877196.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.378204107 -1.201 -0.03836 9.8 0 0 0.3748
1-2 processing imu...
it_last_IMU.time: 1664877196.368204
lastState: 1664877196.368204
currentState: 1664877196.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.388204098 -1.218 -0.04153 9.8 0 0 0.3802
1-2 processing imu...
it_last_IMU.time: 1664877196.378204
lastState: 1664877196.378204
currentState: 1664877196.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.398204088 -1.233 -0.04492 9.8 0 0 0.3856
1-2 processing imu...
it_last_IMU.time: 1664877196.388204
lastState: 1664877196.388204
currentState: 1664877196.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.408204079 -1.248 -0.04813 9.8 0 0 0.3909
1-2 processing imu...
it_last_IMU.time: 1664877196.398204
lastState: 1664877196.398204
currentState: 1664877196.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.418204069 -1.264 -0.05115 9.8 0 0 0.3962
1-2 processing imu...
it_last_IMU.time: 1664877196.408204
lastState: 1664877196.408204
currentState: 1664877196.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.428204060 -1.279 -0.05399 9.8 0 0 0.4014
1-2 processing imu...
it_last_IMU.time: 1664877196.418204
lastState: 1664877196.418204
currentState: 1664877196.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.438204050 -1.295 -0.05663 9.8 0 0 0.4067
1-2 processing imu...
it_last_IMU.time: 1664877196.428204
lastState: 1664877196.428204
currentState: 1664877196.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.448204041 -1.31 -0.05908 9.8 0 0 0.4118
1-2 processing imu...
it_last_IMU.time: 1664877196.438204
lastState: 1664877196.438204
currentState: 1664877196.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.458204031 -1.326 -0.06134 9.8 0 0 0.417
1-2 processing imu...
it_last_IMU.time: 1664877196.448204
lastState: 1664877196.448204
currentState: 1664877196.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.468204021 -1.342 -0.0634 9.8 0 0 0.4221
1-2 processing imu...
it_last_IMU.time: 1664877196.458204
lastState: 1664877196.458204
currentState: 1664877196.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.478204012 -1.357 -0.06526 9.8 0 0 0.4272
1-2 processing imu...
it_last_IMU.time: 1664877196.468204
lastState: 1664877196.468204
currentState: 1664877196.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.488204002 -1.372 -0.06749 9.8 0 0 0.4322
1-2 processing imu...
it_last_IMU.time: 1664877196.478204
lastState: 1664877196.478204
currentState: 1664877196.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.498203993 -1.387 -0.06981 9.8 0 0 0.4372
1-2 processing imu...
it_last_IMU.time: 1664877196.488204
lastState: 1664877196.488204
currentState: 1664877196.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.508203983 -1.401 -0.07194 9.8 0 0 0.4421
1-2 processing imu...
it_last_IMU.time: 1664877196.498204
lastState: 1664877196.498204
currentState: 1664877196.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.518203974 -1.416 -0.07387 9.8 0 0 0.447
1-2 processing imu...
it_last_IMU.time: 1664877196.508204
lastState: 1664877196.508204
currentState: 1664877196.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877196.505214930 0.3057 0.283 0.000682 0.003447 0.005795 0.48 0.8772
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877196.505215
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877196.505215
state->time: 1664877196.505215
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675603.091474093]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675603.091504736]: the fixed q :[-0.622, -0.653, -0.272, -0.336][0m
[0m[ INFO] [1670675603.091516451]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675603.091530443]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.3057 0.283 0.000682
p_wv: 18.52 -15.22 31
p: 19.18 -14.85 31.01
q: [-0.622, -0.653, -0.272, -0.336]
l: 0.5156
residual in position: -0.03708 0.09286 -0.002647
q_err :[-0.997, -0.00784, -0.0541, -0.0558]
residual in q: 0.01573 0.1086 0.1119
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877196.505215 it_next->second->time: 1664877196.508204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877196.508204 it_next->second->time: 1664877196.518204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.12 -14.68 31
hc: publish state after update
1-1 IMUCallback(): 1664877196.528203964 -1.43 -0.0756 9.8 0 0 0.4519
1-2 processing imu...
it_last_IMU.time: 1664877196.518204
lastState: 1664877196.518204
currentState: 1664877196.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.538203955 -1.445 -0.07713 9.8 0 0 0.4567
1-2 processing imu...
it_last_IMU.time: 1664877196.528204
lastState: 1664877196.528204
currentState: 1664877196.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.548203945 -1.46 -0.07846 9.8 0 0 0.4614
1-2 processing imu...
it_last_IMU.time: 1664877196.538204
lastState: 1664877196.538204
currentState: 1664877196.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.558203936 -1.475 -0.07958 9.8 0 0 0.4661
1-2 processing imu...
it_last_IMU.time: 1664877196.548204
lastState: 1664877196.548204
currentState: 1664877196.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.568203926 -1.489 -0.0805 9.8 0 0 0.4708
1-2 processing imu...
it_last_IMU.time: 1664877196.558204
lastState: 1664877196.558204
currentState: 1664877196.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.578203917 -1.504 -0.08122 9.8 0 0 0.4754
1-2 processing imu...
it_last_IMU.time: 1664877196.568204
lastState: 1664877196.568204
currentState: 1664877196.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.588203907 -1.518 -0.08141 9.8 0 0 0.48
1-2 processing imu...
it_last_IMU.time: 1664877196.578204
lastState: 1664877196.578204
currentState: 1664877196.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.598203897 -1.532 -0.08125 9.8 0 0 0.4845
1-2 processing imu...
it_last_IMU.time: 1664877196.588204
lastState: 1664877196.588204
currentState: 1664877196.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.608203888 -1.546 -0.08088 9.8 0 0 0.489
1-2 processing imu...
it_last_IMU.time: 1664877196.598204
lastState: 1664877196.598204
currentState: 1664877196.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.618204117 -1.559 -0.08032 9.8 0 0 0.4934
1-2 processing imu...
it_last_IMU.time: 1664877196.608204
lastState: 1664877196.608204
currentState: 1664877196.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.628204107 -1.573 -0.07956 9.8 0 0 0.4978
1-2 processing imu...
it_last_IMU.time: 1664877196.618204
lastState: 1664877196.618204
currentState: 1664877196.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.638204098 -1.587 -0.07859 9.8 0 0 0.5021
1-2 processing imu...
it_last_IMU.time: 1664877196.628204
lastState: 1664877196.628204
currentState: 1664877196.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.648204088 -1.601 -0.07741 9.8 0 0 0.5064
1-2 processing imu...
it_last_IMU.time: 1664877196.638204
lastState: 1664877196.638204
currentState: 1664877196.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.658204079 -1.614 -0.07603 9.8 0 0 0.5106
1-2 processing imu...
it_last_IMU.time: 1664877196.648204
lastState: 1664877196.648204
currentState: 1664877196.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.668204069 -1.628 -0.07444 9.8 0 0 0.5148
1-2 processing imu...
it_last_IMU.time: 1664877196.658204
lastState: 1664877196.658204
currentState: 1664877196.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.678204060 -1.642 -0.07265 9.8 0 0 0.519
1-2 processing imu...
it_last_IMU.time: 1664877196.668204
lastState: 1664877196.668204
currentState: 1664877196.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.688204050 -1.654 -0.07222 9.8 0 0 0.5231
1-2 processing imu...
it_last_IMU.time: 1664877196.678204
lastState: 1664877196.678204
currentState: 1664877196.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.698204041 -1.664 -0.07243 9.8 0 0 0.5271
1-2 processing imu...
it_last_IMU.time: 1664877196.688204
lastState: 1664877196.688204
currentState: 1664877196.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.708204031 -1.674 -0.07248 9.8 0 0 0.5311
1-2 processing imu...
it_last_IMU.time: 1664877196.698204
lastState: 1664877196.698204
currentState: 1664877196.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.718204021 -1.685 -0.07235 9.8 0 0 0.535
1-2 processing imu...
it_last_IMU.time: 1664877196.708204
lastState: 1664877196.708204
currentState: 1664877196.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.728204012 -1.695 -0.07204 9.8 0 0 0.5389
1-2 processing imu...
it_last_IMU.time: 1664877196.718204
lastState: 1664877196.718204
currentState: 1664877196.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.738204002 -1.706 -0.07156 9.8 0 0 0.5427
1-2 processing imu...
it_last_IMU.time: 1664877196.728204
lastState: 1664877196.728204
currentState: 1664877196.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.748203993 -1.716 -0.0709 9.8 0 0 0.5465
1-2 processing imu...
it_last_IMU.time: 1664877196.738204
lastState: 1664877196.738204
currentState: 1664877196.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.758203983 -1.727 -0.07007 9.8 0 0 0.5502
1-2 processing imu...
it_last_IMU.time: 1664877196.748204
lastState: 1664877196.748204
currentState: 1664877196.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.768203974 -1.737 -0.06906 9.8 0 0 0.5538
1-2 processing imu...
it_last_IMU.time: 1664877196.758204
lastState: 1664877196.758204
currentState: 1664877196.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.778203964 -1.748 -0.06787 9.8 0 0 0.5574
1-2 processing imu...
it_last_IMU.time: 1664877196.768204
lastState: 1664877196.768204
currentState: 1664877196.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.788203955 -1.758 -0.06667 9.8 0 0 0.5609
1-2 processing imu...
it_last_IMU.time: 1664877196.778204
lastState: 1664877196.778204
currentState: 1664877196.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.798203945 -1.767 -0.06539 9.8 0 0 0.5644
1-2 processing imu...
it_last_IMU.time: 1664877196.788204
lastState: 1664877196.788204
currentState: 1664877196.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.808203936 -1.777 -0.06395 9.8 0 0 0.5678
1-2 processing imu...
it_last_IMU.time: 1664877196.798204
lastState: 1664877196.798204
currentState: 1664877196.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.818203926 -1.786 -0.06234 9.8 0 0 0.5712
1-2 processing imu...
it_last_IMU.time: 1664877196.808204
lastState: 1664877196.808204
currentState: 1664877196.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.828203917 -1.796 -0.06056 9.8 0 0 0.5745
1-2 processing imu...
it_last_IMU.time: 1664877196.818204
lastState: 1664877196.818204
currentState: 1664877196.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.838203907 -1.805 -0.05861 9.8 0 0 0.5778
1-2 processing imu...
it_last_IMU.time: 1664877196.828204
lastState: 1664877196.828204
currentState: 1664877196.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.848203897 -1.815 -0.0565 9.8 0 0 0.581
1-2 processing imu...
it_last_IMU.time: 1664877196.838204
lastState: 1664877196.838204
currentState: 1664877196.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.858203888 -1.825 -0.05422 9.8 0 0 0.5841
1-2 processing imu...
it_last_IMU.time: 1664877196.848204
lastState: 1664877196.848204
currentState: 1664877196.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.868204117 -1.834 -0.05177 9.8 0 0 0.5872
1-2 processing imu...
it_last_IMU.time: 1664877196.858204
lastState: 1664877196.858204
currentState: 1664877196.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.878204107 -1.844 -0.04916 9.8 0 0 0.5903
1-2 processing imu...
it_last_IMU.time: 1664877196.868204
lastState: 1664877196.868204
currentState: 1664877196.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.888204098 -1.853 -0.04657 9.8 0 0 0.5932
1-2 processing imu...
it_last_IMU.time: 1664877196.878204
lastState: 1664877196.878204
currentState: 1664877196.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.898204088 -1.861 -0.04393 9.8 0 0 0.5962
1-2 processing imu...
it_last_IMU.time: 1664877196.888204
lastState: 1664877196.888204
currentState: 1664877196.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.908204079 -1.869 -0.04115 9.8 0 0 0.599
1-2 processing imu...
it_last_IMU.time: 1664877196.898204
lastState: 1664877196.898204
currentState: 1664877196.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.918204069 -1.877 -0.03823 9.8 0 0 0.6018
1-2 processing imu...
it_last_IMU.time: 1664877196.908204
lastState: 1664877196.908204
currentState: 1664877196.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.928204060 -1.885 -0.03515 9.8 0 0 0.6046
1-2 processing imu...
it_last_IMU.time: 1664877196.918204
lastState: 1664877196.918204
currentState: 1664877196.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.938204050 -1.893 -0.03193 9.8 0 0 0.6073
1-2 processing imu...
it_last_IMU.time: 1664877196.928204
lastState: 1664877196.928204
currentState: 1664877196.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877196.920152903 0.3157 0.3028 0.0003168 0.004793 0.004938 0.5742 0.8187
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877196.920153
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877196.920153
state->time: 1664877196.920153
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675603.968220064]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675603.968266120]: the fixed q :[-0.579, -0.644, -0.293, -0.406][0m
[0m[ INFO] [1670675603.968282023]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675603.968315830]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.3157 0.3028 0.0003168
p_wv: 18.52 -15.22 31
p: 19.26 -15.02 30.95
q: [-0.579, -0.644, -0.293, -0.406]
l: 0.5156
residual in position: -0.0662 0.1975 0.02492
q_err :[-0.991, -0.0148, -0.0936, -0.091]
residual in q: 0.02995 0.1888 0.1837
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877196.920153 it_next->second->time: 1664877196.928204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877196.928204 it_next->second->time: 1664877196.938204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.15 -14.65 31
hc: publish state after update
1-1 IMUCallback(): 1664877196.948204041 -1.901 -0.02856 9.8 0 0 0.6099
1-2 processing imu...
it_last_IMU.time: 1664877196.938204
lastState: 1664877196.938204
currentState: 1664877196.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.958204031 -1.909 -0.02504 9.8 0 0 0.6125
1-2 processing imu...
it_last_IMU.time: 1664877196.948204
lastState: 1664877196.948204
currentState: 1664877196.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.968204021 -1.917 -0.02138 9.8 0 0 0.615
1-2 processing imu...
it_last_IMU.time: 1664877196.958204
lastState: 1664877196.958204
currentState: 1664877196.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.978204012 -1.925 -0.01757 9.8 0 0 0.6175
1-2 processing imu...
it_last_IMU.time: 1664877196.968204
lastState: 1664877196.968204
currentState: 1664877196.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877196.988204002 -1.931 -0.01546 9.8 0 0 0.6199
1-2 processing imu...
it_last_IMU.time: 1664877196.978204
lastState: 1664877196.978204
currentState: 1664877196.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877196.998203993 -1.936 -0.01434 9.8 0 0 0.6223
1-2 processing imu...
it_last_IMU.time: 1664877196.988204
lastState: 1664877196.988204
currentState: 1664877196.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.008203983 -1.941 -0.01311 9.8 0 0 0.6246
1-2 processing imu...
it_last_IMU.time: 1664877196.998204
lastState: 1664877196.998204
currentState: 1664877197.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.018203974 -1.945 -0.01179 9.8 0 0 0.6268
1-2 processing imu...
it_last_IMU.time: 1664877197.008204
lastState: 1664877197.008204
currentState: 1664877197.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.028203964 -1.95 -0.01035 9.8 0 0 0.629
1-2 processing imu...
it_last_IMU.time: 1664877197.018204
lastState: 1664877197.018204
currentState: 1664877197.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.038203955 -1.955 -0.00882 9.8 0 0 0.6311
1-2 processing imu...
it_last_IMU.time: 1664877197.028204
lastState: 1664877197.028204
currentState: 1664877197.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.048203945 -1.96 -0.007185 9.8 0 0 0.6331
1-2 processing imu...
it_last_IMU.time: 1664877197.038204
lastState: 1664877197.038204
currentState: 1664877197.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.058203936 -1.965 -0.005449 9.8 0 0 0.6351
1-2 processing imu...
it_last_IMU.time: 1664877197.048204
lastState: 1664877197.048204
currentState: 1664877197.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.068203926 -1.97 -0.00361 9.8 0 0 0.637
1-2 processing imu...
it_last_IMU.time: 1664877197.058204
lastState: 1664877197.058204
currentState: 1664877197.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.078203917 -1.975 -0.001671 9.8 0 0 0.6388
1-2 processing imu...
it_last_IMU.time: 1664877197.068204
lastState: 1664877197.068204
currentState: 1664877197.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.088203907 -1.98 -0.000846 9.8 0 0 0.6406
1-2 processing imu...
it_last_IMU.time: 1664877197.078204
lastState: 1664877197.078204
currentState: 1664877197.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.098203897 -1.984 -0.000672 9.8 0 0 0.6423
1-2 processing imu...
it_last_IMU.time: 1664877197.088204
lastState: 1664877197.088204
currentState: 1664877197.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.108203888 -1.988 -0.000411 9.8 0 0 0.6439
1-2 processing imu...
it_last_IMU.time: 1664877197.098204
lastState: 1664877197.098204
currentState: 1664877197.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.118204117 -1.992 -6.5e-05 9.8 0 0 0.6455
1-2 processing imu...
it_last_IMU.time: 1664877197.108204
lastState: 1664877197.108204
currentState: 1664877197.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.128204107 -1.996 0.000367 9.8 0 0 0.647
1-2 processing imu...
it_last_IMU.time: 1664877197.118204
lastState: 1664877197.118204
currentState: 1664877197.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.138204098 -2.001 0.000886 9.8 0 0 0.6484
1-2 processing imu...
it_last_IMU.time: 1664877197.128204
lastState: 1664877197.128204
currentState: 1664877197.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.148204088 -2.005 0.001489 9.8 0 0 0.6497
1-2 processing imu...
it_last_IMU.time: 1664877197.138204
lastState: 1664877197.138204
currentState: 1664877197.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.158204079 -2.01 0.002179 9.8 0 0 0.651
1-2 processing imu...
it_last_IMU.time: 1664877197.148204
lastState: 1664877197.148204
currentState: 1664877197.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.168204069 -2.015 0.002953 9.8 0 0 0.6522
1-2 processing imu...
it_last_IMU.time: 1664877197.158204
lastState: 1664877197.158204
currentState: 1664877197.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.178204060 -2.019 0.003813 9.8 0 0 0.6534
1-2 processing imu...
it_last_IMU.time: 1664877197.168204
lastState: 1664877197.168204
currentState: 1664877197.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.188204050 -2.022 0.003256 9.8 0 0 0.6545
1-2 processing imu...
it_last_IMU.time: 1664877197.178204
lastState: 1664877197.178204
currentState: 1664877197.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.198204041 -2.023 0.001795 9.8 0 0 0.6555
1-2 processing imu...
it_last_IMU.time: 1664877197.188204
lastState: 1664877197.188204
currentState: 1664877197.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.208204031 -2.024 0.000369 9.8 0 0 0.6564
1-2 processing imu...
it_last_IMU.time: 1664877197.198204
lastState: 1664877197.198204
currentState: 1664877197.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.218204021 -2.025 -0.001021 9.8 0 0 0.6573
1-2 processing imu...
it_last_IMU.time: 1664877197.208204
lastState: 1664877197.208204
currentState: 1664877197.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.228204012 -2.027 -0.002376 9.8 0 0 0.6581
1-2 processing imu...
it_last_IMU.time: 1664877197.218204
lastState: 1664877197.218204
currentState: 1664877197.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.238204002 -2.028 -0.003697 9.8 0 0 0.6588
1-2 processing imu...
it_last_IMU.time: 1664877197.228204
lastState: 1664877197.228204
currentState: 1664877197.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.248203993 -2.03 -0.004983 9.8 0 0 0.6594
1-2 processing imu...
it_last_IMU.time: 1664877197.238204
lastState: 1664877197.238204
currentState: 1664877197.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.258203983 -2.032 -0.006234 9.8 0 0 0.66
1-2 processing imu...
it_last_IMU.time: 1664877197.248204
lastState: 1664877197.248204
currentState: 1664877197.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.268203974 -2.034 -0.007452 9.8 0 0 0.6604
1-2 processing imu...
it_last_IMU.time: 1664877197.258204
lastState: 1664877197.258204
currentState: 1664877197.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.278203964 -2.036 -0.008634 9.8 0 0 0.6609
1-2 processing imu...
it_last_IMU.time: 1664877197.268204
lastState: 1664877197.268204
currentState: 1664877197.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.288203955 -2.036 -0.009264 9.8 0 0 0.6612
1-2 processing imu...
it_last_IMU.time: 1664877197.278204
lastState: 1664877197.278204
currentState: 1664877197.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.298203945 -2.035 -0.00955 9.8 0 0 0.6615
1-2 processing imu...
it_last_IMU.time: 1664877197.288204
lastState: 1664877197.288204
currentState: 1664877197.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.308203936 -2.035 -0.009841 9.8 0 0 0.6617
1-2 processing imu...
it_last_IMU.time: 1664877197.298204
lastState: 1664877197.298204
currentState: 1664877197.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.318203926 -2.034 -0.01013 9.8 0 0 0.6618
1-2 processing imu...
it_last_IMU.time: 1664877197.308204
lastState: 1664877197.308204
currentState: 1664877197.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.328203917 -2.034 -0.01043 9.8 0 0 0.6618
1-2 processing imu...
it_last_IMU.time: 1664877197.318204
lastState: 1664877197.318204
currentState: 1664877197.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.338203907 -2.034 -0.01074 9.8 0 0 0.6618
1-2 processing imu...
it_last_IMU.time: 1664877197.328204
lastState: 1664877197.328204
currentState: 1664877197.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.348203897 -2.033 -0.01105 9.8 0 0 0.6617
1-2 processing imu...
it_last_IMU.time: 1664877197.338204
lastState: 1664877197.338204
currentState: 1664877197.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.358203888 -2.033 -0.01137 9.8 0 0 0.6615
1-2 processing imu...
it_last_IMU.time: 1664877197.348204
lastState: 1664877197.348204
currentState: 1664877197.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877197.342981100 0.3203 0.3238 -0.000161 0.007203 0.004228 0.68 0.7332
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877197.342981
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877197.342981
state->time: 1664877197.342981
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675604.829191798]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675604.829222743]: the fixed q :[-0.518, -0.614, -0.35, -0.482][0m
[0m[ INFO] [1670675604.829362322]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675604.829407596]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.3203 0.3238 -0.000161
p_wv: 18.52 -15.22 31
p: 19.43 -15.2 30.89
q: [-0.518, -0.614, -0.35, -0.482]
l: 0.5154
residual in position: -0.1509 0.3115 0.05886
q_err :[-0.987, -0.0216, -0.114, -0.112]
residual in q: 0.04374 0.2301 0.2271
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877197.342981 it_next->second->time: 1664877197.348204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877197.348204 it_next->second->time: 1664877197.358204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.16 -14.61 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877197.368204117 -2.033 -0.01169 9.8 0 0 0.6613
1-2 processing imu...
it_last_IMU.time: 1664877197.358204
lastState: 1664877197.358204
currentState: 1664877197.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.378204107 -2.033 -0.01201 9.8 0 0 0.661
1-2 processing imu...
it_last_IMU.time: 1664877197.368204
lastState: 1664877197.368204
currentState: 1664877197.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.388204098 -2.032 -0.01178 9.8 0 0 0.6606
1-2 processing imu...
it_last_IMU.time: 1664877197.378204
lastState: 1664877197.378204
currentState: 1664877197.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.398204088 -2.031 -0.01118 9.8 0 0 0.6601
1-2 processing imu...
it_last_IMU.time: 1664877197.388204
lastState: 1664877197.388204
currentState: 1664877197.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.408204079 -2.029 -0.01061 9.8 0 0 0.6596
1-2 processing imu...
it_last_IMU.time: 1664877197.398204
lastState: 1664877197.398204
currentState: 1664877197.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.418204069 -2.028 -0.01008 9.8 0 0 0.659
1-2 processing imu...
it_last_IMU.time: 1664877197.408204
lastState: 1664877197.408204
currentState: 1664877197.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.428204060 -2.026 -0.009578 9.8 0 0 0.6584
1-2 processing imu...
it_last_IMU.time: 1664877197.418204
lastState: 1664877197.418204
currentState: 1664877197.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.438204050 -2.025 -0.009109 9.8 0 0 0.6577
1-2 processing imu...
it_last_IMU.time: 1664877197.428204
lastState: 1664877197.428204
currentState: 1664877197.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.448204041 -2.024 -0.008672 9.8 0 0 0.6569
1-2 processing imu...
it_last_IMU.time: 1664877197.438204
lastState: 1664877197.438204
currentState: 1664877197.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.458204031 -2.022 -0.008268 9.8 0 0 0.656
1-2 processing imu...
it_last_IMU.time: 1664877197.448204
lastState: 1664877197.448204
currentState: 1664877197.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.468204021 -2.021 -0.007896 9.8 0 0 0.6551
1-2 processing imu...
it_last_IMU.time: 1664877197.458204
lastState: 1664877197.458204
currentState: 1664877197.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.478204012 -2.02 -0.007558 9.8 0 0 0.6541
1-2 processing imu...
it_last_IMU.time: 1664877197.468204
lastState: 1664877197.468204
currentState: 1664877197.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.488204002 -2.017 -0.006106 9.8 0 0 0.653
1-2 processing imu...
it_last_IMU.time: 1664877197.478204
lastState: 1664877197.478204
currentState: 1664877197.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.498203993 -2.012 -0.003918 9.8 0 0 0.6519
1-2 processing imu...
it_last_IMU.time: 1664877197.488204
lastState: 1664877197.488204
currentState: 1664877197.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.508203983 -2.008 -0.001816 9.8 0 0 0.6508
1-2 processing imu...
it_last_IMU.time: 1664877197.498204
lastState: 1664877197.498204
currentState: 1664877197.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.518203974 -2.003 0.0002 9.8 0 0 0.6495
1-2 processing imu...
it_last_IMU.time: 1664877197.508204
lastState: 1664877197.508204
currentState: 1664877197.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.528203964 -1.998 0.002131 9.8 0 0 0.6482
1-2 processing imu...
it_last_IMU.time: 1664877197.518204
lastState: 1664877197.518204
currentState: 1664877197.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.538203955 -1.994 0.003974 9.8 0 0 0.6469
1-2 processing imu...
it_last_IMU.time: 1664877197.528204
lastState: 1664877197.528204
currentState: 1664877197.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.548203945 -1.989 0.005732 9.8 0 0 0.6455
1-2 processing imu...
it_last_IMU.time: 1664877197.538204
lastState: 1664877197.538204
currentState: 1664877197.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.558203936 -1.984 0.007403 9.8 0 0 0.6441
1-2 processing imu...
it_last_IMU.time: 1664877197.548204
lastState: 1664877197.548204
currentState: 1664877197.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.568203926 -1.98 0.008988 9.8 0 0 0.6425
1-2 processing imu...
it_last_IMU.time: 1664877197.558204
lastState: 1664877197.558204
currentState: 1664877197.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.578203917 -1.976 0.01049 9.8 0 0 0.641
1-2 processing imu...
it_last_IMU.time: 1664877197.568204
lastState: 1664877197.568204
currentState: 1664877197.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.588203907 -1.971 0.01236 9.8 0 0 0.6393
1-2 processing imu...
it_last_IMU.time: 1664877197.578204
lastState: 1664877197.578204
currentState: 1664877197.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.598203897 -1.965 0.01448 9.8 0 0 0.6377
1-2 processing imu...
it_last_IMU.time: 1664877197.588204
lastState: 1664877197.588204
currentState: 1664877197.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.608203888 -1.96 0.01649 9.8 0 0 0.6359
1-2 processing imu...
it_last_IMU.time: 1664877197.598204
lastState: 1664877197.598204
currentState: 1664877197.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.618204117 -1.955 0.01841 9.8 0 0 0.6342
1-2 processing imu...
it_last_IMU.time: 1664877197.608204
lastState: 1664877197.608204
currentState: 1664877197.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.628204107 -1.95 0.02023 9.8 0 0 0.6323
1-2 processing imu...
it_last_IMU.time: 1664877197.618204
lastState: 1664877197.618204
currentState: 1664877197.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.638204098 -1.945 0.02194 9.8 0 0 0.6305
1-2 processing imu...
it_last_IMU.time: 1664877197.628204
lastState: 1664877197.628204
currentState: 1664877197.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.648204088 -1.94 0.02356 9.8 0 0 0.6285
1-2 processing imu...
it_last_IMU.time: 1664877197.638204
lastState: 1664877197.638204
currentState: 1664877197.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.658204079 -1.935 0.02507 9.8 0 0 0.6266
1-2 processing imu...
it_last_IMU.time: 1664877197.648204
lastState: 1664877197.648204
currentState: 1664877197.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.668204069 -1.93 0.02649 9.8 0 0 0.6245
1-2 processing imu...
it_last_IMU.time: 1664877197.658204
lastState: 1664877197.658204
currentState: 1664877197.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.678204060 -1.925 0.0278 9.8 0 0 0.6224
1-2 processing imu...
it_last_IMU.time: 1664877197.668204
lastState: 1664877197.668204
currentState: 1664877197.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.688204050 -1.918 0.02985 9.8 0 0 0.6203
1-2 processing imu...
it_last_IMU.time: 1664877197.678204
lastState: 1664877197.678204
currentState: 1664877197.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.698204041 -1.911 0.03242 9.8 0 0 0.6182
1-2 processing imu...
it_last_IMU.time: 1664877197.688204
lastState: 1664877197.688204
currentState: 1664877197.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.708204031 -1.904 0.03485 9.8 0 0 0.6159
1-2 processing imu...
it_last_IMU.time: 1664877197.698204
lastState: 1664877197.698204
currentState: 1664877197.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.718204021 -1.896 0.03716 9.8 0 0 0.6137
1-2 processing imu...
it_last_IMU.time: 1664877197.708204
lastState: 1664877197.708204
currentState: 1664877197.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.728204012 -1.889 0.03932 9.8 0 0 0.6114
1-2 processing imu...
it_last_IMU.time: 1664877197.718204
lastState: 1664877197.718204
currentState: 1664877197.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.738204002 -1.882 0.04136 9.8 0 0 0.6091
1-2 processing imu...
it_last_IMU.time: 1664877197.728204
lastState: 1664877197.728204
currentState: 1664877197.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.748203993 -1.874 0.04328 9.8 0 0 0.6067
1-2 processing imu...
it_last_IMU.time: 1664877197.738204
lastState: 1664877197.738204
currentState: 1664877197.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.758203983 -1.867 0.04505 9.8 0 0 0.6044
1-2 processing imu...
it_last_IMU.time: 1664877197.748204
lastState: 1664877197.748204
currentState: 1664877197.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.768203974 -1.86 0.0467 9.8 0 0 0.6019
1-2 processing imu...
it_last_IMU.time: 1664877197.758204
lastState: 1664877197.758204
currentState: 1664877197.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.778203964 -1.853 0.04822 9.8 0 0 0.5994
1-2 processing imu...
it_last_IMU.time: 1664877197.768204
lastState: 1664877197.768204
currentState: 1664877197.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.788203955 -1.845 0.04967 9.8 0 0 0.5969
1-2 processing imu...
it_last_IMU.time: 1664877197.778204
lastState: 1664877197.778204
currentState: 1664877197.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877197.768572092 0.3193 0.3465 -0.0005647 0.009761 0.004106 0.7734 0.6338
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877197.768572
time: 1664877197.768572
state->time: 1664877197.768204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675605.742603572]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675605.742663032]: the fixed q :[-0.448, -0.558, -0.435, -0.547][0m
[0m[ INFO] [1670675605.742689764]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675605.742707505]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.3193 0.3465 -0.0005647
p_wv: 18.52 -15.22 31
p: 19.65 -15.29 30.84
q: [-0.448, -0.558, -0.435, -0.547]
l: 0.5152
residual in position: -0.2618 0.3841 0.08445
q_err :[-0.988, -0.0222, -0.107, -0.109]
residual in q: 0.04497 0.2156 0.2201
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877197.768204 it_next->second->time: 1664877197.778204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877197.778204 it_next->second->time: 1664877197.788204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.17 -14.58 30.99
hc: publish state after update
1-1 IMUCallback(): 1664877197.798203945 -1.836 0.05102 9.8 0 0 0.5944
1-2 processing imu...
it_last_IMU.time: 1664877197.788204
lastState: 1664877197.788204
currentState: 1664877197.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.808203936 -1.827 0.05221 9.8 0 0 0.5918
1-2 processing imu...
it_last_IMU.time: 1664877197.798204
lastState: 1664877197.798204
currentState: 1664877197.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.818203926 -1.819 0.05326 9.8 0 0 0.5892
1-2 processing imu...
it_last_IMU.time: 1664877197.808204
lastState: 1664877197.808204
currentState: 1664877197.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.828203917 -1.81 0.05415 9.8 0 0 0.5866
1-2 processing imu...
it_last_IMU.time: 1664877197.818204
lastState: 1664877197.818204
currentState: 1664877197.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.838203907 -1.801 0.0549 9.8 0 0 0.584
1-2 processing imu...
it_last_IMU.time: 1664877197.828204
lastState: 1664877197.828204
currentState: 1664877197.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.848203897 -1.792 0.0555 9.8 0 0 0.5813
1-2 processing imu...
it_last_IMU.time: 1664877197.838204
lastState: 1664877197.838204
currentState: 1664877197.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.858203888 -1.784 0.05595 9.8 0 0 0.5786
1-2 processing imu...
it_last_IMU.time: 1664877197.848204
lastState: 1664877197.848204
currentState: 1664877197.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.868204117 -1.775 0.05626 9.8 0 0 0.5758
1-2 processing imu...
it_last_IMU.time: 1664877197.858204
lastState: 1664877197.858204
currentState: 1664877197.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.878204107 -1.767 0.05642 9.8 0 0 0.573
1-2 processing imu...
it_last_IMU.time: 1664877197.868204
lastState: 1664877197.868204
currentState: 1664877197.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.888204098 -1.758 0.0563 9.8 0 0 0.5702
1-2 processing imu...
it_last_IMU.time: 1664877197.878204
lastState: 1664877197.878204
currentState: 1664877197.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.898204088 -1.75 0.05591 9.8 0 0 0.5674
1-2 processing imu...
it_last_IMU.time: 1664877197.888204
lastState: 1664877197.888204
currentState: 1664877197.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.908204079 -1.741 0.05537 9.8 0 0 0.5646
1-2 processing imu...
it_last_IMU.time: 1664877197.898204
lastState: 1664877197.898204
currentState: 1664877197.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.918204069 -1.732 0.05468 9.8 0 0 0.5617
1-2 processing imu...
it_last_IMU.time: 1664877197.908204
lastState: 1664877197.908204
currentState: 1664877197.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.928204060 -1.724 0.05386 9.8 0 0 0.5588
1-2 processing imu...
it_last_IMU.time: 1664877197.918204
lastState: 1664877197.918204
currentState: 1664877197.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.938204050 -1.716 0.05289 9.8 0 0 0.5559
1-2 processing imu...
it_last_IMU.time: 1664877197.928204
lastState: 1664877197.928204
currentState: 1664877197.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.948204041 -1.707 0.05178 9.8 0 0 0.5529
1-2 processing imu...
it_last_IMU.time: 1664877197.938204
lastState: 1664877197.938204
currentState: 1664877197.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.958204031 -1.699 0.05053 9.8 0 0 0.55
1-2 processing imu...
it_last_IMU.time: 1664877197.948204
lastState: 1664877197.948204
currentState: 1664877197.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.968204021 -1.691 0.04914 9.8 0 0 0.547
1-2 processing imu...
it_last_IMU.time: 1664877197.958204
lastState: 1664877197.958204
currentState: 1664877197.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.978204012 -1.682 0.04761 9.8 0 0 0.544
1-2 processing imu...
it_last_IMU.time: 1664877197.968204
lastState: 1664877197.968204
currentState: 1664877197.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877197.988204002 -1.673 0.04674 9.8 0 0 0.541
1-2 processing imu...
it_last_IMU.time: 1664877197.978204
lastState: 1664877197.978204
currentState: 1664877197.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877197.998203993 -1.663 0.0464 9.8 0 0 0.5379
1-2 processing imu...
it_last_IMU.time: 1664877197.988204
lastState: 1664877197.988204
currentState: 1664877197.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.008203983 -1.653 0.04589 9.8 0 0 0.5349
1-2 processing imu...
it_last_IMU.time: 1664877197.998204
lastState: 1664877197.998204
currentState: 1664877198.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.018203974 -1.643 0.04524 9.8 0 0 0.5318
1-2 processing imu...
it_last_IMU.time: 1664877198.008204
lastState: 1664877198.008204
currentState: 1664877198.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.028203964 -1.633 0.04442 9.8 0 0 0.5287
1-2 processing imu...
it_last_IMU.time: 1664877198.018204
lastState: 1664877198.018204
currentState: 1664877198.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.038203955 -1.623 0.04345 9.8 0 0 0.5256
1-2 processing imu...
it_last_IMU.time: 1664877198.028204
lastState: 1664877198.028204
currentState: 1664877198.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.048203945 -1.613 0.04233 9.8 0 0 0.5225
1-2 processing imu...
it_last_IMU.time: 1664877198.038204
lastState: 1664877198.038204
currentState: 1664877198.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.058203936 -1.603 0.04106 9.8 0 0 0.5194
1-2 processing imu...
it_last_IMU.time: 1664877198.048204
lastState: 1664877198.048204
currentState: 1664877198.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.068203926 -1.593 0.03963 9.8 0 0 0.5163
1-2 processing imu...
it_last_IMU.time: 1664877198.058204
lastState: 1664877198.058204
currentState: 1664877198.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.078203917 -1.584 0.03806 9.8 0 0 0.5132
1-2 processing imu...
it_last_IMU.time: 1664877198.068204
lastState: 1664877198.068204
currentState: 1664877198.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.088203907 -1.574 0.03793 9.8 0 0 0.5101
1-2 processing imu...
it_last_IMU.time: 1664877198.078204
lastState: 1664877198.078204
currentState: 1664877198.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.098203897 -1.565 0.03904 9.8 0 0 0.507
1-2 processing imu...
it_last_IMU.time: 1664877198.088204
lastState: 1664877198.088204
currentState: 1664877198.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.108203888 -1.555 0.04002 9.8 0 0 0.5038
1-2 processing imu...
it_last_IMU.time: 1664877198.098204
lastState: 1664877198.098204
currentState: 1664877198.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.118204117 -1.546 0.04084 9.8 0 0 0.5007
1-2 processing imu...
it_last_IMU.time: 1664877198.108204
lastState: 1664877198.108204
currentState: 1664877198.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.128204107 -1.536 0.04153 9.8 0 0 0.4976
1-2 processing imu...
it_last_IMU.time: 1664877198.118204
lastState: 1664877198.118204
currentState: 1664877198.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.138204098 -1.527 0.04208 9.8 0 0 0.4944
1-2 processing imu...
it_last_IMU.time: 1664877198.128204
lastState: 1664877198.128204
currentState: 1664877198.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.148204088 -1.518 0.04249 9.8 0 0 0.4913
1-2 processing imu...
it_last_IMU.time: 1664877198.138204
lastState: 1664877198.138204
currentState: 1664877198.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.158204079 -1.508 0.04276 9.8 0 0 0.4881
1-2 processing imu...
it_last_IMU.time: 1664877198.148204
lastState: 1664877198.148204
currentState: 1664877198.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.168204069 -1.499 0.04289 9.8 0 0 0.485
1-2 processing imu...
it_last_IMU.time: 1664877198.158204
lastState: 1664877198.158204
currentState: 1664877198.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.178204060 -1.49 0.04289 9.8 0 0 0.4819
1-2 processing imu...
it_last_IMU.time: 1664877198.168204
lastState: 1664877198.168204
currentState: 1664877198.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.188204050 -1.48 0.04233 9.8 0 0 0.4787
1-2 processing imu...
it_last_IMU.time: 1664877198.178204
lastState: 1664877198.178204
currentState: 1664877198.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877198.177073002 0.3126 0.3671 -0.0001582 0.01047 0.004568 0.8398 0.5427
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877198.177073
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877198.177073
state->time: 1664877198.177073
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675606.566008256]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675606.566040626]: the fixed q :[-0.385, -0.478, -0.522, -0.593][0m
[0m[ INFO] [1670675606.566052346]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675606.566069072]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.3126 0.3671 -0.0001582
p_wv: 18.52 -15.22 31
p: 19.71 -15.15 30.86
q: [-0.385, -0.478, -0.522, -0.593]
l: 0.5154
residual in position: -0.3001 0.3288 0.06977
q_err :[-0.993, -0.0166, -0.0767, -0.0842]
residual in q: 0.03346 0.1545 0.1695
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877198.177073 it_next->second->time: 1664877198.178204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877198.178204 it_next->second->time: 1664877198.188204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.14 -14.52 31
hc: publish state after update
1-1 IMUCallback(): 1664877198.198204041 -1.471 0.04126 9.8 0 0 0.4756
1-2 processing imu...
it_last_IMU.time: 1664877198.188204
lastState: 1664877198.188204
currentState: 1664877198.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.208204031 -1.462 0.04005 9.8 0 0 0.4725
1-2 processing imu...
it_last_IMU.time: 1664877198.198204
lastState: 1664877198.198204
currentState: 1664877198.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.218204021 -1.453 0.03871 9.8 0 0 0.4693
1-2 processing imu...
it_last_IMU.time: 1664877198.208204
lastState: 1664877198.208204
currentState: 1664877198.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.228204012 -1.444 0.03725 9.8 0 0 0.4662
1-2 processing imu...
it_last_IMU.time: 1664877198.218204
lastState: 1664877198.218204
currentState: 1664877198.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.238204002 -1.434 0.03565 9.8 0 0 0.4631
1-2 processing imu...
it_last_IMU.time: 1664877198.228204
lastState: 1664877198.228204
currentState: 1664877198.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.248203993 -1.425 0.03392 9.8 0 0 0.46
1-2 processing imu...
it_last_IMU.time: 1664877198.238204
lastState: 1664877198.238204
currentState: 1664877198.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.258203983 -1.416 0.03207 9.8 0 0 0.4568
1-2 processing imu...
it_last_IMU.time: 1664877198.248204
lastState: 1664877198.248204
currentState: 1664877198.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.268203974 -1.407 0.03009 9.8 0 0 0.4537
1-2 processing imu...
it_last_IMU.time: 1664877198.258204
lastState: 1664877198.258204
currentState: 1664877198.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.278203964 -1.398 0.02798 9.8 0 0 0.4506
1-2 processing imu...
it_last_IMU.time: 1664877198.268204
lastState: 1664877198.268204
currentState: 1664877198.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.288203955 -1.389 0.02743 9.8 0 0 0.4475
1-2 processing imu...
it_last_IMU.time: 1664877198.278204
lastState: 1664877198.278204
currentState: 1664877198.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.298203945 -1.379 0.02832 9.8 0 0 0.4444
1-2 processing imu...
it_last_IMU.time: 1664877198.288204
lastState: 1664877198.288204
currentState: 1664877198.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.308203936 -1.369 0.02909 9.8 0 0 0.4413
1-2 processing imu...
it_last_IMU.time: 1664877198.298204
lastState: 1664877198.298204
currentState: 1664877198.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.318203926 -1.359 0.02972 9.8 0 0 0.4382
1-2 processing imu...
it_last_IMU.time: 1664877198.308204
lastState: 1664877198.308204
currentState: 1664877198.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.328203917 -1.349 0.03022 9.8 0 0 0.4351
1-2 processing imu...
it_last_IMU.time: 1664877198.318204
lastState: 1664877198.318204
currentState: 1664877198.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.338203907 -1.339 0.0306 9.8 0 0 0.4321
1-2 processing imu...
it_last_IMU.time: 1664877198.328204
lastState: 1664877198.328204
currentState: 1664877198.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.348203897 -1.329 0.03086 9.8 0 0 0.429
1-2 processing imu...
it_last_IMU.time: 1664877198.338204
lastState: 1664877198.338204
currentState: 1664877198.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.358203888 -1.32 0.03099 9.8 0 0 0.426
1-2 processing imu...
it_last_IMU.time: 1664877198.348204
lastState: 1664877198.348204
currentState: 1664877198.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.368204117 -1.31 0.03099 9.8 0 0 0.423
1-2 processing imu...
it_last_IMU.time: 1664877198.358204
lastState: 1664877198.358204
currentState: 1664877198.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.378204107 -1.3 0.03088 9.8 0 0 0.42
1-2 processing imu...
it_last_IMU.time: 1664877198.368204
lastState: 1664877198.368204
currentState: 1664877198.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.388204098 -1.291 0.03064 9.8 0 0 0.417
1-2 processing imu...
it_last_IMU.time: 1664877198.378204
lastState: 1664877198.378204
currentState: 1664877198.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.398204088 -1.282 0.0303 9.8 0 0 0.414
1-2 processing imu...
it_last_IMU.time: 1664877198.388204
lastState: 1664877198.388204
currentState: 1664877198.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.408204079 -1.273 0.02984 9.8 0 0 0.411
1-2 processing imu...
it_last_IMU.time: 1664877198.398204
lastState: 1664877198.398204
currentState: 1664877198.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.418204069 -1.265 0.02928 9.8 0 0 0.408
1-2 processing imu...
it_last_IMU.time: 1664877198.408204
lastState: 1664877198.408204
currentState: 1664877198.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.428204060 -1.256 0.02861 9.8 0 0 0.405
1-2 processing imu...
it_last_IMU.time: 1664877198.418204
lastState: 1664877198.418204
currentState: 1664877198.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.438204050 -1.248 0.02783 9.8 0 0 0.4021
1-2 processing imu...
it_last_IMU.time: 1664877198.428204
lastState: 1664877198.428204
currentState: 1664877198.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.448204041 -1.239 0.02694 9.8 0 0 0.3991
1-2 processing imu...
it_last_IMU.time: 1664877198.438204
lastState: 1664877198.438204
currentState: 1664877198.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.458204031 -1.23 0.02596 9.8 0 0 0.3962
1-2 processing imu...
it_last_IMU.time: 1664877198.448204
lastState: 1664877198.448204
currentState: 1664877198.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.468204021 -1.222 0.02487 9.8 0 0 0.3933
1-2 processing imu...
it_last_IMU.time: 1664877198.458204
lastState: 1664877198.458204
currentState: 1664877198.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.478204012 -1.213 0.02367 9.8 0 0 0.3904
1-2 processing imu...
it_last_IMU.time: 1664877198.468204
lastState: 1664877198.468204
currentState: 1664877198.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.488204002 -1.205 0.02335 9.8 0 0 0.3875
1-2 processing imu...
it_last_IMU.time: 1664877198.478204
lastState: 1664877198.478204
currentState: 1664877198.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.498203993 -1.196 0.02392 9.8 0 0 0.3846
1-2 processing imu...
it_last_IMU.time: 1664877198.488204
lastState: 1664877198.488204
currentState: 1664877198.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.508203983 -1.188 0.02438 9.8 0 0 0.3817
1-2 processing imu...
it_last_IMU.time: 1664877198.498204
lastState: 1664877198.498204
currentState: 1664877198.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.518203974 -1.179 0.02475 9.8 0 0 0.3788
1-2 processing imu...
it_last_IMU.time: 1664877198.508204
lastState: 1664877198.508204
currentState: 1664877198.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.528203964 -1.171 0.02501 9.8 0 0 0.3759
1-2 processing imu...
it_last_IMU.time: 1664877198.518204
lastState: 1664877198.518204
currentState: 1664877198.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.538203955 -1.162 0.02518 9.8 0 0 0.3731
1-2 processing imu...
it_last_IMU.time: 1664877198.528204
lastState: 1664877198.528204
currentState: 1664877198.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.548203945 -1.154 0.02526 9.8 0 0 0.3702
1-2 processing imu...
it_last_IMU.time: 1664877198.538204
lastState: 1664877198.538204
currentState: 1664877198.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.558203936 -1.145 0.02524 9.8 0 0 0.3674
1-2 processing imu...
it_last_IMU.time: 1664877198.548204
lastState: 1664877198.548204
currentState: 1664877198.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.568203926 -1.137 0.02512 9.8 0 0 0.3645
1-2 processing imu...
it_last_IMU.time: 1664877198.558204
lastState: 1664877198.558204
currentState: 1664877198.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.578203917 -1.128 0.02491 9.8 0 0 0.3617
1-2 processing imu...
it_last_IMU.time: 1664877198.568204
lastState: 1664877198.568204
currentState: 1664877198.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.588203907 -1.12 0.02447 9.8 0 0 0.3589
1-2 processing imu...
it_last_IMU.time: 1664877198.578204
lastState: 1664877198.578204
currentState: 1664877198.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.598203897 -1.111 0.02378 9.8 0 0 0.3561
1-2 processing imu...
it_last_IMU.time: 1664877198.588204
lastState: 1664877198.588204
currentState: 1664877198.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.608203888 -1.102 0.02299 9.8 0 0 0.3533
1-2 processing imu...
it_last_IMU.time: 1664877198.598204
lastState: 1664877198.598204
currentState: 1664877198.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877198.593286037 0.3017 0.3862 -2.204e-06 -0.01075 -0.002986 -0.883 -0.4692
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877198.593286
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877198.593286
state->time: 1664877198.593286
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675607.416242662]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675607.416370982]: the fixed q :[-0.335, -0.397, -0.585, -0.623][0m
[0m[ INFO] [1670675607.416435500]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675607.416492492]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.3017 0.3862 -2.204e-06
p_wv: 18.52 -15.22 31
p: 19.56 -14.86 30.94
q: [-0.335, -0.397, -0.585, -0.623]
l: 0.5164
residual in position: -0.234 0.201 0.03041
q_err :[0.997, 0.0112, 0.0437, 0.0556]
residual in q: 0.02253 0.08771 0.1114
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877198.593286 it_next->second->time: 1664877198.598204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877198.598204 it_next->second->time: 1664877198.608204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.11 -14.48 31
hc: publish state after update
1-1 IMUCallback(): 1664877198.618204117 -1.093 0.02211 9.8 0 0 0.3505
1-2 processing imu...
it_last_IMU.time: 1664877198.608204
lastState: 1664877198.608204
currentState: 1664877198.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.628204107 -1.084 0.02113 9.8 0 0 0.3478
1-2 processing imu...
it_last_IMU.time: 1664877198.618204
lastState: 1664877198.618204
currentState: 1664877198.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.638204098 -1.075 0.02007 9.8 0 0 0.345
1-2 processing imu...
it_last_IMU.time: 1664877198.628204
lastState: 1664877198.628204
currentState: 1664877198.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.648204088 -1.066 0.01891 9.8 0 0 0.3422
1-2 processing imu...
it_last_IMU.time: 1664877198.638204
lastState: 1664877198.638204
currentState: 1664877198.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.658204079 -1.057 0.01766 9.8 0 0 0.3395
1-2 processing imu...
it_last_IMU.time: 1664877198.648204
lastState: 1664877198.648204
currentState: 1664877198.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.668204069 -1.048 0.01632 9.8 0 0 0.3367
1-2 processing imu...
it_last_IMU.time: 1664877198.658204
lastState: 1664877198.658204
currentState: 1664877198.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.678204060 -1.039 0.0149 9.8 0 0 0.334
1-2 processing imu...
it_last_IMU.time: 1664877198.668204
lastState: 1664877198.668204
currentState: 1664877198.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.688204050 -1.031 0.01437 9.8 0 0 0.3313
1-2 processing imu...
it_last_IMU.time: 1664877198.678204
lastState: 1664877198.678204
currentState: 1664877198.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.698204041 -1.023 0.01482 9.8 0 0 0.3285
1-2 processing imu...
it_last_IMU.time: 1664877198.688204
lastState: 1664877198.688204
currentState: 1664877198.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.708204031 -1.016 0.0152 9.8 0 0 0.3258
1-2 processing imu...
it_last_IMU.time: 1664877198.698204
lastState: 1664877198.698204
currentState: 1664877198.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.718204021 -1.008 0.0155 9.8 0 0 0.3231
1-2 processing imu...
it_last_IMU.time: 1664877198.708204
lastState: 1664877198.708204
currentState: 1664877198.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.728204012 -1 0.01571 9.8 0 0 0.3203
1-2 processing imu...
it_last_IMU.time: 1664877198.718204
lastState: 1664877198.718204
currentState: 1664877198.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.738204002 -0.9924 0.01586 9.8 0 0 0.3176
1-2 processing imu...
it_last_IMU.time: 1664877198.728204
lastState: 1664877198.728204
currentState: 1664877198.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.748203993 -0.9847 0.01593 9.8 0 0 0.3149
1-2 processing imu...
it_last_IMU.time: 1664877198.738204
lastState: 1664877198.738204
currentState: 1664877198.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.758203983 -0.977 0.01592 9.8 0 0 0.3122
1-2 processing imu...
it_last_IMU.time: 1664877198.748204
lastState: 1664877198.748204
currentState: 1664877198.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.768203974 -0.9693 0.01583 9.8 0 0 0.3095
1-2 processing imu...
it_last_IMU.time: 1664877198.758204
lastState: 1664877198.758204
currentState: 1664877198.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.778203964 -0.9616 0.01568 9.8 0 0 0.3067
1-2 processing imu...
it_last_IMU.time: 1664877198.768204
lastState: 1664877198.768204
currentState: 1664877198.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.788203955 -0.9537 0.01469 9.8 0 0 0.304
1-2 processing imu...
it_last_IMU.time: 1664877198.778204
lastState: 1664877198.778204
currentState: 1664877198.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.798203945 -0.9456 0.01277 9.8 0 0 0.3013
1-2 processing imu...
it_last_IMU.time: 1664877198.788204
lastState: 1664877198.788204
currentState: 1664877198.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.808203936 -0.9375 0.01078 9.8 0 0 0.2986
1-2 processing imu...
it_last_IMU.time: 1664877198.798204
lastState: 1664877198.798204
currentState: 1664877198.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.818203926 -0.9294 0.00871 9.8 0 0 0.2958
1-2 processing imu...
it_last_IMU.time: 1664877198.808204
lastState: 1664877198.808204
currentState: 1664877198.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.828203917 -0.9213 0.006569 9.8 0 0 0.2931
1-2 processing imu...
it_last_IMU.time: 1664877198.818204
lastState: 1664877198.818204
currentState: 1664877198.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.838203907 -0.9132 0.004356 9.8 0 0 0.2904
1-2 processing imu...
it_last_IMU.time: 1664877198.828204
lastState: 1664877198.828204
currentState: 1664877198.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.848203897 -0.9052 0.002072 9.8 0 0 0.2876
1-2 processing imu...
it_last_IMU.time: 1664877198.838204
lastState: 1664877198.838204
currentState: 1664877198.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.858203888 -0.8972 -0.000284 9.8 0 0 0.2849
1-2 processing imu...
it_last_IMU.time: 1664877198.848204
lastState: 1664877198.848204
currentState: 1664877198.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.868204117 -0.8892 -0.00271 9.8 0 0 0.2821
1-2 processing imu...
it_last_IMU.time: 1664877198.858204
lastState: 1664877198.858204
currentState: 1664877198.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.878204107 -0.8812 -0.005206 9.8 0 0 0.2794
1-2 processing imu...
it_last_IMU.time: 1664877198.868204
lastState: 1664877198.868204
currentState: 1664877198.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.888204098 -0.8728 -0.00887 9.8 0 0 0.2766
1-2 processing imu...
it_last_IMU.time: 1664877198.878204
lastState: 1664877198.878204
currentState: 1664877198.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.898204088 -0.8638 -0.01389 9.8 0 0 0.2739
1-2 processing imu...
it_last_IMU.time: 1664877198.888204
lastState: 1664877198.888204
currentState: 1664877198.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.908204079 -0.8549 -0.01898 9.8 0 0 0.2711
1-2 processing imu...
it_last_IMU.time: 1664877198.898204
lastState: 1664877198.898204
currentState: 1664877198.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.918204069 -0.846 -0.02414 9.8 0 0 0.2683
1-2 processing imu...
it_last_IMU.time: 1664877198.908204
lastState: 1664877198.908204
currentState: 1664877198.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.928204060 -0.8372 -0.02938 9.8 0 0 0.2655
1-2 processing imu...
it_last_IMU.time: 1664877198.918204
lastState: 1664877198.918204
currentState: 1664877198.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.938204050 -0.8283 -0.03468 9.8 0 0 0.2627
1-2 processing imu...
it_last_IMU.time: 1664877198.928204
lastState: 1664877198.928204
currentState: 1664877198.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.948204041 -0.8196 -0.04006 9.8 0 0 0.2599
1-2 processing imu...
it_last_IMU.time: 1664877198.938204
lastState: 1664877198.938204
currentState: 1664877198.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.958204031 -0.8108 -0.0455 9.8 0 0 0.257
1-2 processing imu...
it_last_IMU.time: 1664877198.948204
lastState: 1664877198.948204
currentState: 1664877198.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.968204021 -0.8021 -0.05102 9.8 0 0 0.2542
1-2 processing imu...
it_last_IMU.time: 1664877198.958204
lastState: 1664877198.958204
currentState: 1664877198.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.978204012 -0.7934 -0.0566 9.8 0 0 0.2513
1-2 processing imu...
it_last_IMU.time: 1664877198.968204
lastState: 1664877198.968204
currentState: 1664877198.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877198.988204002 -0.7849 -0.06008 9.8 0 0 0.2485
1-2 processing imu...
it_last_IMU.time: 1664877198.978204
lastState: 1664877198.978204
currentState: 1664877198.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877198.998203993 -0.7766 -0.06101 9.8 0 0 0.2456
1-2 processing imu...
it_last_IMU.time: 1664877198.988204
lastState: 1664877198.988204
currentState: 1664877198.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.008203983 -0.7684 -0.062 9.8 0 0 0.2427
1-2 processing imu...
it_last_IMU.time: 1664877198.998204
lastState: 1664877198.998204
currentState: 1664877199.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.018203974 -0.7601 -0.06305 9.8 0 0 0.2398
1-2 processing imu...
it_last_IMU.time: 1664877199.008204
lastState: 1664877199.008204
currentState: 1664877199.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.028203964 -0.7518 -0.06416 9.8 0 0 0.2369
1-2 processing imu...
it_last_IMU.time: 1664877199.018204
lastState: 1664877199.018204
currentState: 1664877199.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.038203955 -0.7436 -0.06534 9.8 0 0 0.234
1-2 processing imu...
it_last_IMU.time: 1664877199.028204
lastState: 1664877199.028204
currentState: 1664877199.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877199.003854990 0.2885 0.4028 0.0003639 -0.01114 -0.00338 -0.9102 -0.414
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877199.003855
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877199.003855
state->time: 1664877199.003855
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675608.299289301]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675608.299402667]: the fixed q :[-0.299, -0.327, -0.626, -0.643][0m
[0m[ INFO] [1670675608.299454536]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675608.299480844]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2885 0.4028 0.0003639
p_wv: 18.52 -15.22 31
p: 19.3 -14.58 30.99
q: [-0.299, -0.327, -0.626, -0.643]
l: 0.5168
residual in position: -0.116 0.07089 0.003898
q_err :[0.999, 0.0107, 0.0146, 0.0311]
residual in q: 0.02136 0.02915 0.06216
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877199.003855 it_next->second->time: 1664877199.008204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877199.008204 it_next->second->time: 1664877199.018204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877199.018204 it_next->second->time: 1664877199.028204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877199.028204 it_next->second->time: 1664877199.038204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.08 -14.44 31
hc: publish state after update
1-1 IMUCallback(): 1664877199.048203945 -0.7354 -0.06658 9.8 0 0 0.231
1-2 processing imu...
it_last_IMU.time: 1664877199.038204
lastState: 1664877199.038204
currentState: 1664877199.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.058203936 -0.7271 -0.06787 9.8 0 0 0.2281
1-2 processing imu...
it_last_IMU.time: 1664877199.048204
lastState: 1664877199.048204
currentState: 1664877199.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.068203926 -0.7189 -0.06923 9.8 0 0 0.2251
1-2 processing imu...
it_last_IMU.time: 1664877199.058204
lastState: 1664877199.058204
currentState: 1664877199.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.078203917 -0.7107 -0.07064 9.8 0 0 0.2222
1-2 processing imu...
it_last_IMU.time: 1664877199.068204
lastState: 1664877199.068204
currentState: 1664877199.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.088203907 -0.7022 -0.07038 9.8 0 0 0.2192
1-2 processing imu...
it_last_IMU.time: 1664877199.078204
lastState: 1664877199.078204
currentState: 1664877199.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.098203897 -0.6933 -0.068 9.8 0 0 0.2162
1-2 processing imu...
it_last_IMU.time: 1664877199.088204
lastState: 1664877199.088204
currentState: 1664877199.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.108203888 -0.6844 -0.06567 9.8 0 0 0.2132
1-2 processing imu...
it_last_IMU.time: 1664877199.098204
lastState: 1664877199.098204
currentState: 1664877199.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.118204117 -0.6755 -0.06341 9.8 0 0 0.2103
1-2 processing imu...
it_last_IMU.time: 1664877199.108204
lastState: 1664877199.108204
currentState: 1664877199.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.128204107 -0.6666 -0.0612 9.8 0 0 0.2073
1-2 processing imu...
it_last_IMU.time: 1664877199.118204
lastState: 1664877199.118204
currentState: 1664877199.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.138204098 -0.6577 -0.05905 9.8 0 0 0.2043
1-2 processing imu...
it_last_IMU.time: 1664877199.128204
lastState: 1664877199.128204
currentState: 1664877199.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.148204088 -0.6488 -0.05696 9.8 0 0 0.2013
1-2 processing imu...
it_last_IMU.time: 1664877199.138204
lastState: 1664877199.138204
currentState: 1664877199.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.158204079 -0.6398 -0.05492 9.8 0 0 0.1982
1-2 processing imu...
it_last_IMU.time: 1664877199.148204
lastState: 1664877199.148204
currentState: 1664877199.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.168204069 -0.6309 -0.05294 9.8 0 0 0.1952
1-2 processing imu...
it_last_IMU.time: 1664877199.158204
lastState: 1664877199.158204
currentState: 1664877199.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.178204060 -0.622 -0.05101 9.8 0 0 0.1922
1-2 processing imu...
it_last_IMU.time: 1664877199.168204
lastState: 1664877199.168204
currentState: 1664877199.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.188204050 -0.6124 -0.04943 9.8 0 0 0.1892
1-2 processing imu...
it_last_IMU.time: 1664877199.178204
lastState: 1664877199.178204
currentState: 1664877199.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.198204041 -0.6022 -0.0483 9.8 0 0 0.1862
1-2 processing imu...
it_last_IMU.time: 1664877199.188204
lastState: 1664877199.188204
currentState: 1664877199.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.208204031 -0.5919 -0.04722 9.8 0 0 0.1831
1-2 processing imu...
it_last_IMU.time: 1664877199.198204
lastState: 1664877199.198204
currentState: 1664877199.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.218204021 -0.5817 -0.0462 9.8 0 0 0.1801
1-2 processing imu...
it_last_IMU.time: 1664877199.208204
lastState: 1664877199.208204
currentState: 1664877199.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.228204012 -0.5714 -0.04523 9.8 0 0 0.1771
1-2 processing imu...
it_last_IMU.time: 1664877199.218204
lastState: 1664877199.218204
currentState: 1664877199.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.238204002 -0.5612 -0.04432 9.8 0 0 0.1741
1-2 processing imu...
it_last_IMU.time: 1664877199.228204
lastState: 1664877199.228204
currentState: 1664877199.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.248203993 -0.5509 -0.04346 9.8 0 0 0.1711
1-2 processing imu...
it_last_IMU.time: 1664877199.238204
lastState: 1664877199.238204
currentState: 1664877199.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.258203983 -0.5406 -0.04265 9.8 0 0 0.1681
1-2 processing imu...
it_last_IMU.time: 1664877199.248204
lastState: 1664877199.248204
currentState: 1664877199.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.268203974 -0.5304 -0.04189 9.8 0 0 0.1651
1-2 processing imu...
it_last_IMU.time: 1664877199.258204
lastState: 1664877199.258204
currentState: 1664877199.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.278203964 -0.5201 -0.04118 9.8 0 0 0.1621
1-2 processing imu...
it_last_IMU.time: 1664877199.268204
lastState: 1664877199.268204
currentState: 1664877199.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.288203955 -0.5099 -0.04012 9.8 0 0 0.1591
1-2 processing imu...
it_last_IMU.time: 1664877199.278204
lastState: 1664877199.278204
currentState: 1664877199.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.298203945 -0.4999 -0.03857 9.8 0 0 0.1561
1-2 processing imu...
it_last_IMU.time: 1664877199.288204
lastState: 1664877199.288204
currentState: 1664877199.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.308203936 -0.49 -0.03707 9.8 0 0 0.1531
1-2 processing imu...
it_last_IMU.time: 1664877199.298204
lastState: 1664877199.298204
currentState: 1664877199.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.318203926 -0.48 -0.0356 9.8 0 0 0.1501
1-2 processing imu...
it_last_IMU.time: 1664877199.308204
lastState: 1664877199.308204
currentState: 1664877199.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.328203917 -0.47 -0.03419 9.8 0 0 0.1471
1-2 processing imu...
it_last_IMU.time: 1664877199.318204
lastState: 1664877199.318204
currentState: 1664877199.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.338203907 -0.46 -0.03282 9.8 0 0 0.1442
1-2 processing imu...
it_last_IMU.time: 1664877199.328204
lastState: 1664877199.328204
currentState: 1664877199.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.348203897 -0.45 -0.03149 9.8 0 0 0.1412
1-2 processing imu...
it_last_IMU.time: 1664877199.338204
lastState: 1664877199.338204
currentState: 1664877199.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.358203888 -0.44 -0.0302 9.8 0 0 0.1383
1-2 processing imu...
it_last_IMU.time: 1664877199.348204
lastState: 1664877199.348204
currentState: 1664877199.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.368204117 -0.4299 -0.02895 9.8 0 0 0.1354
1-2 processing imu...
it_last_IMU.time: 1664877199.358204
lastState: 1664877199.358204
currentState: 1664877199.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.378204107 -0.4199 -0.02774 9.8 0 0 0.1324
1-2 processing imu...
it_last_IMU.time: 1664877199.368204
lastState: 1664877199.368204
currentState: 1664877199.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.388204098 -0.4102 -0.02638 9.8 0 0 0.1295
1-2 processing imu...
it_last_IMU.time: 1664877199.378204
lastState: 1664877199.378204
currentState: 1664877199.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.398204088 -0.4009 -0.02479 9.8 0 0 0.1266
1-2 processing imu...
it_last_IMU.time: 1664877199.388204
lastState: 1664877199.388204
currentState: 1664877199.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.408204079 -0.3916 -0.02323 9.8 0 0 0.1237
1-2 processing imu...
it_last_IMU.time: 1664877199.398204
lastState: 1664877199.398204
currentState: 1664877199.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.418204069 -0.3823 -0.02171 9.8 0 0 0.1209
1-2 processing imu...
it_last_IMU.time: 1664877199.408204
lastState: 1664877199.408204
currentState: 1664877199.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.428204060 -0.373 -0.02022 9.8 0 0 0.118
1-2 processing imu...
it_last_IMU.time: 1664877199.418204
lastState: 1664877199.418204
currentState: 1664877199.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.438204050 -0.3637 -0.01876 9.8 0 0 0.1152
1-2 processing imu...
it_last_IMU.time: 1664877199.428204
lastState: 1664877199.428204
currentState: 1664877199.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877199.424484968 0.2733 0.4199 0.00107 -0.01183 -0.004047 -0.9266 -0.3758
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877199.424485
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877199.424485
state->time: 1664877199.424485
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675609.148135851]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675609.148251692]: the fixed q :[-0.275, -0.269, -0.653, -0.653][0m
[0m[ INFO] [1670675609.148305720]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675609.148357741]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2733 0.4199 0.00107
p_wv: 18.52 -15.22 31
p: 19.09 -14.4 31
q: [-0.275, -0.269, -0.653, -0.653]
l: 0.5168
residual in position: -0.0196 -0.004587 -0.001138
q_err :[1, 0.0099, -0.0131, 0.00946]
residual in q: 0.01981 -0.02618 0.01892
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877199.424485 it_next->second->time: 1664877199.428204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877199.428204 it_next->second->time: 1664877199.438204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.05 -14.4 31
hc: publish state after update
1-1 IMUCallback(): 1664877199.448204041 -0.3544 -0.01734 9.8 0 0 0.1124
1-2 processing imu...
it_last_IMU.time: 1664877199.438204
lastState: 1664877199.438204
currentState: 1664877199.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.458204031 -0.3451 -0.01594 9.8 0 0 0.1096
1-2 processing imu...
it_last_IMU.time: 1664877199.448204
lastState: 1664877199.448204
currentState: 1664877199.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.468204021 -0.3358 -0.01458 9.8 0 0 0.1068
1-2 processing imu...
it_last_IMU.time: 1664877199.458204
lastState: 1664877199.458204
currentState: 1664877199.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.478204012 -0.3265 -0.01325 9.8 0 0 0.1041
1-2 processing imu...
it_last_IMU.time: 1664877199.468204
lastState: 1664877199.468204
currentState: 1664877199.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.488204002 -0.3173 -0.01101 9.8 0 0 0.1013
1-2 processing imu...
it_last_IMU.time: 1664877199.478204
lastState: 1664877199.478204
currentState: 1664877199.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.498203993 -0.3084 -0.007462 9.8 0 0 0.09862
1-2 processing imu...
it_last_IMU.time: 1664877199.488204
lastState: 1664877199.488204
currentState: 1664877199.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.508203983 -0.2995 -0.003938 9.8 0 0 0.09595
1-2 processing imu...
it_last_IMU.time: 1664877199.498204
lastState: 1664877199.498204
currentState: 1664877199.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.518203974 -0.2905 -0.000438 9.8 0 0 0.09332
1-2 processing imu...
it_last_IMU.time: 1664877199.508204
lastState: 1664877199.508204
currentState: 1664877199.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.528203964 -0.2816 0.003037 9.8 0 0 0.09072
1-2 processing imu...
it_last_IMU.time: 1664877199.518204
lastState: 1664877199.518204
currentState: 1664877199.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.538203955 -0.2727 0.006488 9.8 0 0 0.08816
1-2 processing imu...
it_last_IMU.time: 1664877199.528204
lastState: 1664877199.528204
currentState: 1664877199.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.548203945 -0.2637 0.009917 9.8 0 0 0.08563
1-2 processing imu...
it_last_IMU.time: 1664877199.538204
lastState: 1664877199.538204
currentState: 1664877199.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.558203936 -0.2547 0.01332 9.8 0 0 0.08314
1-2 processing imu...
it_last_IMU.time: 1664877199.548204
lastState: 1664877199.548204
currentState: 1664877199.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.568203926 -0.2458 0.01671 9.8 0 0 0.08068
1-2 processing imu...
it_last_IMU.time: 1664877199.558204
lastState: 1664877199.558204
currentState: 1664877199.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.578203917 -0.2368 0.02007 9.8 0 0 0.07826
1-2 processing imu...
it_last_IMU.time: 1664877199.568204
lastState: 1664877199.568204
currentState: 1664877199.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.588203907 -0.2282 0.0224 9.8 0 0 0.07587
1-2 processing imu...
it_last_IMU.time: 1664877199.578204
lastState: 1664877199.578204
currentState: 1664877199.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.598203897 -0.2201 0.02318 9.8 0 0 0.07352
1-2 processing imu...
it_last_IMU.time: 1664877199.588204
lastState: 1664877199.588204
currentState: 1664877199.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.608203888 -0.212 0.02395 9.8 0 0 0.07122
1-2 processing imu...
it_last_IMU.time: 1664877199.598204
lastState: 1664877199.598204
currentState: 1664877199.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.618204117 -0.2039 0.02469 9.8 0 0 0.06896
1-2 processing imu...
it_last_IMU.time: 1664877199.608204
lastState: 1664877199.608204
currentState: 1664877199.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.628204107 -0.1958 0.02542 9.8 0 0 0.06674
1-2 processing imu...
it_last_IMU.time: 1664877199.618204
lastState: 1664877199.618204
currentState: 1664877199.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.638204098 -0.1877 0.02614 9.8 0 0 0.06457
1-2 processing imu...
it_last_IMU.time: 1664877199.628204
lastState: 1664877199.628204
currentState: 1664877199.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.648204088 -0.1796 0.02684 9.8 0 0 0.06243
1-2 processing imu...
it_last_IMU.time: 1664877199.638204
lastState: 1664877199.638204
currentState: 1664877199.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.658204079 -0.1715 0.02753 9.8 0 0 0.06034
1-2 processing imu...
it_last_IMU.time: 1664877199.648204
lastState: 1664877199.648204
currentState: 1664877199.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.668204069 -0.1634 0.0282 9.8 0 0 0.05829
1-2 processing imu...
it_last_IMU.time: 1664877199.658204
lastState: 1664877199.658204
currentState: 1664877199.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.678204060 -0.1554 0.02886 9.8 0 0 0.05629
1-2 processing imu...
it_last_IMU.time: 1664877199.668204
lastState: 1664877199.668204
currentState: 1664877199.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.688204050 -0.1479 0.02828 9.8 0 0 0.05432
1-2 processing imu...
it_last_IMU.time: 1664877199.678204
lastState: 1664877199.678204
currentState: 1664877199.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.698204041 -0.1415 0.02576 9.8 0 0 0.0524
1-2 processing imu...
it_last_IMU.time: 1664877199.688204
lastState: 1664877199.688204
currentState: 1664877199.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.708204031 -0.1351 0.02323 9.8 0 0 0.05052
1-2 processing imu...
it_last_IMU.time: 1664877199.698204
lastState: 1664877199.698204
currentState: 1664877199.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.718204021 -0.1286 0.0207 9.8 0 0 0.04867
1-2 processing imu...
it_last_IMU.time: 1664877199.708204
lastState: 1664877199.708204
currentState: 1664877199.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.728204012 -0.1222 0.01815 9.8 0 0 0.04687
1-2 processing imu...
it_last_IMU.time: 1664877199.718204
lastState: 1664877199.718204
currentState: 1664877199.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.738204002 -0.1158 0.0156 9.8 0 0 0.04511
1-2 processing imu...
it_last_IMU.time: 1664877199.728204
lastState: 1664877199.728204
currentState: 1664877199.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.748203993 -0.1094 0.01303 9.8 0 0 0.04338
1-2 processing imu...
it_last_IMU.time: 1664877199.738204
lastState: 1664877199.738204
currentState: 1664877199.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.758203983 -0.103 0.01046 9.8 0 0 0.0417
1-2 processing imu...
it_last_IMU.time: 1664877199.748204
lastState: 1664877199.748204
currentState: 1664877199.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.768203974 -0.09654 0.007887 9.8 0 0 0.04006
1-2 processing imu...
it_last_IMU.time: 1664877199.758204
lastState: 1664877199.758204
currentState: 1664877199.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.778203964 -0.09013 0.005303 9.8 0 0 0.03846
1-2 processing imu...
it_last_IMU.time: 1664877199.768204
lastState: 1664877199.768204
currentState: 1664877199.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.788203955 -0.08435 0.004211 9.8 0 0 0.0369
1-2 processing imu...
it_last_IMU.time: 1664877199.778204
lastState: 1664877199.778204
currentState: 1664877199.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.798203945 -0.07958 0.005542 9.8 0 0 0.03537
1-2 processing imu...
it_last_IMU.time: 1664877199.788204
lastState: 1664877199.788204
currentState: 1664877199.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.808203936 -0.07481 0.006868 9.8 0 0 0.03388
1-2 processing imu...
it_last_IMU.time: 1664877199.798204
lastState: 1664877199.798204
currentState: 1664877199.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.818203926 -0.07004 0.008191 9.8 0 0 0.03243
1-2 processing imu...
it_last_IMU.time: 1664877199.808204
lastState: 1664877199.808204
currentState: 1664877199.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.828203917 -0.06526 0.009509 9.8 0 0 0.03101
1-2 processing imu...
it_last_IMU.time: 1664877199.818204
lastState: 1664877199.818204
currentState: 1664877199.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.838203907 -0.06049 0.01082 9.8 0 0 0.02962
1-2 processing imu...
it_last_IMU.time: 1664877199.828204
lastState: 1664877199.828204
currentState: 1664877199.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.848203897 -0.05572 0.01213 9.8 0 0 0.02827
1-2 processing imu...
it_last_IMU.time: 1664877199.838204
lastState: 1664877199.838204
currentState: 1664877199.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.858203888 -0.05094 0.01344 9.8 0 0 0.02696
1-2 processing imu...
it_last_IMU.time: 1664877199.848204
lastState: 1664877199.848204
currentState: 1664877199.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877199.842458963 0.2574 0.4349 0.001452 -0.01182 -0.003869 -0.9305 -0.366
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877199.842459
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877199.842459
state->time: 1664877199.842459
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675610.009996202]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675610.010059717]: the fixed q :[-0.262, -0.226, -0.67, -0.657][0m
[0m[ INFO] [1670675610.010069903]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675610.010092014]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2574 0.4349 0.001452
p_wv: 18.52 -15.22 31
p: 18.92 -14.26 31.01
q: [-0.262, -0.226, -0.67, -0.657]
l: 0.5168
residual in position: 0.05249 -0.06177 -0.003006
q_err :[0.999, 0.00837, -0.0368, -0.0219]
residual in q: 0.01676 -0.07364 -0.04389
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877199.842459 it_next->second->time: 1664877199.848204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877199.848204 it_next->second->time: 1664877199.858204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 19.01 -14.37 31
hc: publish state after update
1-1 IMUCallback(): 1664877199.868204117 -0.04617 0.01474 9.8 0 0 0.02568
1-2 processing imu...
it_last_IMU.time: 1664877199.858204
lastState: 1664877199.858204
currentState: 1664877199.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.878204107 -0.04139 0.01605 9.8 0 0 0.02444
1-2 processing imu...
it_last_IMU.time: 1664877199.868204
lastState: 1664877199.868204
currentState: 1664877199.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.888204098 -0.03715 0.01679 9.8 0 0 0.02323
1-2 processing imu...
it_last_IMU.time: 1664877199.878204
lastState: 1664877199.878204
currentState: 1664877199.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.898204088 -0.03381 0.01661 9.8 0 0 0.02206
1-2 processing imu...
it_last_IMU.time: 1664877199.888204
lastState: 1664877199.888204
currentState: 1664877199.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.908204079 -0.03048 0.01643 9.8 0 0 0.02091
1-2 processing imu...
it_last_IMU.time: 1664877199.898204
lastState: 1664877199.898204
currentState: 1664877199.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.918204069 -0.02714 0.01625 9.8 0 0 0.01979
1-2 processing imu...
it_last_IMU.time: 1664877199.908204
lastState: 1664877199.908204
currentState: 1664877199.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.928204060 -0.02381 0.01606 9.8 0 0 0.01871
1-2 processing imu...
it_last_IMU.time: 1664877199.918204
lastState: 1664877199.918204
currentState: 1664877199.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.938204050 -0.02047 0.01588 9.8 0 0 0.01765
1-2 processing imu...
it_last_IMU.time: 1664877199.928204
lastState: 1664877199.928204
currentState: 1664877199.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.948204041 -0.01714 0.01569 9.8 0 0 0.01662
1-2 processing imu...
it_last_IMU.time: 1664877199.938204
lastState: 1664877199.938204
currentState: 1664877199.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.958204031 -0.0138 0.0155 9.8 0 0 0.01563
1-2 processing imu...
it_last_IMU.time: 1664877199.948204
lastState: 1664877199.948204
currentState: 1664877199.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.968204021 -0.01047 0.01531 9.8 0 0 0.01466
1-2 processing imu...
it_last_IMU.time: 1664877199.958204
lastState: 1664877199.958204
currentState: 1664877199.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.978204012 -0.007135 0.01512 9.8 0 0 0.01372
1-2 processing imu...
it_last_IMU.time: 1664877199.968204
lastState: 1664877199.968204
currentState: 1664877199.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877199.988204002 -0.004286 0.01402 9.8 0 0 0.01282
1-2 processing imu...
it_last_IMU.time: 1664877199.978204
lastState: 1664877199.978204
currentState: 1664877199.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877199.998203993 -0.002287 0.01134 9.8 0 0 0.01194
1-2 processing imu...
it_last_IMU.time: 1664877199.988204
lastState: 1664877199.988204
currentState: 1664877199.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.008203983 -0.000288 0.008662 9.8 0 0 0.01108
1-2 processing imu...
it_last_IMU.time: 1664877199.998204
lastState: 1664877199.998204
currentState: 1664877200.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.018203974 0.00171 0.00598 9.8 0 0 0.01026
1-2 processing imu...
it_last_IMU.time: 1664877200.008204
lastState: 1664877200.008204
currentState: 1664877200.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.028203964 0.003707 0.003297 9.8 0 0 0.009458
1-2 processing imu...
it_last_IMU.time: 1664877200.018204
lastState: 1664877200.018204
currentState: 1664877200.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.038203955 0.005704 0.000615 9.8 0 0 0.008685
1-2 processing imu...
it_last_IMU.time: 1664877200.028204
lastState: 1664877200.028204
currentState: 1664877200.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.048203945 0.0077 -0.002068 9.8 0 0 0.007938
1-2 processing imu...
it_last_IMU.time: 1664877200.038204
lastState: 1664877200.038204
currentState: 1664877200.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.058203936 0.009696 -0.004752 9.8 0 0 0.007219
1-2 processing imu...
it_last_IMU.time: 1664877200.048204
lastState: 1664877200.048204
currentState: 1664877200.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.068203926 0.01169 -0.007435 9.8 0 0 0.006526
1-2 processing imu...
it_last_IMU.time: 1664877200.058204
lastState: 1664877200.058204
currentState: 1664877200.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.078203917 0.01369 -0.01012 9.8 0 0 0.005859
1-2 processing imu...
it_last_IMU.time: 1664877200.068204
lastState: 1664877200.068204
currentState: 1664877200.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.088203907 0.0153 -0.01184 9.8 0 0 0.005219
1-2 processing imu...
it_last_IMU.time: 1664877200.078204
lastState: 1664877200.078204
currentState: 1664877200.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.098203897 0.01622 -0.01181 9.8 0 0 0.004603
1-2 processing imu...
it_last_IMU.time: 1664877200.088204
lastState: 1664877200.088204
currentState: 1664877200.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.108203888 0.01715 -0.01178 9.8 0 0 0.004009
1-2 processing imu...
it_last_IMU.time: 1664877200.098204
lastState: 1664877200.098204
currentState: 1664877200.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.118204117 0.01807 -0.01175 9.8 0 0 0.003438
1-2 processing imu...
it_last_IMU.time: 1664877200.108204
lastState: 1664877200.108204
currentState: 1664877200.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.128204107 0.019 -0.01172 9.8 0 0 0.00289
1-2 processing imu...
it_last_IMU.time: 1664877200.118204
lastState: 1664877200.118204
currentState: 1664877200.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.138204098 0.01992 -0.01169 9.8 0 0 0.002365
1-2 processing imu...
it_last_IMU.time: 1664877200.128204
lastState: 1664877200.128204
currentState: 1664877200.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.148204088 0.02084 -0.01166 9.8 0 0 0.001862
1-2 processing imu...
it_last_IMU.time: 1664877200.138204
lastState: 1664877200.138204
currentState: 1664877200.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.158204079 0.02177 -0.01163 9.8 0 0 0.001382
1-2 processing imu...
it_last_IMU.time: 1664877200.148204
lastState: 1664877200.148204
currentState: 1664877200.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.168204069 0.02269 -0.0116 9.8 0 0 0.000926
1-2 processing imu...
it_last_IMU.time: 1664877200.158204
lastState: 1664877200.158204
currentState: 1664877200.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.178204060 0.02362 -0.01157 9.8 0 0 0.000491
1-2 processing imu...
it_last_IMU.time: 1664877200.168204
lastState: 1664877200.168204
currentState: 1664877200.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.188204050 0.02433 -0.0116 9.8 0 0 8e-05
1-2 processing imu...
it_last_IMU.time: 1664877200.178204
lastState: 1664877200.178204
currentState: 1664877200.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.198204041 0.02464 -0.01176 9.8 0 0 -0.000313
1-2 processing imu...
it_last_IMU.time: 1664877200.188204
lastState: 1664877200.188204
currentState: 1664877200.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.208204031 0.02496 -0.01192 9.8 0 0 -0.000687
1-2 processing imu...
it_last_IMU.time: 1664877200.198204
lastState: 1664877200.198204
currentState: 1664877200.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.218204021 0.02527 -0.01209 9.8 0 0 -0.001044
1-2 processing imu...
it_last_IMU.time: 1664877200.208204
lastState: 1664877200.208204
currentState: 1664877200.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.228204012 0.02559 -0.01225 9.8 0 0 -0.001382
1-2 processing imu...
it_last_IMU.time: 1664877200.218204
lastState: 1664877200.218204
currentState: 1664877200.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.238204002 0.0259 -0.0124 9.8 0 0 -0.001702
1-2 processing imu...
it_last_IMU.time: 1664877200.228204
lastState: 1664877200.228204
currentState: 1664877200.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.248203993 0.02621 -0.01256 9.8 0 0 -0.002004
1-2 processing imu...
it_last_IMU.time: 1664877200.238204
lastState: 1664877200.238204
currentState: 1664877200.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.258203983 0.02653 -0.01273 9.8 0 0 -0.002288
1-2 processing imu...
it_last_IMU.time: 1664877200.248204
lastState: 1664877200.248204
currentState: 1664877200.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.268203974 0.02684 -0.01289 9.8 0 0 -0.002553
1-2 processing imu...
it_last_IMU.time: 1664877200.258204
lastState: 1664877200.258204
currentState: 1664877200.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877200.254627943 0.2414 0.4498 0.001745 -0.0123 -0.00419 -0.9313 -0.364
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877200.254628
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877200.254628
state->time: 1664877200.254628
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675610.870866771]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675610.870912270]: the fixed q :[-0.262, -0.212, -0.675, -0.656][0m
[0m[ INFO] [1670675610.870924540]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675610.870940181]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2414 0.4498 0.001745
p_wv: 18.52 -15.22 31
p: 18.8 -14.18 31
q: [-0.262, -0.212, -0.675, -0.656]
l: 0.5169
residual in position: 0.09585 -0.08835 0.002796
q_err :[0.998, 0.00857, -0.0477, -0.0299]
residual in q: 0.01716 -0.09552 -0.05983
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877200.254628 it_next->second->time: 1664877200.258204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877200.258204 it_next->second->time: 1664877200.268204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.98 -14.34 31
hc: publish state after update
1-1 IMUCallback(): 1664877200.278203964 0.02716 -0.01304 9.8 0 0 -0.002801
1-2 processing imu...
it_last_IMU.time: 1664877200.268204
lastState: 1664877200.268204
currentState: 1664877200.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.288203955 0.02732 -0.01265 9.8 0 0 -0.003031
1-2 processing imu...
it_last_IMU.time: 1664877200.278204
lastState: 1664877200.278204
currentState: 1664877200.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.298203945 0.02718 -0.01115 9.8 0 0 -0.003246
1-2 processing imu...
it_last_IMU.time: 1664877200.288204
lastState: 1664877200.288204
currentState: 1664877200.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.308203936 0.02705 -0.009655 9.8 0 0 -0.003449
1-2 processing imu...
it_last_IMU.time: 1664877200.298204
lastState: 1664877200.298204
currentState: 1664877200.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.318203926 0.02691 -0.008158 9.8 0 0 -0.003639
1-2 processing imu...
it_last_IMU.time: 1664877200.308204
lastState: 1664877200.308204
currentState: 1664877200.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.328203917 0.02677 -0.006662 9.8 0 0 -0.003816
1-2 processing imu...
it_last_IMU.time: 1664877200.318204
lastState: 1664877200.318204
currentState: 1664877200.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.338203907 0.02664 -0.005166 9.8 0 0 -0.00398
1-2 processing imu...
it_last_IMU.time: 1664877200.328204
lastState: 1664877200.328204
currentState: 1664877200.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.348203897 0.0265 -0.003669 9.8 0 0 -0.004131
1-2 processing imu...
it_last_IMU.time: 1664877200.338204
lastState: 1664877200.338204
currentState: 1664877200.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.358203888 0.02636 -0.002173 9.8 0 0 -0.004269
1-2 processing imu...
it_last_IMU.time: 1664877200.348204
lastState: 1664877200.348204
currentState: 1664877200.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.368204117 0.02623 -0.000676 9.8 0 0 -0.004394
1-2 processing imu...
it_last_IMU.time: 1664877200.358204
lastState: 1664877200.358204
currentState: 1664877200.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.378204107 0.02609 0.00082 9.8 0 0 -0.004506
1-2 processing imu...
it_last_IMU.time: 1664877200.368204
lastState: 1664877200.368204
currentState: 1664877200.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.388204098 0.02589 0.00252 9.8 0 0 -0.004605
1-2 processing imu...
it_last_IMU.time: 1664877200.378204
lastState: 1664877200.378204
currentState: 1664877200.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.398204088 0.02556 0.004637 9.8 0 0 -0.004695
1-2 processing imu...
it_last_IMU.time: 1664877200.388204
lastState: 1664877200.388204
currentState: 1664877200.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.408204079 0.02522 0.006754 9.8 0 0 -0.004775
1-2 processing imu...
it_last_IMU.time: 1664877200.398204
lastState: 1664877200.398204
currentState: 1664877200.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.418204069 0.02489 0.008871 9.8 0 0 -0.004847
1-2 processing imu...
it_last_IMU.time: 1664877200.408204
lastState: 1664877200.408204
currentState: 1664877200.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.428204060 0.02456 0.01099 9.8 0 0 -0.00491
1-2 processing imu...
it_last_IMU.time: 1664877200.418204
lastState: 1664877200.418204
currentState: 1664877200.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.438204050 0.02423 0.01311 9.8 0 0 -0.004964
1-2 processing imu...
it_last_IMU.time: 1664877200.428204
lastState: 1664877200.428204
currentState: 1664877200.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.448204041 0.0239 0.01522 9.8 0 0 -0.00501
1-2 processing imu...
it_last_IMU.time: 1664877200.438204
lastState: 1664877200.438204
currentState: 1664877200.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.458204031 0.02356 0.01734 9.8 0 0 -0.005046
1-2 processing imu...
it_last_IMU.time: 1664877200.448204
lastState: 1664877200.448204
currentState: 1664877200.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.468204021 0.02323 0.01946 9.8 0 0 -0.005074
1-2 processing imu...
it_last_IMU.time: 1664877200.458204
lastState: 1664877200.458204
currentState: 1664877200.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.478204012 0.0229 0.02157 9.8 0 0 -0.005092
1-2 processing imu...
it_last_IMU.time: 1664877200.468204
lastState: 1664877200.468204
currentState: 1664877200.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.488204002 0.02254 0.02293 9.8 0 0 -0.005102
1-2 processing imu...
it_last_IMU.time: 1664877200.478204
lastState: 1664877200.478204
currentState: 1664877200.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.498203993 0.02212 0.02268 9.8 0 0 -0.005106
1-2 processing imu...
it_last_IMU.time: 1664877200.488204
lastState: 1664877200.488204
currentState: 1664877200.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.508203983 0.0217 0.02243 9.8 0 0 -0.005104
1-2 processing imu...
it_last_IMU.time: 1664877200.498204
lastState: 1664877200.498204
currentState: 1664877200.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.518203974 0.02128 0.02218 9.8 0 0 -0.005097
1-2 processing imu...
it_last_IMU.time: 1664877200.508204
lastState: 1664877200.508204
currentState: 1664877200.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.528203964 0.02087 0.02193 9.8 0 0 -0.005084
1-2 processing imu...
it_last_IMU.time: 1664877200.518204
lastState: 1664877200.518204
currentState: 1664877200.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.538203955 0.02045 0.02168 9.8 0 0 -0.005066
1-2 processing imu...
it_last_IMU.time: 1664877200.528204
lastState: 1664877200.528204
currentState: 1664877200.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.548203945 0.02003 0.02142 9.8 0 0 -0.005043
1-2 processing imu...
it_last_IMU.time: 1664877200.538204
lastState: 1664877200.538204
currentState: 1664877200.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.558203936 0.01961 0.02117 9.8 0 0 -0.005014
1-2 processing imu...
it_last_IMU.time: 1664877200.548204
lastState: 1664877200.548204
currentState: 1664877200.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.568203926 0.01919 0.02092 9.8 0 0 -0.004979
1-2 processing imu...
it_last_IMU.time: 1664877200.558204
lastState: 1664877200.558204
currentState: 1664877200.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.578203917 0.01878 0.02067 9.8 0 0 -0.00494
1-2 processing imu...
it_last_IMU.time: 1664877200.568204
lastState: 1664877200.568204
currentState: 1664877200.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.588203907 0.01836 0.02011 9.8 0 0 -0.004894
1-2 processing imu...
it_last_IMU.time: 1664877200.578204
lastState: 1664877200.578204
currentState: 1664877200.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.598203897 0.01794 0.01886 9.8 0 0 -0.004846
1-2 processing imu...
it_last_IMU.time: 1664877200.588204
lastState: 1664877200.588204
currentState: 1664877200.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.608203888 0.01752 0.01761 9.8 0 0 -0.004794
1-2 processing imu...
it_last_IMU.time: 1664877200.598204
lastState: 1664877200.598204
currentState: 1664877200.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.618204117 0.01711 0.01636 9.8 0 0 -0.00474
1-2 processing imu...
it_last_IMU.time: 1664877200.608204
lastState: 1664877200.608204
currentState: 1664877200.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.628204107 0.01669 0.01511 9.8 0 0 -0.004683
1-2 processing imu...
it_last_IMU.time: 1664877200.618204
lastState: 1664877200.618204
currentState: 1664877200.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.638204098 0.01627 0.01386 9.8 0 0 -0.004624
1-2 processing imu...
it_last_IMU.time: 1664877200.628204
lastState: 1664877200.628204
currentState: 1664877200.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.648204088 0.01586 0.01261 9.8 0 0 -0.004561
1-2 processing imu...
it_last_IMU.time: 1664877200.638204
lastState: 1664877200.638204
currentState: 1664877200.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.658204079 0.01544 0.01136 9.8 0 0 -0.004496
1-2 processing imu...
it_last_IMU.time: 1664877200.648204
lastState: 1664877200.648204
currentState: 1664877200.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.668204069 0.01502 0.01011 9.8 0 0 -0.004429
1-2 processing imu...
it_last_IMU.time: 1664877200.658204
lastState: 1664877200.658204
currentState: 1664877200.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.678204060 0.01461 0.008861 9.8 0 0 -0.004358
1-2 processing imu...
it_last_IMU.time: 1664877200.668204
lastState: 1664877200.668204
currentState: 1664877200.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.688204050 0.0142 0.007108 9.8 0 0 -0.004285
1-2 processing imu...
it_last_IMU.time: 1664877200.678204
lastState: 1664877200.678204
currentState: 1664877200.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.698204041 0.01383 0.004186 9.8 0 0 -0.00421
1-2 processing imu...
it_last_IMU.time: 1664877200.688204
lastState: 1664877200.688204
currentState: 1664877200.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877200.686291933 0.2256 0.4644 0.002203 -0.01231 -0.003958 -0.9311 -0.3645
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877200.686292
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877200.686292
state->time: 1664877200.686292
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675611.743224668]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675611.743397655]: the fixed q :[-0.262, -0.209, -0.677, -0.656][0m
[0m[ INFO] [1670675611.743452306]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675611.743505167]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2256 0.4644 0.002203
p_wv: 18.52 -15.22 31
p: 18.73 -14.13 30.99
q: [-0.262, -0.209, -0.677, -0.656]
l: 0.517
residual in position: 0.1159 -0.1011 0.008618
q_err :[0.998, 0.00769, -0.0507, -0.0334]
residual in q: 0.01542 -0.1016 -0.06693
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877200.686292 it_next->second->time: 1664877200.688204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877200.688204 it_next->second->time: 1664877200.698204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.95 -14.32 31
hc: publish state after update
1-1 IMUCallback(): 1664877200.708204031 0.01345 0.001265 9.8 0 0 -0.004135
1-2 processing imu...
it_last_IMU.time: 1664877200.698204
lastState: 1664877200.698204
currentState: 1664877200.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.718204021 0.01307 -0.001656 9.8 0 0 -0.004058
1-2 processing imu...
it_last_IMU.time: 1664877200.708204
lastState: 1664877200.708204
currentState: 1664877200.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.728204012 0.0127 -0.004577 9.8 0 0 -0.003981
1-2 processing imu...
it_last_IMU.time: 1664877200.718204
lastState: 1664877200.718204
currentState: 1664877200.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.738204002 0.01232 -0.007499 9.8 0 0 -0.003903
1-2 processing imu...
it_last_IMU.time: 1664877200.728204
lastState: 1664877200.728204
currentState: 1664877200.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.748203993 0.01195 -0.01042 9.8 0 0 -0.003824
1-2 processing imu...
it_last_IMU.time: 1664877200.738204
lastState: 1664877200.738204
currentState: 1664877200.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.758203983 0.01157 -0.01334 9.8 0 0 -0.003744
1-2 processing imu...
it_last_IMU.time: 1664877200.748204
lastState: 1664877200.748204
currentState: 1664877200.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.768203974 0.0112 -0.01626 9.8 0 0 -0.003663
1-2 processing imu...
it_last_IMU.time: 1664877200.758204
lastState: 1664877200.758204
currentState: 1664877200.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.778203964 0.01082 -0.01918 9.8 0 0 -0.003581
1-2 processing imu...
it_last_IMU.time: 1664877200.768204
lastState: 1664877200.768204
currentState: 1664877200.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.788203955 0.01047 -0.02163 9.8 0 0 -0.003499
1-2 processing imu...
it_last_IMU.time: 1664877200.778204
lastState: 1664877200.778204
currentState: 1664877200.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.798203945 0.01014 -0.02291 9.8 0 0 -0.003416
1-2 processing imu...
it_last_IMU.time: 1664877200.788204
lastState: 1664877200.788204
currentState: 1664877200.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.808203936 0.00981 -0.02419 9.8 0 0 -0.003334
1-2 processing imu...
it_last_IMU.time: 1664877200.798204
lastState: 1664877200.798204
currentState: 1664877200.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.818203926 0.009483 -0.02548 9.8 0 0 -0.003253
1-2 processing imu...
it_last_IMU.time: 1664877200.808204
lastState: 1664877200.808204
currentState: 1664877200.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.828203917 0.009156 -0.02676 9.8 0 0 -0.003172
1-2 processing imu...
it_last_IMU.time: 1664877200.818204
lastState: 1664877200.818204
currentState: 1664877200.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.838203907 0.008829 -0.02804 9.8 0 0 -0.003091
1-2 processing imu...
it_last_IMU.time: 1664877200.828204
lastState: 1664877200.828204
currentState: 1664877200.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.848203897 0.008503 -0.02933 9.8 0 0 -0.003011
1-2 processing imu...
it_last_IMU.time: 1664877200.838204
lastState: 1664877200.838204
currentState: 1664877200.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.858203888 0.008176 -0.03061 9.8 0 0 -0.002932
1-2 processing imu...
it_last_IMU.time: 1664877200.848204
lastState: 1664877200.848204
currentState: 1664877200.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.868204117 0.007849 -0.03189 9.8 0 0 -0.002853
1-2 processing imu...
it_last_IMU.time: 1664877200.858204
lastState: 1664877200.858204
currentState: 1664877200.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.878204107 0.007522 -0.03318 9.8 0 0 -0.002774
1-2 processing imu...
it_last_IMU.time: 1664877200.868204
lastState: 1664877200.868204
currentState: 1664877200.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.888204098 0.007211 -0.03383 9.8 0 0 -0.002696
1-2 processing imu...
it_last_IMU.time: 1664877200.878204
lastState: 1664877200.878204
currentState: 1664877200.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.898204088 0.006939 -0.03288 9.8 0 0 -0.002619
1-2 processing imu...
it_last_IMU.time: 1664877200.888204
lastState: 1664877200.888204
currentState: 1664877200.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.908204079 0.006667 -0.03193 9.8 0 0 -0.002543
1-2 processing imu...
it_last_IMU.time: 1664877200.898204
lastState: 1664877200.898204
currentState: 1664877200.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.918204069 0.006395 -0.03099 9.8 0 0 -0.002468
1-2 processing imu...
it_last_IMU.time: 1664877200.908204
lastState: 1664877200.908204
currentState: 1664877200.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.928204060 0.006123 -0.03004 9.8 0 0 -0.002394
1-2 processing imu...
it_last_IMU.time: 1664877200.918204
lastState: 1664877200.918204
currentState: 1664877200.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.938204050 0.005851 -0.02909 9.8 0 0 -0.002322
1-2 processing imu...
it_last_IMU.time: 1664877200.928204
lastState: 1664877200.928204
currentState: 1664877200.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.948204041 0.005578 -0.02815 9.8 0 0 -0.002251
1-2 processing imu...
it_last_IMU.time: 1664877200.938204
lastState: 1664877200.938204
currentState: 1664877200.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.958204031 0.005306 -0.0272 9.8 0 0 -0.002181
1-2 processing imu...
it_last_IMU.time: 1664877200.948204
lastState: 1664877200.948204
currentState: 1664877200.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.968204021 0.005034 -0.02626 9.8 0 0 -0.002112
1-2 processing imu...
it_last_IMU.time: 1664877200.958204
lastState: 1664877200.958204
currentState: 1664877200.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.978204012 0.004761 -0.02531 9.8 0 0 -0.002044
1-2 processing imu...
it_last_IMU.time: 1664877200.968204
lastState: 1664877200.968204
currentState: 1664877200.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877200.988204002 0.004507 -0.02451 9.8 0 0 -0.001978
1-2 processing imu...
it_last_IMU.time: 1664877200.978204
lastState: 1664877200.978204
currentState: 1664877200.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877200.998203993 0.004302 -0.02409 9.8 0 0 -0.001912
1-2 processing imu...
it_last_IMU.time: 1664877200.988204
lastState: 1664877200.988204
currentState: 1664877200.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.008203983 0.004097 -0.02368 9.8 0 0 -0.001849
1-2 processing imu...
it_last_IMU.time: 1664877200.998204
lastState: 1664877200.998204
currentState: 1664877201.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.018203974 0.003892 -0.02326 9.8 0 0 -0.001786
1-2 processing imu...
it_last_IMU.time: 1664877201.008204
lastState: 1664877201.008204
currentState: 1664877201.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.028203964 0.003687 -0.02284 9.8 0 0 -0.001725
1-2 processing imu...
it_last_IMU.time: 1664877201.018204
lastState: 1664877201.018204
currentState: 1664877201.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.038203955 0.003481 -0.02242 9.8 0 0 -0.001666
1-2 processing imu...
it_last_IMU.time: 1664877201.028204
lastState: 1664877201.028204
currentState: 1664877201.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.048203945 0.003276 -0.02201 9.8 0 0 -0.001608
1-2 processing imu...
it_last_IMU.time: 1664877201.038204
lastState: 1664877201.038204
currentState: 1664877201.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.058203936 0.003071 -0.02159 9.8 0 0 -0.001551
1-2 processing imu...
it_last_IMU.time: 1664877201.048204
lastState: 1664877201.048204
currentState: 1664877201.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.068203926 0.002866 -0.02117 9.8 0 0 -0.001496
1-2 processing imu...
it_last_IMU.time: 1664877201.058204
lastState: 1664877201.058204
currentState: 1664877201.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.078203917 0.00266 -0.02076 9.8 0 0 -0.001442
1-2 processing imu...
it_last_IMU.time: 1664877201.068204
lastState: 1664877201.068204
currentState: 1664877201.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.088203907 0.002473 -0.01981 9.8 0 0 -0.00139
1-2 processing imu...
it_last_IMU.time: 1664877201.078204
lastState: 1664877201.078204
currentState: 1664877201.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.098203897 0.002335 -0.01741 9.8 0 0 -0.001339
1-2 processing imu...
it_last_IMU.time: 1664877201.088204
lastState: 1664877201.088204
currentState: 1664877201.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.108203888 0.002198 -0.01501 9.8 0 0 -0.00129
1-2 processing imu...
it_last_IMU.time: 1664877201.098204
lastState: 1664877201.098204
currentState: 1664877201.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877201.092535019 0.2097 0.4796 0.00255 -0.01222 -0.003951 -0.9313 -0.364
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877201.092535
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877201.092535
state->time: 1664877201.092535
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675612.586568162]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675612.586629051]: the fixed q :[-0.26, -0.215, -0.675, -0.656][0m
[0m[ INFO] [1670675612.586642182]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675612.586656974]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.2097 0.4796 0.00255
p_wv: 18.52 -15.22 31
p: 18.73 -14.13 30.99
q: [-0.26, -0.215, -0.675, -0.656]
l: 0.5171
residual in position: 0.1012 -0.08617 0.006966
q_err :[0.999, 0.0067, -0.0449, -0.0297]
residual in q: 0.01341 -0.08992 -0.05957
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877201.092535 it_next->second->time: 1664877201.098204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877201.098204 it_next->second->time: 1664877201.108204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.92 -14.29 31
hc: publish state after update
1-1 IMUCallback(): 1664877201.118204117 0.00206 -0.0126 9.8 0 0 -0.001242
1-2 processing imu...
it_last_IMU.time: 1664877201.108204
lastState: 1664877201.108204
currentState: 1664877201.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.128204107 0.001922 -0.0102 9.8 0 0 -0.001195
1-2 processing imu...
it_last_IMU.time: 1664877201.118204
lastState: 1664877201.118204
currentState: 1664877201.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.138204098 0.001784 -0.007798 9.8 0 0 -0.00115
1-2 processing imu...
it_last_IMU.time: 1664877201.128204
lastState: 1664877201.128204
currentState: 1664877201.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.148204088 0.001646 -0.005395 9.8 0 0 -0.001106
1-2 processing imu...
it_last_IMU.time: 1664877201.138204
lastState: 1664877201.138204
currentState: 1664877201.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.158204079 0.001508 -0.002992 9.8 0 0 -0.001063
1-2 processing imu...
it_last_IMU.time: 1664877201.148204
lastState: 1664877201.148204
currentState: 1664877201.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.168204069 0.00137 -0.00059 9.8 0 0 -0.001022
1-2 processing imu...
it_last_IMU.time: 1664877201.158204
lastState: 1664877201.158204
currentState: 1664877201.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.178204060 0.001232 0.001813 9.8 0 0 -0.000983
1-2 processing imu...
it_last_IMU.time: 1664877201.168204
lastState: 1664877201.168204
currentState: 1664877201.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.188204050 0.001107 0.004477 9.8 0 0 -0.000945
1-2 processing imu...
it_last_IMU.time: 1664877201.178204
lastState: 1664877201.178204
currentState: 1664877201.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.198204041 0.001024 0.007898 9.8 0 0 -0.000908
1-2 processing imu...
it_last_IMU.time: 1664877201.188204
lastState: 1664877201.188204
currentState: 1664877201.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.208204031 0.00094 0.01132 9.8 0 0 -0.000872
1-2 processing imu...
it_last_IMU.time: 1664877201.198204
lastState: 1664877201.198204
currentState: 1664877201.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.218204021 0.000856 0.01474 9.8 0 0 -0.000838
1-2 processing imu...
it_last_IMU.time: 1664877201.208204
lastState: 1664877201.208204
currentState: 1664877201.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.228204012 0.000772 0.01816 9.8 0 0 -0.000805
1-2 processing imu...
it_last_IMU.time: 1664877201.218204
lastState: 1664877201.218204
currentState: 1664877201.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.238204002 0.000687 0.02158 9.8 0 0 -0.000773
1-2 processing imu...
it_last_IMU.time: 1664877201.228204
lastState: 1664877201.228204
currentState: 1664877201.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.248203993 0.000603 0.025 9.8 0 0 -0.000742
1-2 processing imu...
it_last_IMU.time: 1664877201.238204
lastState: 1664877201.238204
currentState: 1664877201.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.258203983 0.000519 0.02842 9.8 0 0 -0.000712
1-2 processing imu...
it_last_IMU.time: 1664877201.248204
lastState: 1664877201.248204
currentState: 1664877201.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.268203974 0.000435 0.03184 9.8 0 0 -0.000684
1-2 processing imu...
it_last_IMU.time: 1664877201.258204
lastState: 1664877201.258204
currentState: 1664877201.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.278203964 0.000351 0.03527 9.8 0 0 -0.000657
1-2 processing imu...
it_last_IMU.time: 1664877201.268204
lastState: 1664877201.268204
currentState: 1664877201.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.288203955 0.000278 0.03789 9.8 0 0 -0.000631
1-2 processing imu...
it_last_IMU.time: 1664877201.278204
lastState: 1664877201.278204
currentState: 1664877201.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.298203945 0.000238 0.03812 9.8 0 0 -0.000607
1-2 processing imu...
it_last_IMU.time: 1664877201.288204
lastState: 1664877201.288204
currentState: 1664877201.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.308203936 0.000199 0.03834 9.8 0 0 -0.000583
1-2 processing imu...
it_last_IMU.time: 1664877201.298204
lastState: 1664877201.298204
currentState: 1664877201.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.318203926 0.00016 0.03857 9.8 0 0 -0.00056
1-2 processing imu...
it_last_IMU.time: 1664877201.308204
lastState: 1664877201.308204
currentState: 1664877201.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.328203917 0.00012 0.0388 9.8 0 0 -0.000538
1-2 processing imu...
it_last_IMU.time: 1664877201.318204
lastState: 1664877201.318204
currentState: 1664877201.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.338203907 8.1e-05 0.03902 9.8 0 0 -0.000518
1-2 processing imu...
it_last_IMU.time: 1664877201.328204
lastState: 1664877201.328204
currentState: 1664877201.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.348203897 4.2e-05 0.03924 9.8 0 0 -0.000498
1-2 processing imu...
it_last_IMU.time: 1664877201.338204
lastState: 1664877201.338204
currentState: 1664877201.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.358203888 3e-06 0.03947 9.8 0 0 -0.000479
1-2 processing imu...
it_last_IMU.time: 1664877201.348204
lastState: 1664877201.348204
currentState: 1664877201.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.368204117 -3.7e-05 0.03969 9.8 0 0 -0.000461
1-2 processing imu...
it_last_IMU.time: 1664877201.358204
lastState: 1664877201.358204
currentState: 1664877201.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.378204107 -7.6e-05 0.03992 9.8 0 0 -0.000444
1-2 processing imu...
it_last_IMU.time: 1664877201.368204
lastState: 1664877201.368204
currentState: 1664877201.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.388204098 -0.000106 0.04001 9.8 0 0 -0.000428
1-2 processing imu...
it_last_IMU.time: 1664877201.378204
lastState: 1664877201.378204
currentState: 1664877201.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.398204088 -0.000108 0.03967 9.8 0 0 -0.000413
1-2 processing imu...
it_last_IMU.time: 1664877201.388204
lastState: 1664877201.388204
currentState: 1664877201.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.408204079 -0.00011 0.03933 9.8 0 0 -0.000398
1-2 processing imu...
it_last_IMU.time: 1664877201.398204
lastState: 1664877201.398204
currentState: 1664877201.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.418204069 -0.000111 0.03898 9.8 0 0 -0.000384
1-2 processing imu...
it_last_IMU.time: 1664877201.408204
lastState: 1664877201.408204
currentState: 1664877201.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.428204060 -0.000113 0.03864 9.8 0 0 -0.000371
1-2 processing imu...
it_last_IMU.time: 1664877201.418204
lastState: 1664877201.418204
currentState: 1664877201.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.438204050 -0.000115 0.0383 9.8 0 0 -0.000359
1-2 processing imu...
it_last_IMU.time: 1664877201.428204
lastState: 1664877201.428204
currentState: 1664877201.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.448204041 -0.000116 0.03796 9.8 0 0 -0.000347
1-2 processing imu...
it_last_IMU.time: 1664877201.438204
lastState: 1664877201.438204
currentState: 1664877201.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.458204031 -0.000118 0.03762 9.8 0 0 -0.000336
1-2 processing imu...
it_last_IMU.time: 1664877201.448204
lastState: 1664877201.448204
currentState: 1664877201.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.468204021 -0.000119 0.03728 9.8 0 0 -0.000326
1-2 processing imu...
it_last_IMU.time: 1664877201.458204
lastState: 1664877201.458204
currentState: 1664877201.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.478204012 -0.000121 0.03694 9.8 0 0 -0.000316
1-2 processing imu...
it_last_IMU.time: 1664877201.468204
lastState: 1664877201.468204
currentState: 1664877201.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.488204002 -0.000118 0.03641 9.8 0 0 -0.000307
1-2 processing imu...
it_last_IMU.time: 1664877201.478204
lastState: 1664877201.478204
currentState: 1664877201.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.498203993 -9.8e-05 0.03528 9.8 0 0 -0.000298
1-2 processing imu...
it_last_IMU.time: 1664877201.488204
lastState: 1664877201.488204
currentState: 1664877201.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.508203983 -7.8e-05 0.03415 9.8 0 0 -0.00029
1-2 processing imu...
it_last_IMU.time: 1664877201.498204
lastState: 1664877201.498204
currentState: 1664877201.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.518203974 -5.7e-05 0.03301 9.8 0 0 -0.000283
1-2 processing imu...
it_last_IMU.time: 1664877201.508204
lastState: 1664877201.508204
currentState: 1664877201.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.528203964 -3.7e-05 0.03188 9.8 0 0 -0.000275
1-2 processing imu...
it_last_IMU.time: 1664877201.518204
lastState: 1664877201.518204
currentState: 1664877201.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877201.517995119 0.1935 0.4942 0.002885 -0.0123 -0.003153 -0.9311 -0.3645
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877201.517995
time: 1664877201.517995
state->time: 1664877201.518204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675613.448910394]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675613.448983764]: the fixed q :[-0.259, -0.214, -0.676, -0.656][0m
[0m[ INFO] [1670675613.448993507]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675613.449029969]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1935 0.4942 0.002885
p_wv: 18.52 -15.22 31
p: 18.7 -14.1 31
q: [-0.259, -0.214, -0.676, -0.656]
l: 0.5172
residual in position: 0.09795 -0.08601 0.00472
q_err :[0.998, 0.00569, -0.0447, -0.0315]
residual in q: 0.01139 -0.08947 -0.06311
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877201.518204 it_next->second->time: 1664877201.528204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.89 -14.26 31.01
hc: publish state after update
1-1 IMUCallback(): 1664877201.538203955 -1.7e-05 0.03074 9.8 0 0 -0.000269
1-2 processing imu...
it_last_IMU.time: 1664877201.528204
lastState: 1664877201.528204
currentState: 1664877201.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.548203945 3e-06 0.02961 9.8 0 0 -0.000262
1-2 processing imu...
it_last_IMU.time: 1664877201.538204
lastState: 1664877201.538204
currentState: 1664877201.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.558203936 2.3e-05 0.02848 9.8 0 0 -0.000256
1-2 processing imu...
it_last_IMU.time: 1664877201.548204
lastState: 1664877201.548204
currentState: 1664877201.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.568203926 4.3e-05 0.02734 9.8 0 0 -0.000251
1-2 processing imu...
it_last_IMU.time: 1664877201.558204
lastState: 1664877201.558204
currentState: 1664877201.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.578203917 6.3e-05 0.02621 9.8 0 0 -0.000246
1-2 processing imu...
it_last_IMU.time: 1664877201.568204
lastState: 1664877201.568204
currentState: 1664877201.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.588203907 8.6e-05 0.0249 9.8 0 0 -0.000242
1-2 processing imu...
it_last_IMU.time: 1664877201.578204
lastState: 1664877201.578204
currentState: 1664877201.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.598203897 0.000119 0.02299 9.8 0 0 -0.000237
1-2 processing imu...
it_last_IMU.time: 1664877201.588204
lastState: 1664877201.588204
currentState: 1664877201.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.608203888 0.000152 0.02108 9.8 0 0 -0.000234
1-2 processing imu...
it_last_IMU.time: 1664877201.598204
lastState: 1664877201.598204
currentState: 1664877201.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.618204117 0.000185 0.01917 9.8 0 0 -0.00023
1-2 processing imu...
it_last_IMU.time: 1664877201.608204
lastState: 1664877201.608204
currentState: 1664877201.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.628204107 0.000217 0.01726 9.8 0 0 -0.000226
1-2 processing imu...
it_last_IMU.time: 1664877201.618204
lastState: 1664877201.618204
currentState: 1664877201.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.638204098 0.00025 0.01535 9.8 0 0 -0.000223
1-2 processing imu...
it_last_IMU.time: 1664877201.628204
lastState: 1664877201.628204
currentState: 1664877201.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.648204088 0.000283 0.01344 9.8 0 0 -0.00022
1-2 processing imu...
it_last_IMU.time: 1664877201.638204
lastState: 1664877201.638204
currentState: 1664877201.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.658204079 0.000316 0.01153 9.8 0 0 -0.000218
1-2 processing imu...
it_last_IMU.time: 1664877201.648204
lastState: 1664877201.648204
currentState: 1664877201.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.668204069 0.000349 0.009614 9.8 0 0 -0.000215
1-2 processing imu...
it_last_IMU.time: 1664877201.658204
lastState: 1664877201.658204
currentState: 1664877201.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.678204060 0.000382 0.007703 9.8 0 0 -0.000213
1-2 processing imu...
it_last_IMU.time: 1664877201.668204
lastState: 1664877201.668204
currentState: 1664877201.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.688204050 0.000414 0.005609 9.8 0 0 -0.000211
1-2 processing imu...
it_last_IMU.time: 1664877201.678204
lastState: 1664877201.678204
currentState: 1664877201.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.698204041 0.000447 0.002837 9.8 0 0 -0.000209
1-2 processing imu...
it_last_IMU.time: 1664877201.688204
lastState: 1664877201.688204
currentState: 1664877201.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.708204031 0.00048 6.4e-05 9.8 0 0 -0.000207
1-2 processing imu...
it_last_IMU.time: 1664877201.698204
lastState: 1664877201.698204
currentState: 1664877201.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.718204021 0.000512 -0.002708 9.8 0 0 -0.000206
1-2 processing imu...
it_last_IMU.time: 1664877201.708204
lastState: 1664877201.708204
currentState: 1664877201.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.728204012 0.000545 -0.005481 9.8 0 0 -0.000204
1-2 processing imu...
it_last_IMU.time: 1664877201.718204
lastState: 1664877201.718204
currentState: 1664877201.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.738204002 0.000578 -0.008253 9.8 0 0 -0.000203
1-2 processing imu...
it_last_IMU.time: 1664877201.728204
lastState: 1664877201.728204
currentState: 1664877201.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.748203993 0.00061 -0.01103 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877201.738204
lastState: 1664877201.738204
currentState: 1664877201.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.758203983 0.000643 -0.0138 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877201.748204
lastState: 1664877201.748204
currentState: 1664877201.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.768203974 0.000676 -0.01657 9.8 0 0 -0.000199
1-2 processing imu...
it_last_IMU.time: 1664877201.758204
lastState: 1664877201.758204
currentState: 1664877201.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.778203964 0.000709 -0.01934 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877201.768204
lastState: 1664877201.768204
currentState: 1664877201.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.788203955 0.000739 -0.02184 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877201.778204
lastState: 1664877201.778204
currentState: 1664877201.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.798203945 0.000757 -0.02327 9.8 0 0 -0.000197
1-2 processing imu...
it_last_IMU.time: 1664877201.788204
lastState: 1664877201.788204
currentState: 1664877201.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.808203936 0.000776 -0.0247 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877201.798204
lastState: 1664877201.798204
currentState: 1664877201.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.818203926 0.000794 -0.02612 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877201.808204
lastState: 1664877201.808204
currentState: 1664877201.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.828203917 0.000813 -0.02755 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877201.818204
lastState: 1664877201.818204
currentState: 1664877201.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.838203907 0.000832 -0.02898 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877201.828204
lastState: 1664877201.828204
currentState: 1664877201.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.848203897 0.00085 -0.03041 9.8 0 0 -0.000194
1-2 processing imu...
it_last_IMU.time: 1664877201.838204
lastState: 1664877201.838204
currentState: 1664877201.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.858203888 0.000869 -0.03183 9.8 0 0 -0.000194
1-2 processing imu...
it_last_IMU.time: 1664877201.848204
lastState: 1664877201.848204
currentState: 1664877201.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.868204117 0.000888 -0.03326 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877201.858204
lastState: 1664877201.858204
currentState: 1664877201.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.878204107 0.000906 -0.03469 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877201.868204
lastState: 1664877201.868204
currentState: 1664877201.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.888204098 0.000921 -0.03573 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877201.878204
lastState: 1664877201.878204
currentState: 1664877201.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.898204088 0.000921 -0.03515 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877201.888204
lastState: 1664877201.888204
currentState: 1664877201.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.908204079 0.000921 -0.03458 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877201.898204
lastState: 1664877201.898204
currentState: 1664877201.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.918204069 0.000922 -0.03401 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877201.908204
lastState: 1664877201.908204
currentState: 1664877201.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.928204060 0.000922 -0.03344 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877201.918204
lastState: 1664877201.918204
currentState: 1664877201.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.938204050 0.000922 -0.03286 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877201.928204
lastState: 1664877201.928204
currentState: 1664877201.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877201.920053005 0.1772 0.5093 0.003597 -0.01223 -0.004026 -0.9311 -0.3644
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877201.920053
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877201.920053
state->time: 1664877201.920053
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675614.287433401]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675614.287516622]: the fixed q :[-0.257, -0.22, -0.674, -0.657][0m
[0m[ INFO] [1670675614.287538168]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675614.287561810]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1772 0.5093 0.003597
p_wv: 18.52 -15.22 31
p: 18.7 -14.1 31
q: [-0.257, -0.22, -0.674, -0.657]
l: 0.5172
residual in position: 0.085 -0.07185 0.00174
q_err :[0.999, 0.00626, -0.0393, -0.0285]
residual in q: 0.01254 -0.07867 -0.05697
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877201.920053 it_next->second->time: 1664877201.928204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877201.928204 it_next->second->time: 1664877201.938204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.85 -14.23 31.01
hc: publish state after update
1-1 IMUCallback(): 1664877201.948204041 0.000922 -0.03229 9.8 0 0 -0.000191
1-2 processing imu...
it_last_IMU.time: 1664877201.938204
lastState: 1664877201.938204
currentState: 1664877201.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.958204031 0.000922 -0.03172 9.8 0 0 -0.000191
1-2 processing imu...
it_last_IMU.time: 1664877201.948204
lastState: 1664877201.948204
currentState: 1664877201.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.968204021 0.000922 -0.03115 9.8 0 0 -0.000191
1-2 processing imu...
it_last_IMU.time: 1664877201.958204
lastState: 1664877201.958204
currentState: 1664877201.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.978204012 0.000922 -0.03057 9.8 0 0 -0.000191
1-2 processing imu...
it_last_IMU.time: 1664877201.968204
lastState: 1664877201.968204
currentState: 1664877201.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877201.988204002 0.000921 -0.02994 9.8 0 0 -0.000191
1-2 processing imu...
it_last_IMU.time: 1664877201.978204
lastState: 1664877201.978204
currentState: 1664877201.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877201.998203993 0.00091 -0.02906 9.8 0 0 -0.000191
1-2 processing imu...
it_last_IMU.time: 1664877201.988204
lastState: 1664877201.988204
currentState: 1664877201.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.008203983 0.0009 -0.02818 9.8 0 0 -0.000191
1-2 processing imu...
it_last_IMU.time: 1664877201.998204
lastState: 1664877201.998204
currentState: 1664877202.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.018203974 0.00089 -0.0273 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877202.008204
lastState: 1664877202.008204
currentState: 1664877202.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.028203964 0.00088 -0.02642 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877202.018204
lastState: 1664877202.018204
currentState: 1664877202.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.038203955 0.00087 -0.02554 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877202.028204
lastState: 1664877202.028204
currentState: 1664877202.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.048203945 0.000859 -0.02466 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877202.038204
lastState: 1664877202.038204
currentState: 1664877202.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.058203936 0.000849 -0.02378 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877202.048204
lastState: 1664877202.048204
currentState: 1664877202.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.068203926 0.000839 -0.0229 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877202.058204
lastState: 1664877202.058204
currentState: 1664877202.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.078203917 0.000829 -0.02202 9.8 0 0 -0.000192
1-2 processing imu...
it_last_IMU.time: 1664877202.068204
lastState: 1664877202.068204
currentState: 1664877202.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.088203907 0.000817 -0.02087 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877202.078204
lastState: 1664877202.078204
currentState: 1664877202.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.098203897 0.000803 -0.01843 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877202.088204
lastState: 1664877202.088204
currentState: 1664877202.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.108203888 0.000788 -0.016 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877202.098204
lastState: 1664877202.098204
currentState: 1664877202.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.118204117 0.000773 -0.01357 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877202.108204
lastState: 1664877202.108204
currentState: 1664877202.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.128204107 0.000758 -0.01113 9.8 0 0 -0.000193
1-2 processing imu...
it_last_IMU.time: 1664877202.118204
lastState: 1664877202.118204
currentState: 1664877202.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.138204098 0.000743 -0.008698 9.8 0 0 -0.000194
1-2 processing imu...
it_last_IMU.time: 1664877202.128204
lastState: 1664877202.128204
currentState: 1664877202.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.148204088 0.000729 -0.006264 9.8 0 0 -0.000194
1-2 processing imu...
it_last_IMU.time: 1664877202.138204
lastState: 1664877202.138204
currentState: 1664877202.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.158204079 0.000714 -0.00383 9.8 0 0 -0.000194
1-2 processing imu...
it_last_IMU.time: 1664877202.148204
lastState: 1664877202.148204
currentState: 1664877202.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.168204069 0.000699 -0.001396 9.8 0 0 -0.000194
1-2 processing imu...
it_last_IMU.time: 1664877202.158204
lastState: 1664877202.158204
currentState: 1664877202.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.178204060 0.000684 0.001038 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877202.168204
lastState: 1664877202.168204
currentState: 1664877202.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.188204050 0.000669 0.003403 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877202.178204
lastState: 1664877202.178204
currentState: 1664877202.188204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.198204041 0.000654 0.005424 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877202.188204
lastState: 1664877202.188204
currentState: 1664877202.198204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.208204031 0.000638 0.007446 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877202.198204
lastState: 1664877202.198204
currentState: 1664877202.208204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.218204021 0.000623 0.009467 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877202.208204
lastState: 1664877202.208204
currentState: 1664877202.218204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.228204012 0.000608 0.01149 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877202.218204
lastState: 1664877202.218204
currentState: 1664877202.228204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.238204002 0.000592 0.01351 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877202.228204
lastState: 1664877202.228204
currentState: 1664877202.238204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.248203993 0.000577 0.01553 9.8 0 0 -0.000197
1-2 processing imu...
it_last_IMU.time: 1664877202.238204
lastState: 1664877202.238204
currentState: 1664877202.248204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.258203983 0.000561 0.01755 9.8 0 0 -0.000197
1-2 processing imu...
it_last_IMU.time: 1664877202.248204
lastState: 1664877202.248204
currentState: 1664877202.258204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.268203974 0.000546 0.01957 9.8 0 0 -0.000197
1-2 processing imu...
it_last_IMU.time: 1664877202.258204
lastState: 1664877202.258204
currentState: 1664877202.268204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.278203964 0.00053 0.02159 9.8 0 0 -0.000197
1-2 processing imu...
it_last_IMU.time: 1664877202.268204
lastState: 1664877202.268204
currentState: 1664877202.278204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.288203955 0.000515 0.02317 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877202.278204
lastState: 1664877202.278204
currentState: 1664877202.288204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.298203945 0.000502 0.02236 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877202.288204
lastState: 1664877202.288204
currentState: 1664877202.298204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.308203936 0.000488 0.02156 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877202.298204
lastState: 1664877202.298204
currentState: 1664877202.308204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.318203926 0.000475 0.02075 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877202.308204
lastState: 1664877202.308204
currentState: 1664877202.318204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.328203917 0.000461 0.01995 9.8 0 0 -0.000199
1-2 processing imu...
it_last_IMU.time: 1664877202.318204
lastState: 1664877202.318204
currentState: 1664877202.328204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.338203907 0.000448 0.01914 9.8 0 0 -0.000199
1-2 processing imu...
it_last_IMU.time: 1664877202.328204
lastState: 1664877202.328204
currentState: 1664877202.338204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.348203897 0.000435 0.01834 9.8 0 0 -0.000199
1-2 processing imu...
it_last_IMU.time: 1664877202.338204
lastState: 1664877202.338204
currentState: 1664877202.348204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.358203888 0.000421 0.01753 9.8 0 0 -0.000199
1-2 processing imu...
it_last_IMU.time: 1664877202.348204
lastState: 1664877202.348204
currentState: 1664877202.358204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877202.340454102 0.1613 0.5236 0.003961 -0.01251 -0.003444 -0.9308 -0.3653
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877202.340454
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877202.340454
state->time: 1664877202.340454
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675615.156486934]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675615.156550244]: the fixed q :[-0.257, -0.22, -0.675, -0.656][0m
[0m[ INFO] [1670675615.156572952]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675615.156591367]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1613 0.5236 0.003961
p_wv: 18.52 -15.22 31
p: 18.67 -14.07 31
q: [-0.257, -0.22, -0.675, -0.656]
l: 0.5172
residual in position: 0.08393 -0.07184 0.003063
q_err :[0.999, 0.00472, -0.0399, -0.03]
residual in q: 0.009445 -0.07983 -0.05999
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877202.340454 it_next->second->time: 1664877202.348204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877202.348204 it_next->second->time: 1664877202.358204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.82 -14.2 31.01
hc: publish state after update
1-1 IMUCallback(): 1664877202.368204117 0.000408 0.01673 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877202.358204
lastState: 1664877202.358204
currentState: 1664877202.368204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.378204107 0.000394 0.01593 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877202.368204
lastState: 1664877202.368204
currentState: 1664877202.378204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.388204098 0.000381 0.0155 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877202.378204
lastState: 1664877202.378204
currentState: 1664877202.388204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.398204088 0.000371 0.0172 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877202.388204
lastState: 1664877202.388204
currentState: 1664877202.398204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.408204079 0.000361 0.01891 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877202.398204
lastState: 1664877202.398204
currentState: 1664877202.408204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.418204069 0.000351 0.02061 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877202.408204
lastState: 1664877202.408204
currentState: 1664877202.418204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.428204060 0.000341 0.02232 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877202.418204
lastState: 1664877202.418204
currentState: 1664877202.428204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.438204050 0.000331 0.02403 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877202.428204
lastState: 1664877202.428204
currentState: 1664877202.438204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.448204041 0.000321 0.02573 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877202.438204
lastState: 1664877202.438204
currentState: 1664877202.448204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.458204031 0.00031 0.02744 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877202.448204
lastState: 1664877202.448204
currentState: 1664877202.458204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.468204021 0.0003 0.02914 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877202.458204
lastState: 1664877202.458204
currentState: 1664877202.468204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.478204012 0.00029 0.03085 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877202.468204
lastState: 1664877202.468204
currentState: 1664877202.478204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.488204002 0.00028 0.0327 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.478204
lastState: 1664877202.478204
currentState: 1664877202.488204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.498203993 0.000273 0.03539 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.488204
lastState: 1664877202.488204
currentState: 1664877202.498204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.508203983 0.000267 0.03809 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.498204
lastState: 1664877202.498204
currentState: 1664877202.508204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.518203974 0.00026 0.04078 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.508204
lastState: 1664877202.508204
currentState: 1664877202.518204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.528203964 0.000253 0.04347 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.518204
lastState: 1664877202.518204
currentState: 1664877202.528204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.538203955 0.000246 0.04617 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.528204
lastState: 1664877202.528204
currentState: 1664877202.538204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.548203945 0.000239 0.04886 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.538204
lastState: 1664877202.538204
currentState: 1664877202.548204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.558203936 0.000232 0.05156 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.548204
lastState: 1664877202.548204
currentState: 1664877202.558204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.568203926 0.000225 0.05425 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.558204
lastState: 1664877202.558204
currentState: 1664877202.568204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.578203917 0.000218 0.05695 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.568204
lastState: 1664877202.568204
currentState: 1664877202.578204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.588203907 0.000211 0.05937 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.578204
lastState: 1664877202.578204
currentState: 1664877202.588204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.598203897 0.000207 0.05999 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.588204
lastState: 1664877202.588204
currentState: 1664877202.598204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.608203888 0.000203 0.06062 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.598204
lastState: 1664877202.598204
currentState: 1664877202.608204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.618204117 0.000199 0.06124 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.608204
lastState: 1664877202.608204
currentState: 1664877202.618204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.628204107 0.000195 0.06187 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.618204
lastState: 1664877202.618204
currentState: 1664877202.628204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.638204098 0.000191 0.06249 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.628204
lastState: 1664877202.628204
currentState: 1664877202.638204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.648204088 0.000187 0.06312 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.638204
lastState: 1664877202.638204
currentState: 1664877202.648204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.658204079 0.000183 0.06374 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.648204
lastState: 1664877202.648204
currentState: 1664877202.658204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.668204069 0.000179 0.06437 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.658204
lastState: 1664877202.658204
currentState: 1664877202.668204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.678204060 0.000175 0.06499 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.668204
lastState: 1664877202.668204
currentState: 1664877202.678204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.688204050 0.000172 0.0657 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.678204
lastState: 1664877202.678204
currentState: 1664877202.688204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.698204041 0.00017 0.06698 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.688204
lastState: 1664877202.688204
currentState: 1664877202.698204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.708204031 0.000168 0.06826 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.698204
lastState: 1664877202.698204
currentState: 1664877202.708204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.718204021 0.000166 0.06954 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.708204
lastState: 1664877202.708204
currentState: 1664877202.718204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.728204012 0.000164 0.07083 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.718204
lastState: 1664877202.718204
currentState: 1664877202.728204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.738204002 0.000162 0.07211 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.728204
lastState: 1664877202.728204
currentState: 1664877202.738204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.748203993 0.000161 0.07339 9.8 0 0 -0.000202
1-2 processing imu...
it_last_IMU.time: 1664877202.738204
lastState: 1664877202.738204
currentState: 1664877202.748204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.758203983 0.000159 0.07468 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877202.748204
lastState: 1664877202.748204
currentState: 1664877202.758204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.768203974 0.000157 0.07596 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877202.758204
lastState: 1664877202.758204
currentState: 1664877202.768204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877202.754338980 0.1462 0.5387 0.004601 -0.01192 -0.003975 -0.9312 -0.3644
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877202.754339
propagate state...
Calculate F matrix...
propagate state finished!
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
time: 1664877202.754339
state->time: 1664877202.754339
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675616.027952333]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675616.027988226]: the fixed q :[-0.256, -0.223, -0.674, -0.656][0m
[0m[ INFO] [1670675616.028001983]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675616.028019444]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1462 0.5387 0.004601
p_wv: 18.52 -15.22 31
p: 18.65 -14.05 31.01
q: [-0.256, -0.223, -0.674, -0.656]
l: 0.5172
residual in position: 0.07742 -0.06607 -0.0005916
q_err :[0.999, 0.00481, -0.0361, -0.0269]
residual in q: 0.009622 -0.07225 -0.05385
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
it_curr->second->time: 1664877202.754339 it_next->second->time: 1664877202.758204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
it_curr->second->time: 1664877202.758204 it_next->second->time: 1664877202.768204
start propagate state
propagate state...
Calculate F matrix...
propagate state finished!
propagate state finished
mesurement 0 finished
prop P to state
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
prop P finished
PublishStateAfterUpdate...
msgState: 18.8 -14.17 31.01
hc: publish state after update
1-1 IMUCallback(): 1664877202.778203964 0.000155 0.07724 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877202.768204
lastState: 1664877202.768204
currentState: 1664877202.778204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.788203955 0.000153 0.07885 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877202.778204
lastState: 1664877202.778204
currentState: 1664877202.788204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.798203945 0.000152 0.08303 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877202.788204
lastState: 1664877202.788204
currentState: 1664877202.798204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.808203936 0.000151 0.0872 9.8 0 0 -0.000201
1-2 processing imu...
it_last_IMU.time: 1664877202.798204
lastState: 1664877202.798204
currentState: 1664877202.808204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.818203926 0.00015 0.09137 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877202.808204
lastState: 1664877202.808204
currentState: 1664877202.818204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.828203917 0.000149 0.09554 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877202.818204
lastState: 1664877202.818204
currentState: 1664877202.828204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.838203907 0.000147 0.09971 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877202.828204
lastState: 1664877202.828204
currentState: 1664877202.838204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.848203897 0.000146 0.1039 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877202.838204
lastState: 1664877202.838204
currentState: 1664877202.848204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.858203888 0.000145 0.108 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877202.848204
lastState: 1664877202.848204
currentState: 1664877202.858204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.868204117 0.000143 0.1122 9.8 0 0 -0.0002
1-2 processing imu...
it_last_IMU.time: 1664877202.858204
lastState: 1664877202.858204
currentState: 1664877202.868204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.878204107 0.000142 0.1164 9.8 0 0 -0.000199
1-2 processing imu...
it_last_IMU.time: 1664877202.868204
lastState: 1664877202.868204
currentState: 1664877202.878204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.888204098 0.000141 0.12 9.8 0 0 -0.000199
1-2 processing imu...
it_last_IMU.time: 1664877202.878204
lastState: 1664877202.878204
currentState: 1664877202.888204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.898204088 0.000139 0.1186 9.8 0 0 -0.000199
1-2 processing imu...
it_last_IMU.time: 1664877202.888204
lastState: 1664877202.888204
currentState: 1664877202.898204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.908204079 0.000137 0.1172 9.8 0 0 -0.000199
1-2 processing imu...
it_last_IMU.time: 1664877202.898204
lastState: 1664877202.898204
currentState: 1664877202.908204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.918204069 0.000135 0.1157 9.8 0 0 -0.000199
1-2 processing imu...
it_last_IMU.time: 1664877202.908204
lastState: 1664877202.908204
currentState: 1664877202.918204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.928204060 0.000133 0.1143 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877202.918204
lastState: 1664877202.918204
currentState: 1664877202.928204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.938204050 0.000131 0.1129 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877202.928204
lastState: 1664877202.928204
currentState: 1664877202.938204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.948204041 0.000129 0.1115 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877202.938204
lastState: 1664877202.938204
currentState: 1664877202.948204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.958204031 0.000127 0.1101 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877202.948204
lastState: 1664877202.948204
currentState: 1664877202.958204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.968204021 0.000125 0.1087 9.8 0 0 -0.000198
1-2 processing imu...
it_last_IMU.time: 1664877202.958204
lastState: 1664877202.958204
currentState: 1664877202.968204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.978204012 0.000123 0.1073 9.8 0 0 -0.000197
1-2 processing imu...
it_last_IMU.time: 1664877202.968204
lastState: 1664877202.968204
currentState: 1664877202.978204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877202.988204002 0.000121 0.1055 9.8 0 0 -0.000197
1-2 processing imu...
it_last_IMU.time: 1664877202.978204
lastState: 1664877202.978204
currentState: 1664877202.988204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877202.998203993 0.000115 0.1005 9.8 0 0 -0.000197
1-2 processing imu...
it_last_IMU.time: 1664877202.988204
lastState: 1664877202.988204
currentState: 1664877202.998204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877203.008203983 0.00011 0.09546 9.8 0 0 -0.000197
1-2 processing imu...
it_last_IMU.time: 1664877202.998204
lastState: 1664877202.998204
currentState: 1664877203.008204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877203.018203974 0.000105 0.09042 9.8 0 0 -0.000197
1-2 processing imu...
it_last_IMU.time: 1664877203.008204
lastState: 1664877203.008204
currentState: 1664877203.018204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877203.028203964 9.9e-05 0.08539 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877203.018204
lastState: 1664877203.018204
currentState: 1664877203.028204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877203.038203955 9.4e-05 0.08035 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877203.028204
lastState: 1664877203.028204
currentState: 1664877203.038204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877203.048203945 8.9e-05 0.07531 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877203.038204
lastState: 1664877203.038204
currentState: 1664877203.048204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877203.058203936 8.3e-05 0.07027 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877203.048204
lastState: 1664877203.048204
currentState: 1664877203.058204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877203.068203926 7.8e-05 0.06524 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877203.058204
lastState: 1664877203.058204
currentState: 1664877203.068204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877203.078203917 7.3e-05 0.0602 9.8 0 0 -0.000196
1-2 processing imu...
it_last_IMU.time: 1664877203.068204
lastState: 1664877203.068204
currentState: 1664877203.078204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877203.088203907 6.7e-05 0.05513 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877203.078204
lastState: 1664877203.078204
currentState: 1664877203.088204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877203.098203897 6e-05 0.04979 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877203.088204
lastState: 1664877203.088204
currentState: 1664877203.098204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877203.108203888 5.3e-05 0.04444 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877203.098204
lastState: 1664877203.098204
currentState: 1664877203.108204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877203.118204117 4.6e-05 0.03909 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877203.108204
lastState: 1664877203.108204
currentState: 1664877203.118204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
1-1 IMUCallback(): 1664877203.128204107 3.8e-05 0.03374 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877203.118204
lastState: 1664877203.118204
currentState: 1664877203.128204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877203.138204098 3.1e-05 0.0284 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877203.128204
lastState: 1664877203.128204
currentState: 1664877203.138204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877203.148204088 2.4e-05 0.02305 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877203.138204
lastState: 1664877203.138204
currentState: 1664877203.148204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877203.158204079 1.7e-05 0.0177 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877203.148204
lastState: 1664877203.148204
currentState: 1664877203.158204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877203.168204069 9e-06 0.01235 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877203.158204
lastState: 1664877203.158204
currentState: 1664877203.168204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
1-1 IMUCallback(): 1664877203.178204060 2e-06 0.007006 9.8 0 0 -0.000195
1-2 processing imu...
it_last_IMU.time: 1664877203.168204
lastState: 1664877203.168204
currentState: 1664877203.178204
propagate state...
Calculate F matrix...
propagate state finished!
1-1-2 imu propagate covariance matrix P...
start calculating Fd matrix
calculate Fd finished
start calculating Qd
imu prediction: P
1-1-2 P finished!
PublishStateAfterPropagation...
1-1-3 imu publish state after propagation
1-1 process imu sucussfully!
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
PoseSensorHandler::MeasurementCallback(geometry_msgs::TransformStampedConstPtr&)
2. PoseMeasurementCallback() TransformStamped: 1664877203.177417994 0.1292 0.5545 0.004438 -0.01292 -0.003784 -0.9312 -0.3642
process pose measurement...
PoseSensorHandler::AddMeasurement()
2-1-2 add measurement
start processing all measurements in MeasurementBuffer_
measurement 0
get state which has the nearest time of it_meas for pose measurement
time: 1664877203.177418
time: 1664877203.177418
state->time: 1664877203.178204
apply measurement
called apply() for pose measurement in pose_measurement.h
[33m[ WARN] [1670675616.999721087]: ***SLAM H Matrix is calculating***[0m
[0m[ INFO] [1670675616.999880626]: the fixed q :[-0.255, -0.223, -0.674, -0.656][0m
[0m[ INFO] [1670675616.999915558]: the fixed qwv :[1, 0, 0, 0][0m
[0m[ INFO] [1670675616.999940368]: the fixed pwv : 18.52
-15.22
    31[0m
scalefix: 0
calibposfix: 1
calibattfix: 1
driftwvattfix: 1
driftwvposfix: 1
*** residual is calculating ***
z_p_: 0.1292 0.5545 0.004438
p_wv: 18.52 -15.22 31
p: 18.63 -14.02 31.02
q: [-0.255, -0.223, -0.674, -0.656]
l: 0.5172
residual in position: 0.07185 -0.06367 -0.007425
q_err :[0.999, 0.00429, -0.0368, -0.0275]
residual in q: 0.008588 -0.07365 -0.05501
q_err :[1, 0, 0, 0]
r_old(6, 0): -0
calculate r_old, H_new sucessfully
calculate S matrix in update in first CalculateAndApplyCorrection
calculate K matrix in update in first CalculateAndApplyCorrection
update P succcessfully in first CalculateAndApplyCorrection
updating state
update state finished
update step finished
apply measurement finished!
it_end = stateBuffer_.GetIteratorEnd()
Repropagate state to now
mesurement 0 finished
prop P to state
prop P finished
PublishStateAfterUpdate...
msgState: 18.77 -14.15 31.01

Saving keyframe trajectory to KeyFrameTrajectory.txt ...

trajectory saved!
hc: publish state after update
rted with pid [20362][0m
[1mprocess[initialize_slam-4]: started with pid [20373][0m
[1mprocess[initialize_fusion-5]: started with pid [20377][0m
[1mprocess[runslam-6]: started with pid [20385][0m
[1m[initialize_slam-4] process has finished cleanly
log file: /home/linux/.ros/log/7b5d59ee-7886-11ed-8bb0-000c292a07b4/initialize_slam-4*.log[0m
[runslam-6] killing on exit
[initialize_fusion-5] killing on exit
[vision_sensor-2] killing on exit
[initialize_gps-3] killing on exit
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
[1mdone[0m
